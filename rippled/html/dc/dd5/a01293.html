<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>rippled: ripple::RPCCall Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">rippled
   &#160;<span id="projectnumber">0.24.0-rc1</span>
   </div>
   <div id="projectbrief">Reference implementation of the Ripple Protocol</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dc/dd5/a01293.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="../../dc/de6/a07919.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ripple::RPCCall Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d3/d1b/a03227_source.html">RPCCall.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:af3cb99eee53033598ed14ffea88fe5fa"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dd5/a01293.html#af3cb99eee53033598ed14ffea88fe5fa">fromCommandLine</a> (const std::vector&lt; std::string &gt; &amp;vCmd)</td></tr>
<tr class="separator:af3cb99eee53033598ed14ffea88fe5fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bf2baba759af47026d79277c2fedf4a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/dd5/a01293.html#a8bf2baba759af47026d79277c2fedf4a">fromNetwork</a> (boost::asio::io_service &amp;io_service, const std::string &amp;strIp, const int iPort, const std::string &amp;strUsername, const std::string &amp;strPassword, const std::string &amp;strPath, const std::string &amp;strMethod, const <a class="el" href="../../d6/d27/a01781.html">Json::Value</a> &amp;jvParams, const bool bSSL, <a class="el" href="../../d1/d58/a02731.html#a3af771e282b88e6dca0215c6c890ae75">std::function</a>&lt; void(const <a class="el" href="../../d6/d27/a01781.html">Json::Value</a> &amp;jvInput)&gt; callbackFuncP=<a class="el" href="../../d1/d58/a02731.html#a3af771e282b88e6dca0215c6c890ae75">std::function</a>&lt; void(const <a class="el" href="../../d6/d27/a01781.html">Json::Value</a> &amp;jvInput)&gt;())</td></tr>
<tr class="separator:a8bf2baba759af47026d79277c2fedf4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Processes Ripple <a class="el" href="../../d2/d9b/a03429.html">RPC</a> calls. </p>

<p>Definition at line <a class="el" href="../../d3/d1b/a03227_source.html#l00034">34</a> of file <a class="el" href="../../d3/d1b/a03227_source.html">RPCCall.h</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="af3cb99eee53033598ed14ffea88fe5fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ripple::RPCCall::fromCommandLine </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; std::string &gt; &amp;&#160;</td>
          <td class="paramname"><em>vCmd</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dd/d6e/a03226_source.html#l00956">956</a> of file <a class="el" href="../../dd/d6e/a03226_source.html">RPCCall.cpp</a>.</p>

<p>References <a class="el" href="../../da/d23/a02452_source.html#l01298">Json::Value::append()</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00038">Json::arrayValue</a>, <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../d0/d75/a03105_source.html#l00028">BIND_TYPE</a>, <a class="el" href="../../dd/d6e/a03226_source.html#l00892">ripple::RPCCallImp::callRPCHandler()</a>, <a class="el" href="../../dd/d6e/a03226_source.html#l01072">fromNetwork()</a>, <a class="el" href="../../d0/dc2/a02477_source.html#l00647">ripple::getConfig()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d8/d4b/a03093_source.html#l00028">ripple::lsTRACE</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../d0/d75/a03105_source.html#l00029">P_1</a>, <a class="el" href="../../dd/d6e/a03226_source.html#l00782">ripple::RPCParser::parseCommand()</a>, <a class="el" href="../../d2/db9/a01926_source.html#l00429">ripple::Config::RPC_ADMIN_PASSWORD</a>, <a class="el" href="../../d2/db9/a01926_source.html#l00430">ripple::Config::RPC_ADMIN_USER</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00111">ripple::rpcINTERNAL</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00036">ripple::rpcJSON_RPC</a>, <a class="el" href="../../da/d23/a02452_source.html#l01557">Json::Value::toStyledString()</a>, <a class="el" href="../../de/d3e/a02727_source.html#l00023">rocksdb::crc32c::Value()</a>, and <a class="el" href="../../dc/dc0/a03087_source.html#l00075">WriteLog</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d9c/a02948_source.html#l00165">ripple::run()</a>.</p>
<div class="fragment"><div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;{</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvOutput;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;    <span class="keywordtype">int</span>         nRet = 0;</div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvRequest (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;</div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;    {</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;        RPCParser   rpParser;</div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvRpcParams (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eadc8f264f36b55b063c78126b335415f4" title="array value (ordered list) ">Json::arrayValue</a>);</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;        <span class="keywordflow">if</span> (vCmd.empty ()) <span class="keywordflow">return</span> 1;                                            <span class="comment">// 1 = print usage.</span></div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;        <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 1; i != vCmd.size (); i++)</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;            jvRpcParams.append (vCmd[i]);</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvRpc   = <a class="code" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9">Json::Value</a> (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;</div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        jvRpc[<span class="stringliteral">&quot;method&quot;</span>] = vCmd[0];</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;        jvRpc[<span class="stringliteral">&quot;params&quot;</span>] = jvRpcParams;</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;        jvRequest   = rpParser.parseCommand (vCmd[0], jvRpcParams, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a994075b2b57b391e5ba833769ac13487">lsTRACE</a>, RPCParser) &lt;&lt; <span class="stringliteral">&quot;RPC Request: &quot;</span> &lt;&lt; jvRequest &lt;&lt; std::endl;</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;</div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;        <span class="keywordflow">if</span> (jvRequest.isMember (<span class="stringliteral">&quot;error&quot;</span>))</div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;        {</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;            jvOutput            = jvRequest;</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;            jvOutput[<span class="stringliteral">&quot;rpc&quot;</span>]     = jvRpc;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        }</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        {</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;            <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvParams (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eadc8f264f36b55b063c78126b335415f4" title="array value (ordered list) ">Json::arrayValue</a>);</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            jvParams.append (jvRequest);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().RPC_ADMIN_USER.empty ())</div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;                jvRequest[<span class="stringliteral">&quot;admin_user&quot;</span>]     = <a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().<a class="code" href="../../d3/db8/a00316.html#ac4ddb9d8718a950d9508fe77d0f690d1">RPC_ADMIN_USER</a>;</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().<a class="code" href="../../d3/db8/a00316.html#aa4146d81c3a6a4c30254a4c93e6e268e">RPC_ADMIN_PASSWORD</a>.empty ())</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;                jvRequest[<span class="stringliteral">&quot;admin_password&quot;</span>] = <a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().<a class="code" href="../../d3/db8/a00316.html#aa4146d81c3a6a4c30254a4c93e6e268e">RPC_ADMIN_PASSWORD</a>;</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;</div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;            boost::asio::io_service         isService;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;            <a class="code" href="../../dc/dd5/a01293.html#a8bf2baba759af47026d79277c2fedf4a">fromNetwork</a> (</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;                isService,</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;                <a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().getRpcIP (),</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;                <a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().getRpcPort (),</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                <a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().RPC_USER,</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;                <a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().RPC_PASSWORD,</div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;                <span class="stringliteral">&quot;&quot;</span>,</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                jvRequest.isMember (<span class="stringliteral">&quot;method&quot;</span>)           <span class="comment">// Allow parser to rewrite method.</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                    ? jvRequest[<span class="stringliteral">&quot;method&quot;</span>].asString () : vCmd[0],</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                jvParams,                               <span class="comment">// Parsed, execute.</span></div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                <span class="keyword">false</span>,</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                <a class="code" href="../../d0/d75/a03105.html#a6c0c867ff5909fab21adb4d253d4bcc5">BIND_TYPE</a> (<a class="code" href="../../d7/d88/a01294.html#ad1021928f802950bc93ad580ac5ccc85">RPCCallImp::callRPCHandler</a>, &amp;jvOutput, <a class="code" href="../../d0/d75/a03105.html#af188598d0d6f186e4b5b0ec4b8da5be1">P_1</a>));</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;            isService.run (); <span class="comment">// This blocks until there is no more outstanding async calls.</span></div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;</div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;            <span class="keywordflow">if</span> (jvOutput.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;result&quot;</span>))</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            {</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;                <span class="comment">// Had a successful JSON-RPC 2.0 call.</span></div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;                jvOutput    = jvOutput[<span class="stringliteral">&quot;result&quot;</span>];</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;                <span class="comment">// jvOutput may report a server side error.</span></div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;                <span class="comment">// It should report &quot;status&quot;.</span></div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;            }</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;            {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;                <span class="comment">// Transport error.</span></div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;                <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvRpcError  = jvOutput;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;                jvOutput            = <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932ac1a6dff600f246dd125ce9d6d02eeeba">rpcJSON_RPC</a>);</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                jvOutput[<span class="stringliteral">&quot;result&quot;</span>]  = jvRpcError;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;            }</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;            <span class="comment">// If had an error, supply invokation in result.</span></div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;            <span class="keywordflow">if</span> (jvOutput.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;error&quot;</span>))</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;            {</div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                jvOutput[<span class="stringliteral">&quot;rpc&quot;</span>]             = jvRpc;            <span class="comment">// How the command was seen as method + params.</span></div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                jvOutput[<span class="stringliteral">&quot;request_sent&quot;</span>]    = jvRequest;        <span class="comment">// How the command was translated.</span></div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;            }</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;        }</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;        <span class="keywordflow">if</span> (jvOutput.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;error&quot;</span>))</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;        {</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;            jvOutput[<span class="stringliteral">&quot;status&quot;</span>]  = <span class="stringliteral">&quot;error&quot;</span>;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;</div>
<div class="line"><a name="l01044"></a><span class="lineno"> 1044</span>&#160;            nRet    = jvOutput.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;error_code&quot;</span>)</div>
<div class="line"><a name="l01045"></a><span class="lineno"> 1045</span>&#160;                      ? beast::lexicalCast &lt;int&gt; (jvOutput[<span class="stringliteral">&quot;error_code&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ())</div>
<div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;                      : 1;</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;        }</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;</div>
<div class="line"><a name="l01049"></a><span class="lineno"> 1049</span>&#160;        <span class="comment">// YYY We could have a command line flag for single line output for scripts.</span></div>
<div class="line"><a name="l01050"></a><span class="lineno"> 1050</span>&#160;        <span class="comment">// YYY We would intercept output here and simplify it.</span></div>
<div class="line"><a name="l01051"></a><span class="lineno"> 1051</span>&#160;    }</div>
<div class="line"><a name="l01052"></a><span class="lineno"> 1052</span>&#160;    <span class="keywordflow">catch</span> (std::exception&amp; e)</div>
<div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;    {</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;        jvOutput                = <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a839833d48b635d8df6a9176274ae922f">rpcINTERNAL</a>);</div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;        jvOutput[<span class="stringliteral">&quot;error_what&quot;</span>]  = e.what ();</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;        nRet                    = <a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a839833d48b635d8df6a9176274ae922f">rpcINTERNAL</a>;</div>
<div class="line"><a name="l01057"></a><span class="lineno"> 1057</span>&#160;    }</div>
<div class="line"><a name="l01058"></a><span class="lineno"> 1058</span>&#160;    <span class="keywordflow">catch</span> (...)</div>
<div class="line"><a name="l01059"></a><span class="lineno"> 1059</span>&#160;    {</div>
<div class="line"><a name="l01060"></a><span class="lineno"> 1060</span>&#160;        jvOutput                = <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a839833d48b635d8df6a9176274ae922f">rpcINTERNAL</a>);</div>
<div class="line"><a name="l01061"></a><span class="lineno"> 1061</span>&#160;        jvOutput[<span class="stringliteral">&quot;error_what&quot;</span>]  = <span class="stringliteral">&quot;exception&quot;</span>;</div>
<div class="line"><a name="l01062"></a><span class="lineno"> 1062</span>&#160;        nRet                    = <a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a839833d48b635d8df6a9176274ae922f">rpcINTERNAL</a>;</div>
<div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;    }</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;    std::cout &lt;&lt; jvOutput.<a class="code" href="../../d6/d27/a01781.html#a05357cf78959b790337fae4e5580ee4f">toStyledString</a> ();</div>
<div class="line"><a name="l01066"></a><span class="lineno"> 1066</span>&#160;</div>
<div class="line"><a name="l01067"></a><span class="lineno"> 1067</span>&#160;    <span class="keywordflow">return</span> nRet;</div>
<div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dd5/a01293_af3cb99eee53033598ed14ffea88fe5fa_cgraph.png" border="0" usemap="#dc/dd5/a01293_af3cb99eee53033598ed14ffea88fe5fa_cgraph" alt=""/></div>
<map name="dc/dd5/a01293_af3cb99eee53033598ed14ffea88fe5fa_cgraph" id="dc/dd5/a01293_af3cb99eee53033598ed14ffea88fe5fa_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. " alt="" coords="763,513,904,543"/><area shape="rect" id="node7" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="760,1771,907,1800"/><area shape="rect" id="node9" href="../../d7/d88/a01294.html#ad1021928f802950bc93ad580ac5ccc85" title="ripple::RPCCallImp\l::callRPCHandler" alt="" coords="317,367,451,414"/><area shape="rect" id="node11" href="../../dc/dd5/a01293.html#a8bf2baba759af47026d79277c2fedf4a" title="ripple::RPCCall::fromNetwork" alt="" coords="287,171,481,200"/><area shape="rect" id="node13" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d" title="ripple::getConfig" alt="" coords="561,5,679,35"/><area shape="rect" id="node24" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="307,1451,461,1480"/><area shape="rect" id="node26" href="../../d3/d07/a01301.html#a1da7a782a9240c1b9fcce94bf6056b27" title="ripple::RPCParser::\lparseCommand" alt="" coords="316,1381,452,1427"/><area shape="rect" id="node37" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="780,2307,887,2336"/><area shape="rect" id="node145" href="../../d6/d27/a01781.html#a05357cf78959b790337fae4e5580ee4f" title="Json::Value::toStyledString" alt="" coords="293,2608,475,2637"/><area shape="rect" id="node149" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="307,2661,461,2691"/><area shape="rect" id="node5" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="961,1216,1084,1245"/><area shape="rect" id="node15" href="../../d3/d07/a01301.html#a101305da505d08cde6c6a65b62258a36" title="ripple::RPCParser::\lEncodeBase64" alt="" coords="552,266,688,313"/><area shape="rect" id="node17" href="../../d2/d85/a00679.html#ae0337300f3ef6c51eeba273eb295a6cd" title="ripple::HTTPClient\l::request" alt="" coords="555,58,685,105"/><area shape="rect" id="node19" href="../../d7/d88/a01294.html#a1f3260962c380f790ed29cad54892d4c" title="ripple::RPCCallImp\l::onRequest" alt="" coords="553,127,687,174"/><area shape="rect" id="node21" href="../../d7/d88/a01294.html#adeb4fd20be01481f440d4be89e9bcc3d" title="ripple::RPCCallImp\l::onResponse" alt="" coords="553,197,687,243"/><area shape="rect" id="node28" href="../../d3/d07/a01301.html#a73e4a8bfb6fa3d5f1877f9ca24afe6af" title="ripple::RPCParser::\lparseAccountCurrencies" alt="" coords="537,999,703,1046"/><area shape="rect" id="node30" href="../../d3/d07/a01301.html#a3d22fb5c9db087bd2eaa2841720a5247" title="ripple::RPCParser::\lparseAccountItems" alt="" coords="552,1069,688,1115"/><area shape="rect" id="node32" href="../../d3/d07/a01301.html#a9ebfd6b0d86d07d3a2b33233d97786e0" title="ripple::RPCParser::\lparseAccountLines" alt="" coords="552,1138,688,1185"/><area shape="rect" id="node34" href="../../d3/d07/a01301.html#ad3c133e4bbd12d330a881dec187111e9" title="ripple::RPCParser::\lparseAccountTransactions" alt="" coords="532,2298,708,2345"/><area shape="rect" id="node42" href="../../d3/d07/a01301.html#a4b26b25096c02ce304f32e32d7c86a64" title="ripple::RPCParser::\lparseAsIs" alt="" coords="765,815,901,862"/><area shape="rect" id="node45" href="../../d3/d07/a01301.html#aeb0dbdb5003ed5da5d4d5ea269f65ee0" title="ripple::RPCParser::\lparseBookOffers" alt="" coords="552,1207,688,1254"/><area shape="rect" id="node49" href="../../d3/d07/a01301.html#ad230bb06ca53cc6c92b9d9c9dc6e5252" title="ripple::RPCParser::\lparseConnect" alt="" coords="552,1277,688,1323"/><area shape="rect" id="node53" href="../../d3/d07/a01301.html#a7d3ea431a1ce828a96f4e4762089e04f" title="ripple::RPCParser::\lparseEvented" alt="" coords="552,2418,688,2465"/><area shape="rect" id="node56" href="../../d3/d07/a01301.html#a7ae45161941977e676f0896740a58f63" title="ripple::RPCParser::\lparseFeature" alt="" coords="765,903,901,950"/><area shape="rect" id="node59" href="../../d3/d07/a01301.html#a6434c9bec268433f6b68a6d51d3eac72" title="ripple::RPCParser::\lparseFetchInfo" alt="" coords="552,1346,688,1393"/><area shape="rect" id="node63" href="../../d3/d07/a01301.html#a1d7cde335fe0334c0f765612713a58e1" title="ripple::RPCParser::\lparseGetCounts" alt="" coords="765,1010,901,1057"/><area shape="rect" id="node66" href="../../d3/d07/a01301.html#adbd01774b85561f4c77b35ef5ad1fd45" title="ripple::RPCParser::\lparseInternal" alt="" coords="552,557,688,603"/><area shape="rect" id="node70" href="../../d3/d07/a01301.html#adde887518c6e61bf0f997e1396881e75" title="ripple::RPCParser::\lparseJson" alt="" coords="552,2159,688,2206"/><area shape="rect" id="node74" href="../../d3/d07/a01301.html#ad1736f16dd93fd7dda4735df6defe20b" title="ripple::RPCParser::\lparseLedger" alt="" coords="552,1415,688,1462"/><area shape="rect" id="node78" href="../../d3/d07/a01301.html#a3c2e434d5c6e73dd6280564b31d97614" title="ripple::RPCParser::\lparseLedgerId" alt="" coords="552,1485,688,1531"/><area shape="rect" id="node81" href="../../d3/d07/a01301.html#aec633b89b93387f787834247367c4a2b" title="ripple::RPCParser::\lparseLogLevel" alt="" coords="552,1831,688,1878"/><area shape="rect" id="node85" href="../../d3/d07/a01301.html#aa158ada9d5409c2b5d9d0977ac542e1d" title="ripple::RPCParser::\lparseProofCreate" alt="" coords="765,2538,901,2585"/><area shape="rect" id="node88" href="../../d3/d07/a01301.html#a4ff8eae4567a99e01894fe164079b98e" title="ripple::RPCParser::\lparseProofSolve" alt="" coords="552,1693,688,1739"/><area shape="rect" id="node91" href="../../d3/d07/a01301.html#a44b70b859836b2801f77799a3ef23c86" title="ripple::RPCParser::\lparseProofVerify" alt="" coords="552,1901,688,1947"/><area shape="rect" id="node95" href="../../d3/d07/a01301.html#a20b5a59b659c61c132bf5477229936cf" title="ripple::RPCParser::\lparseRipplePathFind" alt="" coords="549,2487,691,2534"/><area shape="rect" id="node100" href="../../d3/d07/a01301.html#a171d66cdb8dda8a5b184ed9efc1fe33e" title="ripple::RPCParser::\lparseSignSubmit" alt="" coords="552,2229,688,2275"/><area shape="rect" id="node105" href="../../d3/d07/a01301.html#a4cdc3767dcb8c396ac3f74abf4e1d846" title="ripple::RPCParser::\lparseSMS" alt="" coords="552,1762,688,1809"/><area shape="rect" id="node108" href="../../d3/d07/a01301.html#a1a53702bd63cd5e0033b69ce1fce89f7" title="ripple::RPCParser::\lparseTx" alt="" coords="552,930,688,977"/><area shape="rect" id="node112" href="../../d3/d07/a01301.html#a7c4777bb390b37fee9119c9c5a9187e6" title="ripple::RPCParser::\lparseTxAccount" alt="" coords="552,2021,688,2067"/><area shape="rect" id="node117" href="../../d3/d07/a01301.html#a37e648642bfd00906581933af46cd608" title="ripple::RPCParser::\lparseTxHistory" alt="" coords="552,487,688,534"/><area shape="rect" id="node119" href="../../d3/d07/a01301.html#a75a6d7e9b3c0019cf5c28b972a6cac63" title="ripple::RPCParser::\lparseUnlAdd" alt="" coords="552,2090,688,2137"/><area shape="rect" id="node124" href="../../d3/d07/a01301.html#a3842ee8eb4e67ac0afdd289a2ed019bc" title="ripple::RPCParser::\lparseUnlDelete" alt="" coords="552,1554,688,1601"/><area shape="rect" id="node127" href="../../d3/d07/a01301.html#ae15c3f3eb00b55cc12755fdbb2749762" title="ripple::RPCParser::\lparseValidationCreate" alt="" coords="759,338,908,385"/><area shape="rect" id="node130" href="../../d3/d07/a01301.html#a1b1f32114fc0de7233c2f1d49ba0b003" title="ripple::RPCParser::\lparseValidationSeed" alt="" coords="763,419,904,466"/><area shape="rect" id="node133" href="../../d3/d07/a01301.html#adb744c170c40862cf3e7d27f5235e565" title="ripple::RPCParser::\lparseWalletAccounts" alt="" coords="547,1623,693,1670"/><area shape="rect" id="node136" href="../../d3/d07/a01301.html#ad27a4c64fd4dd11ea65c881664ca08d3" title="ripple::RPCParser::\lparseWalletPropose" alt="" coords="764,617,903,663"/><area shape="rect" id="node139" href="../../d3/d07/a01301.html#a6db75819ad4d0c097268d060442a6b58" title="ripple::RPCParser::\lparseWalletSeed" alt="" coords="765,686,901,733"/><area shape="rect" id="node39" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="959,2298,1087,2345"/><area shape="rect" id="node147" href="../../d5/d75/a01605.html#a56f0fd80f60272b3f3c85690aae66e7d" title="Serialize a Value in JSON format. " alt="" coords="555,2658,685,2705"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dd5/a01293_af3cb99eee53033598ed14ffea88fe5fa_icgraph.png" border="0" usemap="#dc/dd5/a01293_af3cb99eee53033598ed14ffea88fe5fa_icgraph" alt=""/></div>
<map name="dc/dd5/a01293_af3cb99eee53033598ed14ffea88fe5fa_icgraph" id="dc/dd5/a01293_af3cb99eee53033598ed14ffea88fe5fa_icgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="287,32,364,61"/><area shape="rect" id="node5" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="444,5,495,35"/><area shape="rect" id="node7" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="415,59,524,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8bf2baba759af47026d79277c2fedf4a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::RPCCall::fromNetwork </td>
          <td>(</td>
          <td class="paramtype">boost::asio::io_service &amp;&#160;</td>
          <td class="paramname"><em>io_service</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>strIp</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>iPort</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>strUsername</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>strPassword</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>strPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>strMethod</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d6/d27/a01781.html">Json::Value</a> &amp;&#160;</td>
          <td class="paramname"><em>jvParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>bSSL</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/d58/a02731.html#a3af771e282b88e6dca0215c6c890ae75">std::function</a>&lt; void(const <a class="el" href="../../d6/d27/a01781.html">Json::Value</a> &amp;jvInput)&gt;&#160;</td>
          <td class="paramname"><em>callbackFuncP</em> = <code><a class="el" href="../../d1/d58/a02731.html#a3af771e282b88e6dca0215c6c890ae75">std::function</a>&lt;void&#160;(const&#160;<a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&amp;&#160;jvInput)&gt;&#160;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dd/d6e/a03226_source.html#l01072">1072</a> of file <a class="el" href="../../dd/d6e/a03226_source.html">RPCCall.cpp</a>.</p>

<p>References <a class="el" href="../../d0/d75/a03105_source.html#l00028">BIND_TYPE</a>, <a class="el" href="../../dd/d6e/a03226_source.html#l00754">ripple::RPCParser::EncodeBase64()</a>, <a class="el" href="../../d0/dc2/a02477_source.html#l00647">ripple::getConfig()</a>, <a class="el" href="../../dd/d6e/a03226_source.html#l00937">ripple::RPCCallImp::onRequest()</a>, <a class="el" href="../../dd/d6e/a03226_source.html#l00897">ripple::RPCCallImp::onResponse()</a>, <a class="el" href="../../d0/d75/a03105_source.html#l00029">P_1</a>, <a class="el" href="../../d0/d75/a03105_source.html#l00030">P_2</a>, <a class="el" href="../../d0/d75/a03105_source.html#l00031">P_3</a>, and <a class="el" href="../../d6/dd5/a03214_source.html#l00560">ripple::HTTPClient::request()</a>.</p>

<p>Referenced by <a class="el" href="../../dd/d6e/a03226_source.html#l00956">fromCommandLine()</a>, and <a class="el" href="../../df/dc9/a03230_source.html#l00117">ripple::RPCSubImp::sendThread()</a>.</p>
<div class="fragment"><div class="line"><a name="l01079"></a><span class="lineno"> 1079</span>&#160;{</div>
<div class="line"><a name="l01080"></a><span class="lineno"> 1080</span>&#160;    <span class="comment">// Connect to localhost</span></div>
<div class="line"><a name="l01081"></a><span class="lineno"> 1081</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().QUIET)</div>
<div class="line"><a name="l01082"></a><span class="lineno"> 1082</span>&#160;    {</div>
<div class="line"><a name="l01083"></a><span class="lineno"> 1083</span>&#160;        Log::out() &lt;&lt; <span class="stringliteral">&quot;Connecting to: &quot;</span> &lt;&lt; strIp &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; iPort;</div>
<div class="line"><a name="l01084"></a><span class="lineno"> 1084</span>&#160;        <span class="comment">//  Log::out() &lt;&lt; &quot;Username: &quot; &lt;&lt; strUsername &lt;&lt; &quot;:&quot; &lt;&lt; strPassword;</span></div>
<div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;        <span class="comment">//  Log::out() &lt;&lt; &quot;Path: &quot; &lt;&lt; strPath;</span></div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;        <span class="comment">//  Log::out() &lt;&lt; &quot;Method: &quot; &lt;&lt; strMethod;</span></div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    }</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="comment">// HTTP basic authentication</span></div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    std::string strUserPass64 = <a class="code" href="../../d3/d07/a01301.html#a101305da505d08cde6c6a65b62258a36">RPCParser::EncodeBase64</a> (strUsername + <span class="stringliteral">&quot;:&quot;</span> + strPassword);</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;    std::map&lt;std::string, std::string&gt; mapRequestHeaders;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;    mapRequestHeaders[<span class="stringliteral">&quot;Authorization&quot;</span>] = std::string (<span class="stringliteral">&quot;Basic &quot;</span>) + strUserPass64;</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;    <span class="comment">// Send request</span></div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;    <span class="comment">// Log(lsDEBUG) &lt;&lt; &quot;requesting&quot; &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;    <span class="comment">// WriteLog (lsDEBUG, RPCParser) &lt;&lt; &quot;send request &quot; &lt;&lt; strMethod &lt;&lt; &quot; : &quot; &lt;&lt; strRequest &lt;&lt; std::endl;</span></div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> RPC_REPLY_MAX_BYTES (256*1024*1024);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> RPC_NOTIFY_SECONDS (600);</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <a class="code" href="../../d2/d85/a00679.html#ae0337300f3ef6c51eeba273eb295a6cd">HTTPClient::request</a> (</div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;        bSSL,</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        io_service,</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;        strIp,</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        iPort,</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        <a class="code" href="../../d0/d75/a03105.html#a6c0c867ff5909fab21adb4d253d4bcc5">BIND_TYPE</a> (</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;            &amp;<a class="code" href="../../d7/d88/a01294.html#a1f3260962c380f790ed29cad54892d4c">RPCCallImp::onRequest</a>,</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;            strMethod,</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;            jvParams,</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;            mapRequestHeaders,</div>
<div class="line"><a name="l01113"></a><span class="lineno"> 1113</span>&#160;            strPath, <a class="code" href="../../d0/d75/a03105.html#af188598d0d6f186e4b5b0ec4b8da5be1">P_1</a>, <a class="code" href="../../d0/d75/a03105.html#abb9cce698fe6446abdf9d14a5e34dd55">P_2</a>),</div>
<div class="line"><a name="l01114"></a><span class="lineno"> 1114</span>&#160;        RPC_REPLY_MAX_BYTES,</div>
<div class="line"><a name="l01115"></a><span class="lineno"> 1115</span>&#160;        boost::posix_time::seconds (RPC_NOTIFY_SECONDS),</div>
<div class="line"><a name="l01116"></a><span class="lineno"> 1116</span>&#160;        <a class="code" href="../../d0/d75/a03105.html#a6c0c867ff5909fab21adb4d253d4bcc5">BIND_TYPE</a> (&amp;<a class="code" href="../../d7/d88/a01294.html#adeb4fd20be01481f440d4be89e9bcc3d">RPCCallImp::onResponse</a>, callbackFuncP, <a class="code" href="../../d0/d75/a03105.html#af188598d0d6f186e4b5b0ec4b8da5be1">P_1</a>, <a class="code" href="../../d0/d75/a03105.html#abb9cce698fe6446abdf9d14a5e34dd55">P_2</a>, <a class="code" href="../../d0/d75/a03105.html#ac4f0fb84ab0c3d0b9e9e2fb0bb29bc0c">P_3</a>));</div>
<div class="line"><a name="l01117"></a><span class="lineno"> 1117</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dd5/a01293_a8bf2baba759af47026d79277c2fedf4a_cgraph.png" border="0" usemap="#dc/dd5/a01293_a8bf2baba759af47026d79277c2fedf4a_cgraph" alt=""/></div>
<map name="dc/dd5/a01293_a8bf2baba759af47026d79277c2fedf4a_cgraph" id="dc/dd5/a01293_a8bf2baba759af47026d79277c2fedf4a_cgraph">
<area shape="rect" id="node3" href="../../d3/d07/a01301.html#a101305da505d08cde6c6a65b62258a36" title="ripple::RPCParser::\lEncodeBase64" alt="" coords="251,114,387,161"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d" title="ripple::getConfig" alt="" coords="260,184,377,213"/><area shape="rect" id="node7" href="../../d7/d88/a01294.html#a1f3260962c380f790ed29cad54892d4c" title="ripple::RPCCallImp\l::onRequest" alt="" coords="252,237,385,283"/><area shape="rect" id="node48" href="../../d7/d88/a01294.html#adeb4fd20be01481f440d4be89e9bcc3d" title="ripple::RPCCallImp\l::onResponse" alt="" coords="252,306,385,353"/><area shape="rect" id="node56" href="../../d2/d85/a00679.html#ae0337300f3ef6c51eeba273eb295a6cd" title="ripple::HTTPClient\l::request" alt="" coords="253,375,384,422"/><area shape="rect" id="node9" href="../../d9/d9d/a03417.html#acb335cf242393472ae8c66d9c4b21db3" title="ripple::createHTTPPost" alt="" coords="444,192,601,221"/><area shape="rect" id="node15" href="../../d9/d9d/a03417.html#a93ee5390069e18d56e26676d4c012476" title="ripple::JSONRPCRequest" alt="" coords="436,245,609,275"/><area shape="rect" id="node11" href="../../d9/d9d/a03417.html#ad7cb77185bf11088039f389d9fe3d8f3" title="ripple::FormatFullVersion" alt="" coords="660,192,825,221"/><area shape="rect" id="node13" href="../../d9/d9d/a03417.html#ac8c868dc5b70e0f97168c1edf8994e77" title="ripple::gFormatStr" alt="" coords="907,192,1032,221"/><area shape="rect" id="node17" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="665,245,820,275"/><area shape="rect" id="node19" href="../../d7/def/a00521.html#a2ef4a2ce13a341171f01f414f4fdd765" title="Json::FastWriter::writeValue" alt="" coords="876,245,1063,275"/><area shape="rect" id="node21" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="1147,5,1285,35"/><area shape="rect" id="node23" href="../../d6/d27/a01781.html#a5b7da48b163bcec63b1424f1608b7da6" title="Json::Value::asCString" alt="" coords="1137,59,1295,88"/><area shape="rect" id="node25" href="../../d6/d27/a01781.html#a33434ed1c0217a34d04c95fa5342fd37" title="Json::Value::asDouble" alt="" coords="1139,112,1293,141"/><area shape="rect" id="node27" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="1152,165,1280,195"/><area shape="rect" id="node29" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="1147,219,1285,248"/><area shape="rect" id="node31" href="../../d6/d27/a01781.html#a30fa08af88f2d0a038b22ba9f4e88b2a" title="Return a list of the member names. " alt="" coords="1113,272,1319,301"/><area shape="rect" id="node33" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="1155,325,1277,355"/><area shape="rect" id="node35" href="../../d6/d27/a01781.html#a695ef31fad36b4712918b3ff80158479" title="Json::Value::type" alt="" coords="1155,379,1277,408"/><area shape="rect" id="node37" href="../../d2/dd6/a03414.html#aa0c8235a4a5c6599da5d3332743db8ac" title="Json::valueToQuotedString" alt="" coords="1127,432,1305,461"/><area shape="rect" id="node44" href="../../d2/dd6/a03414.html#a5d3eba6789f9a9c1ab563ff8b4a5090f" title="Json::valueToString" alt="" coords="1147,485,1285,515"/><area shape="rect" id="node39" href="../../d2/dd6/a03414.html#aa11b210ff98a4f4dd4e2df19260f8c3a" title="Json::containsControlCharacter" alt="" coords="1369,381,1575,411"/><area shape="rect" id="node41" href="../../d2/dd6/a03414.html#a0381e631737f51331065a388f4f59197" title="Json::isControlCharacter" alt="" coords="1625,408,1791,437"/><area shape="rect" id="node46" href="../../d2/dd6/a03414.html#a0c9ecf21515ffa8092201ad908609dc7" title="Json::uintToString" alt="" coords="1408,485,1536,515"/><area shape="rect" id="node50" href="../../d6/d27/a01781.html#aeb9ad8b1bb91bdd72203dc884b3f4362" title="Json::Value::isNull" alt="" coords="457,299,588,328"/><area shape="rect" id="node52" href="../../dc/db6/a01212.html#af1da6c976ad1e96c742804c3853eef94" title="Read a Value from a JSON document. " alt="" coords="453,352,592,381"/><area shape="rect" id="node54" href="../../d9/d9d/a03417.html#ab471cf33cf238e56f625a3a590a7bba6" title="ripple::strprintf" alt="" coords="471,405,575,435"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/dd5/a01293_a8bf2baba759af47026d79277c2fedf4a_icgraph.png" border="0" usemap="#dc/dd5/a01293_a8bf2baba759af47026d79277c2fedf4a_icgraph" alt=""/></div>
<map name="dc/dd5/a01293_a8bf2baba759af47026d79277c2fedf4a_icgraph" id="dc/dd5/a01293_a8bf2baba759af47026d79277c2fedf4a_icgraph">
<area shape="rect" id="node3" href="../../dc/dd5/a01293.html#af3cb99eee53033598ed14ffea88fe5fa" title="ripple::RPCCall::fromCommandLine" alt="" coords="252,32,481,61"/><area shape="rect" id="node11" href="../../d7/d8c/a01306.html#a72064360d5d71b05213e42f2e96b3dba" title="ripple::RPCSubImp::\lsendThread" alt="" coords="296,85,437,131"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="577,32,655,61"/><area shape="rect" id="node7" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="780,5,831,35"/><area shape="rect" id="node9" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="751,59,860,88"/><area shape="rect" id="node13" href="../../d7/d8c/a01306.html#aa64ac2116ec16a306565bc14b18f1d9e" title="ripple::RPCSubImp::send" alt="" coords="531,93,701,123"/></map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>rippled/src/ripple_net/rpc/<a class="el" href="../../d3/d1b/a03227_source.html">RPCCall.h</a></li>
<li>rippled/src/ripple_net/rpc/<a class="el" href="../../dd/d6e/a03226_source.html">RPCCall.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d9/d9d/a03417.html">ripple</a></li><li class="navelem"><a class="el" href="../../dc/dd5/a01293.html">RPCCall</a></li>
    <li class="footer">Generated on Fri May 2 2014 05:29:16 for rippled by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
