<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>rippled: ripple::RPCHandler Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">rippled
   &#160;<span id="projectnumber">0.24.0-rc1</span>
   </div>
   <div id="projectbrief">Reference implementation of the Ripple Protocol</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dc/d8c/a01297.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d8/d58/a07561.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ripple::RPCHandler Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../de/dec/a03020_source.html">RPCHandler.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for ripple::RPCHandler:</div>
<div class="dyncontent">
<div class="center"><img src="../../d4/de0/a07562.png" border="0" usemap="#ripple_1_1_r_p_c_handler_coll__map" alt="Collaboration graph"/></div>
<map name="ripple_1_1_r_p_c_handler_coll__map" id="ripple_1_1_r_p_c_handler_coll__map">
<area shape="rect" id="node2" href="../../dd/dac/a01008.html" title="ripple::NetworkOPs" alt="" coords="1584,10,1720,40"/><area shape="rect" id="node4" href="../../d5/dd0/a01438.html" title="ripple::InfoSub::Source" alt="" coords="1376,10,1531,40"/><area shape="rect" id="node6" href="../../d2/d49/a01561.html" title="beast::Stoppable" alt="" coords="1144,134,1264,164"/><area shape="rect" id="node14" href="../../dd/d56/a00274.html" title="beast::Stoppable::Child" alt="" coords="1375,81,1532,110"/><area shape="rect" id="node19" href="../../d9/dda/a01289.html" title="beast::RootStoppable" alt="" coords="1380,221,1527,250"/><area shape="rect" id="node8" href="../../d7/d06/a00131.html" title="beast::Atomic\&lt; int \&gt;" alt="" coords="880,240,1021,269"/><area shape="rect" id="node10" href="../../d7/d02/a01808.html" title="beast::WaitableEvent" alt="" coords="373,141,520,170"/><area shape="rect" id="node12" href="../../d1/d04/a01744.html" title="beast::Uncopyable" alt="" coords="5,48,136,77"/><area shape="rect" id="node23" href="../../d2/d79/a00898.html" title="beast::LockFreeStack\l\&lt; Child \&gt;" alt="" coords="876,23,1025,70"/><area shape="rect" id="node26" href="../../d3/d08/a01018.html" title="beast::LockFreeStack\l\&lt; Element, Tag \&gt;::Node" alt="" coords="187,39,349,86"/><area shape="rect" id="node29" href="../../d7/d06/a00131.html" title="beast::Atomic\&lt; beast\l::LockFreeStack::Node * \&gt;" alt="" coords="544,72,723,119"/></map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a6921d7e540afe53cd9fe5f50dbcf7093"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a> (<a class="el" href="../../dd/dac/a01008.html">NetworkOPs</a> *netOps)</td></tr>
<tr class="separator:a6921d7e540afe53cd9fe5f50dbcf7093"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35c9a36547722276e3892a69ef125b34"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a35c9a36547722276e3892a69ef125b34">RPCHandler</a> (<a class="el" href="../../dd/dac/a01008.html">NetworkOPs</a> *netOps, <a class="el" href="../../d4/deb/a00710.html#a15ba6fd94d60310cdf80362345b5d07b">InfoSub::pointer</a> infoSub)</td></tr>
<tr class="separator:a35c9a36547722276e3892a69ef125b34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a120877dbbbbb7b6fa1214d28480b728e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e">doCommand</a> (const <a class="el" href="../../d6/d27/a01781.html">Json::Value</a> &amp;jvRequest, int role, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType)</td></tr>
<tr class="separator:a120877dbbbbb7b6fa1214d28480b728e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd91f081ddb5435c1a768c2501e3ea4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4">doRpcCommand</a> (const std::string &amp;strCommand, <a class="el" href="../../d6/d27/a01781.html">Json::Value</a> const &amp;jvParams, int iRole, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType)</td></tr>
<tr class="separator:a1cd91f081ddb5435c1a768c2501e3ea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a985fefd4564316f04434e9221575ec4f"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a> = 0, 
<a class="el" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fa911b99d0c698d47d6e65816ff7b7e7dd">optNetwork</a> = 1, 
<a class="el" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4faf3e5782811146c0f04ca7d1a2248e267">optCurrent</a> = 2 + optNetwork, 
<a class="el" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fabff8d7ca31f352fab0a46348f31a46d5">optClosed</a> = 4 + optNetwork
 }</td></tr>
<tr class="separator:a985fefd4564316f04434e9221575ec4f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a289a14a301ecab88c03c450372ff59fd"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d6/d27/a01781.html">Json::Value</a>(RPCHandler::*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a289a14a301ecab88c03c450372ff59fd">doFuncPtr</a> )(<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;MasterLockHolder)</td></tr>
<tr class="separator:a289a14a301ecab88c03c450372ff59fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:abb847dfa562c55ddc83c4eb8552f3b28"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#abb847dfa562c55ddc83c4eb8552f3b28">doAccountCurrencies</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:abb847dfa562c55ddc83c4eb8552f3b28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53a357c0e37964494a2cf42860544fbc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a53a357c0e37964494a2cf42860544fbc">doAccountInfo</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a53a357c0e37964494a2cf42860544fbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f877c7e7527d04836c76861e2646b08"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a7f877c7e7527d04836c76861e2646b08">doAccountLines</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a7f877c7e7527d04836c76861e2646b08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a2d86224ccb500f98e0ea2a782164bd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a9a2d86224ccb500f98e0ea2a782164bd">doAccountOffers</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a9a2d86224ccb500f98e0ea2a782164bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad049d47fc4d1e24bf6f4f8809e67b9d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#ad049d47fc4d1e24bf6f4f8809e67b9d3">doAccountTx</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:ad049d47fc4d1e24bf6f4f8809e67b9d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a46dd6ff043e620a329a7f14e6dea480d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a46dd6ff043e620a329a7f14e6dea480d">doAccountTxSwitch</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a46dd6ff043e620a329a7f14e6dea480d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5c6bb6bcbae8b0e8466af8642b8f5c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#ac5c6bb6bcbae8b0e8466af8642b8f5c1">doAccountTxOld</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:ac5c6bb6bcbae8b0e8466af8642b8f5c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a386adf2947cd602810d62b6529b57be2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a386adf2947cd602810d62b6529b57be2">doBookOffers</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a386adf2947cd602810d62b6529b57be2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a124fdd4817ee18afc9f2929f071a7871"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a124fdd4817ee18afc9f2929f071a7871">doBlackList</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a124fdd4817ee18afc9f2929f071a7871"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5724314350b54b02ea9191dd88d1e0ff"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a5724314350b54b02ea9191dd88d1e0ff">doConnect</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a5724314350b54b02ea9191dd88d1e0ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ce5e78fbf78c32459343077b318e984"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a1ce5e78fbf78c32459343077b318e984">doConsensusInfo</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a1ce5e78fbf78c32459343077b318e984"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cf94b6ff18a230618ee1b00de524290"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a5cf94b6ff18a230618ee1b00de524290">doFeature</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a5cf94b6ff18a230618ee1b00de524290"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e5e99859e00ad824cfb1f0b30679800"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a5e5e99859e00ad824cfb1f0b30679800">doFetchInfo</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a5e5e99859e00ad824cfb1f0b30679800"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae33a4e196231d363db4fe43d05143dce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#ae33a4e196231d363db4fe43d05143dce">doGetCounts</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:ae33a4e196231d363db4fe43d05143dce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2142a33aae718be18780c93fceb1887"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#ad2142a33aae718be18780c93fceb1887">doInternal</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:ad2142a33aae718be18780c93fceb1887"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b1cff52f81e9f2a6887166592e6d8e8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a7b1cff52f81e9f2a6887166592e6d8e8">doLedger</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a7b1cff52f81e9f2a6887166592e6d8e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0518029e09b22a2ea50e1d6bf078067a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a0518029e09b22a2ea50e1d6bf078067a">doLedgerAccept</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a0518029e09b22a2ea50e1d6bf078067a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af061bc5d67a0280408da85ad518038de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#af061bc5d67a0280408da85ad518038de">doLedgerCleaner</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:af061bc5d67a0280408da85ad518038de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8874942ed3d7119bcdc4ffa9095855a2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a8874942ed3d7119bcdc4ffa9095855a2">doLedgerClosed</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a8874942ed3d7119bcdc4ffa9095855a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b1789811646050c73e9dad1eb9c8bdd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a7b1789811646050c73e9dad1eb9c8bdd">doLedgerCurrent</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a7b1789811646050c73e9dad1eb9c8bdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1dfcca9d072ce92d0b57690cad9ee11f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a1dfcca9d072ce92d0b57690cad9ee11f">doLedgerData</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a1dfcca9d072ce92d0b57690cad9ee11f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a907eb3acd539cd6b1f752ab61dc6db09"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a907eb3acd539cd6b1f752ab61dc6db09">doLedgerEntry</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a907eb3acd539cd6b1f752ab61dc6db09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa59250abcc24f82149af101ceffc37ac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#aa59250abcc24f82149af101ceffc37ac">doLedgerHeader</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:aa59250abcc24f82149af101ceffc37ac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1acae11e3ef0cd955af8b55fd359217"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#aa1acae11e3ef0cd955af8b55fd359217">doLogLevel</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:aa1acae11e3ef0cd955af8b55fd359217"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0bf2dde628b286db05f5923ffab72e60"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a0bf2dde628b286db05f5923ffab72e60">doLogRotate</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a0bf2dde628b286db05f5923ffab72e60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb064961d348fa21750913aaef39f4d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#aeb064961d348fa21750913aaef39f4d0">doNicknameInfo</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:aeb064961d348fa21750913aaef39f4d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaadd995f0792433ae88561824e0228b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#abaadd995f0792433ae88561824e0228b">doOwnerInfo</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:abaadd995f0792433ae88561824e0228b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d6dc207e46225696cd4e12dfc3d54bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a4d6dc207e46225696cd4e12dfc3d54bb">doPathFind</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a4d6dc207e46225696cd4e12dfc3d54bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adde7167fb74286fe368b0825292583f1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#adde7167fb74286fe368b0825292583f1">doPeers</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:adde7167fb74286fe368b0825292583f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a979950a0dda1be57a45c4af66bea34e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a979950a0dda1be57a45c4af66bea34e5">doPing</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a979950a0dda1be57a45c4af66bea34e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03eb836cf6203f82aa95ad22c444e6fa"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a03eb836cf6203f82aa95ad22c444e6fa">doPrint</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a03eb836cf6203f82aa95ad22c444e6fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa275c2c005e4ff211fe7587162ad4283"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#aa275c2c005e4ff211fe7587162ad4283">doProfile</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:aa275c2c005e4ff211fe7587162ad4283"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d10c58f34908a3207804824ad99ea0c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a8d10c58f34908a3207804824ad99ea0c">doProofCreate</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a8d10c58f34908a3207804824ad99ea0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e717030ea0eafe8ee38fcc708d0c5be"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a7e717030ea0eafe8ee38fcc708d0c5be">doProofSolve</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a7e717030ea0eafe8ee38fcc708d0c5be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf797d26b778692b65d7e5d18dec5922"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#adf797d26b778692b65d7e5d18dec5922">doProofVerify</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:adf797d26b778692b65d7e5d18dec5922"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ad63ea274c0e7eb795d2f1d060fb674"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a1ad63ea274c0e7eb795d2f1d060fb674">doRandom</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a1ad63ea274c0e7eb795d2f1d060fb674"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a36006720757cc56e9cbd52d1517b909c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a36006720757cc56e9cbd52d1517b909c">doRipplePathFind</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a36006720757cc56e9cbd52d1517b909c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c1d25327afb7cd52aec03ea080b9b2b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a4c1d25327afb7cd52aec03ea080b9b2b">doSMS</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a4c1d25327afb7cd52aec03ea080b9b2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a622b01ed218cafb4fb728c2e04a6ca68"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a622b01ed218cafb4fb728c2e04a6ca68">doServerInfo</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a622b01ed218cafb4fb728c2e04a6ca68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5528b5c81268b2c289244bb5c25980a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#af5528b5c81268b2c289244bb5c25980a">doServerState</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:af5528b5c81268b2c289244bb5c25980a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebb1188d0f7d192f870c7fd0feb9c604"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#aebb1188d0f7d192f870c7fd0feb9c604">doSessionClose</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:aebb1188d0f7d192f870c7fd0feb9c604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af6f58489d9ce889aa3a8cce53097af47"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#af6f58489d9ce889aa3a8cce53097af47">doSessionOpen</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:af6f58489d9ce889aa3a8cce53097af47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fe8c9df95b37a944ac9238b4bfe6b03"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a2fe8c9df95b37a944ac9238b4bfe6b03">doSign</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a2fe8c9df95b37a944ac9238b4bfe6b03"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac0f27906fb676e013c3f259c44fc2c5c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#ac0f27906fb676e013c3f259c44fc2c5c">doStop</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:ac0f27906fb676e013c3f259c44fc2c5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ab050f89daeca6d691765cdc4526d41"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a5ab050f89daeca6d691765cdc4526d41">doSubmit</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a5ab050f89daeca6d691765cdc4526d41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af66ac86d99976b533baa08e959e8303f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#af66ac86d99976b533baa08e959e8303f">doSubscribe</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:af66ac86d99976b533baa08e959e8303f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94ca6f5bc40fea59fb46f7fbe97a32d3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a94ca6f5bc40fea59fb46f7fbe97a32d3">doTransactionEntry</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a94ca6f5bc40fea59fb46f7fbe97a32d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5cf8ce222b65949f6938f24959402f2b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a5cf8ce222b65949f6938f24959402f2b">doTx</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a5cf8ce222b65949f6938f24959402f2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a910bfab606b50360c07c08a1c0107dd6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a910bfab606b50360c07c08a1c0107dd6">doTxHistory</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a910bfab606b50360c07c08a1c0107dd6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab1a18104680cd7213a0c92bc2a13db52"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#ab1a18104680cd7213a0c92bc2a13db52">doUnlAdd</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:ab1a18104680cd7213a0c92bc2a13db52"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a842618718f796d9149285a738cecb85f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a842618718f796d9149285a738cecb85f">doUnlDelete</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a842618718f796d9149285a738cecb85f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a515fc676c3b5915dc0d31c284709620c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a515fc676c3b5915dc0d31c284709620c">doUnlFetch</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a515fc676c3b5915dc0d31c284709620c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a315b7e045f85be63a0e0983d710900ab"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a315b7e045f85be63a0e0983d710900ab">doUnlList</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a315b7e045f85be63a0e0983d710900ab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a7d4878b2550560a39075cb4e03881e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a0a7d4878b2550560a39075cb4e03881e">doUnlLoad</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a0a7d4878b2550560a39075cb4e03881e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a14f4ae72b3a94a0cddd2bc5d5edd3db5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a14f4ae72b3a94a0cddd2bc5d5edd3db5">doUnlNetwork</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a14f4ae72b3a94a0cddd2bc5d5edd3db5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a120e909da5c69d13d91e49e8e10ed392"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a120e909da5c69d13d91e49e8e10ed392">doUnlReset</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a120e909da5c69d13d91e49e8e10ed392"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a521e2a7449888402f8b4ef24b0a4b9d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a521e2a7449888402f8b4ef24b0a4b9d0">doUnlScore</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a521e2a7449888402f8b4ef24b0a4b9d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa6f604e5f4c8324ee9ca4a5c03d0fcc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#aaa6f604e5f4c8324ee9ca4a5c03d0fcc">doUnsubscribe</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:aaa6f604e5f4c8324ee9ca4a5c03d0fcc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8d06a22bd4b19b5ca86aaf30abf5801"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#aa8d06a22bd4b19b5ca86aaf30abf5801">doValidationCreate</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:aa8d06a22bd4b19b5ca86aaf30abf5801"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70dce7b77ab9226d7e9619868b158463"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a70dce7b77ab9226d7e9619868b158463">doValidationSeed</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a70dce7b77ab9226d7e9619868b158463"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56cd8842b63e346bdda718d81b0dcdce"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a56cd8842b63e346bdda718d81b0dcdce">doWalletAccounts</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a56cd8842b63e346bdda718d81b0dcdce"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af35df95f2fb815d82afe5717e384b0bc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#af35df95f2fb815d82afe5717e384b0bc">doWalletLock</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:af35df95f2fb815d82afe5717e384b0bc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdd26c4e121117c798f5a1229fe77979"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#abdd26c4e121117c798f5a1229fe77979">doWalletPropose</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:abdd26c4e121117c798f5a1229fe77979"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94c663acd3d07543ad5ba1c7a53530b6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a94c663acd3d07543ad5ba1c7a53530b6">doWalletSeed</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:a94c663acd3d07543ad5ba1c7a53530b6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac2195d65ecaaed11fb462d1c01fc1cd8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#ac2195d65ecaaed11fb462d1c01fc1cd8">doWalletUnlock</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:ac2195d65ecaaed11fb462d1c01fc1cd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaf5b46971f3b494cd1b50a36cb1850a5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#aaf5b46971f3b494cd1b50a36cb1850a5">doWalletVerify</a> (<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;mlh)</td></tr>
<tr class="separator:aaf5b46971f3b494cd1b50a36cb1850a5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a14361b9399c54013281e70bb9ba7efe6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dac/a01008.html">NetworkOPs</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a></td></tr>
<tr class="separator:a14361b9399c54013281e70bb9ba7efe6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af11ecf1530620e83636a8868f1403eec"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/deb/a00710.html#a15ba6fd94d60310cdf80362345b5d07b">InfoSub::pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#af11ecf1530620e83636a8868f1403eec">mInfoSub</a></td></tr>
<tr class="separator:af11ecf1530620e83636a8868f1403eec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abe574a57210c4043aa67f62a77db6e5a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a></td></tr>
<tr class="separator:abe574a57210c4043aa67f62a77db6e5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="../../de/dec/a03020_source.html#l00040">40</a> of file <a class="el" href="../../de/dec/a03020_source.html">RPCHandler.h</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a289a14a301ecab88c03c450372ff59fd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d6/d27/a01781.html">Json::Value</a>(RPCHandler::* ripple::RPCHandler::doFuncPtr)(<a class="el" href="../../d6/d27/a01781.html">Json::Value</a> params, <a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;loadType, <a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;MasterLockHolder)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../de/dec/a03020_source.html#l00052">52</a> of file <a class="el" href="../../de/dec/a03020_source.html">RPCHandler.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a985fefd4564316f04434e9221575ec4f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69"></a>optNone</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a985fefd4564316f04434e9221575ec4fa911b99d0c698d47d6e65816ff7b7e7dd"></a>optNetwork</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a985fefd4564316f04434e9221575ec4faf3e5782811146c0f04ca7d1a2248e267"></a>optCurrent</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a985fefd4564316f04434e9221575ec4fabff8d7ca31f352fab0a46348f31a46d5"></a>optClosed</em>&nbsp;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="../../de/dec/a03020_source.html#l00058">58</a> of file <a class="el" href="../../de/dec/a03020_source.html">RPCHandler.h</a>.</p>
<div class="fragment"><div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     = 0,</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fa911b99d0c698d47d6e65816ff7b7e7dd">optNetwork</a>  = 1,                <span class="comment">// Need network</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4faf3e5782811146c0f04ca7d1a2248e267">optCurrent</a>  = 2 + <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fa911b99d0c698d47d6e65816ff7b7e7dd">optNetwork</a>,   <span class="comment">// Need current ledger</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fabff8d7ca31f352fab0a46348f31a46d5">optClosed</a>   = 4 + <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fa911b99d0c698d47d6e65816ff7b7e7dd">optNetwork</a>,   <span class="comment">// Need closed ledger</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    };</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a6921d7e540afe53cd9fe5f50dbcf7093"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ripple::RPCHandler::RPCHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/dac/a01008.html">NetworkOPs</a> *&#160;</td>
          <td class="paramname"><em>netOps</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../de/dc6/a03019_source.html#l00030">30</a> of file <a class="el" href="../../de/dc6/a03019_source.html">RPCHandler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    : <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a> (netOps)</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    , <a class="code" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a> (<a class="code" href="../../d3/db8/a00316.html#a459f32c779b04342b4811b1a898a156ea7c12e247167f69c723757f054714180b">Config::FORBID</a>)</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;{</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a35c9a36547722276e3892a69ef125b34"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ripple::RPCHandler::RPCHandler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/dac/a01008.html">NetworkOPs</a> *&#160;</td>
          <td class="paramname"><em>netOps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/deb/a00710.html#a15ba6fd94d60310cdf80362345b5d07b">InfoSub::pointer</a>&#160;</td>
          <td class="paramname"><em>infoSub</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../de/dc6/a03019_source.html#l00036">36</a> of file <a class="el" href="../../de/dc6/a03019_source.html">RPCHandler.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    : <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a> (netOps)</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    , <a class="code" href="../../dc/d8c/a01297.html#af11ecf1530620e83636a8868f1403eec">mInfoSub</a> (infoSub)</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    , <a class="code" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a> (<a class="code" href="../../d3/db8/a00316.html#a459f32c779b04342b4811b1a898a156ea7c12e247167f69c723757f054714180b">Config::FORBID</a>)</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;{</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="abb847dfa562c55ddc83c4eb8552f3b28"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doAccountCurrencies </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d01/a03248_source.html#l00022">22</a> of file <a class="el" href="../../d9/d01/a03248_source.html">AccountCurrencies.cpp</a>.</p>

<p>References <a class="el" href="../../d2/d14/a03304_source.html#l00028">ripple::RPC::accountFromString()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01298">Json::Value::append()</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00038">Json::arrayValue</a>, <a class="el" href="../../da/d23/a02452_source.html#l00929">Json::Value::asBool()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00861">Json::Value::asUInt()</a>, <a class="el" href="../../da/dd3/a03198_source.html#l00220">ripple::STAmount::createHumanCurrency()</a>, <a class="el" href="../../d8/dd4/a03195_source.html#l00066">CURRENCY_BAD</a>, <a class="el" href="../../da/d23/a02452_source.html#l01066">Json::Value::empty()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00292">ripple::RippleAddress::getAccountID()</a>, <a class="el" href="../../de/d27/a03002_source.html#l00080">ripple::RippleState::getBalance()</a>, <a class="el" href="../../d8/dd4/a03195_source.html#l00663">ripple::STAmount::getCurrency()</a>, <a class="el" href="../../de/d27/a03002_source.html#l00090">ripple::RippleState::getLimitPeer()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d0/d7c/a03318_source.html#l00043">ripple::RPC::lookupLedger()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00166">ripple::RPC::missing_field_error()</a>, and <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;{</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="comment">// Get the current ledger</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> lpLedger;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvResult (<a class="code" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258">RPC::lookupLedger</a> (params, lpLedger, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>));</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordflow">if</span> (!lpLedger)</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">if</span> (! params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;account&quot;</span>) &amp;&amp; ! params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;ident&quot;</span>))</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06">RPC::missing_field_error</a> (<span class="stringliteral">&quot;account&quot;</span>);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    std::string <span class="keyword">const</span> strIdent (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;account&quot;</span>)</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        ? params[<span class="stringliteral">&quot;account&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ()</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        : params[<span class="stringliteral">&quot;ident&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ());</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordtype">int</span> <span class="keyword">const</span> iIndex (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;account_index&quot;</span>)</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        ? params[<span class="stringliteral">&quot;account_index&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c">asUInt</a> ()</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        : 0);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordtype">bool</span> <span class="keyword">const</span> bStrict (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;strict&quot;</span>) &amp;&amp; params[<span class="stringliteral">&quot;strict&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ());</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="comment">// Get info on account.</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordtype">bool</span> bIndex; <span class="comment">// out param</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    RippleAddress naAccount; <span class="comment">// out param</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvAccepted (<a class="code" href="../../d2/d9b/a03429.html#a3006948cff450a68caca5b20d9753b17">RPC::accountFromString</a> (</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        lpLedger, naAccount, bIndex, strIdent, iIndex, bStrict, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>));</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">if</span> (!jvAccepted.empty ())</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keywordflow">return</span> jvAccepted;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    std::set&lt;uint160&gt; send, receive;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    AccountItems rippleLines (naAccount.getAccountID (), lpLedger, <a class="code" href="../../d1/d22/a00057.html#a5d6643787cca8f1345f76e21f42fdc3a">AccountItem::pointer</a> (<span class="keyword">new</span> RippleState ()));</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    BOOST_FOREACH(<a class="code" href="../../d1/d22/a00057.html#ac12ad29e652d009fb8007e65f8f931b6">AccountItem::ref</a> item, rippleLines.getItems ())</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        RippleState* rspEntry = (RippleState*) item.get ();</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keyword">const</span> STAmount&amp; saBalance = rspEntry-&gt;getBalance ();</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">if</span> (saBalance &lt; rspEntry-&gt;getLimit ())</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            receive.insert (saBalance.getCurrency ());</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">if</span> ((-saBalance) &lt; rspEntry-&gt;getLimitPeer ())</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            send.insert (saBalance.getCurrency ());</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    }</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    send.erase (<a class="code" href="../../d8/dd4/a03195.html#a26b660a8a3b54bb18034f1b8d047da98">CURRENCY_BAD</a>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    receive.erase (<a class="code" href="../../d8/dd4/a03195.html#a26b660a8a3b54bb18034f1b8d047da98">CURRENCY_BAD</a>);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>&amp; sendCurrencies = (jvResult[<span class="stringliteral">&quot;send_currencies&quot;</span>] = <a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eadc8f264f36b55b063c78126b335415f4" title="array value (ordered list) ">Json::arrayValue</a>);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    BOOST_FOREACH(uint160 <span class="keyword">const</span>&amp; c, send)</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        sendCurrencies.<a class="code" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. ">append</a> (<a class="code" href="../../d2/d41/a01493.html#aefb662aaabfc521cb4cdcdb715c7d4b8">STAmount::createHumanCurrency</a> (c));</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>&amp; recvCurrencies = (jvResult[<span class="stringliteral">&quot;receive_currencies&quot;</span>] = <a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eadc8f264f36b55b063c78126b335415f4" title="array value (ordered list) ">Json::arrayValue</a>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    BOOST_FOREACH(uint160 <span class="keyword">const</span>&amp; c, receive)</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        recvCurrencies.<a class="code" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. ">append</a> (<a class="code" href="../../d2/d41/a01493.html#aefb662aaabfc521cb4cdcdb715c7d4b8">STAmount::createHumanCurrency</a> (c));</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_abb847dfa562c55ddc83c4eb8552f3b28_cgraph.png" border="0" usemap="#dc/d8c/a01297_abb847dfa562c55ddc83c4eb8552f3b28_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_abb847dfa562c55ddc83c4eb8552f3b28_cgraph" id="dc/d8c/a01297_abb847dfa562c55ddc83c4eb8552f3b28_cgraph">
<area shape="rect" id="node3" href="../../d2/d9b/a03429.html#a3006948cff450a68caca5b20d9753b17" title="ripple::RPC::accountFrom\lString" alt="" coords="223,367,396,414"/><area shape="rect" id="node28" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="472,607,619,654"/><area shape="rect" id="node37" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. " alt="" coords="239,989,380,1019"/><area shape="rect" id="node41" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="240,1431,379,1460"/><area shape="rect" id="node43" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="472,1272,619,1301"/><area shape="rect" id="node45" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="240,1484,379,1513"/><area shape="rect" id="node47" href="../../d2/d41/a01493.html#aefb662aaabfc521cb4cdcdb715c7d4b8" title="ripple::STAmount::create\lHumanCurrency" alt="" coords="227,1113,392,1159"/><area shape="rect" id="node60" href="../../d6/d27/a01781.html#a99c42d3ff8495dad1e91b43e66553c36" title="Return true if empty array, empty object, or null; otherwise, false. " alt="" coords="243,784,376,813"/><area shape="rect" id="node70" href="../../d7/da4/a01287.html#af578df15a0c8159362edadc41f9af6a0" title="ripple::RippleState\l::getBalance" alt="" coords="245,1537,373,1583"/><area shape="rect" id="node72" href="../../d2/d41/a01493.html#a61429db7fed5872fca90d726f3088325" title="ripple::STAmount::getCurrency" alt="" coords="208,1607,411,1636"/><area shape="rect" id="node74" href="../../d7/da4/a01287.html#a376126a99058f6d578d63856d2374498" title="ripple::RippleState\l::getLimitPeer" alt="" coords="245,1659,373,1706"/><area shape="rect" id="node76" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="468,1325,623,1355"/><area shape="rect" id="node78" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258" title="ripple::RPC::lookupLedger" alt="" coords="223,1377,396,1407"/><area shape="rect" id="node108" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06" title="ripple::RPC::missing\l_field_error" alt="" coords="239,2111,380,2158"/><area shape="rect" id="node5" href="../../d4/d0e/a01272.html#a6fccb99136b7c4e3f0d0d1ec404392a0" title="ripple::RippleAddress\l::setAccountPublic" alt="" coords="680,451,827,498"/><area shape="rect" id="node7" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="680,533,827,579"/><area shape="rect" id="node9" href="../../d9/d7d/a00150.html#a93558f897cf671ef53d71144450ae5de" title="ripple::Base58::getBitcoin\lAlphabet" alt="" coords="460,74,631,121"/><area shape="rect" id="node11" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="492,144,599,173"/><area shape="rect" id="node13" href="../../d4/d0e/a01272.html#afb74c70e56ff76faf4f4e703139e088f" title="ripple::RippleAddress\l::setSeedGeneric" alt="" coords="472,487,619,534"/><area shape="rect" id="node17" href="../../d4/d0e/a01272.html#a973406a0a660a3085f291033099db6d4" title="ripple::RippleAddress\l::setAccountPrivate" alt="" coords="680,279,827,326"/><area shape="rect" id="node21" href="../../d4/d0e/a01272.html#af5b92338227d7e142fa7a0dd728dbc36" title="ripple::RippleAddress\l::createGeneratorPublic" alt="" coords="467,5,624,51"/><area shape="rect" id="node23" href="../../d4/d0e/a01272.html#aa69f888fe19bdac32275a0637d93d6ae" title="ripple::RippleAddress\l::setGenerator" alt="" coords="680,147,827,194"/><area shape="rect" id="node26" href="../../dd/dac/a01008.html#a25f573a5680d2b1d83865b11b28cbe12" title="ripple::NetworkOPs\l::getGenerator" alt="" coords="477,298,613,345"/><area shape="rect" id="node32" href="../../d4/d0e/a01272.html#ac38496bfee913d17eeb561a20fb11eac" title="ripple::RippleAddress\l::accountPrivateDecrypt" alt="" coords="464,367,627,414"/><area shape="rect" id="node35" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="468,837,623,867"/><area shape="rect" id="node19" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="691,871,816,918"/><area shape="rect" id="node30" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="697,616,809,645"/><area shape="rect" id="node39" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="484,891,607,920"/><area shape="rect" id="node49" href="../../d7/d9a/a00152.html#a25e873c7d069c6c2d44655736f2b6c21" title="ripple::base_uint::\lisZero" alt="" coords="483,1013,608,1059"/><area shape="rect" id="node51" href="../../d7/d9a/a00152.html#ad19bda12f3725584ac179f2e091e30d7" title="ripple::base_uint::\lToString" alt="" coords="483,1202,608,1249"/><area shape="rect" id="node53" href="../../d7/d9a/a00152.html#a348c4019943a8b3a05f39f1efcb589c9" title="ripple::base_uint::\lGetHex" alt="" coords="691,1173,816,1219"/><area shape="rect" id="node55" href="../../da/d61/a01350.html#a509771bf1109949d4bee7b71aecc3757" title="ripple::Serializer\l::add160" alt="" coords="488,1082,603,1129"/><area shape="rect" id="node57" href="../../d0/d85/a01352.html#a28779f2e8d8ceb7882acfb5534d70754" title="ripple::SerializerIterator\l::getRaw" alt="" coords="468,943,623,990"/><area shape="rect" id="node62" href="../../d6/d27/a01781.html#ac8c898f93543e55b67418f94bced20af" title="Json::Value::isArray" alt="" coords="476,731,615,760"/><area shape="rect" id="node64" href="../../d6/d27/a01781.html#aeb9ad8b1bb91bdd72203dc884b3f4362" title="Json::Value::isNull" alt="" coords="480,784,611,813"/><area shape="rect" id="node66" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92" title="Json::Value::isObject" alt="" coords="472,677,619,707"/><area shape="rect" id="node80" href="../../d6/d27/a01781.html#aff2e3a2e9fd5db5469588ab7b501d4db" title="Json::Value::get" alt="" coords="487,1499,604,1528"/><area shape="rect" id="node85" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7" title="Json::Value::isString" alt="" coords="475,1552,616,1581"/><area shape="rect" id="node89" href="../../d6/d27/a01781.html#a8ce848900e2e8fa23a41fcc2c1409fab" title="Json::Value::isNumeric" alt="" coords="467,1605,624,1635"/><area shape="rect" id="node91" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="481,1659,609,1688"/><area shape="rect" id="node93" href="../../dd/dac/a01008.html#a2797139168b2d6c069aa1f0c51bc327a" title="ripple::NetworkOPs\l::getLedgerByHash" alt="" coords="477,1711,613,1758"/><area shape="rect" id="node95" href="../../dd/dac/a01008.html#aa4a081f49bdf9ea42446691c34ceed79" title="ripple::NetworkOPs\l::getCurrentLedger" alt="" coords="477,1781,613,1827"/><area shape="rect" id="node97" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="495,1851,596,1880"/><area shape="rect" id="node99" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="483,1903,608,1950"/><area shape="rect" id="node101" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="476,1973,615,2019"/><area shape="rect" id="node103" href="../../dd/dac/a01008.html#a3b147c209d1201adb03d478f148af4a1" title="ripple::NetworkOPs\l::getValidatedLedger" alt="" coords="475,2042,616,2089"/><area shape="rect" id="node105" href="../../dd/dac/a01008.html#a7615c0320aa25da4c77d806afe9c5c0e" title="ripple::NetworkOPs\l::getLedgerBySeq" alt="" coords="477,1429,613,1475"/><area shape="rect" id="node110" href="../../d2/d9b/a03429.html#a5b6ce0616f6995340f4dd846660c3749" title="ripple::RPC::make_param\l_error" alt="" coords="459,2181,632,2227"/><area shape="rect" id="node112" href="../../d2/d9b/a03429.html#a5d5937b3d78d931333b1c278e13e23b2" title="ripple::RPC::missing\l_field_message" alt="" coords="475,2111,616,2158"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_abb847dfa562c55ddc83c4eb8552f3b28_icgraph.png" border="0" usemap="#dc/d8c/a01297_abb847dfa562c55ddc83c4eb8552f3b28_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_abb847dfa562c55ddc83c4eb8552f3b28_icgraph" id="dc/d8c/a01297_abb847dfa562c55ddc83c4eb8552f3b28_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="209,85,343,131"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="404,32,529,61"/><area shape="rect" id="node13" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="400,85,533,131"/><area shape="rect" id="node23" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="392,154,541,201"/><area shape="rect" id="node7" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="644,32,721,61"/><area shape="rect" id="node9" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="892,5,943,35"/><area shape="rect" id="node11" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="863,59,972,88"/><area shape="rect" id="node15" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="591,85,775,131"/><area shape="rect" id="node17" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="596,154,769,201"/><area shape="rect" id="node19" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="825,154,1009,201"/><area shape="rect" id="node21" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1060,154,1244,201"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a53a357c0e37964494a2cf42860544fbc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doAccountInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d24/a03249_source.html#l00029">29</a> of file <a class="el" href="../../d6/d24/a03249_source.html">AccountInfo.cpp</a>.</p>

<p>References <a class="el" href="../../d2/d14/a03304_source.html#l00028">ripple::RPC::accountFromString()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00929">Json::Value::asBool()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00861">Json::Value::asUInt()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01066">Json::Value::empty()</a>, <a class="el" href="../../dd/dac/a01008.html#acb121b6ee80362d6525d8760a058cdb1">ripple::NetworkOPs::getAccountState()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00317">ripple::RippleAddress::humanAccountID()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d0/d7c/a03318_source.html#l00043">ripple::RPC::lookupLedger()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00166">ripple::RPC::missing_field_error()</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00058">ripple::rpcACT_NOT_FOUND</a>, and <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;{</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>     lpLedger;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>         jvResult    = <a class="code" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258">RPC::lookupLedger</a> (params, lpLedger, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">if</span> (!lpLedger)</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;account&quot;</span>) &amp;&amp; !params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;ident&quot;</span>))</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06">RPC::missing_field_error</a> (<span class="stringliteral">&quot;account&quot;</span>);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    std::string     strIdent    = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;account&quot;</span>) ? params[<span class="stringliteral">&quot;account&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> () : params[<span class="stringliteral">&quot;ident&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ();</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordtype">bool</span>            bIndex;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordtype">int</span>             iIndex      = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;account_index&quot;</span>) ? params[<span class="stringliteral">&quot;account_index&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c">asUInt</a> () : 0;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordtype">bool</span>            bStrict     = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;strict&quot;</span>) &amp;&amp; params[<span class="stringliteral">&quot;strict&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ();</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    RippleAddress   naAccount;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="comment">// Get info on account.</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>     jvAccepted      = <a class="code" href="../../d2/d9b/a03429.html#a3006948cff450a68caca5b20d9753b17">RPC::accountFromString</a> (lpLedger, naAccount, bIndex, strIdent, iIndex, bStrict, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">if</span> (!jvAccepted.<a class="code" href="../../d6/d27/a01781.html#a99c42d3ff8495dad1e91b43e66553c36" title="Return true if empty array, empty object, or null; otherwise, false. ">empty</a> ())</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keywordflow">return</span> jvAccepted;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <a class="code" href="../../d9/d73/a00060.html#ae2f1e61c8154ae51d99ebf48fd417f57">AccountState::pointer</a> asAccepted    = <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#acb121b6ee80362d6525d8760a058cdb1">getAccountState</a> (lpLedger, naAccount);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">if</span> (asAccepted)</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        asAccepted-&gt;addJson (jvAccepted);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        jvResult[<span class="stringliteral">&quot;account_data&quot;</span>]    = jvAccepted;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        jvResult[<span class="stringliteral">&quot;account&quot;</span>] = naAccount.humanAccountID ();</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        jvResult            = <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a044301ed3c32624aade5888d1c60566f">rpcACT_NOT_FOUND</a>, jvResult);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a53a357c0e37964494a2cf42860544fbc_cgraph.png" border="0" usemap="#dc/d8c/a01297_a53a357c0e37964494a2cf42860544fbc_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a53a357c0e37964494a2cf42860544fbc_cgraph" id="dc/d8c/a01297_a53a357c0e37964494a2cf42860544fbc_cgraph">
<area shape="rect" id="node3" href="../../d2/d9b/a03429.html#a3006948cff450a68caca5b20d9753b17" title="ripple::RPC::accountFrom\lString" alt="" coords="191,379,364,426"/><area shape="rect" id="node14" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="447,27,553,56"/><area shape="rect" id="node54" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="208,727,347,756"/><area shape="rect" id="node56" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="427,1139,573,1168"/><area shape="rect" id="node58" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="208,899,347,928"/><area shape="rect" id="node60" href="../../d6/d27/a01781.html#a99c42d3ff8495dad1e91b43e66553c36" title="Return true if empty array, empty object, or null; otherwise, false. " alt="" coords="211,952,344,981"/><area shape="rect" id="node70" href="../../dd/dac/a01008.html#acb121b6ee80362d6525d8760a058cdb1" title="ripple::NetworkOPs\l::getAccountState" alt="" coords="209,1005,345,1051"/><area shape="rect" id="node72" href="../../d4/d0e/a01272.html#a2a8201537b6969c0e186c9b1d889c52b" title="ripple::RippleAddress\l::humanAccountID" alt="" coords="204,779,351,826"/><area shape="rect" id="node80" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="423,1192,577,1221"/><area shape="rect" id="node82" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258" title="ripple::RPC::lookupLedger" alt="" coords="191,1448,364,1477"/><area shape="rect" id="node113" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06" title="ripple::RPC::missing\l_field_error" alt="" coords="207,2047,348,2094"/><area shape="rect" id="node5" href="../../d4/d0e/a01272.html#a6fccb99136b7c4e3f0d0d1ec404392a0" title="ripple::RippleAddress\l::setAccountPublic" alt="" coords="635,365,781,411"/><area shape="rect" id="node9" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="635,434,781,481"/><area shape="rect" id="node12" href="../../d9/d7d/a00150.html#a93558f897cf671ef53d71144450ae5de" title="ripple::Base58::getBitcoin\lAlphabet" alt="" coords="415,199,585,246"/><area shape="rect" id="node18" href="../../d4/d0e/a01272.html#afb74c70e56ff76faf4f4e703139e088f" title="ripple::RippleAddress\l::setSeedGeneric" alt="" coords="427,269,573,315"/><area shape="rect" id="node22" href="../../d4/d0e/a01272.html#a973406a0a660a3085f291033099db6d4" title="ripple::RippleAddress\l::setAccountPrivate" alt="" coords="635,74,781,121"/><area shape="rect" id="node39" href="../../d4/d0e/a01272.html#af5b92338227d7e142fa7a0dd728dbc36" title="ripple::RippleAddress\l::createGeneratorPublic" alt="" coords="421,559,579,606"/><area shape="rect" id="node41" href="../../d4/d0e/a01272.html#aa69f888fe19bdac32275a0637d93d6ae" title="ripple::RippleAddress\l::setGenerator" alt="" coords="635,573,781,619"/><area shape="rect" id="node45" href="../../dd/dac/a01008.html#a25f573a5680d2b1d83865b11b28cbe12" title="ripple::NetworkOPs\l::getGenerator" alt="" coords="432,439,568,486"/><area shape="rect" id="node47" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="427,629,573,675"/><area shape="rect" id="node49" href="../../d4/d0e/a01272.html#ac38496bfee913d17eeb561a20fb11eac" title="ripple::RippleAddress\l::accountPrivateDecrypt" alt="" coords="419,79,581,126"/><area shape="rect" id="node52" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="423,1032,577,1061"/><area shape="rect" id="node7" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="1025,305,1167,351"/><area shape="rect" id="node16" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="644,5,772,51"/><area shape="rect" id="node25" href="../../d4/d0e/a01272.html#a20ebd6bb6da228273b6159c3698f0b38" title="ripple::RippleAddress\l::setNodePublic" alt="" coords="829,150,976,197"/><area shape="rect" id="node28" href="../../d4/d0e/a01272.html#a1c5ba09193abc3fe85e179665eba0313" title="ripple::RippleAddress\l::setNodePrivate" alt="" coords="829,305,976,351"/><area shape="rect" id="node31" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="645,503,771,550"/><area shape="rect" id="node33" href="../../d4/d0e/a01272.html#a174148805b914cbf25bd9aeb932b8fc5" title="ripple::RippleAddress\l::setSeed" alt="" coords="829,235,976,282"/><area shape="rect" id="node36" href="../../d4/d0e/a01272.html#a084f091b0572c3bd9362738527855ca4" title="ripple::RippleAddress\l::setSeed1751" alt="" coords="635,194,781,241"/><area shape="rect" id="node62" href="../../d6/d27/a01781.html#ac8c898f93543e55b67418f94bced20af" title="Json::Value::isArray" alt="" coords="431,872,569,901"/><area shape="rect" id="node64" href="../../d6/d27/a01781.html#aeb9ad8b1bb91bdd72203dc884b3f4362" title="Json::Value::isNull" alt="" coords="435,925,565,955"/><area shape="rect" id="node66" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92" title="Json::Value::isObject" alt="" coords="427,979,573,1008"/><area shape="rect" id="node68" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="439,1085,561,1115"/><area shape="rect" id="node74" href="../../d4/d87/a03436.html#a6f17c6df7ce20ec52aecef2475cd4158" title="rocksdb::if" alt="" coords="459,819,541,848"/><area shape="rect" id="node76" href="../../d9/d39/a00257.html#a18a7bfe8bbf61262472b03f1dfe5c887" title="ripple::CBase58Data\l::ToString" alt="" coords="429,749,571,795"/><area shape="rect" id="node84" href="../../d6/d27/a01781.html#aff2e3a2e9fd5db5469588ab7b501d4db" title="Json::Value::get" alt="" coords="441,1315,559,1344"/><area shape="rect" id="node89" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7" title="Json::Value::isString" alt="" coords="429,1368,571,1397"/><area shape="rect" id="node93" href="../../d6/d27/a01781.html#a8ce848900e2e8fa23a41fcc2c1409fab" title="Json::Value::isNumeric" alt="" coords="421,1421,579,1451"/><area shape="rect" id="node95" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="436,1475,564,1504"/><area shape="rect" id="node97" href="../../dd/dac/a01008.html#a2797139168b2d6c069aa1f0c51bc327a" title="ripple::NetworkOPs\l::getLedgerByHash" alt="" coords="432,1527,568,1574"/><area shape="rect" id="node99" href="../../dd/dac/a01008.html#aa4a081f49bdf9ea42446691c34ceed79" title="ripple::NetworkOPs\l::getCurrentLedger" alt="" coords="432,1597,568,1643"/><area shape="rect" id="node101" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="449,1667,551,1696"/><area shape="rect" id="node103" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="437,1719,563,1766"/><area shape="rect" id="node105" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="431,1789,569,1835"/><area shape="rect" id="node107" href="../../dd/dac/a01008.html#a3b147c209d1201adb03d478f148af4a1" title="ripple::NetworkOPs\l::getValidatedLedger" alt="" coords="429,1909,571,1955"/><area shape="rect" id="node109" href="../../dd/dac/a01008.html#a7615c0320aa25da4c77d806afe9c5c0e" title="ripple::NetworkOPs\l::getLedgerBySeq" alt="" coords="432,1978,568,2025"/><area shape="rect" id="node111" href="../../d7/d9a/a00152.html#ad19bda12f3725584ac179f2e091e30d7" title="ripple::base_uint::\lToString" alt="" coords="437,1245,563,1291"/><area shape="rect" id="node115" href="../../d2/d9b/a03429.html#a5b6ce0616f6995340f4dd846660c3749" title="ripple::RPC::make_param\l_error" alt="" coords="413,2047,587,2094"/><area shape="rect" id="node117" href="../../d2/d9b/a03429.html#a5d5937b3d78d931333b1c278e13e23b2" title="ripple::RPC::missing\l_field_message" alt="" coords="429,2117,571,2163"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a53a357c0e37964494a2cf42860544fbc_icgraph.png" border="0" usemap="#dc/d8c/a01297_a53a357c0e37964494a2cf42860544fbc_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a53a357c0e37964494a2cf42860544fbc_icgraph" id="dc/d8c/a01297_a53a357c0e37964494a2cf42860544fbc_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,85,324,131"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,32,511,61"/><area shape="rect" id="node13" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,85,515,131"/><area shape="rect" id="node23" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,154,523,201"/><area shape="rect" id="node7" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,32,703,61"/><area shape="rect" id="node9" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,5,924,35"/><area shape="rect" id="node11" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,59,953,88"/><area shape="rect" id="node15" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,85,756,131"/><area shape="rect" id="node17" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,154,751,201"/><area shape="rect" id="node19" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,154,991,201"/><area shape="rect" id="node21" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,154,1225,201"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7f877c7e7527d04836c76861e2646b08"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doAccountLines </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/d45/a03250_source.html#l00029">29</a> of file <a class="el" href="../../dc/d45/a03250_source.html">AccountLines.cpp</a>.</p>

<p>References <a class="el" href="../../d2/d14/a03304_source.html#l00028">ripple::RPC::accountFromString()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01298">Json::Value::append()</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00038">Json::arrayValue</a>, <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00861">Json::Value::asUInt()</a>, <a class="el" href="../../d7/d49/a03187_source.html#l00125">ripple::RippleAddress::createHumanAccountID()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01066">Json::Value::empty()</a>, <a class="el" href="../../d5/d6b/a03428.html#a8466333cef2ff22196d2f7732f0c958a">ripple::Resource::feeMediumBurdenRPC</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00292">ripple::RippleAddress::getAccountID()</a>, <a class="el" href="../../de/d27/a03002_source.html#l00054">ripple::RippleState::getAccountIDPeer()</a>, <a class="el" href="../../de/d27/a03002_source.html#l00060">ripple::RippleState::getAuth()</a>, <a class="el" href="../../de/d27/a03002_source.html#l00065">ripple::RippleState::getAuthPeer()</a>, <a class="el" href="../../de/d27/a03002_source.html#l00080">ripple::RippleState::getBalance()</a>, <a class="el" href="../../da/dd3/a03198_source.html#l00091">ripple::STAmount::getHumanCurrency()</a>, <a class="el" href="../../de/d27/a03002_source.html#l00085">ripple::RippleState::getLimit()</a>, <a class="el" href="../../de/d27/a03002_source.html#l00090">ripple::RippleState::getLimitPeer()</a>, <a class="el" href="../../de/d27/a03002_source.html#l00070">ripple::RippleState::getNoRipple()</a>, <a class="el" href="../../de/d27/a03002_source.html#l00075">ripple::RippleState::getNoRipplePeer()</a>, <a class="el" href="../../de/d27/a03002_source.html#l00095">ripple::RippleState::getQualityIn()</a>, <a class="el" href="../../de/d27/a03002_source.html#l00100">ripple::RippleState::getQualityOut()</a>, <a class="el" href="../../da/dd3/a03198_source.html#l00629">ripple::STAmount::getText()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00317">ripple::RippleAddress::humanAccountID()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d7/d49/a03187_source.html#l00064">ripple::RippleAddress::isValid()</a>, <a class="el" href="../../d0/d7c/a03318_source.html#l00043">ripple::RPC::lookupLedger()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00166">ripple::RPC::missing_field_error()</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00058">ripple::rpcACT_NOT_FOUND</a>, and <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;{</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>     lpLedger;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>         jvResult    = <a class="code" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258">RPC::lookupLedger</a> (params, lpLedger, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">if</span> (!lpLedger)</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;account&quot;</span>))</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06">RPC::missing_field_error</a> (<span class="stringliteral">&quot;account&quot;</span>);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    std::string     strIdent    = params[<span class="stringliteral">&quot;account&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ();</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordtype">bool</span>            bIndex      = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;account_index&quot;</span>);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordtype">int</span>             iIndex      = bIndex ? params[<span class="stringliteral">&quot;account_index&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c">asUInt</a> () : 0;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    RippleAddress   raAccount;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    jvResult    = <a class="code" href="../../d2/d9b/a03429.html#a3006948cff450a68caca5b20d9753b17">RPC::accountFromString</a> (lpLedger, raAccount, bIndex, strIdent, iIndex, <span class="keyword">false</span>, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">if</span> (!jvResult.<a class="code" href="../../d6/d27/a01781.html#a99c42d3ff8495dad1e91b43e66553c36" title="Return true if empty array, empty object, or null; otherwise, false. ">empty</a> ())</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    std::string     strPeer     = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;peer&quot;</span>) ? params[<span class="stringliteral">&quot;peer&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> () : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordtype">bool</span>            bPeerIndex      = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;peer_index&quot;</span>);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordtype">int</span>             iPeerIndex      = bIndex ? params[<span class="stringliteral">&quot;peer_index&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c">asUInt</a> () : 0;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    RippleAddress   raPeer;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordflow">if</span> (!strPeer.empty ())</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        jvResult[<span class="stringliteral">&quot;peer&quot;</span>]    = raAccount.humanAccountID ();</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">if</span> (bPeerIndex)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            jvResult[<span class="stringliteral">&quot;peer_index&quot;</span>]  = iPeerIndex;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        jvResult    = <a class="code" href="../../d2/d9b/a03429.html#a3006948cff450a68caca5b20d9753b17">RPC::accountFromString</a> (lpLedger, raPeer, bPeerIndex, strPeer, iPeerIndex, <span class="keyword">false</span>, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="keywordflow">if</span> (!jvResult.<a class="code" href="../../d6/d27/a01781.html#a99c42d3ff8495dad1e91b43e66553c36" title="Return true if empty array, empty object, or null; otherwise, false. ">empty</a> ())</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">if</span> (lpLedger-&gt;hasAccount (raAccount))</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        AccountItems rippleLines (raAccount.getAccountID (), lpLedger, <a class="code" href="../../d1/d22/a00057.html#a5d6643787cca8f1345f76e21f42fdc3a">AccountItem::pointer</a> (<span class="keyword">new</span> RippleState ()));</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        jvResult[<span class="stringliteral">&quot;account&quot;</span>] = raAccount.humanAccountID ();</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>&amp; jsonLines = (jvResult[<span class="stringliteral">&quot;lines&quot;</span>] = <a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eadc8f264f36b55b063c78126b335415f4" title="array value (ordered list) ">Json::arrayValue</a>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        BOOST_FOREACH (<a class="code" href="../../d1/d22/a00057.html#ac12ad29e652d009fb8007e65f8f931b6">AccountItem::ref</a> item, rippleLines.getItems ())</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;        {</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            RippleState* line = (RippleState*)item.<a class="code" href="../../d6/d27/a01781.html#aff2e3a2e9fd5db5469588ab7b501d4db">get</a> ();</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;            <span class="keywordflow">if</span> (!raPeer.isValid () || raPeer.getAccountID () == line-&gt;getAccountIDPeer ())</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            {</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;                <span class="keyword">const</span> STAmount&amp;     saBalance   = line-&gt;getBalance ();</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;                <span class="keyword">const</span> STAmount&amp;     saLimit     = line-&gt;getLimit ();</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                <span class="keyword">const</span> STAmount&amp;     saLimitPeer = line-&gt;getLimitPeer ();</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>&amp;    jPeer   = jsonLines.<a class="code" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. ">append</a> (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                jPeer[<span class="stringliteral">&quot;account&quot;</span>]        = <a class="code" href="../../d4/d0e/a01272.html#a5e27ec0a3b2b853272958e1b522bfd59">RippleAddress::createHumanAccountID</a> (line-&gt;getAccountIDPeer ());</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                <span class="comment">// Amount reported is positive if current account holds other account&#39;s IOUs.</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                <span class="comment">// Amount reported is negative if other account holds current account&#39;s IOUs.</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                jPeer[<span class="stringliteral">&quot;balance&quot;</span>]        = saBalance.getText ();</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                jPeer[<span class="stringliteral">&quot;currency&quot;</span>]       = saBalance.getHumanCurrency ();</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;                jPeer[<span class="stringliteral">&quot;limit&quot;</span>]          = saLimit.getText ();</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                jPeer[<span class="stringliteral">&quot;limit_peer&quot;</span>]     = saLimitPeer.getText ();</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                jPeer[<span class="stringliteral">&quot;quality_in&quot;</span>]     = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d2/dd6/a03414.html#a800fb90eb6ee8d5d62b600c06f87f7d4">Json::UInt</a><span class="keyword">&gt;</span> (line-&gt;getQualityIn ());</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;                jPeer[<span class="stringliteral">&quot;quality_out&quot;</span>]    = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d2/dd6/a03414.html#a800fb90eb6ee8d5d62b600c06f87f7d4">Json::UInt</a><span class="keyword">&gt;</span> (line-&gt;getQualityOut ());</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;                <span class="keywordflow">if</span> (line-&gt;getAuth())</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                    jPeer[<span class="stringliteral">&quot;authorized&quot;</span>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                <span class="keywordflow">if</span> (line-&gt;getAuthPeer())</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                    jPeer[<span class="stringliteral">&quot;peer_authorized&quot;</span>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                <span class="keywordflow">if</span> (line-&gt;getNoRipple())</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                    jPeer[<span class="stringliteral">&quot;no_ripple&quot;</span>]  = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                <span class="keywordflow">if</span> (line-&gt;getNoRipplePeer())</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                    jPeer[<span class="stringliteral">&quot;no_ripple_peer&quot;</span>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        }</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        loadType = <a class="code" href="../../d5/d6b/a03428.html#a8466333cef2ff22196d2f7732f0c958a">Resource::feeMediumBurdenRPC</a>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        jvResult    = <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a044301ed3c32624aade5888d1c60566f">rpcACT_NOT_FOUND</a>);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;    }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a7f877c7e7527d04836c76861e2646b08_cgraph.png" border="0" usemap="#dc/d8c/a01297_a7f877c7e7527d04836c76861e2646b08_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a7f877c7e7527d04836c76861e2646b08_cgraph" id="dc/d8c/a01297_a7f877c7e7527d04836c76861e2646b08_cgraph">
<area shape="rect" id="node3" href="../../d2/d9b/a03429.html#a3006948cff450a68caca5b20d9753b17" title="ripple::RPC::accountFrom\lString" alt="" coords="199,532,372,579"/><area shape="rect" id="node11" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="461,782,568,811"/><area shape="rect" id="node28" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="648,24,795,71"/><area shape="rect" id="node37" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. " alt="" coords="215,1023,356,1053"/><area shape="rect" id="node41" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="441,1102,588,1131"/><area shape="rect" id="node43" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="216,1231,355,1261"/><area shape="rect" id="node45" href="../../d4/d0e/a01272.html#a5e27ec0a3b2b853272958e1b522bfd59" title="ripple::RippleAddress\l::createHumanAccountID" alt="" coords="200,163,371,209"/><area shape="rect" id="node50" href="../../d4/d0e/a01272.html#a2a8201537b6969c0e186c9b1d889c52b" title="ripple::RippleAddress\l::humanAccountID" alt="" coords="441,93,588,140"/><area shape="rect" id="node58" href="../../d6/d27/a01781.html#a99c42d3ff8495dad1e91b43e66553c36" title="Return true if empty array, empty object, or null; otherwise, false. " alt="" coords="219,970,352,999"/><area shape="rect" id="node68" href="../../d7/da4/a01287.html#aad27858850a33efcad5d07436062aae3" title="ripple::RippleState\l::getAccountIDPeer" alt="" coords="217,1284,353,1331"/><area shape="rect" id="node70" href="../../d7/da4/a01287.html#a2e396a896a060514016f25b2cd015685" title="ripple::RippleState\l::getAuth" alt="" coords="221,1561,349,1608"/><area shape="rect" id="node74" href="../../d7/da4/a01287.html#a6dec08460ebe64854b7244b2e9953584" title="ripple::RippleState\l::getAuthPeer" alt="" coords="221,1353,349,1400"/><area shape="rect" id="node77" href="../../d7/da4/a01287.html#af578df15a0c8159362edadc41f9af6a0" title="ripple::RippleState\l::getBalance" alt="" coords="221,1631,349,1677"/><area shape="rect" id="node79" href="../../d2/d41/a01493.html#a0f7eda3369139764c0dd4c6dc806a9d7" title="ripple::STAmount::getHuman\lCurrency" alt="" coords="191,1700,380,1747"/><area shape="rect" id="node83" href="../../d7/da4/a01287.html#ae8e1346354d464c25b46b6c7fffb87b6" title="ripple::RippleState\l::getLimit" alt="" coords="221,1769,349,1816"/><area shape="rect" id="node85" href="../../d7/da4/a01287.html#a376126a99058f6d578d63856d2374498" title="ripple::RippleState\l::getLimitPeer" alt="" coords="221,1839,349,1885"/><area shape="rect" id="node87" href="../../d7/da4/a01287.html#a2371e67c98f7db5f18f99dea1a3991b3" title="ripple::RippleState\l::getNoRipple" alt="" coords="221,1423,349,1469"/><area shape="rect" id="node90" href="../../d7/da4/a01287.html#a22cc60ccbf9c394e7a89a645687581be" title="ripple::RippleState\l::getNoRipplePeer" alt="" coords="221,1492,349,1539"/><area shape="rect" id="node93" href="../../d7/da4/a01287.html#aa0c09c25a0f44d7c724d1251b20ef299" title="ripple::RippleState\l::getQualityIn" alt="" coords="221,1908,349,1955"/><area shape="rect" id="node95" href="../../d7/da4/a01287.html#a7516db378a656e1da8103f32f1c45693" title="ripple::RippleState\l::getQualityOut" alt="" coords="221,1977,349,2024"/><area shape="rect" id="node97" href="../../d2/d41/a01493.html#a207b1e769e476310cc294e5a3d6d299f" title="ripple::STAmount::getText" alt="" coords="199,2047,372,2077"/><area shape="rect" id="node100" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="437,1366,592,1395"/><area shape="rect" id="node102" href="../../d4/d0e/a01272.html#a9100eadca1fdf0a232b159259f6f0205" title="ripple::RippleAddress\l::isValid" alt="" coords="212,2100,359,2147"/><area shape="rect" id="node104" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258" title="ripple::RPC::lookupLedger" alt="" coords="199,1127,372,1157"/><area shape="rect" id="node117" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06" title="ripple::RPC::missing\l_field_error" alt="" coords="215,2169,356,2216"/><area shape="rect" id="node5" href="../../d4/d0e/a01272.html#a6fccb99136b7c4e3f0d0d1ec404392a0" title="ripple::RippleAddress\l::setAccountPublic" alt="" coords="648,516,795,563"/><area shape="rect" id="node7" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="648,344,795,391"/><area shape="rect" id="node9" href="../../d9/d7d/a00150.html#a93558f897cf671ef53d71144450ae5de" title="ripple::Base58::getBitcoin\lAlphabet" alt="" coords="429,592,600,639"/><area shape="rect" id="node13" href="../../d4/d0e/a01272.html#afb74c70e56ff76faf4f4e703139e088f" title="ripple::RippleAddress\l::setSeedGeneric" alt="" coords="441,472,588,519"/><area shape="rect" id="node17" href="../../d4/d0e/a01272.html#a973406a0a660a3085f291033099db6d4" title="ripple::RippleAddress\l::setAccountPrivate" alt="" coords="648,429,795,476"/><area shape="rect" id="node21" href="../../d4/d0e/a01272.html#af5b92338227d7e142fa7a0dd728dbc36" title="ripple::RippleAddress\l::createGeneratorPublic" alt="" coords="436,661,593,708"/><area shape="rect" id="node23" href="../../d4/d0e/a01272.html#aa69f888fe19bdac32275a0637d93d6ae" title="ripple::RippleAddress\l::setGenerator" alt="" coords="648,705,795,752"/><area shape="rect" id="node26" href="../../dd/dac/a01008.html#a25f573a5680d2b1d83865b11b28cbe12" title="ripple::NetworkOPs\l::getGenerator" alt="" coords="447,232,583,279"/><area shape="rect" id="node32" href="../../d4/d0e/a01272.html#ac38496bfee913d17eeb561a20fb11eac" title="ripple::RippleAddress\l::accountPrivateDecrypt" alt="" coords="433,301,596,348"/><area shape="rect" id="node35" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="437,942,592,971"/><area shape="rect" id="node19" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="659,603,784,649"/><area shape="rect" id="node30" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="844,33,956,62"/><area shape="rect" id="node39" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="453,1049,576,1078"/><area shape="rect" id="node47" href="../../d4/d0e/a01272.html#a4d666ed35a56048234a86e53d129ad66" title="ripple::RippleAddress\l::createAccountID" alt="" coords="441,163,588,209"/><area shape="rect" id="node52" href="../../d4/d87/a03436.html#a6f17c6df7ce20ec52aecef2475cd4158" title="rocksdb::if" alt="" coords="680,163,763,193"/><area shape="rect" id="node54" href="../../d9/d39/a00257.html#a18a7bfe8bbf61262472b03f1dfe5c887" title="ripple::CBase58Data\l::ToString" alt="" coords="651,93,792,140"/><area shape="rect" id="node60" href="../../d6/d27/a01781.html#ac8c898f93543e55b67418f94bced20af" title="Json::Value::isArray" alt="" coords="445,995,584,1025"/><area shape="rect" id="node62" href="../../d6/d27/a01781.html#aeb9ad8b1bb91bdd72203dc884b3f4362" title="Json::Value::isNull" alt="" coords="449,835,580,865"/><area shape="rect" id="node64" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92" title="Json::Value::isObject" alt="" coords="441,889,588,918"/><area shape="rect" id="node72" href="../../d9/d9d/a03417.html#a31cb07ee73687ab40f31634269f9f43c" title="ripple::is_bit_set" alt="" coords="456,1466,573,1495"/><area shape="rect" id="node81" href="../../d2/d41/a01493.html#aefb662aaabfc521cb4cdcdb715c7d4b8" title="ripple::STAmount::create\lHumanCurrency" alt="" coords="432,1700,597,1747"/><area shape="rect" id="node106" href="../../d6/d27/a01781.html#aff2e3a2e9fd5db5469588ab7b501d4db" title="Json::Value::get" alt="" coords="456,1155,573,1185"/><area shape="rect" id="node111" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7" title="Json::Value::isString" alt="" coords="444,1209,585,1238"/><area shape="rect" id="node115" href="../../d6/d27/a01781.html#a8ce848900e2e8fa23a41fcc2c1409fab" title="Json::Value::isNumeric" alt="" coords="436,1313,593,1342"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a7f877c7e7527d04836c76861e2646b08_icgraph.png" border="0" usemap="#dc/d8c/a01297_a7f877c7e7527d04836c76861e2646b08_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a7f877c7e7527d04836c76861e2646b08_icgraph" id="dc/d8c/a01297_a7f877c7e7527d04836c76861e2646b08_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,85,324,131"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,32,511,61"/><area shape="rect" id="node13" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,85,515,131"/><area shape="rect" id="node23" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,154,523,201"/><area shape="rect" id="node7" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,32,703,61"/><area shape="rect" id="node9" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,5,924,35"/><area shape="rect" id="node11" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,59,953,88"/><area shape="rect" id="node15" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,85,756,131"/><area shape="rect" id="node17" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,154,751,201"/><area shape="rect" id="node19" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,154,991,201"/><area shape="rect" id="node21" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,154,1225,201"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9a2d86224ccb500f98e0ea2a782164bd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doAccountOffers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/dd3/a03251_source.html#l00041">41</a> of file <a class="el" href="../../db/dd3/a03251_source.html">AccountOffers.cpp</a>.</p>

<p>References <a class="el" href="../../d2/d14/a03304_source.html#l00028">ripple::RPC::accountFromString()</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00038">Json::arrayValue</a>, <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00861">Json::Value::asUInt()</a>, <a class="el" href="../../d0/d75/a03105_source.html#l00028">BIND_TYPE</a>, <a class="el" href="../../da/d23/a02452_source.html#l01066">Json::Value::empty()</a>, <a class="el" href="../../d5/d6b/a03428.html#a8466333cef2ff22196d2f7732f0c958a">ripple::Resource::feeMediumBurdenRPC</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00292">ripple::RippleAddress::getAccountID()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00317">ripple::RippleAddress::humanAccountID()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d0/d7c/a03318_source.html#l00043">ripple::RPC::lookupLedger()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00166">ripple::RPC::missing_field_error()</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, <a class="el" href="../../db/dd3/a03251_source.html#l00023">ripple::offerAdder()</a>, <a class="el" href="../../d0/d75/a03105_source.html#l00029">P_1</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00058">ripple::rpcACT_NOT_FOUND</a>, and <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;{</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>     lpLedger;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>         jvResult    = <a class="code" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258">RPC::lookupLedger</a> (params, lpLedger, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">if</span> (!lpLedger)</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;account&quot;</span>))</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06">RPC::missing_field_error</a> (<span class="stringliteral">&quot;account&quot;</span>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    std::string     strIdent    = params[<span class="stringliteral">&quot;account&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ();</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordtype">bool</span>            bIndex      = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;account_index&quot;</span>);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordtype">int</span>             iIndex      = bIndex ? params[<span class="stringliteral">&quot;account_index&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c">asUInt</a> () : 0;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    RippleAddress   raAccount;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    jvResult    = <a class="code" href="../../d2/d9b/a03429.html#a3006948cff450a68caca5b20d9753b17">RPC::accountFromString</a> (lpLedger, raAccount, bIndex, strIdent, iIndex, <span class="keyword">false</span>, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">if</span> (!jvResult.<a class="code" href="../../d6/d27/a01781.html#a99c42d3ff8495dad1e91b43e66553c36" title="Return true if empty array, empty object, or null; otherwise, false. ">empty</a> ())</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">// Get info on account.</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    jvResult[<span class="stringliteral">&quot;account&quot;</span>] = raAccount.humanAccountID ();</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">if</span> (bIndex)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        jvResult[<span class="stringliteral">&quot;account_index&quot;</span>]   = iIndex;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    <span class="keywordflow">if</span> (!lpLedger-&gt;hasAccount (raAccount))</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a044301ed3c32624aade5888d1c60566f">rpcACT_NOT_FOUND</a>);</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>&amp; jvsOffers = (jvResult[<span class="stringliteral">&quot;offers&quot;</span>] = <a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eadc8f264f36b55b063c78126b335415f4" title="array value (ordered list) ">Json::arrayValue</a>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    lpLedger-&gt;visitAccountItems (raAccount.getAccountID (), <a class="code" href="../../d0/d75/a03105.html#a6c0c867ff5909fab21adb4d253d4bcc5">BIND_TYPE</a> (&amp;<a class="code" href="../../d9/d9d/a03417.html#a21021ada3c5c1089fbbe44ccd756f74f">offerAdder</a>, boost::ref (jvsOffers), <a class="code" href="../../d0/d75/a03105.html#af188598d0d6f186e4b5b0ec4b8da5be1">P_1</a>));</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    loadType = <a class="code" href="../../d5/d6b/a03428.html#a8466333cef2ff22196d2f7732f0c958a">Resource::feeMediumBurdenRPC</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a9a2d86224ccb500f98e0ea2a782164bd_cgraph.png" border="0" usemap="#dc/d8c/a01297_a9a2d86224ccb500f98e0ea2a782164bd_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a9a2d86224ccb500f98e0ea2a782164bd_cgraph" id="dc/d8c/a01297_a9a2d86224ccb500f98e0ea2a782164bd_cgraph">
<area shape="rect" id="node3" href="../../d2/d9b/a03429.html#a3006948cff450a68caca5b20d9753b17" title="ripple::RPC::accountFrom\lString" alt="" coords="191,385,364,431"/><area shape="rect" id="node14" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="447,13,553,43"/><area shape="rect" id="node44" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="427,775,573,822"/><area shape="rect" id="node53" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="427,1123,573,1152"/><area shape="rect" id="node55" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="208,939,347,968"/><area shape="rect" id="node57" href="../../d6/d27/a01781.html#a99c42d3ff8495dad1e91b43e66553c36" title="Return true if empty array, empty object, or null; otherwise, false. " alt="" coords="211,723,344,752"/><area shape="rect" id="node68" href="../../d4/d0e/a01272.html#a2a8201537b6969c0e186c9b1d889c52b" title="ripple::RippleAddress\l::humanAccountID" alt="" coords="204,991,351,1038"/><area shape="rect" id="node76" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="423,1176,577,1205"/><area shape="rect" id="node78" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258" title="ripple::RPC::lookupLedger" alt="" coords="191,1495,364,1524"/><area shape="rect" id="node109" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06" title="ripple::RPC::missing\l_field_error" alt="" coords="207,2082,348,2129"/><area shape="rect" id="node115" href="../../d9/d9d/a03417.html#a21021ada3c5c1089fbbe44ccd756f74f" title="ripple::offerAdder" alt="" coords="217,2187,337,2216"/><area shape="rect" id="node5" href="../../d4/d0e/a01272.html#a6fccb99136b7c4e3f0d0d1ec404392a0" title="ripple::RippleAddress\l::setAccountPublic" alt="" coords="635,267,781,314"/><area shape="rect" id="node9" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="635,614,781,661"/><area shape="rect" id="node12" href="../../d9/d7d/a00150.html#a93558f897cf671ef53d71144450ae5de" title="ripple::Base58::getBitcoin\lAlphabet" alt="" coords="415,255,585,302"/><area shape="rect" id="node18" href="../../d4/d0e/a01272.html#afb74c70e56ff76faf4f4e703139e088f" title="ripple::RippleAddress\l::setSeedGeneric" alt="" coords="427,445,573,491"/><area shape="rect" id="node22" href="../../d4/d0e/a01272.html#a973406a0a660a3085f291033099db6d4" title="ripple::RippleAddress\l::setAccountPrivate" alt="" coords="635,545,781,591"/><area shape="rect" id="node36" href="../../d4/d0e/a01272.html#af5b92338227d7e142fa7a0dd728dbc36" title="ripple::RippleAddress\l::createGeneratorPublic" alt="" coords="421,325,579,371"/><area shape="rect" id="node38" href="../../d4/d0e/a01272.html#aa69f888fe19bdac32275a0637d93d6ae" title="ripple::RippleAddress\l::setGenerator" alt="" coords="635,198,781,245"/><area shape="rect" id="node42" href="../../dd/dac/a01008.html#a25f573a5680d2b1d83865b11b28cbe12" title="ripple::NetworkOPs\l::getGenerator" alt="" coords="432,66,568,113"/><area shape="rect" id="node48" href="../../d4/d0e/a01272.html#ac38496bfee913d17eeb561a20fb11eac" title="ripple::RippleAddress\l::accountPrivateDecrypt" alt="" coords="419,186,581,233"/><area shape="rect" id="node51" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="423,896,577,925"/><area shape="rect" id="node7" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="831,406,972,453"/><area shape="rect" id="node16" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="644,5,772,51"/><area shape="rect" id="node25" href="../../d4/d0e/a01272.html#a20ebd6bb6da228273b6159c3698f0b38" title="ripple::RippleAddress\l::setNodePublic" alt="" coords="635,475,781,522"/><area shape="rect" id="node28" href="../../d4/d0e/a01272.html#a1c5ba09193abc3fe85e179665eba0313" title="ripple::RippleAddress\l::setNodePrivate" alt="" coords="635,337,781,383"/><area shape="rect" id="node31" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="645,698,771,745"/><area shape="rect" id="node33" href="../../d4/d0e/a01272.html#a174148805b914cbf25bd9aeb932b8fc5" title="ripple::RippleAddress\l::setSeed" alt="" coords="635,406,781,453"/><area shape="rect" id="node46" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="652,784,764,813"/><area shape="rect" id="node59" href="../../d6/d27/a01781.html#ac8c898f93543e55b67418f94bced20af" title="Json::Value::isArray" alt="" coords="431,669,569,699"/><area shape="rect" id="node61" href="../../d6/d27/a01781.html#aeb9ad8b1bb91bdd72203dc884b3f4362" title="Json::Value::isNull" alt="" coords="435,723,565,752"/><area shape="rect" id="node63" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92" title="Json::Value::isObject" alt="" coords="427,616,573,645"/><area shape="rect" id="node65" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="647,1924,769,1953"/><area shape="rect" id="node70" href="../../d4/d87/a03436.html#a6f17c6df7ce20ec52aecef2475cd4158" title="rocksdb::if" alt="" coords="459,1000,541,1029"/><area shape="rect" id="node72" href="../../d9/d39/a00257.html#a18a7bfe8bbf61262472b03f1dfe5c887" title="ripple::CBase58Data\l::ToString" alt="" coords="429,1053,571,1099"/><area shape="rect" id="node80" href="../../d6/d27/a01781.html#aff2e3a2e9fd5db5469588ab7b501d4db" title="Json::Value::get" alt="" coords="441,1976,559,2005"/><area shape="rect" id="node85" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7" title="Json::Value::isString" alt="" coords="429,2029,571,2059"/><area shape="rect" id="node89" href="../../d6/d27/a01781.html#a8ce848900e2e8fa23a41fcc2c1409fab" title="Json::Value::isNumeric" alt="" coords="421,1280,579,1309"/><area shape="rect" id="node91" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="436,1333,564,1363"/><area shape="rect" id="node93" href="../../dd/dac/a01008.html#a2797139168b2d6c069aa1f0c51bc327a" title="ripple::NetworkOPs\l::getLedgerByHash" alt="" coords="432,1386,568,1433"/><area shape="rect" id="node95" href="../../dd/dac/a01008.html#aa4a081f49bdf9ea42446691c34ceed79" title="ripple::NetworkOPs\l::getCurrentLedger" alt="" coords="432,1455,568,1502"/><area shape="rect" id="node97" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="449,1525,551,1555"/><area shape="rect" id="node99" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="437,1578,563,1625"/><area shape="rect" id="node101" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="431,1647,569,1694"/><area shape="rect" id="node103" href="../../dd/dac/a01008.html#a3b147c209d1201adb03d478f148af4a1" title="ripple::NetworkOPs\l::getValidatedLedger" alt="" coords="429,1717,571,1763"/><area shape="rect" id="node105" href="../../dd/dac/a01008.html#a7615c0320aa25da4c77d806afe9c5c0e" title="ripple::NetworkOPs\l::getLedgerBySeq" alt="" coords="432,1786,568,1833"/><area shape="rect" id="node107" href="../../d7/d9a/a00152.html#ad19bda12f3725584ac179f2e091e30d7" title="ripple::base_uint::\lToString" alt="" coords="437,1855,563,1902"/><area shape="rect" id="node111" href="../../d2/d9b/a03429.html#a5b6ce0616f6995340f4dd846660c3749" title="ripple::RPC::make_param\l_error" alt="" coords="413,2082,587,2129"/><area shape="rect" id="node113" href="../../d2/d9b/a03429.html#a5d5937b3d78d931333b1c278e13e23b2" title="ripple::RPC::missing\l_field_message" alt="" coords="429,2151,571,2198"/><area shape="rect" id="node117" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. " alt="" coords="429,2221,571,2251"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a9a2d86224ccb500f98e0ea2a782164bd_icgraph.png" border="0" usemap="#dc/d8c/a01297_a9a2d86224ccb500f98e0ea2a782164bd_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a9a2d86224ccb500f98e0ea2a782164bd_icgraph" id="dc/d8c/a01297_a9a2d86224ccb500f98e0ea2a782164bd_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,85,324,131"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,32,511,61"/><area shape="rect" id="node13" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,85,515,131"/><area shape="rect" id="node23" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,154,523,201"/><area shape="rect" id="node7" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,32,703,61"/><area shape="rect" id="node9" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,5,924,35"/><area shape="rect" id="node11" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,59,953,88"/><area shape="rect" id="node15" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,85,756,131"/><area shape="rect" id="node17" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,154,751,201"/><area shape="rect" id="node19" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,154,991,201"/><area shape="rect" id="node21" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,154,1225,201"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad049d47fc4d1e24bf6f4f8809e67b9d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doAccountTx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d44/a03252_source.html#l00032">32</a> of file <a class="el" href="../../d7/d44/a03252_source.html">AccountTx.cpp</a>.</p>

<p>References <a class="el" href="../../d2/db9/a01926_source.html#l00263">ripple::Config::ADMIN</a>, <a class="el" href="../../da/d23/a02452_source.html#l01298">Json::Value::append()</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00038">Json::arrayValue</a>, <a class="el" href="../../da/d23/a02452_source.html#l00929">Json::Value::asBool()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00825">Json::Value::asInt()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00861">Json::Value::asUInt()</a>, <a class="el" href="../../d5/d6b/a03428.html#a8466333cef2ff22196d2f7732f0c958a">ripple::Resource::feeMediumBurdenRPC</a>, <a class="el" href="../../dd/dac/a01008.html#a76507087b03e3b0cba89c1fb4e7abb91">ripple::NetworkOPs::getTxsAccount()</a>, <a class="el" href="../../dd/dac/a01008.html#a1bb816a099b2276e64d613071a6cf2e9">ripple::NetworkOPs::getTxsAccountB()</a>, <a class="el" href="../../dd/dac/a01008.html#a1f7027995d7c268a996a4f722ad2021b">ripple::NetworkOPs::getValidatedRange()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00317">ripple::RippleAddress::humanAccountID()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01450">Json::Value::isNull()</a>, <a class="el" href="../../d0/d7c/a03318_source.html#l00043">ripple::RPC::lookupLedger()</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, <a class="el" href="../../de/dec/a03020_source.html#l00140">mRole</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00078">ripple::rpcACT_MALFORMED</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00111">ripple::rpcINTERNAL</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00072">ripple::rpcINVALID_PARAMS</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00094">ripple::rpcLGR_IDXS_INVALID</a>, and <a class="el" href="../../d2/d23/a03186_source.html#l00356">ripple::RippleAddress::setAccountID()</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d08/a03254_source.html#l00023">doAccountTxSwitch()</a>.</p>
<div class="fragment"><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;{</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    RippleAddress   raAccount;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordtype">int</span>             limit       = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;limit&quot;</span>) ? params[<span class="stringliteral">&quot;limit&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c">asUInt</a> () : -1;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordtype">bool</span>            bBinary     = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;binary&quot;</span>) &amp;&amp; params[<span class="stringliteral">&quot;binary&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ();</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordtype">bool</span>            bForward    = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;forward&quot;</span>) &amp;&amp; params[<span class="stringliteral">&quot;forward&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ();</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>   uLedgerMin;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>   uLedgerMax;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>   uValidatedMin;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>   uValidatedMax;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordtype">bool</span>            bValidated  = <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#a1f7027995d7c268a996a4f722ad2021b">getValidatedRange</a> (uValidatedMin, uValidatedMax);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">if</span> (!bValidated)</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    {</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="comment">// Don&#39;t have a validated ledger range.</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a9523d81ad23bb880bc9169950a780501">rpcLGR_IDXS_INVALID</a>);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;account&quot;</span>))</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">if</span> (!raAccount.setAccountID (params[<span class="stringliteral">&quot;account&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ()))</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a4fba57dbbed9bfaa196e1a0e0915dc8a">rpcACT_MALFORMED</a>);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    loadType = <a class="code" href="../../d5/d6b/a03428.html#a8466333cef2ff22196d2f7732f0c958a">Resource::feeMediumBurdenRPC</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;ledger_index_min&quot;</span>) || params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;ledger_index_max&quot;</span>))</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <a class="code" href="../../db/d86/a02663.html#adec1df1b8b51cb32b77e5b86fff46471">std::int64_t</a> iLedgerMin  = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;ledger_index_min&quot;</span>) ? params[<span class="stringliteral">&quot;ledger_index_min&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235">asInt</a> () : -1;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <a class="code" href="../../db/d86/a02663.html#adec1df1b8b51cb32b77e5b86fff46471">std::int64_t</a> iLedgerMax  = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;ledger_index_max&quot;</span>) ? params[<span class="stringliteral">&quot;ledger_index_max&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235">asInt</a> () : -1;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        uLedgerMin  = iLedgerMin == -1 ? uValidatedMin : iLedgerMin;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        uLedgerMax  = iLedgerMax == -1 ? uValidatedMax : iLedgerMax;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keywordflow">if</span> (uLedgerMax &lt; uLedgerMin)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a9523d81ad23bb880bc9169950a780501">rpcLGR_IDXS_INVALID</a>);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> l;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> ret = <a class="code" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258">RPC::lookupLedger</a> (params, l, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">if</span> (!l)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;        uLedgerMin = uLedgerMax = l-&gt;getLedgerSeq ();</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> resumeToken;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a>(<span class="stringliteral">&quot;marker&quot;</span>))</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;         resumeToken = params[<span class="stringliteral">&quot;marker&quot;</span>];</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    }</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="preprocessor">#ifndef BEAST_DEBUG</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="preprocessor"></span>        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> ret (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        ret[<span class="stringliteral">&quot;account&quot;</span>] = raAccount.humanAccountID ();</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>&amp; jvTxns = (ret[<span class="stringliteral">&quot;transactions&quot;</span>] = <a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eadc8f264f36b55b063c78126b335415f4" title="array value (ordered list) ">Json::arrayValue</a>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">if</span> (bBinary)</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            std::vector&lt;NetworkOPs::txnMetaLedgerType&gt; txns =</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#a1bb816a099b2276e64d613071a6cf2e9">getTxsAccountB</a> (raAccount, uLedgerMin, uLedgerMax, bForward, resumeToken, limit, <a class="code" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a> == <a class="code" href="../../d3/db8/a00316.html#a459f32c779b04342b4811b1a898a156eabfd6bd9f2deb401e760dbafe42c80107">Config::ADMIN</a>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            <span class="keywordflow">for</span> (std::vector&lt;NetworkOPs::txnMetaLedgerType&gt;::const_iterator it = txns.begin (), end = txns.end ();</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                    it != end; ++it)</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;            {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>&amp; jvObj = jvTxns.<a class="code" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. ">append</a> (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> uLedgerIndex = std::get&lt;2&gt; (*it);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                jvObj[<span class="stringliteral">&quot;tx_blob&quot;</span>]           = std::get&lt;0&gt; (*it);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                jvObj[<span class="stringliteral">&quot;meta&quot;</span>]              = std::get&lt;1&gt; (*it);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                jvObj[<span class="stringliteral">&quot;ledger_index&quot;</span>]      = uLedgerIndex;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                jvObj[<span class="stringliteral">&quot;validated&quot;</span>]         = bValidated &amp;&amp; uValidatedMin &lt;= uLedgerIndex &amp;&amp; uValidatedMax &gt;= uLedgerIndex;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        }</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            std::vector&lt; std::pair&lt;Transaction::pointer, TransactionMetaSet::pointer&gt; &gt; txns =</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                 <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#a76507087b03e3b0cba89c1fb4e7abb91">getTxsAccount</a> (raAccount, uLedgerMin, uLedgerMax, bForward, resumeToken, limit, <a class="code" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a> == <a class="code" href="../../d3/db8/a00316.html#a459f32c779b04342b4811b1a898a156eabfd6bd9f2deb401e760dbafe42c80107">Config::ADMIN</a>);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            <span class="keywordflow">for</span> (std::vector&lt; std::pair&lt;Transaction::pointer, TransactionMetaSet::pointer&gt; &gt;::iterator it = txns.begin (), end = txns.end (); it != end; ++it)</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            {</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>&amp;    jvObj = jvTxns.<a class="code" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. ">append</a> (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                <span class="keywordflow">if</span> (it-&gt;first)</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                    jvObj[<span class="stringliteral">&quot;tx&quot;</span>]             = it-&gt;first-&gt;getJson (1);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                <span class="keywordflow">if</span> (it-&gt;second)</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;                {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> uLedgerIndex = it-&gt;second-&gt;getLgrSeq ();</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                    jvObj[<span class="stringliteral">&quot;meta&quot;</span>]           = it-&gt;second-&gt;getJson (0);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                    jvObj[<span class="stringliteral">&quot;validated&quot;</span>]      = bValidated &amp;&amp; uValidatedMin &lt;= uLedgerIndex &amp;&amp; uValidatedMax &gt;= uLedgerIndex;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="comment">//Add information about the original query</span></div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        ret[<span class="stringliteral">&quot;ledger_index_min&quot;</span>] = uLedgerMin;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        ret[<span class="stringliteral">&quot;ledger_index_max&quot;</span>] = uLedgerMax;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;limit&quot;</span>))</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            ret[<span class="stringliteral">&quot;limit&quot;</span>]        = limit;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        <span class="keywordflow">if</span> (!resumeToken.<a class="code" href="../../d6/d27/a01781.html#aeb9ad8b1bb91bdd72203dc884b3f4362">isNull</a>())</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            ret[<span class="stringliteral">&quot;marker&quot;</span>] = resumeToken;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="preprocessor">#ifndef BEAST_DEBUG</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="preprocessor"></span>    }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">catch</span> (...)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a839833d48b635d8df6a9176274ae922f">rpcINTERNAL</a>);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;<span class="preprocessor"></span>}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_ad049d47fc4d1e24bf6f4f8809e67b9d3_cgraph.png" border="0" usemap="#dc/d8c/a01297_ad049d47fc4d1e24bf6f4f8809e67b9d3_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_ad049d47fc4d1e24bf6f4f8809e67b9d3_cgraph" id="dc/d8c/a01297_ad049d47fc4d1e24bf6f4f8809e67b9d3_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. " alt="" coords="207,5,348,35"/><area shape="rect" id="node7" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="208,59,347,88"/><area shape="rect" id="node9" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="429,299,557,328"/><area shape="rect" id="node11" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="420,352,567,381"/><area shape="rect" id="node13" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="208,213,347,243"/><area shape="rect" id="node15" href="../../dd/dac/a01008.html#a76507087b03e3b0cba89c1fb4e7abb91" title="ripple::NetworkOPs\l::getTxsAccount" alt="" coords="209,266,345,313"/><area shape="rect" id="node17" href="../../dd/dac/a01008.html#a1bb816a099b2276e64d613071a6cf2e9" title="ripple::NetworkOPs\l::getTxsAccountB" alt="" coords="209,335,345,382"/><area shape="rect" id="node19" href="../../dd/dac/a01008.html#a1f7027995d7c268a996a4f722ad2021b" title="ripple::NetworkOPs\l::getValidatedRange" alt="" coords="208,405,347,451"/><area shape="rect" id="node21" href="../../d4/d0e/a01272.html#a2a8201537b6969c0e186c9b1d889c52b" title="ripple::RippleAddress\l::humanAccountID" alt="" coords="204,474,351,521"/><area shape="rect" id="node37" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="420,474,567,521"/><area shape="rect" id="node49" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="416,544,571,573"/><area shape="rect" id="node51" href="../../d6/d27/a01781.html#aeb9ad8b1bb91bdd72203dc884b3f4362" title="Json::Value::isNull" alt="" coords="212,645,343,675"/><area shape="rect" id="node53" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258" title="ripple::RPC::lookupLedger" alt="" coords="191,788,364,817"/><area shape="rect" id="node101" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="224,1109,331,1139"/><area shape="rect" id="node5" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="432,245,555,275"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a6f17c6df7ce20ec52aecef2475cd4158" title="rocksdb::if" alt="" coords="452,119,535,148"/><area shape="rect" id="node29" href="../../d9/d39/a00257.html#a18a7bfe8bbf61262472b03f1dfe5c887" title="ripple::CBase58Data\l::ToString" alt="" coords="423,175,564,222"/><area shape="rect" id="node45" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="420,405,567,451"/><area shape="rect" id="node25" href="../../da/d71/a00814.html#ab25c6d03dbcd6168b3ae3762dc98fd51" title="rocksdb::LDBCommandExecute\lResult::FAILED" alt="" coords="621,109,832,155"/><area shape="rect" id="node27" href="../../da/d71/a00814.html#ae4210d600639c8c6ac04486ebc43c39b" title="rocksdb::LDBCommandExecute\lResult::LDBCommandExecuteResult" alt="" coords="880,109,1120,155"/><area shape="rect" id="node31" href="../../d9/d7d/a00150.html#a085fa82e1453fd6e5460a0cd960b5816" title="ripple::Base58::encodeWith\lCheck" alt="" coords="636,178,817,225"/><area shape="rect" id="node33" href="../../d9/d7d/a00150.html#ac6c6ad62e7ed916bfe1c652721d3fe26" title="ripple::Base58::encode" alt="" coords="923,183,1077,212"/><area shape="rect" id="node35" href="../../d9/d7d/a00150.html#a24f49360e730224f1d16edb1b504e32a" title="ripple::Base58::getCurrent\lAlphabet" alt="" coords="913,235,1087,282"/><area shape="rect" id="node39" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="656,527,797,574"/><area shape="rect" id="node41" href="../../d9/d7d/a00150.html#a85c405829839e85edb721241fd8d4203" title="ripple::Base58::decodeWith\lCheck" alt="" coords="909,703,1091,750"/><area shape="rect" id="node43" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="1168,789,1315,819"/><area shape="rect" id="node47" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="671,413,783,443"/><area shape="rect" id="node55" href="../../d6/d27/a01781.html#aff2e3a2e9fd5db5469588ab7b501d4db" title="Json::Value::get" alt="" coords="435,597,552,627"/><area shape="rect" id="node59" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="416,651,571,680"/><area shape="rect" id="node63" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7" title="Json::Value::isString" alt="" coords="423,704,564,733"/><area shape="rect" id="node65" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="664,1001,789,1047"/><area shape="rect" id="node73" href="../../d6/d27/a01781.html#a8ce848900e2e8fa23a41fcc2c1409fab" title="Json::Value::isNumeric" alt="" coords="415,757,572,787"/><area shape="rect" id="node80" href="../../dd/dac/a01008.html#a2797139168b2d6c069aa1f0c51bc327a" title="ripple::NetworkOPs\l::getLedgerByHash" alt="" coords="425,810,561,857"/><area shape="rect" id="node82" href="../../dd/dac/a01008.html#aa4a081f49bdf9ea42446691c34ceed79" title="ripple::NetworkOPs\l::getCurrentLedger" alt="" coords="425,879,561,926"/><area shape="rect" id="node84" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="443,949,544,979"/><area shape="rect" id="node88" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="431,1053,556,1099"/><area shape="rect" id="node90" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="424,1122,563,1169"/><area shape="rect" id="node92" href="../../dd/dac/a01008.html#a3b147c209d1201adb03d478f148af4a1" title="ripple::NetworkOPs\l::getValidatedLedger" alt="" coords="423,1191,564,1238"/><area shape="rect" id="node94" href="../../dd/dac/a01008.html#a7615c0320aa25da4c77d806afe9c5c0e" title="ripple::NetworkOPs\l::getLedgerBySeq" alt="" coords="425,1261,561,1307"/><area shape="rect" id="node96" href="../../d7/d9a/a00152.html#ad19bda12f3725584ac179f2e091e30d7" title="ripple::base_uint::\lToString" alt="" coords="431,1330,556,1377"/><area shape="rect" id="node61" href="../../d7/db0/a03467.html#aba0a720f8204028aa9b0f78f969d5f97" title="rocksdb::crc32c::Extend" alt="" coords="645,651,808,680"/><area shape="rect" id="node68" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="925,1132,1075,1161"/><area shape="rect" id="node70" href="../../d7/d9a/a00152.html#a174768646f7fe8d81f4a38f5ccf9e6f5" title="ripple::base_uint::zero" alt="" coords="925,1009,1075,1039"/><area shape="rect" id="node75" href="../../d6/d27/a01781.html#a0ea567fa51fc808851698bef59b43626" title="Json::Value::isDouble" alt="" coords="652,731,801,760"/><area shape="rect" id="node77" href="../../d6/d27/a01781.html#aec4f74ef7b776b1d9c8a10fc3bb4add5" title="Json::Value::isIntegral" alt="" coords="651,784,803,813"/><area shape="rect" id="node86" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="639,931,815,978"/><area shape="rect" id="node98" href="../../d7/d9a/a00152.html#a348c4019943a8b3a05f39f1efcb589c9" title="ripple::base_uint::\lGetHex" alt="" coords="664,1261,789,1307"/><area shape="rect" id="node103" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="429,1399,557,1446"/><area shape="rect" id="node105" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="639,1408,815,1437"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_ad049d47fc4d1e24bf6f4f8809e67b9d3_icgraph.png" border="0" usemap="#dc/d8c/a01297_ad049d47fc4d1e24bf6f4f8809e67b9d3_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_ad049d47fc4d1e24bf6f4f8809e67b9d3_icgraph" id="dc/d8c/a01297_ad049d47fc4d1e24bf6f4f8809e67b9d3_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a46dd6ff043e620a329a7f14e6dea480d" title="ripple::RPCHandler\l::doAccountTxSwitch" alt="" coords="189,85,336,131"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="385,85,519,131"/><area shape="rect" id="node7" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="580,32,705,61"/><area shape="rect" id="node15" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="576,85,709,131"/><area shape="rect" id="node25" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="568,154,717,201"/><area shape="rect" id="node9" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="820,32,897,61"/><area shape="rect" id="node11" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1068,5,1119,35"/><area shape="rect" id="node13" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="1039,59,1148,88"/><area shape="rect" id="node17" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="767,85,951,131"/><area shape="rect" id="node19" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="772,154,945,201"/><area shape="rect" id="node21" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="1001,154,1185,201"/><area shape="rect" id="node23" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1236,154,1420,201"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac5c6bb6bcbae8b0e8466af8642b8f5c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doAccountTxOld </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d56/a03253_source.html#l00033">33</a> of file <a class="el" href="../../d9/d56/a03253_source.html">AccountTxOld.cpp</a>.</p>

<p>References <a class="el" href="../../d2/db9/a01926_source.html#l00263">ripple::Config::ADMIN</a>, <a class="el" href="../../da/d23/a02452_source.html#l01298">Json::Value::append()</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00038">Json::arrayValue</a>, <a class="el" href="../../da/d23/a02452_source.html#l00929">Json::Value::asBool()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00825">Json::Value::asInt()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00861">Json::Value::asUInt()</a>, <a class="el" href="../../d5/d6b/a03428.html#a3bffd22c83dd5da4b419134e040c619a">ripple::Resource::feeHighBurdenRPC</a>, <a class="el" href="../../dd/dac/a01008.html#a34d2f270a1069da492be676001393f20">ripple::NetworkOPs::getAccountTxs()</a>, <a class="el" href="../../dd/dac/a01008.html#a5a39c20a49be0126e067d88417773382">ripple::NetworkOPs::getAccountTxsB()</a>, <a class="el" href="../../dd/dac/a01008.html#a1f7027995d7c268a996a4f722ad2021b">ripple::NetworkOPs::getValidatedRange()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00317">ripple::RippleAddress::humanAccountID()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d0/d7c/a03318_source.html#l00043">ripple::RPC::lookupLedger()</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, <a class="el" href="../../de/dec/a03020_source.html#l00140">mRole</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00078">ripple::rpcACT_MALFORMED</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00108">ripple::rpcATX_DEPRECATED</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00111">ripple::rpcINTERNAL</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00072">ripple::rpcINVALID_PARAMS</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00094">ripple::rpcLGR_IDXS_INVALID</a>, and <a class="el" href="../../d2/d23/a03186_source.html#l00356">ripple::RippleAddress::setAccountID()</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d08/a03254_source.html#l00023">doAccountTxSwitch()</a>.</p>
<div class="fragment"><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;{</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    RippleAddress   raAccount;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>   offset      = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;offset&quot;</span>) ? params[<span class="stringliteral">&quot;offset&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c">asUInt</a> () : 0;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordtype">int</span>             limit       = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;limit&quot;</span>) ? params[<span class="stringliteral">&quot;limit&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c">asUInt</a> () : -1;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordtype">bool</span>            bBinary     = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;binary&quot;</span>) &amp;&amp; params[<span class="stringliteral">&quot;binary&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ();</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordtype">bool</span>            bDescending = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;descending&quot;</span>) &amp;&amp; params[<span class="stringliteral">&quot;descending&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ();</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordtype">bool</span>            bCount      = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;count&quot;</span>) &amp;&amp; params[<span class="stringliteral">&quot;count&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ();</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>   uLedgerMin;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>   uLedgerMax;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>   uValidatedMin;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>   uValidatedMax;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordtype">bool</span>            bValidated  = <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#a1f7027995d7c268a996a4f722ad2021b">getValidatedRange</a> (uValidatedMin, uValidatedMax);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;account&quot;</span>))</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">if</span> (!raAccount.setAccountID (params[<span class="stringliteral">&quot;account&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ()))</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a4fba57dbbed9bfaa196e1a0e0915dc8a">rpcACT_MALFORMED</a>);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">if</span> (offset &gt; 3000)</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a19bc14d53a84c5b1d5c1693aa0e9e317">rpcATX_DEPRECATED</a>);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    loadType = <a class="code" href="../../d5/d6b/a03428.html#a3bffd22c83dd5da4b419134e040c619a">Resource::feeHighBurdenRPC</a>;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="comment">// DEPRECATED</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;ledger_min&quot;</span>))</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        params[<span class="stringliteral">&quot;ledger_index_min&quot;</span>]   = params[<span class="stringliteral">&quot;ledger_min&quot;</span>];</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        bDescending = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    }</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="comment">// DEPRECATED</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;ledger_max&quot;</span>))</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        params[<span class="stringliteral">&quot;ledger_index_max&quot;</span>]   = params[<span class="stringliteral">&quot;ledger_max&quot;</span>];</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        bDescending = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    }</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;ledger_index_min&quot;</span>) || params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;ledger_index_max&quot;</span>))</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        <a class="code" href="../../db/d86/a02663.html#adec1df1b8b51cb32b77e5b86fff46471">std::int64_t</a> iLedgerMin  = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;ledger_index_min&quot;</span>) ? params[<span class="stringliteral">&quot;ledger_index_min&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235">asInt</a> () : -1;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;        <a class="code" href="../../db/d86/a02663.html#adec1df1b8b51cb32b77e5b86fff46471">std::int64_t</a> iLedgerMax  = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;ledger_index_max&quot;</span>) ? params[<span class="stringliteral">&quot;ledger_index_max&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235">asInt</a> () : -1;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        <span class="keywordflow">if</span> (!bValidated &amp;&amp; (iLedgerMin == -1 || iLedgerMax == -1))</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            <span class="comment">// Don&#39;t have a validated ledger range.</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a9523d81ad23bb880bc9169950a780501">rpcLGR_IDXS_INVALID</a>);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        }</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        uLedgerMin  = iLedgerMin == -1 ? uValidatedMin : iLedgerMin;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        uLedgerMax  = iLedgerMax == -1 ? uValidatedMax : iLedgerMax;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">if</span> (uLedgerMax &lt; uLedgerMin)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a9523d81ad23bb880bc9169950a780501">rpcLGR_IDXS_INVALID</a>);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        }</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    }</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    {</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;        <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> l;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> ret = <a class="code" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258">RPC::lookupLedger</a> (params, l, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>);</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">if</span> (!l)</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        uLedgerMin = uLedgerMax = l-&gt;getLedgerSeq ();</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;    }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    <span class="keywordtype">int</span> count = 0;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="preprocessor">#ifndef BEAST_DEBUG</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> ret (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        ret[<span class="stringliteral">&quot;account&quot;</span>] = raAccount.humanAccountID ();</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>&amp; jvTxns = (ret[<span class="stringliteral">&quot;transactions&quot;</span>] = <a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eadc8f264f36b55b063c78126b335415f4" title="array value (ordered list) ">Json::arrayValue</a>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">if</span> (bBinary)</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            std::vector&lt;NetworkOPs::txnMetaLedgerType&gt; txns =</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#a5a39c20a49be0126e067d88417773382">getAccountTxsB</a> (raAccount, uLedgerMin, uLedgerMax, bDescending, offset, limit, <a class="code" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a> == <a class="code" href="../../d3/db8/a00316.html#a459f32c779b04342b4811b1a898a156eabfd6bd9f2deb401e760dbafe42c80107">Config::ADMIN</a>);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="keywordflow">for</span> (std::vector&lt;NetworkOPs::txnMetaLedgerType&gt;::const_iterator it = txns.begin (), end = txns.end ();</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                    it != end; ++it)</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;                ++count;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;                <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>&amp; jvObj = jvTxns.<a class="code" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. ">append</a> (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>  uLedgerIndex = std::get&lt;2&gt; (*it);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                jvObj[<span class="stringliteral">&quot;tx_blob&quot;</span>]            = std::get&lt;0&gt; (*it);</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;                jvObj[<span class="stringliteral">&quot;meta&quot;</span>]               = std::get&lt;1&gt; (*it);</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;                jvObj[<span class="stringliteral">&quot;ledger_index&quot;</span>]       = uLedgerIndex;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;                jvObj[<span class="stringliteral">&quot;validated&quot;</span>]          = bValidated &amp;&amp; uValidatedMin &lt;= uLedgerIndex &amp;&amp; uValidatedMax &gt;= uLedgerIndex;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            }</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        }</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        {</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;            std::vector&lt; std::pair&lt;Transaction::pointer, TransactionMetaSet::pointer&gt; &gt; txns = <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#a34d2f270a1069da492be676001393f20">getAccountTxs</a> (raAccount, uLedgerMin, uLedgerMax, bDescending, offset, limit, <a class="code" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a> == <a class="code" href="../../d3/db8/a00316.html#a459f32c779b04342b4811b1a898a156eabfd6bd9f2deb401e760dbafe42c80107">Config::ADMIN</a>);</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <span class="keywordflow">for</span> (std::vector&lt; std::pair&lt;Transaction::pointer, TransactionMetaSet::pointer&gt; &gt;::iterator it = txns.begin (), end = txns.end (); it != end; ++it)</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            {</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                ++count;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>&amp;    jvObj = jvTxns.<a class="code" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. ">append</a> (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                <span class="keywordflow">if</span> (it-&gt;first)</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                    jvObj[<span class="stringliteral">&quot;tx&quot;</span>]             = it-&gt;first-&gt;getJson (1);</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;                <span class="keywordflow">if</span> (it-&gt;second)</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> uLedgerIndex = it-&gt;second-&gt;getLgrSeq ();</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                    jvObj[<span class="stringliteral">&quot;meta&quot;</span>]           = it-&gt;second-&gt;getJson (0);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                    jvObj[<span class="stringliteral">&quot;validated&quot;</span>]      = bValidated &amp;&amp; uValidatedMin &lt;= uLedgerIndex &amp;&amp; uValidatedMax &gt;= uLedgerIndex;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;                }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        <span class="comment">//Add information about the original query</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        ret[<span class="stringliteral">&quot;ledger_index_min&quot;</span>] = uLedgerMin;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        ret[<span class="stringliteral">&quot;ledger_index_max&quot;</span>] = uLedgerMax;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        ret[<span class="stringliteral">&quot;validated&quot;</span>]        = bValidated &amp;&amp; uValidatedMin &lt;= uLedgerMin &amp;&amp; uValidatedMax &gt;= uLedgerMax;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        ret[<span class="stringliteral">&quot;offset&quot;</span>]           = offset;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="comment">// We no longer return the full count but only the count of returned transactions</span></div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="comment">// Computing this count was two expensive and this API is deprecated anyway</span></div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        <span class="keywordflow">if</span> (bCount)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;            ret[<span class="stringliteral">&quot;count&quot;</span>]        = count;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;limit&quot;</span>))</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            ret[<span class="stringliteral">&quot;limit&quot;</span>]        = limit;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;<span class="preprocessor">#ifndef BEAST_DEBUG</span></div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;<span class="preprocessor"></span>    }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;    <span class="keywordflow">catch</span> (...)</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a839833d48b635d8df6a9176274ae922f">rpcINTERNAL</a>);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    }</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="preprocessor"></span>}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_ac5c6bb6bcbae8b0e8466af8642b8f5c1_cgraph.png" border="0" usemap="#dc/d8c/a01297_ac5c6bb6bcbae8b0e8466af8642b8f5c1_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_ac5c6bb6bcbae8b0e8466af8642b8f5c1_cgraph" id="dc/d8c/a01297_ac5c6bb6bcbae8b0e8466af8642b8f5c1_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. " alt="" coords="207,5,348,35"/><area shape="rect" id="node7" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="208,59,347,88"/><area shape="rect" id="node9" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="429,299,557,328"/><area shape="rect" id="node11" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="420,352,567,381"/><area shape="rect" id="node13" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="208,213,347,243"/><area shape="rect" id="node15" href="../../dd/dac/a01008.html#a34d2f270a1069da492be676001393f20" title="ripple::NetworkOPs\l::getAccountTxs" alt="" coords="209,266,345,313"/><area shape="rect" id="node17" href="../../dd/dac/a01008.html#a5a39c20a49be0126e067d88417773382" title="ripple::NetworkOPs\l::getAccountTxsB" alt="" coords="209,335,345,382"/><area shape="rect" id="node19" href="../../dd/dac/a01008.html#a1f7027995d7c268a996a4f722ad2021b" title="ripple::NetworkOPs\l::getValidatedRange" alt="" coords="208,405,347,451"/><area shape="rect" id="node21" href="../../d4/d0e/a01272.html#a2a8201537b6969c0e186c9b1d889c52b" title="ripple::RippleAddress\l::humanAccountID" alt="" coords="204,474,351,521"/><area shape="rect" id="node37" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="420,474,567,521"/><area shape="rect" id="node49" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="416,544,571,573"/><area shape="rect" id="node51" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258" title="ripple::RPC::lookupLedger" alt="" coords="191,800,364,829"/><area shape="rect" id="node101" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="224,1117,331,1147"/><area shape="rect" id="node5" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="432,245,555,275"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a6f17c6df7ce20ec52aecef2475cd4158" title="rocksdb::if" alt="" coords="452,119,535,148"/><area shape="rect" id="node29" href="../../d9/d39/a00257.html#a18a7bfe8bbf61262472b03f1dfe5c887" title="ripple::CBase58Data\l::ToString" alt="" coords="423,175,564,222"/><area shape="rect" id="node45" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="420,405,567,451"/><area shape="rect" id="node25" href="../../da/d71/a00814.html#ab25c6d03dbcd6168b3ae3762dc98fd51" title="rocksdb::LDBCommandExecute\lResult::FAILED" alt="" coords="621,109,832,155"/><area shape="rect" id="node27" href="../../da/d71/a00814.html#ae4210d600639c8c6ac04486ebc43c39b" title="rocksdb::LDBCommandExecute\lResult::LDBCommandExecuteResult" alt="" coords="880,109,1120,155"/><area shape="rect" id="node31" href="../../d9/d7d/a00150.html#a085fa82e1453fd6e5460a0cd960b5816" title="ripple::Base58::encodeWith\lCheck" alt="" coords="636,178,817,225"/><area shape="rect" id="node33" href="../../d9/d7d/a00150.html#ac6c6ad62e7ed916bfe1c652721d3fe26" title="ripple::Base58::encode" alt="" coords="923,248,1077,277"/><area shape="rect" id="node35" href="../../d9/d7d/a00150.html#a24f49360e730224f1d16edb1b504e32a" title="ripple::Base58::getCurrent\lAlphabet" alt="" coords="913,178,1087,225"/><area shape="rect" id="node39" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="656,487,797,534"/><area shape="rect" id="node41" href="../../d9/d7d/a00150.html#a85c405829839e85edb721241fd8d4203" title="ripple::Base58::decodeWith\lCheck" alt="" coords="909,514,1091,561"/><area shape="rect" id="node43" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="1168,671,1315,700"/><area shape="rect" id="node47" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="671,413,783,443"/><area shape="rect" id="node53" href="../../d6/d27/a01781.html#aff2e3a2e9fd5db5469588ab7b501d4db" title="Json::Value::get" alt="" coords="435,651,552,680"/><area shape="rect" id="node57" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="416,597,571,627"/><area shape="rect" id="node63" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7" title="Json::Value::isString" alt="" coords="423,773,564,803"/><area shape="rect" id="node65" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="664,790,789,837"/><area shape="rect" id="node73" href="../../d6/d27/a01781.html#a8ce848900e2e8fa23a41fcc2c1409fab" title="Json::Value::isNumeric" alt="" coords="415,877,572,907"/><area shape="rect" id="node80" href="../../dd/dac/a01008.html#a2797139168b2d6c069aa1f0c51bc327a" title="ripple::NetworkOPs\l::getLedgerByHash" alt="" coords="425,930,561,977"/><area shape="rect" id="node82" href="../../dd/dac/a01008.html#aa4a081f49bdf9ea42446691c34ceed79" title="ripple::NetworkOPs\l::getCurrentLedger" alt="" coords="425,999,561,1046"/><area shape="rect" id="node84" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="443,1069,544,1099"/><area shape="rect" id="node88" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="431,1122,556,1169"/><area shape="rect" id="node90" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="424,1191,563,1238"/><area shape="rect" id="node92" href="../../dd/dac/a01008.html#a3b147c209d1201adb03d478f148af4a1" title="ripple::NetworkOPs\l::getValidatedLedger" alt="" coords="423,1261,564,1307"/><area shape="rect" id="node94" href="../../dd/dac/a01008.html#a7615c0320aa25da4c77d806afe9c5c0e" title="ripple::NetworkOPs\l::getLedgerBySeq" alt="" coords="425,1330,561,1377"/><area shape="rect" id="node96" href="../../d7/d9a/a00152.html#ad19bda12f3725584ac179f2e091e30d7" title="ripple::base_uint::\lToString" alt="" coords="431,703,556,750"/><area shape="rect" id="node59" href="../../d7/db0/a03467.html#aba0a720f8204028aa9b0f78f969d5f97" title="rocksdb::crc32c::Extend" alt="" coords="645,597,808,627"/><area shape="rect" id="node61" href="../../d7/db0/a03467.html#a174fe9c8cf3cb558b7accfdc10c6c04c" title="rocksdb::crc32c::CRC32" alt="" coords="917,597,1083,627"/><area shape="rect" id="node68" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="925,712,1075,741"/><area shape="rect" id="node70" href="../../d7/d9a/a00152.html#a174768646f7fe8d81f4a38f5ccf9e6f5" title="ripple::base_uint::zero" alt="" coords="925,765,1075,795"/><area shape="rect" id="node75" href="../../d6/d27/a01781.html#a0ea567fa51fc808851698bef59b43626" title="Json::Value::isDouble" alt="" coords="652,869,801,899"/><area shape="rect" id="node77" href="../../d6/d27/a01781.html#aec4f74ef7b776b1d9c8a10fc3bb4add5" title="Json::Value::isIntegral" alt="" coords="651,923,803,952"/><area shape="rect" id="node86" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="639,1061,815,1107"/><area shape="rect" id="node98" href="../../d7/d9a/a00152.html#a348c4019943a8b3a05f39f1efcb589c9" title="ripple::base_uint::\lGetHex" alt="" coords="664,703,789,750"/><area shape="rect" id="node103" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="429,1399,557,1446"/><area shape="rect" id="node105" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="639,1408,815,1437"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_ac5c6bb6bcbae8b0e8466af8642b8f5c1_icgraph.png" border="0" usemap="#dc/d8c/a01297_ac5c6bb6bcbae8b0e8466af8642b8f5c1_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_ac5c6bb6bcbae8b0e8466af8642b8f5c1_icgraph" id="dc/d8c/a01297_ac5c6bb6bcbae8b0e8466af8642b8f5c1_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a46dd6ff043e620a329a7f14e6dea480d" title="ripple::RPCHandler\l::doAccountTxSwitch" alt="" coords="189,85,336,131"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="385,85,519,131"/><area shape="rect" id="node7" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="580,32,705,61"/><area shape="rect" id="node15" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="576,85,709,131"/><area shape="rect" id="node25" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="568,154,717,201"/><area shape="rect" id="node9" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="820,32,897,61"/><area shape="rect" id="node11" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1068,5,1119,35"/><area shape="rect" id="node13" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="1039,59,1148,88"/><area shape="rect" id="node17" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="767,85,951,131"/><area shape="rect" id="node19" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="772,154,945,201"/><area shape="rect" id="node21" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="1001,154,1185,201"/><area shape="rect" id="node23" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1236,154,1420,201"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a46dd6ff043e620a329a7f14e6dea480d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doAccountTxSwitch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d5/d08/a03254_source.html#l00023">23</a> of file <a class="el" href="../../d5/d08/a03254_source.html">AccountTxSwitch.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d44/a03252_source.html#l00032">doAccountTx()</a>, <a class="el" href="../../d9/d56/a03253_source.html#l00033">doAccountTxOld()</a>, and <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a>(<span class="stringliteral">&quot;offset&quot;</span>) || params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a>(<span class="stringliteral">&quot;count&quot;</span>) || params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a>(<span class="stringliteral">&quot;descending&quot;</span>) ||</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;            params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a>(<span class="stringliteral">&quot;ledger_max&quot;</span>) || params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a>(<span class="stringliteral">&quot;ledger_min&quot;</span>))</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../dc/d8c/a01297.html#ac5c6bb6bcbae8b0e8466af8642b8f5c1">doAccountTxOld</a>(params, loadType, masterLockHolder);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../dc/d8c/a01297.html#ad049d47fc4d1e24bf6f4f8809e67b9d3">doAccountTx</a>(params, loadType, masterLockHolder);</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a46dd6ff043e620a329a7f14e6dea480d_cgraph.png" border="0" usemap="#dc/d8c/a01297_a46dd6ff043e620a329a7f14e6dea480d_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a46dd6ff043e620a329a7f14e6dea480d_cgraph" id="dc/d8c/a01297_a46dd6ff043e620a329a7f14e6dea480d_cgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#ad049d47fc4d1e24bf6f4f8809e67b9d3" title="ripple::RPCHandler\l::doAccountTx" alt="" coords="201,661,335,707"/><area shape="rect" id="node41" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="611,1397,765,1427"/><area shape="rect" id="node101" href="../../dc/d8c/a01297.html#ac5c6bb6bcbae8b0e8466af8642b8f5c1" title="ripple::RPCHandler\l::doAccountTxOld" alt="" coords="201,434,335,481"/><area shape="rect" id="node5" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. " alt="" coords="401,747,543,776"/><area shape="rect" id="node9" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="403,469,541,499"/><area shape="rect" id="node11" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="624,416,752,445"/><area shape="rect" id="node13" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="615,469,761,499"/><area shape="rect" id="node15" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="403,523,541,552"/><area shape="rect" id="node17" href="../../dd/dac/a01008.html#a76507087b03e3b0cba89c1fb4e7abb91" title="ripple::NetworkOPs\l::getTxsAccount" alt="" coords="404,957,540,1003"/><area shape="rect" id="node19" href="../../dd/dac/a01008.html#a1bb816a099b2276e64d613071a6cf2e9" title="ripple::NetworkOPs\l::getTxsAccountB" alt="" coords="404,1026,540,1073"/><area shape="rect" id="node21" href="../../dd/dac/a01008.html#a1f7027995d7c268a996a4f722ad2021b" title="ripple::NetworkOPs\l::getValidatedRange" alt="" coords="403,575,541,622"/><area shape="rect" id="node23" href="../../d4/d0e/a01272.html#a2a8201537b6969c0e186c9b1d889c52b" title="ripple::RippleAddress\l::humanAccountID" alt="" coords="399,245,545,291"/><area shape="rect" id="node33" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="615,85,761,131"/><area shape="rect" id="node43" href="../../d6/d27/a01781.html#aeb9ad8b1bb91bdd72203dc884b3f4362" title="Json::Value::isNull" alt="" coords="407,904,537,933"/><area shape="rect" id="node45" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258" title="ripple::RPC::lookupLedger" alt="" coords="385,800,559,829"/><area shape="rect" id="node94" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="419,416,525,445"/><area shape="rect" id="node7" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="627,523,749,552"/><area shape="rect" id="node25" href="../../d4/d87/a03436.html#a6f17c6df7ce20ec52aecef2475cd4158" title="rocksdb::if" alt="" coords="647,224,729,253"/><area shape="rect" id="node29" href="../../d9/d39/a00257.html#a18a7bfe8bbf61262472b03f1dfe5c887" title="ripple::CBase58Data\l::ToString" alt="" coords="617,277,759,323"/><area shape="rect" id="node37" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="615,154,761,201"/><area shape="rect" id="node27" href="../../da/d71/a00814.html#ab25c6d03dbcd6168b3ae3762dc98fd51" title="rocksdb::LDBCommandExecute\lResult::FAILED" alt="" coords="816,215,1027,262"/><area shape="rect" id="node31" href="../../d9/d7d/a00150.html#a085fa82e1453fd6e5460a0cd960b5816" title="ripple::Base58::encodeWith\lCheck" alt="" coords="831,285,1012,331"/><area shape="rect" id="node35" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="851,85,992,131"/><area shape="rect" id="node39" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="865,163,977,192"/><area shape="rect" id="node47" href="../../d6/d27/a01781.html#aff2e3a2e9fd5db5469588ab7b501d4db" title="Json::Value::get" alt="" coords="629,715,747,744"/><area shape="rect" id="node51" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="611,1099,765,1128"/><area shape="rect" id="node55" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7" title="Json::Value::isString" alt="" coords="617,1152,759,1181"/><area shape="rect" id="node57" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="625,1274,751,1321"/><area shape="rect" id="node66" href="../../d6/d27/a01781.html#a8ce848900e2e8fa23a41fcc2c1409fab" title="Json::Value::isNumeric" alt="" coords="609,1344,767,1373"/><area shape="rect" id="node73" href="../../dd/dac/a01008.html#a2797139168b2d6c069aa1f0c51bc327a" title="ripple::NetworkOPs\l::getLedgerByHash" alt="" coords="620,575,756,622"/><area shape="rect" id="node75" href="../../dd/dac/a01008.html#aa4a081f49bdf9ea42446691c34ceed79" title="ripple::NetworkOPs\l::getCurrentLedger" alt="" coords="620,645,756,691"/><area shape="rect" id="node77" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="637,768,739,797"/><area shape="rect" id="node81" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="625,821,751,867"/><area shape="rect" id="node83" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="619,890,757,937"/><area shape="rect" id="node85" href="../../dd/dac/a01008.html#a3b147c209d1201adb03d478f148af4a1" title="ripple::NetworkOPs\l::getValidatedLedger" alt="" coords="617,959,759,1006"/><area shape="rect" id="node87" href="../../dd/dac/a01008.html#a7615c0320aa25da4c77d806afe9c5c0e" title="ripple::NetworkOPs\l::getLedgerBySeq" alt="" coords="620,1029,756,1075"/><area shape="rect" id="node89" href="../../d7/d9a/a00152.html#ad19bda12f3725584ac179f2e091e30d7" title="ripple::base_uint::\lToString" alt="" coords="625,1205,751,1251"/><area shape="rect" id="node53" href="../../d7/db0/a03467.html#aba0a720f8204028aa9b0f78f969d5f97" title="rocksdb::crc32c::Extend" alt="" coords="840,1099,1003,1128"/><area shape="rect" id="node59" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="848,1225,995,1255"/><area shape="rect" id="node61" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="1075,1248,1224,1277"/><area shape="rect" id="node63" href="../../d7/d9a/a00152.html#a174768646f7fe8d81f4a38f5ccf9e6f5" title="ripple::base_uint::zero" alt="" coords="847,1279,996,1308"/><area shape="rect" id="node68" href="../../d6/d27/a01781.html#a0ea567fa51fc808851698bef59b43626" title="Json::Value::isDouble" alt="" coords="847,1383,996,1412"/><area shape="rect" id="node70" href="../../d6/d27/a01781.html#aec4f74ef7b776b1d9c8a10fc3bb4add5" title="Json::Value::isIntegral" alt="" coords="845,1436,997,1465"/><area shape="rect" id="node79" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="833,759,1009,806"/><area shape="rect" id="node91" href="../../d7/d9a/a00152.html#a348c4019943a8b3a05f39f1efcb589c9" title="ripple::base_uint::\lGetHex" alt="" coords="859,1155,984,1202"/><area shape="rect" id="node96" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="624,346,752,393"/><area shape="rect" id="node98" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="833,355,1009,384"/><area shape="rect" id="node108" href="../../dd/dac/a01008.html#a34d2f270a1069da492be676001393f20" title="ripple::NetworkOPs\l::getAccountTxs" alt="" coords="404,5,540,51"/><area shape="rect" id="node110" href="../../dd/dac/a01008.html#a5a39c20a49be0126e067d88417773382" title="ripple::NetworkOPs\l::getAccountTxsB" alt="" coords="404,74,540,121"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a46dd6ff043e620a329a7f14e6dea480d_icgraph.png" border="0" usemap="#dc/d8c/a01297_a46dd6ff043e620a329a7f14e6dea480d_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a46dd6ff043e620a329a7f14e6dea480d_icgraph" id="dc/d8c/a01297_a46dd6ff043e620a329a7f14e6dea480d_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="201,85,335,131"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="396,32,521,61"/><area shape="rect" id="node13" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="392,85,525,131"/><area shape="rect" id="node23" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="384,154,533,201"/><area shape="rect" id="node7" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="636,32,713,61"/><area shape="rect" id="node9" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="884,5,935,35"/><area shape="rect" id="node11" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="855,59,964,88"/><area shape="rect" id="node15" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="583,85,767,131"/><area shape="rect" id="node17" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="588,154,761,201"/><area shape="rect" id="node19" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="817,154,1001,201"/><area shape="rect" id="node21" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1052,154,1236,201"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a124fdd4817ee18afc9f2929f071a7871"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doBlackList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d5/d8f/a03255_source.html#l00023">23</a> of file <a class="el" href="../../d5/d8f/a03255_source.html">BlackList.cpp</a>.</p>

<p>References <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../de/d62/a00924.html#a06751117098e01ef0e0a780df25a9b2d">ripple::Resource::Manager::getJson()</a>, <a class="el" href="../../da/d74/a00099.html#a7b4b062ff2e0ba3c9ada97fbc0147ac6">ripple::Application::getResourceManager()</a>, and <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    masterLockHolder.unlock();</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a>(<span class="stringliteral">&quot;threshold&quot;</span>))</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a7b4b062ff2e0ba3c9ada97fbc0147ac6">getResourceManager</a>().<a class="code" href="../../de/d62/a00924.html#a06751117098e01ef0e0a780df25a9b2d">getJson</a>(params[<span class="stringliteral">&quot;threshold&quot;</span>].asInt());</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a7b4b062ff2e0ba3c9ada97fbc0147ac6">getResourceManager</a>().<a class="code" href="../../de/d62/a00924.html#a06751117098e01ef0e0a780df25a9b2d">getJson</a>();</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a124fdd4817ee18afc9f2929f071a7871_cgraph.png" border="0" usemap="#dc/d8c/a01297_a124fdd4817ee18afc9f2929f071a7871_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a124fdd4817ee18afc9f2929f071a7871_cgraph" id="dc/d8c/a01297_a124fdd4817ee18afc9f2929f071a7871_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="227,13,328,43"/><area shape="rect" id="node7" href="../../de/d62/a00924.html#a06751117098e01ef0e0a780df25a9b2d" title="ripple::Resource::Manager\l::getJson" alt="" coords="191,66,364,113"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#a7b4b062ff2e0ba3c9ada97fbc0147ac6" title="ripple::Application\l::getResourceManager" alt="" coords="200,135,355,182"/><area shape="rect" id="node11" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="200,205,355,235"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="415,5,591,51"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a124fdd4817ee18afc9f2929f071a7871_icgraph.png" border="0" usemap="#dc/d8c/a01297_a124fdd4817ee18afc9f2929f071a7871_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a124fdd4817ee18afc9f2929f071a7871_icgraph" id="dc/d8c/a01297_a124fdd4817ee18afc9f2929f071a7871_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,85,324,131"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,32,511,61"/><area shape="rect" id="node13" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,85,515,131"/><area shape="rect" id="node23" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,154,523,201"/><area shape="rect" id="node7" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,32,703,61"/><area shape="rect" id="node9" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,5,924,35"/><area shape="rect" id="node11" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,59,953,88"/><area shape="rect" id="node15" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,85,756,131"/><area shape="rect" id="node17" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,154,751,201"/><area shape="rect" id="node19" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,154,991,201"/><area shape="rect" id="node21" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,154,1225,201"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a386adf2947cd602810d62b6529b57be2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doBookOffers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/d55/a03256_source.html#l00049">49</a> of file <a class="el" href="../../d3/d55/a03256_source.html">BookOffers.cpp</a>.</p>

<p>References <a class="el" href="../../d8/dd4/a03195_source.html#l00068">ACCOUNT_ONE</a>, <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00861">Json::Value::asUInt()</a>, <a class="el" href="../../da/dd3/a03198_source.html#l00052">ripple::STAmount::currencyFromString()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00197">ripple::RPC::expected_field_error()</a>, <a class="el" href="../../d5/d6b/a03428.html#a8466333cef2ff22196d2f7732f0c958a">ripple::Resource::feeMediumBurdenRPC</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00292">ripple::RippleAddress::getAccountID()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../dd/dac/a01008.html#aa6425494b52cece6f613d6209f838a75">ripple::NetworkOPs::getBookPage()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00186">ripple::RPC::invalid_field_error()</a>, <a class="el" href="../../d3/d55/a03256_source.html#l00029">ripple::is_not_xrp()</a>, <a class="el" href="../../d3/d55/a03256_source.html#l00023">ripple::is_xrp()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01478">Json::Value::isIntegral()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../da/dd3/a03198_source.html#l00026">ripple::STAmount::issuerFromString()</a>, <a class="el" href="../../d8/d96/a03116_source.html#l00044">ripple::jtCLIENT</a>, <a class="el" href="../../d0/d7c/a03318_source.html#l00043">ripple::RPC::lookupLedger()</a>, <a class="el" href="../../d8/d4b/a03093_source.html#l00030">ripple::lsINFO</a>, <a class="el" href="../../dc/de8/a03312_source.html#l00167">ripple::RPC::make_error()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00166">ripple::RPC::missing_field_error()</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, <a class="el" href="../../d3/d55/a03256_source.html#l00044">ripple::neutral_issuer()</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00032">Json::nullValue</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00176">ripple::RPC::object_field_error()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00083">ripple::rpcBAD_MARKET</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00089">ripple::rpcDST_AMT_MALFORMED</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00090">ripple::rpcDST_ISR_MALFORMED</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00106">ripple::rpcSRC_CUR_MALFORMED</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00107">ripple::rpcSRC_ISR_MALFORMED</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00047">ripple::rpcTOO_BUSY</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00356">ripple::RippleAddress::setAccountID()</a>, <a class="el" href="../../de/d3e/a02727_source.html#l00023">rocksdb::crc32c::Value()</a>, <a class="el" href="../../dc/dc0/a03087_source.html#l00075">WriteLog</a>, and <a class="el" href="../../d3/d55/a03256_source.html#l00034">ripple::xrp_issuer()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="comment">// VFALCO TODO Here is a terrible place for this kind of business</span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="comment">//             logic. It needs to be moved elsewhere and documented,</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="comment">//             and encapsulated into a function.</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getJobQueue ().getJobCountGE (<a class="code" href="../../d9/d9d/a03417.html#ae0f54f8ce649d639bf3e2b295347e17aad3afa64002a7625b44814318856804e9">jtCLIENT</a>) &gt; 200)</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a41779a85a65f6faeb648c960e77f388f">rpcTOO_BUSY</a>);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> lpLedger;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvResult (<a class="code" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258">RPC::lookupLedger</a> (params, lpLedger, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>));</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">if</span> (!lpLedger)</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;taker_pays&quot;</span>))</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06">RPC::missing_field_error</a> (<span class="stringliteral">&quot;taker_pays&quot;</span>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;taker_gets&quot;</span>))</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06">RPC::missing_field_error</a> (<span class="stringliteral">&quot;taker_gets&quot;</span>);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">if</span> (!params[<span class="stringliteral">&quot;taker_pays&quot;</span>].isObject ())</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#a97b09da785b1944b7b1964eeff97a43b">RPC::object_field_error</a> (<span class="stringliteral">&quot;taker_pays&quot;</span>);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordflow">if</span> (!params[<span class="stringliteral">&quot;taker_gets&quot;</span>].isObject ())</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#a97b09da785b1944b7b1964eeff97a43b">RPC::object_field_error</a> (<span class="stringliteral">&quot;taker_gets&quot;</span>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> <span class="keyword">const</span>&amp; taker_pays (params[<span class="stringliteral">&quot;taker_pays&quot;</span>]);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">if</span> (!taker_pays.isMember (<span class="stringliteral">&quot;currency&quot;</span>))</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06">RPC::missing_field_error</a> (<span class="stringliteral">&quot;taker_pays.currency&quot;</span>);</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">if</span> (! taker_pays [<span class="stringliteral">&quot;currency&quot;</span>].isString ())</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aa63398ec847d01de9d9af3598e3e2325">RPC::expected_field_error</a> (<span class="stringliteral">&quot;taker_pays.currency&quot;</span>, <span class="stringliteral">&quot;string&quot;</span>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> <span class="keyword">const</span>&amp; taker_gets = params[<span class="stringliteral">&quot;taker_gets&quot;</span>];</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">if</span> (! taker_gets.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;currency&quot;</span>))</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06">RPC::missing_field_error</a> (<span class="stringliteral">&quot;taker_gets.currency&quot;</span>);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">if</span> (! taker_gets [<span class="stringliteral">&quot;currency&quot;</span>].isString ())</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aa63398ec847d01de9d9af3598e3e2325">RPC::expected_field_error</a> (<span class="stringliteral">&quot;taker_gets.currency&quot;</span>, <span class="stringliteral">&quot;string&quot;</span>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    uint160 pay_currency;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    <span class="keywordflow">if</span> (! <a class="code" href="../../d2/d41/a01493.html#a853bdaa68ca8aa5239041e7d9d26aa48">STAmount::currencyFromString</a> (</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        pay_currency, taker_pays [<span class="stringliteral">&quot;currency&quot;</span>].asString ()))</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;Bad taker_pays currency.&quot;</span>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#a2cd6200f6709780fcf1dd26ec9cd2866">RPC::make_error</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932ad23b4971210983fe07f7225143e02225">rpcSRC_CUR_MALFORMED</a>,</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="stringliteral">&quot;Invalid field &#39;taker_pays.currency&#39;, bad currency.&quot;</span>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    uint160 get_currency;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    <span class="keywordflow">if</span> (! <a class="code" href="../../d2/d41/a01493.html#a853bdaa68ca8aa5239041e7d9d26aa48">STAmount::currencyFromString</a> (</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        get_currency, taker_gets [<span class="stringliteral">&quot;currency&quot;</span>].asString ()))</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;Bad taker_gets currency.&quot;</span>;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#a2cd6200f6709780fcf1dd26ec9cd2866">RPC::make_error</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932ab2d46f2d2f48b9b2a69a3dd7900c2095">rpcDST_AMT_MALFORMED</a>,</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;            <span class="stringliteral">&quot;Invalid field &#39;taker_gets.currency&#39;, bad currency.&quot;</span>);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    }</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    uint160 pay_issuer;</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    <span class="keywordflow">if</span> (taker_pays.isMember (<span class="stringliteral">&quot;issuer&quot;</span>))</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">if</span> (! taker_pays [<span class="stringliteral">&quot;issuer&quot;</span>].isString())</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aa63398ec847d01de9d9af3598e3e2325">RPC::expected_field_error</a> (<span class="stringliteral">&quot;taker_pays.issuer&quot;</span>, <span class="stringliteral">&quot;string&quot;</span>);</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        <span class="keywordflow">if</span> (! <a class="code" href="../../d2/d41/a01493.html#a41a925f05a7bb7c9aae2108f133c47f4">STAmount::issuerFromString</a> (</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            pay_issuer, taker_pays [<span class="stringliteral">&quot;issuer&quot;</span>].asString ()))</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#a2cd6200f6709780fcf1dd26ec9cd2866">RPC::make_error</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a9e0f3e460ea9530eb29736e0cd9b4304">rpcSRC_ISR_MALFORMED</a>,</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                <span class="stringliteral">&quot;Invalid field &#39;taker_pays.issuer&#39;, bad issuer.&quot;</span>);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="keywordflow">if</span> (pay_issuer == <a class="code" href="../../d9/d9d/a03417.html#acd8e926f5888c883f6d6283a95b10388">neutral_issuer</a> ())</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#a2cd6200f6709780fcf1dd26ec9cd2866">RPC::make_error</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a9e0f3e460ea9530eb29736e0cd9b4304">rpcSRC_ISR_MALFORMED</a>,</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;                <span class="stringliteral">&quot;Invalid field &#39;taker_pays.issuer&#39;, bad issuer account one.&quot;</span>);</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    }</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;    {</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        pay_issuer = <a class="code" href="../../d9/d9d/a03417.html#afc5028d7a0b33282ae238c1a14d07aaa">xrp_issuer</a> ();</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#a7fb2062f52484bea8aafb24a914d0b0c">is_xrp</a> (pay_currency) &amp;&amp; ! <a class="code" href="../../d9/d9d/a03417.html#a7fb2062f52484bea8aafb24a914d0b0c">is_xrp</a> (pay_issuer))</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#a2cd6200f6709780fcf1dd26ec9cd2866">RPC::make_error</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a9e0f3e460ea9530eb29736e0cd9b4304">rpcSRC_ISR_MALFORMED</a>,</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;            <span class="stringliteral">&quot;Unneeded field &#39;taker_pays.issuer&#39; for XRP currency specification.&quot;</span>);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#af05e7e2d7ac8fe3394e3e0e0e704114f">is_not_xrp</a> (pay_currency) &amp;&amp; <a class="code" href="../../d9/d9d/a03417.html#a7fb2062f52484bea8aafb24a914d0b0c">is_xrp</a> (pay_issuer))</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#a2cd6200f6709780fcf1dd26ec9cd2866">RPC::make_error</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a9e0f3e460ea9530eb29736e0cd9b4304">rpcSRC_ISR_MALFORMED</a>,</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <span class="stringliteral">&quot;Invalid field &#39;taker_pays.issuer&#39;, expected non-XRP issuer.&quot;</span>);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    uint160 get_issuer;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span> (taker_gets.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;issuer&quot;</span>))</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    {</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        <span class="keywordflow">if</span> (! taker_gets [<span class="stringliteral">&quot;issuer&quot;</span>].isString())</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aa63398ec847d01de9d9af3598e3e2325">RPC::expected_field_error</a> (<span class="stringliteral">&quot;taker_gets.issuer&quot;</span>, <span class="stringliteral">&quot;string&quot;</span>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">if</span> (! <a class="code" href="../../d2/d41/a01493.html#a41a925f05a7bb7c9aae2108f133c47f4">STAmount::issuerFromString</a> (</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            get_issuer, taker_gets [<span class="stringliteral">&quot;issuer&quot;</span>].asString ()))</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#a2cd6200f6709780fcf1dd26ec9cd2866">RPC::make_error</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a7eec43248b5e3342fa6ff1fcf9976519">rpcDST_ISR_MALFORMED</a>,</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;                <span class="stringliteral">&quot;Invalid field &#39;taker_gets.issuer&#39;, bad issuer.&quot;</span>);</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">if</span> (get_issuer == <a class="code" href="../../d9/d9d/a03417.html#acd8e926f5888c883f6d6283a95b10388">neutral_issuer</a> ())</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#a2cd6200f6709780fcf1dd26ec9cd2866">RPC::make_error</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a7eec43248b5e3342fa6ff1fcf9976519">rpcDST_ISR_MALFORMED</a>,</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;                <span class="stringliteral">&quot;Invalid field &#39;taker_gets.issuer&#39;, bad issuer account one.&quot;</span>);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        get_issuer = <a class="code" href="../../d9/d9d/a03417.html#afc5028d7a0b33282ae238c1a14d07aaa">xrp_issuer</a> ();</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    }</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#a7fb2062f52484bea8aafb24a914d0b0c">is_xrp</a> (get_currency) &amp;&amp; ! <a class="code" href="../../d9/d9d/a03417.html#a7fb2062f52484bea8aafb24a914d0b0c">is_xrp</a> (get_issuer))</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#a2cd6200f6709780fcf1dd26ec9cd2866">RPC::make_error</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a7eec43248b5e3342fa6ff1fcf9976519">rpcDST_ISR_MALFORMED</a>,</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            <span class="stringliteral">&quot;Unneeded field &#39;taker_gets.issuer&#39; for XRP currency specification.&quot;</span>);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#af05e7e2d7ac8fe3394e3e0e0e704114f">is_not_xrp</a> (get_currency) &amp;&amp; <a class="code" href="../../d9/d9d/a03417.html#a7fb2062f52484bea8aafb24a914d0b0c">is_xrp</a> (get_issuer))</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#a2cd6200f6709780fcf1dd26ec9cd2866">RPC::make_error</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a7eec43248b5e3342fa6ff1fcf9976519">rpcDST_ISR_MALFORMED</a>,</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            <span class="stringliteral">&quot;Invalid field &#39;taker_gets.issuer&#39;, expected non-XRP issuer.&quot;</span>);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;    RippleAddress raTakerID;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;taker&quot;</span>))</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;    {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordflow">if</span> (! params [<span class="stringliteral">&quot;taker&quot;</span>].isString ())</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aa63398ec847d01de9d9af3598e3e2325">RPC::expected_field_error</a> (<span class="stringliteral">&quot;taker&quot;</span>, <span class="stringliteral">&quot;string&quot;</span>);</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="keywordflow">if</span> (! raTakerID.setAccountID (params [<span class="stringliteral">&quot;taker&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ()))</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#a3f2a31e585bbecb3af3740d34d7df15f">RPC::invalid_field_error</a> (<span class="stringliteral">&quot;taker&quot;</span>);</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;    {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;        raTakerID.setAccountID (<a class="code" href="../../d8/dd4/a03195.html#ad55eb3b0f8711599b73d311ac52eced0">ACCOUNT_ONE</a>);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    <span class="keywordflow">if</span> (pay_currency == get_currency &amp;&amp; pay_issuer == get_issuer)</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    {</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;taker_gets same as taker_pays.&quot;</span>;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#a2cd6200f6709780fcf1dd26ec9cd2866">RPC::make_error</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a64f2f624cc4844b4907be821dccabbd9">rpcBAD_MARKET</a>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;limit&quot;</span>) &amp;&amp; ! params [<span class="stringliteral">&quot;limit&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#aec4f74ef7b776b1d9c8a10fc3bb4add5">isIntegral</a>())</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aa63398ec847d01de9d9af3598e3e2325">RPC::expected_field_error</a> (</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="stringliteral">&quot;limit&quot;</span>, <span class="stringliteral">&quot;integer&quot;</span>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keyword">const</span> iLimit (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;limit&quot;</span>)</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        ? params [<span class="stringliteral">&quot;limit&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c">asUInt</a> ()</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        : 0);</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;    <span class="keywordtype">bool</span> <span class="keyword">const</span> bProof (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;proof&quot;</span>));</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> <span class="keyword">const</span> jvMarker (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;marker&quot;</span>)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        ? params[<span class="stringliteral">&quot;marker&quot;</span>]</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;        : <a class="code" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9">Json::Value</a> (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4ea7d9899633b4409bd3fc107e6737f8391" title="&#39;null&#39; value ">Json::nullValue</a>));</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#aa6425494b52cece6f613d6209f838a75">getBookPage</a> (lpLedger, pay_currency, pay_issuer,</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        get_currency, get_issuer, raTakerID.getAccountID (),</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            bProof, iLimit, jvMarker, jvResult);</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;    loadType = <a class="code" href="../../d5/d6b/a03428.html#a8466333cef2ff22196d2f7732f0c958a">Resource::feeMediumBurdenRPC</a>;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;    <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a386adf2947cd602810d62b6529b57be2_cgraph.png" border="0" usemap="#dc/d8c/a01297_a386adf2947cd602810d62b6529b57be2_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a386adf2947cd602810d62b6529b57be2_cgraph" id="dc/d8c/a01297_a386adf2947cd602810d62b6529b57be2_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="432,195,579,224"/><area shape="rect" id="node5" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="211,1157,349,1187"/><area shape="rect" id="node7" href="../../d2/d41/a01493.html#a853bdaa68ca8aa5239041e7d9d26aa48" title="ripple::STAmount::currency\lFromString" alt="" coords="189,95,371,142"/><area shape="rect" id="node22" href="../../d2/d9b/a03429.html#aa63398ec847d01de9d9af3598e3e2325" title="ripple::RPC::expected\l_field_error" alt="" coords="205,1450,355,1497"/><area shape="rect" id="node26" href="../../d2/d9b/a03429.html#a2cd6200f6709780fcf1dd26ec9cd2866" title="ripple::RPC::make_error" alt="" coords="648,1263,811,1292"/><area shape="rect" id="node32" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="432,1609,579,1655"/><area shape="rect" id="node36" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="455,248,556,277"/><area shape="rect" id="node40" href="../../dd/dac/a01008.html#aa6425494b52cece6f613d6209f838a75" title="ripple::NetworkOPs\l::getBookPage" alt="" coords="212,1759,348,1806"/><area shape="rect" id="node42" href="../../d2/d9b/a03429.html#a3f2a31e585bbecb3af3740d34d7df15f" title="ripple::RPC::invalid\l_field_error" alt="" coords="213,1381,347,1427"/><area shape="rect" id="node47" href="../../d9/d9d/a03417.html#af05e7e2d7ac8fe3394e3e0e0e704114f" title="ripple::is_not_xrp" alt="" coords="220,1880,340,1909"/><area shape="rect" id="node49" href="../../d9/d9d/a03417.html#a7fb2062f52484bea8aafb24a914d0b0c" title="ripple::is_xrp" alt="" coords="457,1855,553,1884"/><area shape="rect" id="node52" href="../../d6/d27/a01781.html#aec4f74ef7b776b1d9c8a10fc3bb4add5" title="Json::Value::isIntegral" alt="" coords="653,1131,805,1160"/><area shape="rect" id="node54" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="428,301,583,331"/><area shape="rect" id="node56" href="../../d2/d41/a01493.html#a41a925f05a7bb7c9aae2108f133c47f4" title="ripple::STAmount::issuer\lFromString" alt="" coords="197,1639,363,1686"/><area shape="rect" id="node58" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="432,1689,579,1735"/><area shape="rect" id="node63" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258" title="ripple::RPC::lookupLedger" alt="" coords="193,627,367,656"/><area shape="rect" id="node70" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="428,355,583,384"/><area shape="rect" id="node99" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06" title="ripple::RPC::missing\l_field_error" alt="" coords="209,1519,351,1566"/><area shape="rect" id="node104" href="../../d9/d9d/a03417.html#acd8e926f5888c883f6d6283a95b10388" title="ripple::neutral_issuer" alt="" coords="209,1933,351,1963"/><area shape="rect" id="node106" href="../../d2/d9b/a03429.html#a97b09da785b1944b7b1964eeff97a43b" title="ripple::RPC::object\l_field_error" alt="" coords="213,1311,347,1358"/><area shape="rect" id="node110" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="676,1209,783,1239"/><area shape="rect" id="node115" href="../../d9/d9d/a03417.html#afc5028d7a0b33282ae238c1a14d07aaa" title="ripple::xrp_issuer" alt="" coords="220,1987,340,2016"/><area shape="rect" id="node9" href="../../d7/d9a/a00152.html#a174768646f7fe8d81f4a38f5ccf9e6f5" title="ripple::base_uint::zero" alt="" coords="655,76,804,105"/><area shape="rect" id="node11" href="../../da/d61/a01350.html#af9f127e708de4849795bdab51f2a4c78" title="ripple::Serializer\l::addZeros" alt="" coords="448,5,563,51"/><area shape="rect" id="node15" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="443,125,568,171"/><area shape="rect" id="node13" href="../../da/d61/a01350.html#ac7bf5cce451c952933b2750d902d848c" title="ripple::Serializer\l::size" alt="" coords="672,5,787,51"/><area shape="rect" id="node17" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="656,185,803,215"/><area shape="rect" id="node19" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="655,132,804,161"/><area shape="rect" id="node24" href="../../d2/d9b/a03429.html#a5b6ce0616f6995340f4dd846660c3749" title="ripple::RPC::make_param\l_error" alt="" coords="419,1381,592,1427"/><area shape="rect" id="node30" href="../../d2/d9b/a03429.html#a7bad76b302b3dcc91dd60c10830d0968" title="ripple::RPC::expected\l_field_message" alt="" coords="431,1450,580,1497"/><area shape="rect" id="node28" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="868,1227,996,1274"/><area shape="rect" id="node34" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="673,1617,785,1647"/><area shape="rect" id="node38" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="641,239,817,286"/><area shape="rect" id="node45" href="../../d2/d9b/a03429.html#a9f5e626e438381329d8b9ef18fe26636" title="ripple::RPC::object\l_field_message" alt="" coords="439,1311,572,1358"/><area shape="rect" id="node60" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="659,1689,800,1735"/><area shape="rect" id="node65" href="../../d6/d27/a01781.html#aff2e3a2e9fd5db5469588ab7b501d4db" title="Json::Value::get" alt="" coords="447,547,564,576"/><area shape="rect" id="node68" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="444,600,567,629"/><area shape="rect" id="node74" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7" title="Json::Value::isString" alt="" coords="435,653,576,683"/><area shape="rect" id="node78" href="../../d6/d27/a01781.html#a8ce848900e2e8fa23a41fcc2c1409fab" title="Json::Value::isNumeric" alt="" coords="427,1107,584,1136"/><area shape="rect" id="node81" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="441,707,569,736"/><area shape="rect" id="node83" href="../../dd/dac/a01008.html#a2797139168b2d6c069aa1f0c51bc327a" title="ripple::NetworkOPs\l::getLedgerByHash" alt="" coords="437,759,573,806"/><area shape="rect" id="node85" href="../../dd/dac/a01008.html#aa4a081f49bdf9ea42446691c34ceed79" title="ripple::NetworkOPs\l::getCurrentLedger" alt="" coords="437,829,573,875"/><area shape="rect" id="node88" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="443,898,568,945"/><area shape="rect" id="node90" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="436,967,575,1014"/><area shape="rect" id="node92" href="../../dd/dac/a01008.html#a3b147c209d1201adb03d478f148af4a1" title="ripple::NetworkOPs\l::getValidatedLedger" alt="" coords="435,1037,576,1083"/><area shape="rect" id="node94" href="../../dd/dac/a01008.html#a7615c0320aa25da4c77d806afe9c5c0e" title="ripple::NetworkOPs\l::getLedgerBySeq" alt="" coords="437,407,573,454"/><area shape="rect" id="node96" href="../../d7/d9a/a00152.html#ad19bda12f3725584ac179f2e091e30d7" title="ripple::base_uint::\lToString" alt="" coords="443,477,568,523"/><area shape="rect" id="node72" href="../../d7/db0/a03467.html#aba0a720f8204028aa9b0f78f969d5f97" title="rocksdb::crc32c::Extend" alt="" coords="648,355,811,384"/><area shape="rect" id="node102" href="../../d2/d9b/a03429.html#a5d5937b3d78d931333b1c278e13e23b2" title="ripple::RPC::missing\l_field_message" alt="" coords="435,1519,576,1566"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a386adf2947cd602810d62b6529b57be2_icgraph.png" border="0" usemap="#dc/d8c/a01297_a386adf2947cd602810d62b6529b57be2_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a386adf2947cd602810d62b6529b57be2_icgraph" id="dc/d8c/a01297_a386adf2947cd602810d62b6529b57be2_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,85,324,131"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,32,511,61"/><area shape="rect" id="node13" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,85,515,131"/><area shape="rect" id="node23" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,154,523,201"/><area shape="rect" id="node7" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,32,703,61"/><area shape="rect" id="node9" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,5,924,35"/><area shape="rect" id="node11" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,59,953,88"/><area shape="rect" id="node15" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,85,756,131"/><area shape="rect" id="node17" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,154,751,201"/><area shape="rect" id="node19" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,154,991,201"/><area shape="rect" id="node21" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,154,1225,201"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a120877dbbbbb7b6fa1214d28480b728e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doCommand </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d6/d27/a01781.html">Json::Value</a> &amp;&#160;</td>
          <td class="paramname"><em>jvRequest</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>role</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../de/dc6/a03019_source.html#l00088">88</a> of file <a class="el" href="../../de/dc6/a03019_source.html">RPCHandler.cpp</a>.</p>

<p>References <a class="el" href="../../d2/db9/a01926_source.html#l00263">ripple::Config::ADMIN</a>, <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../d9/d01/a03248_source.html#l00022">doAccountCurrencies()</a>, <a class="el" href="../../d6/d24/a03249_source.html#l00029">doAccountInfo()</a>, <a class="el" href="../../dc/d45/a03250_source.html#l00029">doAccountLines()</a>, <a class="el" href="../../db/dd3/a03251_source.html#l00041">doAccountOffers()</a>, <a class="el" href="../../d5/d08/a03254_source.html#l00023">doAccountTxSwitch()</a>, <a class="el" href="../../d5/d8f/a03255_source.html#l00023">doBlackList()</a>, <a class="el" href="../../d3/d55/a03256_source.html#l00049">doBookOffers()</a>, <a class="el" href="../../df/d62/a03257_source.html#l00029">doConnect()</a>, <a class="el" href="../../d6/d13/a03258_source.html#l00022">doConsensusInfo()</a>, <a class="el" href="../../d6/d38/a03259_source.html#l00043">doFeature()</a>, <a class="el" href="../../d1/dda/a03260_source.html#l00023">doFetchInfo()</a>, <a class="el" href="../../dc/df1/a03261_source.html#l00026">doGetCounts()</a>, <a class="el" href="../../de/dc6/a03019_source.html#l00079">doInternal()</a>, <a class="el" href="../../d8/dea/a02913_source.html#l00028">doLedger()</a>, <a class="el" href="../../dc/dbb/a03262_source.html#l00023">doLedgerAccept()</a>, <a class="el" href="../../d6/dd2/a02916_source.html#l00023">doLedgerCleaner()</a>, <a class="el" href="../../dc/dc1/a03263_source.html#l00023">doLedgerClosed()</a>, <a class="el" href="../../d4/d1a/a03264_source.html#l00023">doLedgerCurrent()</a>, <a class="el" href="../../d8/d81/a03265_source.html#l00033">doLedgerData()</a>, <a class="el" href="../../d6/d8d/a03266_source.html#l00028">doLedgerEntry()</a>, <a class="el" href="../../de/d11/a03267_source.html#l00027">doLedgerHeader()</a>, <a class="el" href="../../d4/dcb/a03268_source.html#l00023">doLogLevel()</a>, <a class="el" href="../../d9/d33/a03269_source.html#l00023">doLogRotate()</a>, <a class="el" href="../../df/d13/a03271_source.html#l00028">doOwnerInfo()</a>, <a class="el" href="../../d4/d1c/a03272_source.html#l00023">doPathFind()</a>, <a class="el" href="../../d3/da0/a03273_source.html#l00024">doPeers()</a>, <a class="el" href="../../da/deb/a03274_source.html#l00023">doPing()</a>, <a class="el" href="../../d8/dbf/a03275_source.html#l00023">doPrint()</a>, <a class="el" href="../../d4/d46/a03277_source.html#l00029">doProofCreate()</a>, <a class="el" href="../../d9/d7f/a03278_source.html#l00026">doProofSolve()</a>, <a class="el" href="../../d0/de5/a03279_source.html#l00030">doProofVerify()</a>, <a class="el" href="../../d1/d0c/a02251_source.html#l00027">doRandom()</a>, <a class="el" href="../../de/d7f/a03280_source.html#l00025">doRipplePathFind()</a>, <a class="el" href="../../d0/d84/a03281_source.html#l00023">doServerInfo()</a>, <a class="el" href="../../d4/d1b/a03282_source.html#l00023">doServerState()</a>, <a class="el" href="../../d2/dd0/a03283_source.html#l00027">doSign()</a>, <a class="el" href="../../d6/d25/a03284_source.html#l00023">doSMS()</a>, <a class="el" href="../../d2/dfa/a03285_source.html#l00023">doStop()</a>, <a class="el" href="../../da/d1b/a03286_source.html#l00027">doSubmit()</a>, <a class="el" href="../../d8/dcc/a03287_source.html#l00023">doSubscribe()</a>, <a class="el" href="../../db/de4/a03288_source.html#l00028">doTransactionEntry()</a>, <a class="el" href="../../d0/d9d/a03289_source.html#l00026">doTx()</a>, <a class="el" href="../../d6/d85/a03290_source.html#l00026">doTxHistory()</a>, <a class="el" href="../../da/dbb/a03291_source.html#l00027">doUnlAdd()</a>, <a class="el" href="../../d7/d52/a03292_source.html#l00026">doUnlDelete()</a>, <a class="el" href="../../d2/d74/a03293_source.html#l00023">doUnlList()</a>, <a class="el" href="../../df/d2e/a03294_source.html#l00024">doUnlLoad()</a>, <a class="el" href="../../d7/d35/a03295_source.html#l00024">doUnlNetwork()</a>, <a class="el" href="../../d2/d76/a03296_source.html#l00023">doUnlReset()</a>, <a class="el" href="../../da/d0a/a03297_source.html#l00024">doUnlScore()</a>, <a class="el" href="../../d6/d90/a03298_source.html#l00024">doUnsubscribe()</a>, <a class="el" href="../../d8/de2/a03299_source.html#l00028">doValidationCreate()</a>, <a class="el" href="../../d0/d7c/a03300_source.html#l00026">doValidationSeed()</a>, <a class="el" href="../../d1/d24/a03301_source.html#l00028">doWalletAccounts()</a>, <a class="el" href="../../d5/da8/a03302_source.html#l00026">doWalletPropose()</a>, <a class="el" href="../../d5/d04/a03303_source.html#l00025">doWalletSeed()</a>, <a class="el" href="../../d5/d6b/a03428.html#a287a085f30cb796a3517662182759f1f">ripple::Resource::feeExceptionRPC</a>, <a class="el" href="../../d5/d6b/a03428.html#a11668794bb6001a6d6e35f5b9514fba1">ripple::Resource::feeReferenceRPC</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../dd/dac/a01008.html#ad05280c2a39d4757801d02b8f960300a">ripple::NetworkOPs::getClosedLedger()</a>, <a class="el" href="../../d0/dc2/a02477_source.html#l00647">ripple::getConfig()</a>, <a class="el" href="../../dc/d0c/a00783.html#aab398b6e58c25e387a91fef680c7c691">ripple::JobQueue::getJobCountGE()</a>, <a class="el" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c">ripple::Application::getJobQueue()</a>, <a class="el" href="../../dc/d0c/a00783.html#ab2ce1ef765c58d0d32214d766c06eabb">ripple::JobQueue::getLoadEventAP()</a>, <a class="el" href="../../dd/dac/a01008.html#af1066b526f400f571c4985950ef97aa4">ripple::NetworkOPs::getOperatingMode()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01515">Json::Value::isObject()</a>, <a class="el" href="../../d8/d96/a03116_source.html#l00044">ripple::jtCLIENT</a>, <a class="el" href="../../d8/d96/a03116_source.html#l00070">ripple::jtGENERIC</a>, <a class="el" href="../../d8/d4b/a03093_source.html#l00029">ripple::lsDEBUG</a>, <a class="el" href="../../d8/d4b/a03093_source.html#l00030">ripple::lsINFO</a>, <a class="el" href="../../d8/d4b/a03093_source.html#l00028">ripple::lsTRACE</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, <a class="el" href="../../de/dec/a03020_source.html#l00140">mRole</a>, <a class="el" href="../../d0/d75/a03105_source.html#l00048">NUMBER</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00077">ripple::NetworkOPs::omSYNCING</a>, <a class="el" href="../../de/dec/a03020_source.html#l00063">optClosed</a>, <a class="el" href="../../de/dec/a03020_source.html#l00062">optCurrent</a>, <a class="el" href="../../de/dec/a03020_source.html#l00061">optNetwork</a>, <a class="el" href="../../de/dec/a03020_source.html#l00060">optNone</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00086">ripple::rpcCOMMAND_MISSING</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00111">ripple::rpcINTERNAL</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00052">ripple::rpcNO_CLOSED</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00053">ripple::rpcNO_CURRENT</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00054">ripple::rpcNO_NETWORK</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00044">ripple::rpcNO_PERMISSION</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00047">ripple::rpcTOO_BUSY</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00073">ripple::rpcUNKNOWN_COMMAND</a>, <a class="el" href="../../dd/dac/a01008.html#ad776a4022fcc29997cc20d6ae4f7bdbe">ripple::NetworkOPs::strOperatingMode()</a>, and <a class="el" href="../../dc/dc0/a03087_source.html#l00075">WriteLog</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00047">doRpcCommand()</a>, <a class="el" href="../../d7/deb/a03077_source.html#l00125">ripple::WSConnection::invokeCommand()</a>, and <a class="el" href="../../d2/d9c/a02948_source.html#l00045">ripple::startServer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;{</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">if</span> (iRole != <a class="code" href="../../d3/db8/a00316.html#a459f32c779b04342b4811b1a898a156eabfd6bd9f2deb401e760dbafe42c80107">Config::ADMIN</a>)</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="comment">// VFALCO NOTE Should we also add up the jtRPC jobs?</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        <span class="comment">//</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="keywordtype">int</span> jc = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c">getJobQueue</a> ().<a class="code" href="../../dc/d0c/a00783.html#aab398b6e58c25e387a91fef680c7c691">getJobCountGE</a> (<a class="code" href="../../d9/d9d/a03417.html#ae0f54f8ce649d639bf3e2b295347e17aad3afa64002a7625b44814318856804e9">jtCLIENT</a>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">if</span> (jc &gt; 500)</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a031699c2a2c25288caf7c5c512da58eb">lsDEBUG</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;Too busy for command: &quot;</span> &lt;&lt; jc;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a41779a85a65f6faeb648c960e77f388f">rpcTOO_BUSY</a>);</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        }</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    <span class="keywordflow">if</span> (!params.isMember (<span class="stringliteral">&quot;command&quot;</span>))</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932ab86d56c66edde43e490eec3de23deb47">rpcCOMMAND_MISSING</a>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    std::string     strCommand  = params[<span class="stringliteral">&quot;command&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ();</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a994075b2b57b391e5ba833769ac13487">lsTRACE</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;COMMAND:&quot;</span> &lt;&lt; strCommand;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a994075b2b57b391e5ba833769ac13487">lsTRACE</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;REQUEST:&quot;</span> &lt;&lt; params;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a>   = iRole;</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <span class="keyword">static</span> <span class="keyword">struct</span></div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    {</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keyword">const</span> <span class="keywordtype">char</span>*     pCommand;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        <a class="code" href="../../dc/d8c/a01297.html#a289a14a301ecab88c03c450372ff59fd">doFuncPtr</a>       dfpFunc;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordtype">bool</span>            bAdminRequired;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    iOptions;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    } commandsA[] =</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="comment">// Request-response methods</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        {   <span class="stringliteral">&quot;account_info&quot;</span>,         &amp;<a class="code" href="../../dc/d8c/a01297.html#a53a357c0e37964494a2cf42860544fbc">RPCHandler::doAccountInfo</a>,         <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4faf3e5782811146c0f04ca7d1a2248e267">optCurrent</a>  },</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        {   <span class="stringliteral">&quot;account_currencies&quot;</span>,   &amp;<a class="code" href="../../dc/d8c/a01297.html#abb847dfa562c55ddc83c4eb8552f3b28">RPCHandler::doAccountCurrencies</a>,   <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4faf3e5782811146c0f04ca7d1a2248e267">optCurrent</a>  },</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        {   <span class="stringliteral">&quot;account_lines&quot;</span>,        &amp;<a class="code" href="../../dc/d8c/a01297.html#a7f877c7e7527d04836c76861e2646b08">RPCHandler::doAccountLines</a>,        <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4faf3e5782811146c0f04ca7d1a2248e267">optCurrent</a>  },</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        {   <span class="stringliteral">&quot;account_offers&quot;</span>,       &amp;<a class="code" href="../../dc/d8c/a01297.html#a9a2d86224ccb500f98e0ea2a782164bd">RPCHandler::doAccountOffers</a>,       <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4faf3e5782811146c0f04ca7d1a2248e267">optCurrent</a>  },</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        {   <span class="stringliteral">&quot;account_tx&quot;</span>,           &amp;<a class="code" href="../../dc/d8c/a01297.html#a46dd6ff043e620a329a7f14e6dea480d">RPCHandler::doAccountTxSwitch</a>,     <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fa911b99d0c698d47d6e65816ff7b7e7dd">optNetwork</a>  },</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;        {   <span class="stringliteral">&quot;blacklist&quot;</span>,            &amp;<a class="code" href="../../dc/d8c/a01297.html#a124fdd4817ee18afc9f2929f071a7871">RPCHandler::doBlackList</a>,           <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        {   <span class="stringliteral">&quot;book_offers&quot;</span>,          &amp;<a class="code" href="../../dc/d8c/a01297.html#a386adf2947cd602810d62b6529b57be2">RPCHandler::doBookOffers</a>,          <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4faf3e5782811146c0f04ca7d1a2248e267">optCurrent</a>  },</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        {   <span class="stringliteral">&quot;connect&quot;</span>,              &amp;<a class="code" href="../../dc/d8c/a01297.html#a5724314350b54b02ea9191dd88d1e0ff">RPCHandler::doConnect</a>,             <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        {   <span class="stringliteral">&quot;consensus_info&quot;</span>,       &amp;<a class="code" href="../../dc/d8c/a01297.html#a1ce5e78fbf78c32459343077b318e984">RPCHandler::doConsensusInfo</a>,       <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        {   <span class="stringliteral">&quot;get_counts&quot;</span>,           &amp;<a class="code" href="../../dc/d8c/a01297.html#ae33a4e196231d363db4fe43d05143dce">RPCHandler::doGetCounts</a>,           <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        {   <span class="stringliteral">&quot;internal&quot;</span>,             &amp;<a class="code" href="../../dc/d8c/a01297.html#ad2142a33aae718be18780c93fceb1887">RPCHandler::doInternal</a>,            <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        {   <span class="stringliteral">&quot;feature&quot;</span>,              &amp;<a class="code" href="../../dc/d8c/a01297.html#a5cf94b6ff18a230618ee1b00de524290">RPCHandler::doFeature</a>,             <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;        {   <span class="stringliteral">&quot;fetch_info&quot;</span>,           &amp;<a class="code" href="../../dc/d8c/a01297.html#a5e5e99859e00ad824cfb1f0b30679800">RPCHandler::doFetchInfo</a>,           <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        {   <span class="stringliteral">&quot;ledger&quot;</span>,               &amp;<a class="code" href="../../dc/d8c/a01297.html#a7b1cff52f81e9f2a6887166592e6d8e8">RPCHandler::doLedger</a>,              <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fa911b99d0c698d47d6e65816ff7b7e7dd">optNetwork</a>  },</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        {   <span class="stringliteral">&quot;ledger_accept&quot;</span>,        &amp;<a class="code" href="../../dc/d8c/a01297.html#a0518029e09b22a2ea50e1d6bf078067a">RPCHandler::doLedgerAccept</a>,        <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4faf3e5782811146c0f04ca7d1a2248e267">optCurrent</a>  },</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        {   <span class="stringliteral">&quot;ledger_cleaner&quot;</span>,       &amp;<a class="code" href="../../dc/d8c/a01297.html#af061bc5d67a0280408da85ad518038de">RPCHandler::doLedgerCleaner</a>,       <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fa911b99d0c698d47d6e65816ff7b7e7dd">optNetwork</a>  },</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        {   <span class="stringliteral">&quot;ledger_closed&quot;</span>,        &amp;<a class="code" href="../../dc/d8c/a01297.html#a8874942ed3d7119bcdc4ffa9095855a2">RPCHandler::doLedgerClosed</a>,        <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fabff8d7ca31f352fab0a46348f31a46d5">optClosed</a>   },</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        {   <span class="stringliteral">&quot;ledger_current&quot;</span>,       &amp;<a class="code" href="../../dc/d8c/a01297.html#a7b1789811646050c73e9dad1eb9c8bdd">RPCHandler::doLedgerCurrent</a>,       <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4faf3e5782811146c0f04ca7d1a2248e267">optCurrent</a>  },</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        {   <span class="stringliteral">&quot;ledger_data&quot;</span>,          &amp;<a class="code" href="../../dc/d8c/a01297.html#a1dfcca9d072ce92d0b57690cad9ee11f">RPCHandler::doLedgerData</a>,          <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4faf3e5782811146c0f04ca7d1a2248e267">optCurrent</a>  },</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        {   <span class="stringliteral">&quot;ledger_entry&quot;</span>,         &amp;<a class="code" href="../../dc/d8c/a01297.html#a907eb3acd539cd6b1f752ab61dc6db09">RPCHandler::doLedgerEntry</a>,         <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4faf3e5782811146c0f04ca7d1a2248e267">optCurrent</a>  },</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;        {   <span class="stringliteral">&quot;ledger_header&quot;</span>,        &amp;<a class="code" href="../../dc/d8c/a01297.html#aa59250abcc24f82149af101ceffc37ac">RPCHandler::doLedgerHeader</a>,        <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4faf3e5782811146c0f04ca7d1a2248e267">optCurrent</a>  },</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        {   <span class="stringliteral">&quot;log_level&quot;</span>,            &amp;<a class="code" href="../../dc/d8c/a01297.html#aa1acae11e3ef0cd955af8b55fd359217">RPCHandler::doLogLevel</a>,            <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        {   <span class="stringliteral">&quot;logrotate&quot;</span>,            &amp;<a class="code" href="../../dc/d8c/a01297.html#a0bf2dde628b286db05f5923ffab72e60">RPCHandler::doLogRotate</a>,           <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">//      {   &quot;nickname_info&quot;,        &amp;RPCHandler::doNicknameInfo,        false,  optCurrent  },</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        {   <span class="stringliteral">&quot;owner_info&quot;</span>,           &amp;<a class="code" href="../../dc/d8c/a01297.html#abaadd995f0792433ae88561824e0228b">RPCHandler::doOwnerInfo</a>,           <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4faf3e5782811146c0f04ca7d1a2248e267">optCurrent</a>  },</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        {   <span class="stringliteral">&quot;peers&quot;</span>,                &amp;<a class="code" href="../../dc/d8c/a01297.html#adde7167fb74286fe368b0825292583f1">RPCHandler::doPeers</a>,               <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        {   <span class="stringliteral">&quot;path_find&quot;</span>,            &amp;<a class="code" href="../../dc/d8c/a01297.html#a4d6dc207e46225696cd4e12dfc3d54bb">RPCHandler::doPathFind</a>,            <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4faf3e5782811146c0f04ca7d1a2248e267">optCurrent</a>  },</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        {   <span class="stringliteral">&quot;ping&quot;</span>,                 &amp;<a class="code" href="../../dc/d8c/a01297.html#a979950a0dda1be57a45c4af66bea34e5">RPCHandler::doPing</a>,                <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        {   <span class="stringliteral">&quot;print&quot;</span>,                &amp;<a class="code" href="../../dc/d8c/a01297.html#a03eb836cf6203f82aa95ad22c444e6fa">RPCHandler::doPrint</a>,               <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;<span class="comment">//      {   &quot;profile&quot;,              &amp;RPCHandler::doProfile,             false,  optCurrent  },</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        {   <span class="stringliteral">&quot;proof_create&quot;</span>,         &amp;<a class="code" href="../../dc/d8c/a01297.html#a8d10c58f34908a3207804824ad99ea0c">RPCHandler::doProofCreate</a>,         <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        {   <span class="stringliteral">&quot;proof_solve&quot;</span>,          &amp;<a class="code" href="../../dc/d8c/a01297.html#a7e717030ea0eafe8ee38fcc708d0c5be">RPCHandler::doProofSolve</a>,          <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        {   <span class="stringliteral">&quot;proof_verify&quot;</span>,         &amp;<a class="code" href="../../dc/d8c/a01297.html#adf797d26b778692b65d7e5d18dec5922">RPCHandler::doProofVerify</a>,         <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;        {   <span class="stringliteral">&quot;random&quot;</span>,               &amp;<a class="code" href="../../dc/d8c/a01297.html#a1ad63ea274c0e7eb795d2f1d060fb674">RPCHandler::doRandom</a>,              <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        {   <span class="stringliteral">&quot;ripple_path_find&quot;</span>,     &amp;<a class="code" href="../../dc/d8c/a01297.html#a36006720757cc56e9cbd52d1517b909c">RPCHandler::doRipplePathFind</a>,      <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4faf3e5782811146c0f04ca7d1a2248e267">optCurrent</a>  },</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;        {   <span class="stringliteral">&quot;sign&quot;</span>,                 &amp;<a class="code" href="../../dc/d8c/a01297.html#a2fe8c9df95b37a944ac9238b4bfe6b03">RPCHandler::doSign</a>,                <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        {   <span class="stringliteral">&quot;submit&quot;</span>,               &amp;<a class="code" href="../../dc/d8c/a01297.html#a5ab050f89daeca6d691765cdc4526d41">RPCHandler::doSubmit</a>,              <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4faf3e5782811146c0f04ca7d1a2248e267">optCurrent</a>  },</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;        {   <span class="stringliteral">&quot;server_info&quot;</span>,          &amp;<a class="code" href="../../dc/d8c/a01297.html#a622b01ed218cafb4fb728c2e04a6ca68">RPCHandler::doServerInfo</a>,          <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        {   <span class="stringliteral">&quot;server_state&quot;</span>,         &amp;<a class="code" href="../../dc/d8c/a01297.html#af5528b5c81268b2c289244bb5c25980a">RPCHandler::doServerState</a>,         <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        {   <span class="stringliteral">&quot;sms&quot;</span>,                  &amp;<a class="code" href="../../dc/d8c/a01297.html#a4c1d25327afb7cd52aec03ea080b9b2b">RPCHandler::doSMS</a>,                 <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        {   <span class="stringliteral">&quot;stop&quot;</span>,                 &amp;<a class="code" href="../../dc/d8c/a01297.html#ac0f27906fb676e013c3f259c44fc2c5c">RPCHandler::doStop</a>,                <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        {   <span class="stringliteral">&quot;transaction_entry&quot;</span>,    &amp;<a class="code" href="../../dc/d8c/a01297.html#a94ca6f5bc40fea59fb46f7fbe97a32d3">RPCHandler::doTransactionEntry</a>,    <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4faf3e5782811146c0f04ca7d1a2248e267">optCurrent</a>  },</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;        {   <span class="stringliteral">&quot;tx&quot;</span>,                   &amp;<a class="code" href="../../dc/d8c/a01297.html#a5cf8ce222b65949f6938f24959402f2b">RPCHandler::doTx</a>,                  <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fa911b99d0c698d47d6e65816ff7b7e7dd">optNetwork</a>  },</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        {   <span class="stringliteral">&quot;tx_history&quot;</span>,           &amp;<a class="code" href="../../dc/d8c/a01297.html#a910bfab606b50360c07c08a1c0107dd6">RPCHandler::doTxHistory</a>,           <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        {   <span class="stringliteral">&quot;unl_add&quot;</span>,              &amp;<a class="code" href="../../dc/d8c/a01297.html#ab1a18104680cd7213a0c92bc2a13db52">RPCHandler::doUnlAdd</a>,              <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;        {   <span class="stringliteral">&quot;unl_delete&quot;</span>,           &amp;<a class="code" href="../../dc/d8c/a01297.html#a842618718f796d9149285a738cecb85f">RPCHandler::doUnlDelete</a>,           <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;        {   <span class="stringliteral">&quot;unl_list&quot;</span>,             &amp;<a class="code" href="../../dc/d8c/a01297.html#a315b7e045f85be63a0e0983d710900ab">RPCHandler::doUnlList</a>,             <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;        {   <span class="stringliteral">&quot;unl_load&quot;</span>,             &amp;<a class="code" href="../../dc/d8c/a01297.html#a0a7d4878b2550560a39075cb4e03881e">RPCHandler::doUnlLoad</a>,             <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        {   <span class="stringliteral">&quot;unl_network&quot;</span>,          &amp;<a class="code" href="../../dc/d8c/a01297.html#a14f4ae72b3a94a0cddd2bc5d5edd3db5">RPCHandler::doUnlNetwork</a>,          <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;        {   <span class="stringliteral">&quot;unl_reset&quot;</span>,            &amp;<a class="code" href="../../dc/d8c/a01297.html#a120e909da5c69d13d91e49e8e10ed392">RPCHandler::doUnlReset</a>,            <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        {   <span class="stringliteral">&quot;unl_score&quot;</span>,            &amp;<a class="code" href="../../dc/d8c/a01297.html#a521e2a7449888402f8b4ef24b0a4b9d0">RPCHandler::doUnlScore</a>,            <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        {   <span class="stringliteral">&quot;validation_create&quot;</span>,    &amp;<a class="code" href="../../dc/d8c/a01297.html#aa8d06a22bd4b19b5ca86aaf30abf5801">RPCHandler::doValidationCreate</a>,    <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        {   <span class="stringliteral">&quot;validation_seed&quot;</span>,      &amp;<a class="code" href="../../dc/d8c/a01297.html#a70dce7b77ab9226d7e9619868b158463">RPCHandler::doValidationSeed</a>,      <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        {   <span class="stringliteral">&quot;wallet_accounts&quot;</span>,      &amp;<a class="code" href="../../dc/d8c/a01297.html#a56cd8842b63e346bdda718d81b0dcdce">RPCHandler::doWalletAccounts</a>,      <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4faf3e5782811146c0f04ca7d1a2248e267">optCurrent</a>  },</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        {   <span class="stringliteral">&quot;wallet_propose&quot;</span>,       &amp;<a class="code" href="../../dc/d8c/a01297.html#abdd26c4e121117c798f5a1229fe77979">RPCHandler::doWalletPropose</a>,       <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        {   <span class="stringliteral">&quot;wallet_seed&quot;</span>,          &amp;<a class="code" href="../../dc/d8c/a01297.html#a94c663acd3d07543ad5ba1c7a53530b6">RPCHandler::doWalletSeed</a>,          <span class="keyword">true</span>,   <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <span class="comment">// Evented methods</span></div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;        {   <span class="stringliteral">&quot;subscribe&quot;</span>,            &amp;<a class="code" href="../../dc/d8c/a01297.html#af66ac86d99976b533baa08e959e8303f">RPCHandler::doSubscribe</a>,           <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        {   <span class="stringliteral">&quot;unsubscribe&quot;</span>,          &amp;<a class="code" href="../../dc/d8c/a01297.html#aaa6f604e5f4c8324ee9ca4a5c03d0fcc">RPCHandler::doUnsubscribe</a>,         <span class="keyword">false</span>,  <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fad033dcfdf6126027b40c60e111fb4f69">optNone</a>     },</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    };</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordtype">int</span>     i = <a class="code" href="../../d0/d75/a03105.html#a75745524e7df94e234d57aa3d2a3856d">NUMBER</a> (commandsA);</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordflow">while</span> (i-- &amp;&amp; strCommand != commandsA[i].pCommand)</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        ;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">if</span> (i &lt; 0)</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a2e316006c45784996f1c36ff28ecf795">rpcUNKNOWN_COMMAND</a>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (commandsA[i].bAdminRequired &amp;&amp; <a class="code" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a> != <a class="code" href="../../d3/db8/a00316.html#a459f32c779b04342b4811b1a898a156eabfd6bd9f2deb401e760dbafe42c80107">Config::ADMIN</a>)</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932af84f0f070938fb2e6bfc21dd28e98c5c">rpcNO_PERMISSION</a>);</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    }</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;    {</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;        <a class="code" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> lock (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getMasterLock ());</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;        <span class="keywordflow">if</span> ((commandsA[i].iOptions &amp; <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fa911b99d0c698d47d6e65816ff7b7e7dd">optNetwork</a>) &amp;&amp; (<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#af1066b526f400f571c4985950ef97aa4">getOperatingMode</a> () &lt; <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaacef3f23406b4e678986eb3be3a7ccfd9">NetworkOPs::omSYNCING</a>))</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;        {</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;Insufficient network mode for RPC: &quot;</span> &lt;&lt; <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#ad776a4022fcc29997cc20d6ae4f7bdbe">strOperatingMode</a> ();</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a128bdc6241c00a1d4486399d304c2d28">rpcNO_NETWORK</a>);</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;        }</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().RUN_STANDALONE &amp;&amp; (commandsA[i].iOptions &amp; <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4faf3e5782811146c0f04ca7d1a2248e267">optCurrent</a>) &amp;&amp; (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getLedgerMaster().getValidatedLedgerAge() &gt; 120))</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        {</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a74511028d6a24bc8826f5fc70ca61ef5">rpcNO_CURRENT</a>);</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        }</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> ((commandsA[i].iOptions &amp; <a class="code" href="../../dc/d8c/a01297.html#a985fefd4564316f04434e9221575ec4fabff8d7ca31f352fab0a46348f31a46d5">optClosed</a>) &amp;&amp; !<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#ad05280c2a39d4757801d02b8f960300a">getClosedLedger</a> ())</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        {</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932abc5ca87666d140c5f56880e7a7448773">rpcNO_CLOSED</a>);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        }</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;        {</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <span class="keywordflow">try</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;            {</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                <a class="code" href="../../d7/d92/a00887.html#a6e5a511c698f509f12230964edf7b29d">LoadEvent::autoptr</a> ev   = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c">getJobQueue</a>().<a class="code" href="../../dc/d0c/a00783.html#ab2ce1ef765c58d0d32214d766c06eabb">getLoadEventAP</a>(</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                    <a class="code" href="../../d9/d9d/a03417.html#ae0f54f8ce649d639bf3e2b295347e17aa77e85f25213818dcf37b435f28558060">jtGENERIC</a>, std::string(<span class="stringliteral">&quot;cmd:&quot;</span>) + strCommand);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvRaw       = (this-&gt;* (commandsA[i].dfpFunc)) (params, loadType, lock);</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                <span class="comment">// Regularize result.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                <span class="keywordflow">if</span> (jvRaw.<a class="code" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92">isObject</a> ())</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                {</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                    <span class="comment">// Got an object.</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                    <span class="keywordflow">return</span> jvRaw;</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                }</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                {</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                    <span class="comment">// Probably got a string.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvResult (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;                    jvResult[<span class="stringliteral">&quot;message&quot;</span>] = jvRaw;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                    <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                }</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;            <span class="keywordflow">catch</span> (std::exception&amp; e)</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            {</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;Caught throw: &quot;</span> &lt;&lt; e.what ();</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                <span class="keywordflow">if</span> (loadType == <a class="code" href="../../d5/d6b/a03428.html#a11668794bb6001a6d6e35f5b9514fba1">Resource::feeReferenceRPC</a>)</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                    loadType = <a class="code" href="../../d5/d6b/a03428.html#a287a085f30cb796a3517662182759f1f">Resource::feeExceptionRPC</a>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a839833d48b635d8df6a9176274ae922f">rpcINTERNAL</a>);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;        }</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;    }</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a120877dbbbbb7b6fa1214d28480b728e_icgraph.png" border="0" usemap="#dc/d8c/a01297_a120877dbbbbb7b6fa1214d28480b728e_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a120877dbbbbb7b6fa1214d28480b728e_icgraph" id="dc/d8c/a01297_a120877dbbbbb7b6fa1214d28480b728e_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="197,53,331,99"/><area shape="rect" id="node13" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="189,122,339,169"/><area shape="rect" id="node15" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="201,192,327,221"/><area shape="rect" id="node5" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="388,5,572,51"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="393,74,567,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="623,74,807,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="857,74,1041,121"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="441,192,519,221"/><area shape="rect" id="node19" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="689,165,740,195"/><area shape="rect" id="node21" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="660,219,769,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5724314350b54b02ea9191dd88d1e0ff"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doConnect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d62/a03257_source.html#l00029">29</a> of file <a class="el" href="../../df/d62/a03257_source.html">Connect.cpp</a>.</p>

<p>References <a class="el" href="../../d3/df9/a02052_source.html#l00061">beast::IP::Endpoint::at_port()</a>, <a class="el" href="../../de/de6/a01063.html#ad2c027b6e00d798830d9d47cabbe7d41">ripple::Overlay::connect()</a>, <a class="el" href="../../d1/d39/a02048_source.html#l00051">beast::IP::Endpoint::from_string()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d0/dc2/a02477_source.html#l00647">ripple::getConfig()</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00033">Json::intValue</a>, <a class="el" href="../../d2/dd9/a02046_source.html#l00127">beast::IP::is_unspecified()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00962">Json::Value::isConvertibleTo()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00166">ripple::RPC::missing_field_error()</a>, <a class="el" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee">ripple::Application::overlay()</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00072">ripple::rpcINVALID_PARAMS</a>, and <a class="el" href="../../d2/db9/a01926_source.html#l00039">ripple::SYSTEM_PEER_PORT</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;{</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().RUN_STANDALONE)</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;cannot connect in standalone mode&quot;</span>;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;ip&quot;</span>))</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06">RPC::missing_field_error</a> (<span class="stringliteral">&quot;ip&quot;</span>);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;port&quot;</span>) &amp;&amp; !params[<span class="stringliteral">&quot;port&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7ec153803631a27abf58cba2bb1af70c">isConvertibleTo</a> (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae5a9d708d5c9e23ae9bf98898522512d" title="signed integer value ">Json::intValue</a>))</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordtype">int</span> iPort;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">if</span>(params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;port&quot;</span>))</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        iPort = params[<span class="stringliteral">&quot;port&quot;</span>].asInt ();</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        iPort = <a class="code" href="../../d9/d9d/a03417.html#a4b09805c8052572a3d3bd68f1fa0037f">SYSTEM_PEER_PORT</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="../../da/dc3/a00453.html">beast::IP::Endpoint</a> ip (<a class="code" href="../../da/dc3/a00453.html#ab2c227db84255620219ebab8ead53636">beast::IP::Endpoint::from_string</a>(params[<span class="stringliteral">&quot;ip&quot;</span>].asString ()));</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">if</span> (! <a class="code" href="../../d2/d7f/a03369.html#ab56ae9d3b6003bad39bea158b35d8d67">is_unspecified</a> (ip))</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee">overlay</a> ().<a class="code" href="../../de/de6/a01063.html#ad2c027b6e00d798830d9d47cabbe7d41">connect</a> (ip.at_port(iPort));</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;connecting&quot;</span>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a5724314350b54b02ea9191dd88d1e0ff_cgraph.png" border="0" usemap="#dc/d8c/a01297_a5724314350b54b02ea9191dd88d1e0ff_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a5724314350b54b02ea9191dd88d1e0ff_cgraph" id="dc/d8c/a01297_a5724314350b54b02ea9191dd88d1e0ff_cgraph">
<area shape="rect" id="node3" href="../../da/dc3/a00453.html#add6bd9801623765536e19ec1ad0f8011" title="beast::IP::Endpoint\l::at_port" alt="" coords="219,5,352,51"/><area shape="rect" id="node7" href="../../de/de6/a01063.html#ad2c027b6e00d798830d9d47cabbe7d41" title="ripple::Overlay::connect" alt="" coords="205,75,365,104"/><area shape="rect" id="node9" href="../../da/dc3/a00453.html#ab2c227db84255620219ebab8ead53636" title="beast::IP::Endpoint\l::from_string" alt="" coords="219,127,352,174"/><area shape="rect" id="node14" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="235,197,336,227"/><area shape="rect" id="node18" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d" title="ripple::getConfig" alt="" coords="227,251,344,280"/><area shape="rect" id="node20" href="../../d2/d7f/a03369.html#ab56ae9d3b6003bad39bea158b35d8d67" title="beast::IP::is_unspecified" alt="" coords="203,304,368,333"/><area shape="rect" id="node22" href="../../d6/d27/a01781.html#a7ec153803631a27abf58cba2bb1af70c" title="Json::Value::isConvertibleTo" alt="" coords="191,357,380,387"/><area shape="rect" id="node24" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="208,411,363,440"/><area shape="rect" id="node26" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06" title="ripple::RPC::missing\l_field_error" alt="" coords="215,463,356,510"/><area shape="rect" id="node40" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee" title="ripple::Application\l::overlay" alt="" coords="223,533,348,579"/><area shape="rect" id="node42" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="684,564,791,593"/><area shape="rect" id="node5" href="../../da/dc3/a00453.html#a25e623f726dbda92789f51cce520b3b1" title="beast::IP::Endpoint\l::Endpoint" alt="" coords="452,27,585,74"/><area shape="rect" id="node12" href="../../da/dc3/a00453.html#a714dd5e5739d5173d1998925155ef09f" title="beast::IP::Endpoint\l::from_string_checked" alt="" coords="444,123,593,170"/><area shape="rect" id="node16" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="431,193,607,239"/><area shape="rect" id="node28" href="../../d2/d9b/a03429.html#a5b6ce0616f6995340f4dd846660c3749" title="ripple::RPC::make_param\l_error" alt="" coords="432,463,605,510"/><area shape="rect" id="node38" href="../../d2/d9b/a03429.html#a5d5937b3d78d931333b1c278e13e23b2" title="ripple::RPC::missing\l_field_message" alt="" coords="448,533,589,579"/><area shape="rect" id="node30" href="../../d2/d9b/a03429.html#a2cd6200f6709780fcf1dd26ec9cd2866" title="ripple::RPC::make_error" alt="" coords="656,492,819,521"/><area shape="rect" id="node32" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="868,519,996,566"/><area shape="rect" id="node34" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="1047,528,1223,557"/><area shape="rect" id="node36" href="../../dc/d8e/a00473.html#aec1914e37aa6e639af71985d7abfb52f" title="ripple::RPC::detail\l::ErrorCategory::get" alt="" coords="1273,519,1409,566"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a5724314350b54b02ea9191dd88d1e0ff_icgraph.png" border="0" usemap="#dc/d8c/a01297_a5724314350b54b02ea9191dd88d1e0ff_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a5724314350b54b02ea9191dd88d1e0ff_icgraph" id="dc/d8c/a01297_a5724314350b54b02ea9191dd88d1e0ff_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1ce5e78fbf78c32459343077b318e984"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doConsensusInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d13/a03258_source.html#l00022">22</a> of file <a class="el" href="../../d6/d13/a03258_source.html">ConsensusInfo.cpp</a>.</p>

<p>References <a class="el" href="../../dd/dac/a01008.html#a55b390329b7958248e50ad56c192281a">ripple::NetworkOPs::getConsensusInfo()</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, and <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;{</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> ret (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    ret[<span class="stringliteral">&quot;info&quot;</span>] = <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#a55b390329b7958248e50ad56c192281a">getConsensusInfo</a> ();</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a1ce5e78fbf78c32459343077b318e984_cgraph.png" border="0" usemap="#dc/d8c/a01297_a1ce5e78fbf78c32459343077b318e984_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a1ce5e78fbf78c32459343077b318e984_cgraph" id="dc/d8c/a01297_a1ce5e78fbf78c32459343077b318e984_cgraph">
<area shape="rect" id="node3" href="../../dd/dac/a01008.html#a55b390329b7958248e50ad56c192281a" title="ripple::NetworkOPs\l::getConsensusInfo" alt="" coords="189,5,325,51"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a1ce5e78fbf78c32459343077b318e984_icgraph.png" border="0" usemap="#dc/d8c/a01297_a1ce5e78fbf78c32459343077b318e984_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a1ce5e78fbf78c32459343077b318e984_icgraph" id="dc/d8c/a01297_a1ce5e78fbf78c32459343077b318e984_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5cf94b6ff18a230618ee1b00de524290"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doFeature </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d38/a03259_source.html#l00043">43</a> of file <a class="el" href="../../d6/d38/a03259_source.html">Feature.cpp</a>.</p>

<p>References <a class="el" href="../../d0/d2a/a00531.html#a3306dd446e71d8daebd491ab5c682341">ripple::FeatureTable::get()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../da/d74/a00099.html#a58504b1cd16de88b0f8ac0b3428cbe5f">ripple::Application::getFeatureTable()</a>, <a class="el" href="../../d0/d2a/a00531.html#ac43632844a74844aeb47a2c18ef11285">ripple::FeatureTable::getJson()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../dd/dfa/a02824_source.html#l00138">ripple::base_uint&lt; BITS &gt;::isZero()</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00081">ripple::rpcBAD_FEATURE</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00114">ripple::rpcNOT_SUPPORTED</a>, and <a class="el" href="../../dd/dfa/a02824_source.html#l00362">ripple::base_uint&lt; BITS &gt;::SetHex()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;{</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;feature&quot;</span>))</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvReply = <a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        jvReply[<span class="stringliteral">&quot;features&quot;</span>] = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a58504b1cd16de88b0f8ac0b3428cbe5f">getFeatureTable</a> ().<a class="code" href="../../d0/d2a/a00531.html#ac43632844a74844aeb47a2c18ef11285">getJson</a> (0);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <span class="keywordflow">return</span> jvReply;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    uint256 uFeature = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a58504b1cd16de88b0f8ac0b3428cbe5f">getFeatureTable</a> ().<a class="code" href="../../d0/d2a/a00531.html#a3306dd446e71d8daebd491ab5c682341">get</a> (params[<span class="stringliteral">&quot;feature&quot;</span>].asString ());</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">if</span> (uFeature.isZero ())</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        uFeature.<a class="code" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1">SetHex</a> (params[<span class="stringliteral">&quot;feature&quot;</span>].asString ());</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">if</span> (uFeature.isZero ())</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a5a9afe2f583b5c5e615979d14c00e7bd">rpcBAD_FEATURE</a>);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    }</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;vote&quot;</span>))</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a58504b1cd16de88b0f8ac0b3428cbe5f">getFeatureTable</a> ().<a class="code" href="../../d0/d2a/a00531.html#ac43632844a74844aeb47a2c18ef11285">getJson</a> (uFeature);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">// WRITEME</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a0d6de5ceef1ebe6f65e14a7561563550">rpcNOT_SUPPORTED</a>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a5cf94b6ff18a230618ee1b00de524290_cgraph.png" border="0" usemap="#dc/d8c/a01297_a5cf94b6ff18a230618ee1b00de524290_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a5cf94b6ff18a230618ee1b00de524290_cgraph" id="dc/d8c/a01297_a5cf94b6ff18a230618ee1b00de524290_cgraph">
<area shape="rect" id="node3" href="../../d0/d2a/a00531.html#a3306dd446e71d8daebd491ab5c682341" title="ripple::FeatureTable::get" alt="" coords="189,5,352,35"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="220,59,321,88"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#a58504b1cd16de88b0f8ac0b3428cbe5f" title="ripple::Application\l::getFeatureTable" alt="" coords="208,111,333,158"/><area shape="rect" id="node11" href="../../d0/d2a/a00531.html#ac43632844a74844aeb47a2c18ef11285" title="ripple::FeatureTable\l::getJson" alt="" coords="203,181,339,227"/><area shape="rect" id="node13" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="193,251,348,280"/><area shape="rect" id="node15" href="../../d7/d9a/a00152.html#a25e873c7d069c6c2d44655736f2b6c21" title="ripple::base_uint::\lisZero" alt="" coords="208,303,333,350"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="217,373,324,403"/><area shape="rect" id="node25" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="208,453,333,499"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="401,50,577,97"/><area shape="rect" id="node19" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="425,351,553,398"/><area shape="rect" id="node21" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="628,360,804,389"/><area shape="rect" id="node23" href="../../dc/d8e/a00473.html#aec1914e37aa6e639af71985d7abfb52f" title="ripple::RPC::detail\l::ErrorCategory::get" alt="" coords="855,351,991,398"/><area shape="rect" id="node27" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="416,421,563,451"/><area shape="rect" id="node31" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="415,475,564,504"/><area shape="rect" id="node33" href="../../d7/d9a/a00152.html#a174768646f7fe8d81f4a38f5ccf9e6f5" title="ripple::base_uint::zero" alt="" coords="415,528,564,557"/><area shape="rect" id="node29" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="641,421,791,451"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a5cf94b6ff18a230618ee1b00de524290_icgraph.png" border="0" usemap="#dc/d8c/a01297_a5cf94b6ff18a230618ee1b00de524290_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a5cf94b6ff18a230618ee1b00de524290_icgraph" id="dc/d8c/a01297_a5cf94b6ff18a230618ee1b00de524290_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5e5e99859e00ad824cfb1f0b30679800"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doFetchInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/dda/a03260_source.html#l00023">23</a> of file <a class="el" href="../../d1/dda/a03260_source.html">FetchInfo.cpp</a>.</p>

<p>References <a class="el" href="../../da/d23/a02452_source.html#l00929">Json::Value::asBool()</a>, <a class="el" href="../../dd/dac/a01008.html#a7258b6ea09ba8e972747b57c0aab914c">ripple::NetworkOPs::clearLedgerFetch()</a>, <a class="el" href="../../dd/dac/a01008.html#ae690f8253f39e7377a94e50ae259d05f">ripple::NetworkOPs::getLedgerFetchInfo()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, and <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> ret (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="keywordflow">if</span> (jvParams.isMember(<span class="stringliteral">&quot;clear&quot;</span>) &amp;&amp; jvParams[<span class="stringliteral">&quot;clear&quot;</span>].asBool())</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    {</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#a7258b6ea09ba8e972747b57c0aab914c">clearLedgerFetch</a>();</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        ret[<span class="stringliteral">&quot;clear&quot;</span>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    }</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    ret[<span class="stringliteral">&quot;info&quot;</span>] = <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#ae690f8253f39e7377a94e50ae259d05f">getLedgerFetchInfo</a>();</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a5e5e99859e00ad824cfb1f0b30679800_cgraph.png" border="0" usemap="#dc/d8c/a01297_a5e5e99859e00ad824cfb1f0b30679800_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a5e5e99859e00ad824cfb1f0b30679800_cgraph" id="dc/d8c/a01297_a5e5e99859e00ad824cfb1f0b30679800_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="199,5,337,35"/><area shape="rect" id="node5" href="../../dd/dac/a01008.html#a7258b6ea09ba8e972747b57c0aab914c" title="ripple::NetworkOPs\l::clearLedgerFetch" alt="" coords="200,58,336,105"/><area shape="rect" id="node7" href="../../dd/dac/a01008.html#ae690f8253f39e7377a94e50ae259d05f" title="ripple::NetworkOPs\l::getLedgerFetchInfo" alt="" coords="197,127,339,174"/><area shape="rect" id="node9" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="191,197,345,227"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a5e5e99859e00ad824cfb1f0b30679800_icgraph.png" border="0" usemap="#dc/d8c/a01297_a5e5e99859e00ad824cfb1f0b30679800_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a5e5e99859e00ad824cfb1f0b30679800_icgraph" id="dc/d8c/a01297_a5e5e99859e00ad824cfb1f0b30679800_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae33a4e196231d363db4fe43d05143dce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doGetCounts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/df1/a03261_source.html#l00026">26</a> of file <a class="el" href="../../dc/df1/a03261_source.html">GetCounts.cpp</a>.</p>

<p>References <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d9/d6c/a02903_source.html#l00075">ripple::AcceptedLedger::getCacheHitRate()</a>, <a class="el" href="../../dd/dcb/a00375.html#a105cc1993a6e21fa10b5f35ec837ac89">ripple::NodeStore::Database::getCacheHitRate()</a>, <a class="el" href="../../d1/de6/a00837.html#a8debf01ddee92cc6abea849b378f004c">ripple::LedgerMaster::getCacheHitRate()</a>, <a class="el" href="../../d5/d43/a03101_source.html#l00039">ripple::CountedObjects::getCounts()</a>, <a class="el" href="../../d2/d4c/a02897_source.html#l00032">ripple::DatabaseCon::getDB()</a>, <a class="el" href="../../de/dd1/a03112_source.html#l00033">ripple::UptimeTimer::getElapsedSeconds()</a>, <a class="el" href="../../de/d76/a02417_source.html#l00145">ripple::TaggedCache&lt; Key, T, Hash, KeyEqual, Mutex &gt;::getHitRate()</a>, <a class="el" href="../../d5/d43/a03101_source.html#l00022">ripple::CountedObjects::getInstance()</a>, <a class="el" href="../../de/dd1/a03112_source.html#l00071">ripple::UptimeTimer::getInstance()</a>, <a class="el" href="../../dc/d38/a02894_source.html#l00104">ripple::Database::getKBUsedAll()</a>, <a class="el" href="../../dc/d38/a02894_source.html#l00108">ripple::Database::getKBUsedDB()</a>, <a class="el" href="../../da/d74/a00099.html#a0a8cd54d61526a10f629ce55d196f344">ripple::Application::getLedgerDB()</a>, <a class="el" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104">ripple::Application::getLedgerMaster()</a>, <a class="el" href="../../dd/dac/a01008.html#aa9220ccf8382acf85ccd1043f68b9c37">ripple::NetworkOPs::getLocalTxCount()</a>, <a class="el" href="../../da/d74/a00099.html#a25c5851322f6cb3762563fd1278c6143">ripple::Application::getNodeStore()</a>, <a class="el" href="../../da/d74/a00099.html#a7c963aa5c47180b24897ff6b5622e5bc">ripple::Application::getOPs()</a>, <a class="el" href="../../da/d74/a00099.html#a84b5eb8859011f37e158ab86c29caa06">ripple::Application::getSLECache()</a>, <a class="el" href="../../dd/da9/a03027_source.html#l00258">ripple::SHAMap::getTreeNodeSize()</a>, <a class="el" href="../../da/d74/a00099.html#aed3322f9602bc688e68b14e8baff5440">ripple::Application::getTxnDB()</a>, <a class="el" href="../../dd/dcb/a00375.html#aabb70be2c6ef7841f534ff9202326e46">ripple::NodeStore::Database::getWriteLoad()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, and <a class="el" href="../../d6/d38/a03259_source.html#l00023">ripple::textTime()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;{</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordtype">int</span> minCount = 10;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;min_count&quot;</span>))</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        minCount = params[<span class="stringliteral">&quot;min_count&quot;</span>].asUInt ();</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="../../db/d10/a00350.html#af703d9401eba0fa28fb924c2425862ea">CountedObjects::List</a> objectCounts = <a class="code" href="../../db/d10/a00350.html#ae655ec8ef3d3acee176c198a3cae6d40">CountedObjects::getInstance</a> ().<a class="code" href="../../db/d10/a00350.html#a0aa3595c7b447836b68712d349a3b103">getCounts</a> (minCount);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> ret (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    BOOST_FOREACH (<a class="code" href="../../db/d10/a00350.html#acb1972e57736d2ac934b88dfda0916e6">CountedObjects::Entry</a>&amp; it, objectCounts)</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    {</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        ret [it.first] = it.second;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    }</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordtype">int</span> dbKB = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a0a8cd54d61526a10f629ce55d196f344">getLedgerDB</a> ()-&gt;<a class="code" href="../../d6/db8/a00376.html#a9368476a90456c8f1256a53c239cc9a5">getDB</a> ()-&gt;<a class="code" href="../../d5/db5/a00374.html#a34eec5940253ee7f52e5a0b2451193aa">getKBUsedAll</a> ();</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">if</span> (dbKB &gt; 0)</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        ret[<span class="stringliteral">&quot;dbKBTotal&quot;</span>] = dbKB;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    dbKB = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a0a8cd54d61526a10f629ce55d196f344">getLedgerDB</a> ()-&gt;<a class="code" href="../../d6/db8/a00376.html#a9368476a90456c8f1256a53c239cc9a5">getDB</a> ()-&gt;<a class="code" href="../../d5/db5/a00374.html#a40e5f5b57f3eef67568b4326cafb9659">getKBUsedDB</a> ();</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">if</span> (dbKB &gt; 0)</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        ret[<span class="stringliteral">&quot;dbKBLedger&quot;</span>] = dbKB;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    dbKB = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#aed3322f9602bc688e68b14e8baff5440">getTxnDB</a> ()-&gt;<a class="code" href="../../d6/db8/a00376.html#a9368476a90456c8f1256a53c239cc9a5">getDB</a> ()-&gt;<a class="code" href="../../d5/db5/a00374.html#a40e5f5b57f3eef67568b4326cafb9659">getKBUsedDB</a> ();</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">if</span> (dbKB &gt; 0)</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        ret[<span class="stringliteral">&quot;dbKBTransaction&quot;</span>] = dbKB;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        std::size_t c = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a7c963aa5c47180b24897ff6b5622e5bc">getOPs</a>().<a class="code" href="../../dd/dac/a01008.html#aa9220ccf8382acf85ccd1043f68b9c37">getLocalTxCount</a> ();</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <span class="keywordflow">if</span> (c &gt; 0)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            ret[<span class="stringliteral">&quot;local_txs&quot;</span>] = <span class="keyword">static_cast&lt;</span><a class="code" href="../../d2/dd6/a03414.html#a800fb90eb6ee8d5d62b600c06f87f7d4">Json::UInt</a><span class="keyword">&gt;</span> (c);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    ret[<span class="stringliteral">&quot;write_load&quot;</span>] = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a25c5851322f6cb3762563fd1278c6143">getNodeStore</a> ().<a class="code" href="../../dd/dcb/a00375.html#aabb70be2c6ef7841f534ff9202326e46">getWriteLoad</a> ();</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    ret[<span class="stringliteral">&quot;SLE_hit_rate&quot;</span>] = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a84b5eb8859011f37e158ab86c29caa06">getSLECache</a> ().<a class="code" href="../../dd/d55/a01638.html#a27ec9600637298298604d2307ddc58e5">getHitRate</a> ();</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    ret[<span class="stringliteral">&quot;node_hit_rate&quot;</span>] = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a25c5851322f6cb3762563fd1278c6143">getNodeStore</a> ().<a class="code" href="../../dd/dcb/a00375.html#a105cc1993a6e21fa10b5f35ec837ac89">getCacheHitRate</a> ();</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    ret[<span class="stringliteral">&quot;ledger_hit_rate&quot;</span>] = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104">getLedgerMaster</a> ().<a class="code" href="../../d1/de6/a00837.html#a8debf01ddee92cc6abea849b378f004c">getCacheHitRate</a> ();</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    ret[<span class="stringliteral">&quot;AL_hit_rate&quot;</span>] = <a class="code" href="../../d1/dea/a00054.html#ab93d95aac088d92a74021c06b7cd77dc">AcceptedLedger::getCacheHitRate</a> ();</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    ret[<span class="stringliteral">&quot;fullbelow_size&quot;</span>] = int(<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getFullBelowCache().size());</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    ret[<span class="stringliteral">&quot;treenode_size&quot;</span>] = <a class="code" href="../../d6/dfe/a01366.html#a2468ed449310e48ac80c53a63ff0e34f">SHAMap::getTreeNodeSize</a> ();</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    std::string uptime;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordtype">int</span> s = <a class="code" href="../../df/d7b/a01765.html#ac9f8c7e22a8eb347f4be7596bd712d01">UptimeTimer::getInstance</a> ().<a class="code" href="../../df/d7b/a01765.html#aeeb43cebafc02bf5d46cb2bfbcd20444">getElapsedSeconds</a> ();</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#a9d23ef2ff4c8ae72e22bb11c533f9e69">textTime</a> (uptime, s, <span class="stringliteral">&quot;year&quot;</span>, 365 * 24 * 60 * 60);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#a9d23ef2ff4c8ae72e22bb11c533f9e69">textTime</a> (uptime, s, <span class="stringliteral">&quot;day&quot;</span>, 24 * 60 * 60);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#a9d23ef2ff4c8ae72e22bb11c533f9e69">textTime</a> (uptime, s, <span class="stringliteral">&quot;hour&quot;</span>, 60 * 60);</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#a9d23ef2ff4c8ae72e22bb11c533f9e69">textTime</a> (uptime, s, <span class="stringliteral">&quot;minute&quot;</span>, 60);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#a9d23ef2ff4c8ae72e22bb11c533f9e69">textTime</a> (uptime, s, <span class="stringliteral">&quot;second&quot;</span>, 1);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    ret[<span class="stringliteral">&quot;uptime&quot;</span>] = uptime;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_ae33a4e196231d363db4fe43d05143dce_cgraph.png" border="0" usemap="#dc/d8c/a01297_ae33a4e196231d363db4fe43d05143dce_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_ae33a4e196231d363db4fe43d05143dce_cgraph" id="dc/d8c/a01297_ae33a4e196231d363db4fe43d05143dce_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="251,13,352,43"/><area shape="rect" id="node7" href="../../d1/dea/a00054.html#ab93d95aac088d92a74021c06b7cd77dc" title="ripple::AcceptedLedger\l::getCacheHitRate" alt="" coords="224,66,379,113"/><area shape="rect" id="node9" href="../../dd/dcb/a00375.html#a105cc1993a6e21fa10b5f35ec837ac89" title="ripple::NodeStore::\lDatabase::getCacheHitRate" alt="" coords="208,135,395,182"/><area shape="rect" id="node11" href="../../d1/de6/a00837.html#a8debf01ddee92cc6abea849b378f004c" title="ripple::LedgerMaster\l::getCacheHitRate" alt="" coords="232,205,371,251"/><area shape="rect" id="node13" href="../../db/d10/a00350.html#a0aa3595c7b447836b68712d349a3b103" title="ripple::CountedObjects\l::getCounts" alt="" coords="224,274,379,321"/><area shape="rect" id="node21" href="../../d6/db8/a00376.html#a9368476a90456c8f1256a53c239cc9a5" title="ripple::DatabaseCon\l::getDB" alt="" coords="231,343,372,390"/><area shape="rect" id="node23" href="../../df/d7b/a01765.html#aeeb43cebafc02bf5d46cb2bfbcd20444" title="ripple::UptimeTimer\l::getElapsedSeconds" alt="" coords="228,413,375,459"/><area shape="rect" id="node31" href="../../dd/d55/a01638.html#a27ec9600637298298604d2307ddc58e5" title="ripple::TaggedCache\l::getHitRate" alt="" coords="231,482,372,529"/><area shape="rect" id="node33" href="../../db/d10/a00350.html#ae655ec8ef3d3acee176c198a3cae6d40" title="ripple::CountedObjects\l::getInstance" alt="" coords="224,551,379,598"/><area shape="rect" id="node35" href="../../df/d7b/a01765.html#ac9f8c7e22a8eb347f4be7596bd712d01" title="ripple::UptimeTimer\l::getInstance" alt="" coords="233,621,369,667"/><area shape="rect" id="node37" href="../../d5/db5/a00374.html#a34eec5940253ee7f52e5a0b2451193aa" title="ripple::Database::getKBUsedAll" alt="" coords="199,691,404,720"/><area shape="rect" id="node39" href="../../d5/db5/a00374.html#a40e5f5b57f3eef67568b4326cafb9659" title="ripple::Database::getKBUsedDB" alt="" coords="196,744,407,773"/><area shape="rect" id="node41" href="../../da/d74/a00099.html#a0a8cd54d61526a10f629ce55d196f344" title="ripple::Application\l::getLedgerDB" alt="" coords="239,797,364,843"/><area shape="rect" id="node43" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="239,866,364,913"/><area shape="rect" id="node45" href="../../dd/dac/a01008.html#aa9220ccf8382acf85ccd1043f68b9c37" title="ripple::NetworkOPs\l::getLocalTxCount" alt="" coords="233,935,369,982"/><area shape="rect" id="node47" href="../../da/d74/a00099.html#a25c5851322f6cb3762563fd1278c6143" title="ripple::Application\l::getNodeStore" alt="" coords="239,1005,364,1051"/><area shape="rect" id="node49" href="../../da/d74/a00099.html#a7c963aa5c47180b24897ff6b5622e5bc" title="ripple::Application\l::getOPs" alt="" coords="239,1074,364,1121"/><area shape="rect" id="node51" href="../../da/d74/a00099.html#a84b5eb8859011f37e158ab86c29caa06" title="ripple::Application\l::getSLECache" alt="" coords="239,1143,364,1190"/><area shape="rect" id="node53" href="../../d6/dfe/a01366.html#a2468ed449310e48ac80c53a63ff0e34f" title="ripple::SHAMap::getTreeNodeSize" alt="" coords="191,1213,412,1243"/><area shape="rect" id="node55" href="../../da/d74/a00099.html#aed3322f9602bc688e68b14e8baff5440" title="ripple::Application\l::getTxnDB" alt="" coords="239,1266,364,1313"/><area shape="rect" id="node57" href="../../dd/dcb/a00375.html#aabb70be2c6ef7841f534ff9202326e46" title="ripple::NodeStore::\lDatabase::getWriteLoad" alt="" coords="220,1335,383,1382"/><area shape="rect" id="node59" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="224,1405,379,1435"/><area shape="rect" id="node61" href="../../d9/d9d/a03417.html#a9d23ef2ff4c8ae72e22bb11c533f9e69" title="ripple::textTime" alt="" coords="245,1459,357,1488"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="463,5,639,51"/><area shape="rect" id="node15" href="../../db/ddc/a00353.html#ae8224a395f562d22502377664c083687" title="ripple::CountedObjects\l::CounterBase::getCount" alt="" coords="468,205,633,251"/><area shape="rect" id="node17" href="../../db/ddc/a00353.html#a8f1705fff3dcc0050cd3915994fa2f5f" title="ripple::CountedObjects\l::CounterBase::getName" alt="" coords="468,274,633,321"/><area shape="rect" id="node19" href="../../db/ddc/a00353.html#aacd87df54b11d42808a0f5a5cab1e2e6" title="ripple::CountedObjects\l::CounterBase::getNext" alt="" coords="471,343,631,390"/><area shape="rect" id="node25" href="../../d5/d83/a03337.html#afbf09b54c10fd7235d007320b890ee00" title="beast::memoryBarrier" alt="" coords="477,421,624,451"/><area shape="rect" id="node27" href="../../d5/d83/a03337.html#acf58e32550d7ae5ab7d96608d8373878" title="beast::beast_MemoryBarrier" alt="" coords="688,421,875,451"/><area shape="rect" id="node29" href="../../d5/d83/a03337.html#a433242b5aefb262dc5626e4ed2327173" title="beast::beast_Interlocked\lIncrement" alt="" coords="923,413,1088,459"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_ae33a4e196231d363db4fe43d05143dce_icgraph.png" border="0" usemap="#dc/d8c/a01297_ae33a4e196231d363db4fe43d05143dce_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_ae33a4e196231d363db4fe43d05143dce_icgraph" id="dc/d8c/a01297_ae33a4e196231d363db4fe43d05143dce_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad2142a33aae718be18780c93fceb1887"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doInternal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../de/dc6/a03019_source.html#l00079">79</a> of file <a class="el" href="../../de/dc6/a03019_source.html">RPCHandler.cpp</a>.</p>

<p>References <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00072">ripple::rpcINVALID_PARAMS</a>, and <a class="el" href="../../de/dc6/a03019_source.html#l00261">ripple::RPCInternalHandler::runHandler()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;{</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="comment">// Used for debug or special-purpose RPC commands</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;internal_command&quot;</span>))</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d8/dc5/a01300.html#a704fd34589300d5754c7be949239fdcb">RPCInternalHandler::runHandler</a> (params[<span class="stringliteral">&quot;internal_command&quot;</span>].asString (), params[<span class="stringliteral">&quot;params&quot;</span>]);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_ad2142a33aae718be18780c93fceb1887_cgraph.png" border="0" usemap="#dc/d8c/a01297_ad2142a33aae718be18780c93fceb1887_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_ad2142a33aae718be18780c93fceb1887_cgraph" id="dc/d8c/a01297_ad2142a33aae718be18780c93fceb1887_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="201,5,356,35"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="416,88,523,117"/><area shape="rect" id="node13" href="../../d8/dc5/a01300.html#a704fd34589300d5754c7be949239fdcb" title="ripple::RPCInternalHandler\l::runHandler" alt="" coords="189,109,368,155"/><area shape="rect" id="node7" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="572,79,700,126"/><area shape="rect" id="node9" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="751,88,927,117"/><area shape="rect" id="node11" href="../../dc/d8e/a00473.html#aec1914e37aa6e639af71985d7abfb52f" title="ripple::RPC::detail\l::ErrorCategory::get" alt="" coords="977,79,1113,126"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_ad2142a33aae718be18780c93fceb1887_icgraph.png" border="0" usemap="#dc/d8c/a01297_ad2142a33aae718be18780c93fceb1887_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_ad2142a33aae718be18780c93fceb1887_icgraph" id="dc/d8c/a01297_ad2142a33aae718be18780c93fceb1887_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7b1cff52f81e9f2a6887166592e6d8e8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doLedger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/dea/a02913_source.html#l00028">28</a> of file <a class="el" href="../../d8/dea/a02913_source.html">Ledger.cpp</a>.</p>

<p>References <a class="el" href="../../d2/db9/a01926_source.html#l00263">ripple::Config::ADMIN</a>, <a class="el" href="../../da/d23/a02452_source.html#l00929">Json::Value::asBool()</a>, <a class="el" href="../../d5/d6b/a03428.html#a3bffd22c83dd5da4b419134e040c619a">ripple::Resource::feeHighBurdenRPC</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39">ripple::LedgerMaster::getClosedLedger()</a>, <a class="el" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8">ripple::LedgerMaster::getCurrentLedger()</a>, <a class="el" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104">ripple::Application::getLedgerMaster()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d7/da7/a02914_source.html#l00043">LEDGER_JSON_DUMP_STATE</a>, <a class="el" href="../../d7/da7/a02914_source.html#l00042">LEDGER_JSON_DUMP_TXRP</a>, <a class="el" href="../../d7/da7/a02914_source.html#l00044">LEDGER_JSON_EXPAND</a>, <a class="el" href="../../d7/da7/a02914_source.html#l00045">LEDGER_JSON_FULL</a>, <a class="el" href="../../d0/d7c/a03318_source.html#l00043">ripple::RPC::lookupLedger()</a>, <a class="el" href="../../d8/d4b/a03093_source.html#l00029">ripple::lsDEBUG</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, <a class="el" href="../../de/dec/a03020_source.html#l00140">mRole</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00044">ripple::rpcNO_PERMISSION</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00047">ripple::rpcTOO_BUSY</a>, and <a class="el" href="../../dc/dc0/a03087_source.html#l00075">WriteLog</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;{</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;ledger&quot;</span>) &amp;&amp; !params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;ledger_hash&quot;</span>) &amp;&amp; !params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;ledger_index&quot;</span>))</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    {</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> ret (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>), current (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>), closed (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104">getLedgerMaster</a> ().<a class="code" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8">getCurrentLedger</a> ()-&gt;addJson (current, 0);</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104">getLedgerMaster</a> ().<a class="code" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39">getClosedLedger</a> ()-&gt;addJson (closed, 0);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        ret[<span class="stringliteral">&quot;open&quot;</span>] = current;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        ret[<span class="stringliteral">&quot;closed&quot;</span>] = closed;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    }</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>     lpLedger;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>         jvResult    = <a class="code" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258">RPC::lookupLedger</a> (params, lpLedger, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">if</span> (!lpLedger)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordtype">bool</span>    bFull           = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;full&quot;</span>) &amp;&amp; params[<span class="stringliteral">&quot;full&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ();</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordtype">bool</span>    bTransactions   = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;transactions&quot;</span>) &amp;&amp; params[<span class="stringliteral">&quot;transactions&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ();</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordtype">bool</span>    bAccounts       = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;accounts&quot;</span>) &amp;&amp; params[<span class="stringliteral">&quot;accounts&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ();</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordtype">bool</span>    bExpand         = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;expand&quot;</span>) &amp;&amp; params[<span class="stringliteral">&quot;expand&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ();</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordtype">int</span>     iOptions        = (bFull ? <a class="code" href="../../d7/da7/a02914.html#a3db43f4065b8bc4179b4dee3bacbf879">LEDGER_JSON_FULL</a> : 0)</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;                              | (bExpand ? <a class="code" href="../../d7/da7/a02914.html#a3a252b269cb6dbd93fc48e6d585a3dea">LEDGER_JSON_EXPAND</a> : 0)</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                              | (bTransactions ? <a class="code" href="../../d7/da7/a02914.html#ae13b1514c90373cccf69b414d22a9e9b">LEDGER_JSON_DUMP_TXRP</a> : 0)</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;                              | (bAccounts ? <a class="code" href="../../d7/da7/a02914.html#a3cc299876841296950e7ce66e5bbc260">LEDGER_JSON_DUMP_STATE</a> : 0);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordflow">if</span> (bFull || bAccounts)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    {</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a> != <a class="code" href="../../d3/db8/a00316.html#a459f32c779b04342b4811b1a898a156eabfd6bd9f2deb401e760dbafe42c80107">Config::ADMIN</a>)</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <span class="comment">// Until some sane way to get full ledgers has been implemented, disallow</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            <span class="comment">// retrieving all state nodes</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932af84f0f070938fb2e6bfc21dd28e98c5c">rpcNO_PERMISSION</a>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getFeeTrack().isLoadedLocal() &amp;&amp; (<a class="code" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a> != <a class="code" href="../../d3/db8/a00316.html#a459f32c779b04342b4811b1a898a156eabfd6bd9f2deb401e760dbafe42c80107">Config::ADMIN</a>))</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a031699c2a2c25288caf7c5c512da58eb">lsDEBUG</a>, Peer) &lt;&lt; <span class="stringliteral">&quot;Too busy to give full ledger&quot;</span>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a>(<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a41779a85a65f6faeb648c960e77f388f">rpcTOO_BUSY</a>);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        }</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        loadType = <a class="code" href="../../d5/d6b/a03428.html#a3bffd22c83dd5da4b419134e040c619a">Resource::feeHighBurdenRPC</a>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> ret (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    lpLedger-&gt;addJson (ret, iOptions);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a7b1cff52f81e9f2a6887166592e6d8e8_cgraph.png" border="0" usemap="#dc/d8c/a01297_a7b1cff52f81e9f2a6887166592e6d8e8_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a7b1cff52f81e9f2a6887166592e6d8e8_cgraph" id="dc/d8c/a01297_a7b1cff52f81e9f2a6887166592e6d8e8_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="208,5,347,35"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="443,17,544,47"/><area shape="rect" id="node9" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="424,70,563,117"/><area shape="rect" id="node11" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8" title="ripple::LedgerMaster\l::getCurrentLedger" alt="" coords="208,507,347,554"/><area shape="rect" id="node13" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="431,139,556,186"/><area shape="rect" id="node15" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="416,209,571,239"/><area shape="rect" id="node17" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258" title="ripple::RPC::lookupLedger" alt="" coords="191,455,364,484"/><area shape="rect" id="node93" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="224,809,331,839"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="623,9,799,55"/><area shape="rect" id="node19" href="../../d6/d27/a01781.html#aff2e3a2e9fd5db5469588ab7b501d4db" title="Json::Value::get" alt="" coords="435,401,552,431"/><area shape="rect" id="node22" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="432,455,555,484"/><area shape="rect" id="node24" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="416,508,571,537"/><area shape="rect" id="node48" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7" title="Json::Value::isString" alt="" coords="423,561,564,591"/><area shape="rect" id="node50" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="648,605,773,651"/><area shape="rect" id="node60" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="420,735,567,764"/><area shape="rect" id="node62" href="../../d6/d27/a01781.html#a8ce848900e2e8fa23a41fcc2c1409fab" title="Json::Value::isNumeric" alt="" coords="415,788,572,817"/><area shape="rect" id="node68" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="429,841,557,871"/><area shape="rect" id="node70" href="../../dd/dac/a01008.html#a2797139168b2d6c069aa1f0c51bc327a" title="ripple::NetworkOPs\l::getLedgerByHash" alt="" coords="425,894,561,941"/><area shape="rect" id="node72" href="../../dd/dac/a01008.html#aa4a081f49bdf9ea42446691c34ceed79" title="ripple::NetworkOPs\l::getCurrentLedger" alt="" coords="425,963,561,1010"/><area shape="rect" id="node77" href="../../dd/dac/a01008.html#a3b147c209d1201adb03d478f148af4a1" title="ripple::NetworkOPs\l::getValidatedLedger" alt="" coords="423,262,564,309"/><area shape="rect" id="node79" href="../../dd/dac/a01008.html#a7615c0320aa25da4c77d806afe9c5c0e" title="ripple::NetworkOPs\l::getLedgerBySeq" alt="" coords="425,331,561,378"/><area shape="rect" id="node81" href="../../d7/d9a/a00152.html#ad19bda12f3725584ac179f2e091e30d7" title="ripple::base_uint::\lToString" alt="" coords="431,665,556,711"/><area shape="rect" id="node26" href="../../d7/db0/a03467.html#aba0a720f8204028aa9b0f78f969d5f97" title="rocksdb::crc32c::Extend" alt="" coords="629,508,792,537"/><area shape="rect" id="node28" href="../../d7/db0/a03467.html#a174fe9c8cf3cb558b7accfdc10c6c04c" title="rocksdb::crc32c::CRC32" alt="" coords="849,507,1015,536"/><area shape="rect" id="node30" href="../../d7/db0/a03467.html#aeb8537c518a4a8ac7e1d8f8ac1c6bb63" title="rocksdb::crc32c::Choose\l_CRC32" alt="" coords="1064,498,1232,545"/><area shape="rect" id="node32" href="../../d7/db0/a03467.html#a6abc7c8ed18979f0e12fcfb6460f9285" title="rocksdb::crc32c::isSSE42" alt="" coords="1281,445,1455,475"/><area shape="rect" id="node34" href="../../d7/db0/a03467.html#ab6bf1f9041f7859fe1aae6312f650115" title="rocksdb::crc32c::Fast\l_CRC32" alt="" coords="1293,498,1443,545"/><area shape="rect" id="node42" href="../../d7/db0/a03467.html#aabbb4470a0a8566fff676e40a5c3a491" title="rocksdb::crc32c::Slow\l_CRC32" alt="" coords="1504,558,1656,605"/><area shape="rect" id="node36" href="../../d7/db0/a03467.html#aa5eeccea7be6cc99acab7223cc1c7baf" title="rocksdb::crc32c::LE\l_LOAD64" alt="" coords="1511,489,1649,535"/><area shape="rect" id="node38" href="../../d4/d87/a03436.html#a0bb1082c7c473bb0c6614963a14fed62" title="rocksdb::DecodeFixed64" alt="" coords="1705,500,1871,529"/><area shape="rect" id="node40" href="../../d4/d87/a03436.html#a5eb46c01bbc65cc301b2648e655dbe15" title="rocksdb::DecodeFixed32" alt="" coords="1921,532,2087,561"/><area shape="rect" id="node44" href="../../d7/db0/a03467.html#a72b216c9d4dfeeaea89e2410eec06ff9" title="rocksdb::crc32c::LE\l_LOAD32" alt="" coords="1719,554,1857,601"/><area shape="rect" id="node52" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="859,560,1005,589"/><area shape="rect" id="node56" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="857,667,1007,696"/><area shape="rect" id="node58" href="../../d7/d9a/a00152.html#a174768646f7fe8d81f4a38f5ccf9e6f5" title="ripple::base_uint::zero" alt="" coords="857,613,1007,643"/><area shape="rect" id="node54" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1073,648,1223,677"/><area shape="rect" id="node64" href="../../d6/d27/a01781.html#a0ea567fa51fc808851698bef59b43626" title="Json::Value::isDouble" alt="" coords="636,777,785,807"/><area shape="rect" id="node66" href="../../d6/d27/a01781.html#aec4f74ef7b776b1d9c8a10fc3bb4add5" title="Json::Value::isIntegral" alt="" coords="635,831,787,860"/><area shape="rect" id="node83" href="../../d7/d9a/a00152.html#a348c4019943a8b3a05f39f1efcb589c9" title="ripple::base_uint::\lGetHex" alt="" coords="648,695,773,742"/><area shape="rect" id="node85" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="869,719,995,766"/><area shape="rect" id="node89" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073" title="ripple::strHex" alt="" coords="883,789,981,819"/><area shape="rect" id="node91" href="../../d9/d9d/a03417.html#aca6318bcfeb25f74477566a7ddc06a63" title="ripple::charHex" alt="" coords="1093,789,1203,819"/><area shape="rect" id="node95" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="429,1033,557,1079"/><area shape="rect" id="node97" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="623,1041,799,1071"/><area shape="rect" id="node99" href="../../dc/d8e/a00473.html#aec1914e37aa6e639af71985d7abfb52f" title="ripple::RPC::detail\l::ErrorCategory::get" alt="" coords="864,1033,1000,1079"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a7b1cff52f81e9f2a6887166592e6d8e8_icgraph.png" border="0" usemap="#dc/d8c/a01297_a7b1cff52f81e9f2a6887166592e6d8e8_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a7b1cff52f81e9f2a6887166592e6d8e8_icgraph" id="dc/d8c/a01297_a7b1cff52f81e9f2a6887166592e6d8e8_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0518029e09b22a2ea50e1d6bf078067a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doLedgerAccept </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/dbb/a03262_source.html#l00023">23</a> of file <a class="el" href="../../dc/dbb/a03262_source.html">LedgerAccept.cpp</a>.</p>

<p>References <a class="el" href="../../dd/dac/a01008.html#a704309dea2e57a15a3301a02537fb2ae">ripple::NetworkOPs::acceptLedger()</a>, <a class="el" href="../../d0/dc2/a02477_source.html#l00647">ripple::getConfig()</a>, <a class="el" href="../../dd/dac/a01008.html#a09715bbe77ad8adb155444580383dc43">ripple::NetworkOPs::getCurrentLedgerID()</a>, and <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvResult;</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().RUN_STANDALONE)</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    {</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;notStandAlone&quot;</span>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    }</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    {</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#a704309dea2e57a15a3301a02537fb2ae">acceptLedger</a> ();</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        jvResult[<span class="stringliteral">&quot;ledger_current_index&quot;</span>]    = <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#a09715bbe77ad8adb155444580383dc43">getCurrentLedgerID</a> ();</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    }</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a0518029e09b22a2ea50e1d6bf078067a_cgraph.png" border="0" usemap="#dc/d8c/a01297_a0518029e09b22a2ea50e1d6bf078067a_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a0518029e09b22a2ea50e1d6bf078067a_cgraph" id="dc/d8c/a01297_a0518029e09b22a2ea50e1d6bf078067a_cgraph">
<area shape="rect" id="node3" href="../../dd/dac/a01008.html#a704309dea2e57a15a3301a02537fb2ae" title="ripple::NetworkOPs\l::acceptLedger" alt="" coords="193,5,329,51"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d" title="ripple::getConfig" alt="" coords="203,75,320,104"/><area shape="rect" id="node7" href="../../dd/dac/a01008.html#a09715bbe77ad8adb155444580383dc43" title="ripple::NetworkOPs\l::getCurrentLedgerID" alt="" coords="189,127,333,174"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a0518029e09b22a2ea50e1d6bf078067a_icgraph.png" border="0" usemap="#dc/d8c/a01297_a0518029e09b22a2ea50e1d6bf078067a_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a0518029e09b22a2ea50e1d6bf078067a_icgraph" id="dc/d8c/a01297_a0518029e09b22a2ea50e1d6bf078067a_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af061bc5d67a0280408da85ad518038de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doLedgerCleaner </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/dd2/a02916_source.html#l00023">23</a> of file <a class="el" href="../../d6/dd2/a02916_source.html">LedgerCleaner.cpp</a>.</p>

<p>References <a class="el" href="../../d1/de6/a00837.html#a5db10c17658972b1d7cd9e88346c054f">ripple::LedgerMaster::doLedgerCleaner()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, and <a class="el" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104">ripple::Application::getLedgerMaster()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    masterLockHolder.unlock();</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104">getLedgerMaster</a>().<a class="code" href="../../d1/de6/a00837.html#a5db10c17658972b1d7cd9e88346c054f">doLedgerCleaner</a> (parameters);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;Cleaner configured&quot;</span>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_af061bc5d67a0280408da85ad518038de_cgraph.png" border="0" usemap="#dc/d8c/a01297_af061bc5d67a0280408da85ad518038de_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_af061bc5d67a0280408da85ad518038de_cgraph" id="dc/d8c/a01297_af061bc5d67a0280408da85ad518038de_cgraph">
<area shape="rect" id="node3" href="../../d1/de6/a00837.html#a5db10c17658972b1d7cd9e88346c054f" title="ripple::LedgerMaster\l::doLedgerCleaner" alt="" coords="191,5,329,51"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="209,75,311,104"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="197,127,323,174"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="380,66,556,113"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_af061bc5d67a0280408da85ad518038de_icgraph.png" border="0" usemap="#dc/d8c/a01297_af061bc5d67a0280408da85ad518038de_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_af061bc5d67a0280408da85ad518038de_icgraph" id="dc/d8c/a01297_af061bc5d67a0280408da85ad518038de_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8874942ed3d7119bcdc4ffa9095855a2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doLedgerClosed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/dc1/a03263_source.html#l00023">23</a> of file <a class="el" href="../../dc/dc1/a03263_source.html">LedgerClosed.cpp</a>.</p>

<p>References <a class="el" href="../../dd/dac/a01008.html#ae64b1cdb74a13158f113f7bd207f47e1">ripple::NetworkOPs::getClosedLedgerHash()</a>, <a class="el" href="../../dd/dac/a01008.html#a8f0c68feb0111f68ce7a41f39cd68dea">ripple::NetworkOPs::getLedgerID()</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, and <a class="el" href="../../dd/dfa/a02824_source.html#l00437">ripple::base_uint&lt; BITS &gt;::ToString()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvResult;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    uint256 uLedger = <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#ae64b1cdb74a13158f113f7bd207f47e1">getClosedLedgerHash</a> ();</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    jvResult[<span class="stringliteral">&quot;ledger_index&quot;</span>]        = <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#a8f0c68feb0111f68ce7a41f39cd68dea">getLedgerID</a> (uLedger);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    jvResult[<span class="stringliteral">&quot;ledger_hash&quot;</span>]         = uLedger.ToString ();</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="comment">//jvResult[&quot;ledger_time&quot;]       = uLedger.</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a8874942ed3d7119bcdc4ffa9095855a2_cgraph.png" border="0" usemap="#dc/d8c/a01297_a8874942ed3d7119bcdc4ffa9095855a2_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a8874942ed3d7119bcdc4ffa9095855a2_cgraph" id="dc/d8c/a01297_a8874942ed3d7119bcdc4ffa9095855a2_cgraph">
<area shape="rect" id="node3" href="../../dd/dac/a01008.html#ae64b1cdb74a13158f113f7bd207f47e1" title="ripple::NetworkOPs\l::getClosedLedgerHash" alt="" coords="191,5,348,51"/><area shape="rect" id="node5" href="../../dd/dac/a01008.html#a8f0c68feb0111f68ce7a41f39cd68dea" title="ripple::NetworkOPs\l::getLedgerID" alt="" coords="201,74,337,121"/><area shape="rect" id="node7" href="../../d7/d9a/a00152.html#ad19bda12f3725584ac179f2e091e30d7" title="ripple::base_uint::\lToString" alt="" coords="207,143,332,190"/><area shape="rect" id="node9" href="../../d7/d9a/a00152.html#a348c4019943a8b3a05f39f1efcb589c9" title="ripple::base_uint::\lGetHex" alt="" coords="397,143,523,190"/><area shape="rect" id="node11" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="583,82,708,129"/><area shape="rect" id="node15" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="571,152,720,181"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073" title="ripple::strHex" alt="" coords="596,205,695,235"/><area shape="rect" id="node13" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="769,91,919,120"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#aca6318bcfeb25f74477566a7ddc06a63" title="ripple::charHex" alt="" coords="789,205,899,235"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a8874942ed3d7119bcdc4ffa9095855a2_icgraph.png" border="0" usemap="#dc/d8c/a01297_a8874942ed3d7119bcdc4ffa9095855a2_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a8874942ed3d7119bcdc4ffa9095855a2_icgraph" id="dc/d8c/a01297_a8874942ed3d7119bcdc4ffa9095855a2_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7b1789811646050c73e9dad1eb9c8bdd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doLedgerCurrent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/d1a/a03264_source.html#l00023">23</a> of file <a class="el" href="../../d4/d1a/a03264_source.html">LedgerCurrent.cpp</a>.</p>

<p>References <a class="el" href="../../dd/dac/a01008.html#a09715bbe77ad8adb155444580383dc43">ripple::NetworkOPs::getCurrentLedgerID()</a>, and <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvResult;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    jvResult[<span class="stringliteral">&quot;ledger_current_index&quot;</span>]    = <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#a09715bbe77ad8adb155444580383dc43">getCurrentLedgerID</a> ();</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a7b1789811646050c73e9dad1eb9c8bdd_cgraph.png" border="0" usemap="#dc/d8c/a01297_a7b1789811646050c73e9dad1eb9c8bdd_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a7b1789811646050c73e9dad1eb9c8bdd_cgraph" id="dc/d8c/a01297_a7b1789811646050c73e9dad1eb9c8bdd_cgraph">
<area shape="rect" id="node3" href="../../dd/dac/a01008.html#a09715bbe77ad8adb155444580383dc43" title="ripple::NetworkOPs\l::getCurrentLedgerID" alt="" coords="189,5,333,51"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a7b1789811646050c73e9dad1eb9c8bdd_icgraph.png" border="0" usemap="#dc/d8c/a01297_a7b1789811646050c73e9dad1eb9c8bdd_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a7b1789811646050c73e9dad1eb9c8bdd_icgraph" id="dc/d8c/a01297_a7b1789811646050c73e9dad1eb9c8bdd_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1dfcca9d072ce92d0b57690cad9ee11f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doLedgerData </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/d81/a03265_source.html#l00033">33</a> of file <a class="el" href="../../d8/d81/a03265_source.html">LedgerData.cpp</a>.</p>

<p>References <a class="el" href="../../d2/db9/a01926_source.html#l00263">ripple::Config::ADMIN</a>, <a class="el" href="../../da/d23/a02452_source.html#l01298">Json::Value::append()</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00038">Json::arrayValue</a>, <a class="el" href="../../da/d23/a02452_source.html#l00929">Json::Value::asBool()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00825">Json::Value::asInt()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00197">ripple::RPC::expected_field_error()</a>, <a class="el" href="../../dd/dfa/a02824_source.html#l00316">ripple::base_uint&lt; BITS &gt;::GetHex()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01457">Json::Value::isBool()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01478">Json::Value::isIntegral()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01501">Json::Value::isString()</a>, <a class="el" href="../../d0/d7c/a03318_source.html#l00043">ripple::RPC::lookupLedger()</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, <a class="el" href="../../de/dec/a03020_source.html#l00140">mRole</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../dd/da3/a03026_source.html#l00547">ripple::SHAMap::peekNextItem()</a>, <a class="el" href="../../dd/dfa/a02824_source.html#l00362">ripple::base_uint&lt; BITS &gt;::SetHex()</a>, and <a class="el" href="../../d9/d4d/a02840_source.html#l00045">ripple::strHex()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;{</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordtype">int</span> <span class="keyword">const</span> BINARY_PAGE_LENGTH = 256;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordtype">int</span> <span class="keyword">const</span> JSON_PAGE_LENGTH = 2048;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> lpLedger;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvResult = <a class="code" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258">RPC::lookupLedger</a> (params, lpLedger, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">if</span> (!lpLedger)</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    uint256 resumePoint;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;marker&quot;</span>))</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> <span class="keyword">const</span>&amp; jMarker = params[<span class="stringliteral">&quot;marker&quot;</span>];</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="keywordflow">if</span> (!jMarker.<a class="code" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7">isString</a> ())</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aa63398ec847d01de9d9af3598e3e2325">RPC::expected_field_error</a> (<span class="stringliteral">&quot;marker&quot;</span>, <span class="stringliteral">&quot;valid&quot;</span>);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="keywordflow">if</span> (!resumePoint.SetHex (jMarker.<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ()))</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aa63398ec847d01de9d9af3598e3e2325">RPC::expected_field_error</a> (<span class="stringliteral">&quot;marker&quot;</span>, <span class="stringliteral">&quot;valid&quot;</span>);</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    }</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordtype">bool</span> isBinary = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;binary&quot;</span>))</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    {</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> <span class="keyword">const</span>&amp; jBinary = params[<span class="stringliteral">&quot;binary&quot;</span>];</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="keywordflow">if</span> (!jBinary.<a class="code" href="../../d6/d27/a01781.html#a3c3716cc7a0216cb1b654bb8f61c8d13">isBool</a> ())</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aa63398ec847d01de9d9af3598e3e2325">RPC::expected_field_error</a> (<span class="stringliteral">&quot;binary&quot;</span>, <span class="stringliteral">&quot;bool&quot;</span>);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        isBinary = jBinary.<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ();</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    }</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordtype">int</span> limit = -1;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    <span class="keywordtype">int</span> maxLimit = isBinary ? BINARY_PAGE_LENGTH : JSON_PAGE_LENGTH;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;limit&quot;</span>))</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> <span class="keyword">const</span>&amp; jLimit = params[<span class="stringliteral">&quot;limit&quot;</span>];</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keywordflow">if</span> (!jLimit.<a class="code" href="../../d6/d27/a01781.html#aec4f74ef7b776b1d9c8a10fc3bb4add5">isIntegral</a> ())</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aa63398ec847d01de9d9af3598e3e2325">RPC::expected_field_error</a> (<span class="stringliteral">&quot;limit&quot;</span>, <span class="stringliteral">&quot;integer&quot;</span>);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        limit = jLimit.<a class="code" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235">asInt</a> ();</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">if</span> ((limit &lt; 0) || ((limit &gt; maxLimit) &amp;&amp; (<a class="code" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a> != <a class="code" href="../../d3/db8/a00316.html#a459f32c779b04342b4811b1a898a156eabfd6bd9f2deb401e760dbafe42c80107">Config::ADMIN</a>)))</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        limit = maxLimit;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvReply = <a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    jvReply[<span class="stringliteral">&quot;ledger_hash&quot;</span>] = lpLedger-&gt;getHash().GetHex ();</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    jvReply[<span class="stringliteral">&quot;ledger_index&quot;</span>] = beast::lexicalCastThrow &lt;std::string&gt; (lpLedger-&gt;getLedgerSeq ());</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>&amp; nodes = (jvReply[<span class="stringliteral">&quot;state&quot;</span>] = <a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eadc8f264f36b55b063c78126b335415f4" title="array value (ordered list) ">Json::arrayValue</a>);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    SHAMap&amp; map = *(lpLedger-&gt;peekAccountStateMap ());</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">for</span> (;;)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    {</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;       <a class="code" href="../../d8/dbe/a01370.html#a1005ad7946f0ee9bd4a1d932d80a4863">SHAMapItem::pointer</a> item = map.peekNextItem (resumePoint);</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;       <span class="keywordflow">if</span> (!item)</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;           <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;       resumePoint = item-&gt;getTag();</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;       <span class="keywordflow">if</span> (limit-- &lt;= 0)</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;       {</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;           --resumePoint;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;           jvReply[<span class="stringliteral">&quot;marker&quot;</span>] = resumePoint.GetHex ();</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;           <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;       }</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;       <span class="keywordflow">if</span> (isBinary)</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;       {</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;           <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>&amp; entry = nodes.<a class="code" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. ">append</a> (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;           entry[<span class="stringliteral">&quot;data&quot;</span>] = <a class="code" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073">strHex</a> (item-&gt;peekData().begin(), item-&gt;peekData().size());</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;           entry[<span class="stringliteral">&quot;index&quot;</span>] = item-&gt;getTag ().GetHex ();</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;       }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;       <span class="keywordflow">else</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;       {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;           <a class="code" href="../../d9/d9d/a03417.html#a6fdddf7e25b0c96696f19b33ce37e515">SLE</a> sle (item-&gt;peekSerializer(), item-&gt;getTag ());</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;           <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>&amp; entry = nodes.<a class="code" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. ">append</a> (sle.getJson (0));</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;           entry[<span class="stringliteral">&quot;index&quot;</span>] = item-&gt;getTag ().GetHex ();</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;       }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;    }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    <span class="keywordflow">return</span> jvReply;</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a1dfcca9d072ce92d0b57690cad9ee11f_cgraph.png" border="0" usemap="#dc/d8c/a01297_a1dfcca9d072ce92d0b57690cad9ee11f_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a1dfcca9d072ce92d0b57690cad9ee11f_cgraph" id="dc/d8c/a01297_a1dfcca9d072ce92d0b57690cad9ee11f_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. " alt="" coords="221,121,363,150"/><area shape="rect" id="node7" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="223,1166,361,1196"/><area shape="rect" id="node9" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="465,174,593,204"/><area shape="rect" id="node11" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="456,228,603,257"/><area shape="rect" id="node13" href="../../d2/d9b/a03429.html#aa63398ec847d01de9d9af3598e3e2325" title="ripple::RPC::expected\l_field_error" alt="" coords="217,1219,367,1266"/><area shape="rect" id="node27" href="../../d7/d9a/a00152.html#a348c4019943a8b3a05f39f1efcb589c9" title="ripple::base_uint::\lGetHex" alt="" coords="691,1016,816,1063"/><area shape="rect" id="node35" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073" title="ripple::strHex" alt="" coords="925,200,1024,229"/><area shape="rect" id="node39" href="../../d6/d27/a01781.html#a3c3716cc7a0216cb1b654bb8f61c8d13" title="Json::Value::isBool" alt="" coords="225,1289,359,1318"/><area shape="rect" id="node41" href="../../d6/d27/a01781.html#aec4f74ef7b776b1d9c8a10fc3bb4add5" title="Json::Value::isIntegral" alt="" coords="677,202,829,232"/><area shape="rect" id="node43" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="452,281,607,310"/><area shape="rect" id="node45" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7" title="Json::Value::isString" alt="" coords="459,334,600,364"/><area shape="rect" id="node47" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258" title="ripple::RPC::lookupLedger" alt="" coords="205,537,379,566"/><area shape="rect" id="node75" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="467,1136,592,1183"/><area shape="rect" id="node109" href="../../d6/dfe/a01366.html#a3c6509d39084f7d0c9c6684e5942dc0c" title="ripple::SHAMap::peekNextItem" alt="" coords="191,1342,393,1372"/><area shape="rect" id="node5" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="468,121,591,150"/><area shape="rect" id="node15" href="../../d2/d9b/a03429.html#a5b6ce0616f6995340f4dd846660c3749" title="ripple::RPC::make_param\l_error" alt="" coords="443,1219,616,1266"/><area shape="rect" id="node25" href="../../d2/d9b/a03429.html#a7bad76b302b3dcc91dd60c10830d0968" title="ripple::RPC::expected\l_field_message" alt="" coords="455,1288,604,1335"/><area shape="rect" id="node17" href="../../d2/d9b/a03429.html#a2cd6200f6709780fcf1dd26ec9cd2866" title="ripple::RPC::make_error" alt="" coords="672,1242,835,1272"/><area shape="rect" id="node19" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="911,1234,1039,1280"/><area shape="rect" id="node21" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="1108,1242,1284,1272"/><area shape="rect" id="node23" href="../../dc/d8e/a00473.html#aec1914e37aa6e639af71985d7abfb52f" title="ripple::RPC::detail\l::ErrorCategory::get" alt="" coords="1353,1234,1489,1280"/><area shape="rect" id="node29" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="912,1015,1037,1062"/><area shape="rect" id="node33" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="900,1085,1049,1114"/><area shape="rect" id="node31" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1121,1081,1271,1110"/><area shape="rect" id="node37" href="../../d9/d9d/a03417.html#aca6318bcfeb25f74477566a7ddc06a63" title="ripple::charHex" alt="" coords="1141,200,1251,229"/><area shape="rect" id="node49" href="../../d6/d27/a01781.html#aff2e3a2e9fd5db5469588ab7b501d4db" title="Json::Value::get" alt="" coords="471,964,588,993"/><area shape="rect" id="node53" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="452,441,607,470"/><area shape="rect" id="node84" href="../../d6/d27/a01781.html#a8ce848900e2e8fa23a41fcc2c1409fab" title="Json::Value::isNumeric" alt="" coords="451,388,608,417"/><area shape="rect" id="node90" href="../../dd/dac/a01008.html#a2797139168b2d6c069aa1f0c51bc327a" title="ripple::NetworkOPs\l::getLedgerByHash" alt="" coords="461,563,597,610"/><area shape="rect" id="node92" href="../../dd/dac/a01008.html#aa4a081f49bdf9ea42446691c34ceed79" title="ripple::NetworkOPs\l::getCurrentLedger" alt="" coords="461,632,597,679"/><area shape="rect" id="node94" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="479,702,580,732"/><area shape="rect" id="node98" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="467,755,592,802"/><area shape="rect" id="node100" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="460,824,599,871"/><area shape="rect" id="node102" href="../../dd/dac/a01008.html#a3b147c209d1201adb03d478f148af4a1" title="ripple::NetworkOPs\l::getValidatedLedger" alt="" coords="459,894,600,940"/><area shape="rect" id="node104" href="../../dd/dac/a01008.html#a7615c0320aa25da4c77d806afe9c5c0e" title="ripple::NetworkOPs\l::getLedgerBySeq" alt="" coords="461,494,597,540"/><area shape="rect" id="node106" href="../../d7/d9a/a00152.html#ad19bda12f3725584ac179f2e091e30d7" title="ripple::base_uint::\lToString" alt="" coords="467,1016,592,1063"/><area shape="rect" id="node55" href="../../d7/db0/a03467.html#aba0a720f8204028aa9b0f78f969d5f97" title="rocksdb::crc32c::Extend" alt="" coords="672,441,835,470"/><area shape="rect" id="node57" href="../../d7/db0/a03467.html#a174fe9c8cf3cb558b7accfdc10c6c04c" title="rocksdb::crc32c::CRC32" alt="" coords="892,441,1057,470"/><area shape="rect" id="node59" href="../../d7/db0/a03467.html#aeb8537c518a4a8ac7e1d8f8ac1c6bb63" title="rocksdb::crc32c::Choose\l_CRC32" alt="" coords="1112,432,1280,479"/><area shape="rect" id="node61" href="../../d7/db0/a03467.html#a6abc7c8ed18979f0e12fcfb6460f9285" title="rocksdb::crc32c::isSSE42" alt="" coords="1335,380,1508,409"/><area shape="rect" id="node63" href="../../d7/db0/a03467.html#ab6bf1f9041f7859fe1aae6312f650115" title="rocksdb::crc32c::Fast\l_CRC32" alt="" coords="1347,432,1496,479"/><area shape="rect" id="node69" href="../../d7/db0/a03467.html#aabbb4470a0a8566fff676e40a5c3a491" title="rocksdb::crc32c::Slow\l_CRC32" alt="" coords="1557,492,1709,539"/><area shape="rect" id="node65" href="../../d7/db0/a03467.html#aa5eeccea7be6cc99acab7223cc1c7baf" title="rocksdb::crc32c::LE\l_LOAD64" alt="" coords="1564,423,1703,470"/><area shape="rect" id="node67" href="../../d4/d87/a03436.html#a0bb1082c7c473bb0c6614963a14fed62" title="rocksdb::DecodeFixed64" alt="" coords="1759,432,1924,461"/><area shape="rect" id="node71" href="../../d7/db0/a03467.html#a72b216c9d4dfeeaea89e2410eec06ff9" title="rocksdb::crc32c::LE\l_LOAD32" alt="" coords="1772,492,1911,539"/><area shape="rect" id="node77" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="901,1138,1048,1168"/><area shape="rect" id="node81" href="../../d7/d9a/a00152.html#a174768646f7fe8d81f4a38f5ccf9e6f5" title="ripple::base_uint::zero" alt="" coords="679,1189,828,1218"/><area shape="rect" id="node86" href="../../d6/d27/a01781.html#a0ea567fa51fc808851698bef59b43626" title="Json::Value::isDouble" alt="" coords="679,388,828,417"/><area shape="rect" id="node96" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="665,694,841,740"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a1dfcca9d072ce92d0b57690cad9ee11f_icgraph.png" border="0" usemap="#dc/d8c/a01297_a1dfcca9d072ce92d0b57690cad9ee11f_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a1dfcca9d072ce92d0b57690cad9ee11f_icgraph" id="dc/d8c/a01297_a1dfcca9d072ce92d0b57690cad9ee11f_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a907eb3acd539cd6b1f752ab61dc6db09"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doLedgerEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d8d/a03266_source.html#l00028">28</a> of file <a class="el" href="../../d6/d8d/a03266_source.html">LedgerEntry.cpp</a>.</p>

<p>References <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00861">Json::Value::asUInt()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00729">ripple::RippleAddress::createGeneratorPublic()</a>, <a class="el" href="../../da/dd3/a03198_source.html#l00052">ripple::STAmount::currencyFromString()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00292">ripple::RippleAddress::getAccountID()</a>, <a class="el" href="../../dd/d3f/a02912_source.html#l01489">ripple::Ledger::getAccountRootIndex()</a>, <a class="el" href="../../dd/d3f/a02912_source.html#l01695">ripple::Ledger::getDirNodeIndex()</a>, <a class="el" href="../../dd/d3f/a02912_source.html#l01713">ripple::Ledger::getGeneratorIndex()</a>, <a class="el" href="../../dd/d3f/a02912_source.html#l01736">ripple::Ledger::getOfferIndex()</a>, <a class="el" href="../../dd/d3f/a02912_source.html#l01747">ripple::Ledger::getOwnerDirIndex()</a>, <a class="el" href="../../dd/d3f/a02912_source.html#l01757">ripple::Ledger::getRippleStateIndex()</a>, <a class="el" href="../../dd/dac/a01008.html#ac46448620aab70b2a6cd2e960f679cf5">ripple::NetworkOPs::getSLEi()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01508">Json::Value::isArray()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../dd/dfa/a02824_source.html#l00147">ripple::base_uint&lt; BITS &gt;::isNonZero()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01515">Json::Value::isObject()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01501">Json::Value::isString()</a>, <a class="el" href="../../d0/d7c/a03318_source.html#l00043">ripple::RPC::lookupLedger()</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, <a class="el" href="../../dd/d61/a03197_source.html#l00125">ripple::Serializer::peekData()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00356">ripple::RippleAddress::setAccountID()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00430">ripple::RippleAddress::setAccountPublic()</a>, <a class="el" href="../../dd/dfa/a02824_source.html#l00362">ripple::base_uint&lt; BITS &gt;::SetHex()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00824">ripple::RippleAddress::setSeedGeneric()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01023">Json::Value::size()</a>, <a class="el" href="../../d9/d4d/a02840_source.html#l00045">ripple::strHex()</a>, and <a class="el" href="../../dd/dfa/a02824_source.html#l00437">ripple::base_uint&lt; BITS &gt;::ToString()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;{</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>     lpLedger;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>         jvResult    = <a class="code" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258">RPC::lookupLedger</a> (params, lpLedger, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordflow">if</span> (!lpLedger)</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    uint256     uNodeIndex;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordtype">bool</span>        bNodeBinary = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;index&quot;</span>))</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="comment">// XXX Needs to provide proof.</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        uNodeIndex.SetHex (params[<span class="stringliteral">&quot;index&quot;</span>].asString ());</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        bNodeBinary = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;account_root&quot;</span>))</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        RippleAddress   naAccount;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keywordflow">if</span> (!naAccount.setAccountID (params[<span class="stringliteral">&quot;account_root&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ())</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;                || !naAccount.getAccountID ())</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;malformedAddress&quot;</span>;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        }</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            uNodeIndex = <a class="code" href="../../dd/d5f/a00825.html#ab0ca75e1c5fa67568377f9962687cf90">Ledger::getAccountRootIndex</a> (naAccount.getAccountID ());</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        }</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    }</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;directory&quot;</span>))</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">if</span> (!params[<span class="stringliteral">&quot;directory&quot;</span>].isObject ())</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            uNodeIndex.<a class="code" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1">SetHex</a> (params[<span class="stringliteral">&quot;directory&quot;</span>].asString ());</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        }</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (params[<span class="stringliteral">&quot;directory&quot;</span>].isMember (<span class="stringliteral">&quot;sub_index&quot;</span>)</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                 &amp;&amp; !params[<span class="stringliteral">&quot;directory&quot;</span>][<span class="stringliteral">&quot;sub_index&quot;</span>].isIntegral ())</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;            jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;malformedRequest&quot;</span>;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            <a class="code" href="../../db/d86/a02663.html#aaa5d1cd013383c889537491c3cfd9aad">std::uint64_t</a>  uSubIndex = params[<span class="stringliteral">&quot;directory&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;sub_index&quot;</span>)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                                ? params[<span class="stringliteral">&quot;directory&quot;</span>][<span class="stringliteral">&quot;sub_index&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c">asUInt</a> ()</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                                : 0;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;            <span class="keywordflow">if</span> (params[<span class="stringliteral">&quot;directory&quot;</span>].isMember (<span class="stringliteral">&quot;dir_root&quot;</span>))</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;            {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                uint256 uDirRoot;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;                uDirRoot.SetHex (params[<span class="stringliteral">&quot;dir_root&quot;</span>].asString ());</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                uNodeIndex  = <a class="code" href="../../dd/d5f/a00825.html#a0d50fe89b5f50adf3cea06fdb94a03b5">Ledger::getDirNodeIndex</a> (uDirRoot, uSubIndex);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (params[<span class="stringliteral">&quot;directory&quot;</span>].isMember (<span class="stringliteral">&quot;owner&quot;</span>))</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;            {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;                RippleAddress   naOwnerID;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;                <span class="keywordflow">if</span> (!naOwnerID.setAccountID (params[<span class="stringliteral">&quot;directory&quot;</span>][<span class="stringliteral">&quot;owner&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ()))</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;                {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                    jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;malformedAddress&quot;</span>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                }</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;                {</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;                    uint256 uDirRoot    = <a class="code" href="../../dd/d5f/a00825.html#af9e2fc76175c63a6695eb9fac39c1888">Ledger::getOwnerDirIndex</a> (naOwnerID.getAccountID ());</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;                    uNodeIndex  = <a class="code" href="../../dd/d5f/a00825.html#a0d50fe89b5f50adf3cea06fdb94a03b5">Ledger::getDirNodeIndex</a> (uDirRoot, uSubIndex);</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;                }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            }</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            {</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;                jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;malformedRequest&quot;</span>;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        }</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;generator&quot;</span>))</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        RippleAddress   naGeneratorID;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        <span class="keywordflow">if</span> (!params[<span class="stringliteral">&quot;generator&quot;</span>].isObject ())</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            uNodeIndex.SetHex (params[<span class="stringliteral">&quot;generator&quot;</span>].asString ());</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!params[<span class="stringliteral">&quot;generator&quot;</span>].isMember (<span class="stringliteral">&quot;regular_seed&quot;</span>))</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;            jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;malformedRequest&quot;</span>;</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!naGeneratorID.setSeedGeneric (params[<span class="stringliteral">&quot;generator&quot;</span>][<span class="stringliteral">&quot;regular_seed&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ()))</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;        {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;            jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;malformedAddress&quot;</span>;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;        {</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            RippleAddress       na0Public;      <span class="comment">// To find the generator&#39;s index.</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            RippleAddress       naGenerator = <a class="code" href="../../d4/d0e/a01272.html#af5b92338227d7e142fa7a0dd728dbc36">RippleAddress::createGeneratorPublic</a> (naGeneratorID);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;            na0Public.setAccountPublic (naGenerator, 0);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            uNodeIndex  = <a class="code" href="../../dd/d5f/a00825.html#a872c53c2d5e90ed7d9a9c66623718a29">Ledger::getGeneratorIndex</a> (na0Public.getAccountID ());</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;    }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;offer&quot;</span>))</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    {</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        RippleAddress   naAccountID;</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        <span class="keywordflow">if</span> (!params[<span class="stringliteral">&quot;offer&quot;</span>].isObject ())</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            uNodeIndex.<a class="code" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1">SetHex</a> (params[<span class="stringliteral">&quot;offer&quot;</span>].asString ());</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!params[<span class="stringliteral">&quot;offer&quot;</span>].isMember (<span class="stringliteral">&quot;account&quot;</span>)</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                 || !params[<span class="stringliteral">&quot;offer&quot;</span>].isMember (<span class="stringliteral">&quot;seq&quot;</span>)</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;                 || !params[<span class="stringliteral">&quot;offer&quot;</span>][<span class="stringliteral">&quot;seq&quot;</span>].isIntegral ())</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;        {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;malformedRequest&quot;</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;        }</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!naAccountID.setAccountID (params[<span class="stringliteral">&quot;offer&quot;</span>][<span class="stringliteral">&quot;account&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ()))</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;        {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;malformedAddress&quot;</span>;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        }</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        {</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;            <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>      uSequence   = params[<span class="stringliteral">&quot;offer&quot;</span>][<span class="stringliteral">&quot;seq&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c">asUInt</a> ();</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            uNodeIndex  = <a class="code" href="../../dd/d5f/a00825.html#abb618e1d764497e2ad646aa55c56061a">Ledger::getOfferIndex</a> (naAccountID.getAccountID (), uSequence);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;ripple_state&quot;</span>))</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    {</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;        RippleAddress   naA;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        RippleAddress   naB;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;        uint160         uCurrency;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>     jvRippleState   = params[<span class="stringliteral">&quot;ripple_state&quot;</span>];</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;        <span class="keywordflow">if</span> (!jvRippleState.<a class="code" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92">isObject</a> ()</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                || !jvRippleState.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;currency&quot;</span>)</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                || !jvRippleState.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;accounts&quot;</span>)</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                || !jvRippleState[<span class="stringliteral">&quot;accounts&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#ac8c898f93543e55b67418f94bced20af">isArray</a> ()</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                || 2 != jvRippleState[<span class="stringliteral">&quot;accounts&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. ">size</a> ()</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;                || !jvRippleState[<span class="stringliteral">&quot;accounts&quot;</span>][0u].<a class="code" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7">isString</a> ()</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;                || !jvRippleState[<span class="stringliteral">&quot;accounts&quot;</span>][1u].<a class="code" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7">isString</a> ()</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;                || jvRippleState[<span class="stringliteral">&quot;accounts&quot;</span>][0u].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> () == jvRippleState[<span class="stringliteral">&quot;accounts&quot;</span>][1u].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ()</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;           )</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;        {</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;malformedRequest&quot;</span>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        }</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!naA.setAccountID (jvRippleState[<span class="stringliteral">&quot;accounts&quot;</span>][0u].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ())</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                 || !naB.setAccountID (jvRippleState[<span class="stringliteral">&quot;accounts&quot;</span>][1u].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ()))</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;malformedAddress&quot;</span>;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../d2/d41/a01493.html#a853bdaa68ca8aa5239041e7d9d26aa48">STAmount::currencyFromString</a> (uCurrency, jvRippleState[<span class="stringliteral">&quot;currency&quot;</span>].asString ()))</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        {</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;            jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;malformedCurrency&quot;</span>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;        }</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;            uNodeIndex  = <a class="code" href="../../dd/d5f/a00825.html#a5fd86d78b17725e35684e77543e538d2">Ledger::getRippleStateIndex</a> (naA, naB, uCurrency);</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;        }</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    }</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;        jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;unknownOption&quot;</span>;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    }</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;    <span class="keywordflow">if</span> (uNodeIndex.isNonZero ())</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;    {</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;        <a class="code" href="../../dc/d54/a01344.html#abf05184c020b05e80bdf996c9bee96eb">SLE::pointer</a>    sleNode = <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#ac46448620aab70b2a6cd2e960f679cf5">getSLEi</a> (lpLedger, uNodeIndex);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;        <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a>(<span class="stringliteral">&quot;binary&quot;</span>))</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            bNodeBinary = params[<span class="stringliteral">&quot;binary&quot;</span>].asBool();</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;        <span class="keywordflow">if</span> (!sleNode)</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        {</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;            <span class="comment">// Not found.</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            <span class="comment">// XXX Should also provide proof.</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            jvResult[<span class="stringliteral">&quot;error&quot;</span>]       = <span class="stringliteral">&quot;entryNotFound&quot;</span>;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;        }</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (bNodeBinary)</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        {</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <span class="comment">// XXX Should also provide proof.</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            Serializer s;</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            sleNode-&gt;add (s);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;            jvResult[<span class="stringliteral">&quot;node_binary&quot;</span>] = <a class="code" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073">strHex</a> (s.peekData ());</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            jvResult[<span class="stringliteral">&quot;index&quot;</span>]       = uNodeIndex.ToString ();</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;        }</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;        {</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            jvResult[<span class="stringliteral">&quot;node&quot;</span>]        = sleNode-&gt;getJson (0);</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;            jvResult[<span class="stringliteral">&quot;index&quot;</span>]       = uNodeIndex.ToString ();</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        }</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;    }</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;    <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a907eb3acd539cd6b1f752ab61dc6db09_cgraph.png" border="0" usemap="#dc/d8c/a01297_a907eb3acd539cd6b1f752ab61dc6db09_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a907eb3acd539cd6b1f752ab61dc6db09_cgraph" id="dc/d8c/a01297_a907eb3acd539cd6b1f752ab61dc6db09_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="428,333,575,363"/><area shape="rect" id="node5" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="212,1264,351,1293"/><area shape="rect" id="node7" href="../../d4/d0e/a01272.html#af5b92338227d7e142fa7a0dd728dbc36" title="ripple::RippleAddress\l::createGeneratorPublic" alt="" coords="203,1317,360,1363"/><area shape="rect" id="node13" href="../../d2/d41/a01493.html#a853bdaa68ca8aa5239041e7d9d26aa48" title="ripple::STAmount::currency\lFromString" alt="" coords="191,69,372,115"/><area shape="rect" id="node19" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="439,125,564,171"/><area shape="rect" id="node22" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="428,1437,575,1483"/><area shape="rect" id="node26" href="../../dd/d5f/a00825.html#ab0ca75e1c5fa67568377f9962687cf90" title="ripple::Ledger::getAccount\lRootIndex" alt="" coords="195,1506,368,1553"/><area shape="rect" id="node34" href="../../dd/d5f/a00825.html#a0d50fe89b5f50adf3cea06fdb94a03b5" title="ripple::Ledger::getDirNode\lIndex" alt="" coords="195,1783,368,1830"/><area shape="rect" id="node42" href="../../dd/d5f/a00825.html#a872c53c2d5e90ed7d9a9c66623718a29" title="ripple::Ledger::getGenerator\lIndex" alt="" coords="191,1575,372,1622"/><area shape="rect" id="node47" href="../../dd/d5f/a00825.html#abb618e1d764497e2ad646aa55c56061a" title="ripple::Ledger::getOffer\lIndex" alt="" coords="204,1714,359,1761"/><area shape="rect" id="node54" href="../../dd/d5f/a00825.html#af9e2fc76175c63a6695eb9fac39c1888" title="ripple::Ledger::getOwner\lDirIndex" alt="" coords="200,1645,363,1691"/><area shape="rect" id="node59" href="../../dd/d5f/a00825.html#a5fd86d78b17725e35684e77543e538d2" title="ripple::Ledger::getRipple\lStateIndex" alt="" coords="200,1437,363,1483"/><area shape="rect" id="node65" href="../../dd/dac/a01008.html#ac46448620aab70b2a6cd2e960f679cf5" title="ripple::NetworkOPs\l::getSLEi" alt="" coords="213,1853,349,1899"/><area shape="rect" id="node67" href="../../d6/d27/a01781.html#ac8c898f93543e55b67418f94bced20af" title="Json::Value::isArray" alt="" coords="212,1923,351,1952"/><area shape="rect" id="node69" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="424,387,579,416"/><area shape="rect" id="node71" href="../../d7/d9a/a00152.html#a3fa11a064a87fe4e970f00d661287dd2" title="ripple::base_uint::\lisNonZero" alt="" coords="219,1975,344,2022"/><area shape="rect" id="node75" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92" title="Json::Value::isObject" alt="" coords="208,2045,355,2075"/><area shape="rect" id="node77" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7" title="Json::Value::isString" alt="" coords="431,1123,572,1152"/><area shape="rect" id="node79" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258" title="ripple::RPC::lookupLedger" alt="" coords="195,797,368,827"/><area shape="rect" id="node84" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="440,1176,563,1205"/><area shape="rect" id="node109" href="../../d7/d9a/a00152.html#ad19bda12f3725584ac179f2e091e30d7" title="ripple::base_uint::\lToString" alt="" coords="439,1229,564,1275"/><area shape="rect" id="node111" href="../../da/d61/a01350.html#a460460eaf22f52170a4e451471f0c19c" title="ripple::Serializer\l::peekData" alt="" coords="224,2098,339,2145"/><area shape="rect" id="node113" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="428,194,575,241"/><area shape="rect" id="node115" href="../../d4/d0e/a01272.html#a6fccb99136b7c4e3f0d0d1ec404392a0" title="ripple::RippleAddress\l::setAccountPublic" alt="" coords="428,263,575,310"/><area shape="rect" id="node118" href="../../d4/d0e/a01272.html#afb74c70e56ff76faf4f4e703139e088f" title="ripple::RippleAddress\l::setSeedGeneric" alt="" coords="208,261,355,307"/><area shape="rect" id="node124" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073" title="ripple::strHex" alt="" coords="232,2168,331,2197"/><area shape="rect" id="node9" href="../../d4/d0e/a01272.html#a1510644a37f401fb4bbd95967f032f0c" title="ripple::RippleAddress\l::getSeed" alt="" coords="428,1367,575,1414"/><area shape="rect" id="node11" href="../../d4/d0e/a01272.html#aa69f888fe19bdac32275a0637d93d6ae" title="ripple::RippleAddress\l::setGenerator" alt="" coords="428,1298,575,1345"/><area shape="rect" id="node15" href="../../d7/d9a/a00152.html#a174768646f7fe8d81f4a38f5ccf9e6f5" title="ripple::base_uint::zero" alt="" coords="631,104,780,133"/><area shape="rect" id="node17" href="../../da/d61/a01350.html#af9f127e708de4849795bdab51f2a4c78" title="ripple::Serializer\l::addZeros" alt="" coords="444,5,559,51"/><area shape="rect" id="node24" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="649,1445,761,1475"/><area shape="rect" id="node28" href="../../da/d61/a01350.html#a10b908daaabf22ae052bfc7fd221157c" title="ripple::Serializer\l::add16" alt="" coords="444,1575,559,1622"/><area shape="rect" id="node30" href="../../da/d61/a01350.html#a509771bf1109949d4bee7b71aecc3757" title="ripple::Serializer\l::add160" alt="" coords="444,1506,559,1553"/><area shape="rect" id="node32" href="../../da/d61/a01350.html#afc7187fd3c9e185d29a0ecf5500d0cdf" title="ripple::Serializer\l::getSHA512Half" alt="" coords="441,1645,561,1691"/><area shape="rect" id="node37" href="../../da/d61/a01350.html#a0a59bc79c929b9b01c3fd88ca54195f1" title="ripple::Serializer\l::add256" alt="" coords="444,1853,559,1899"/><area shape="rect" id="node39" href="../../da/d61/a01350.html#a253e724ffc3143dfd70bde767af71a7e" title="ripple::Serializer\l::add64" alt="" coords="444,1783,559,1830"/><area shape="rect" id="node51" href="../../da/d61/a01350.html#a4f09dcca07217744f793fa7473e845fe" title="ripple::Serializer\l::add32" alt="" coords="444,1714,559,1761"/><area shape="rect" id="node73" href="../../d7/d9a/a00152.html#a25e873c7d069c6c2d44655736f2b6c21" title="ripple::base_uint::\lisZero" alt="" coords="439,1975,564,2022"/><area shape="rect" id="node81" href="../../d6/d27/a01781.html#aff2e3a2e9fd5db5469588ab7b501d4db" title="Json::Value::get" alt="" coords="443,771,560,800"/><area shape="rect" id="node86" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="424,824,579,853"/><area shape="rect" id="node91" href="../../d6/d27/a01781.html#a8ce848900e2e8fa23a41fcc2c1409fab" title="Json::Value::isNumeric" alt="" coords="423,877,580,907"/><area shape="rect" id="node93" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="437,931,565,960"/><area shape="rect" id="node95" href="../../dd/dac/a01008.html#a2797139168b2d6c069aa1f0c51bc327a" title="ripple::NetworkOPs\l::getLedgerByHash" alt="" coords="433,983,569,1030"/><area shape="rect" id="node97" href="../../dd/dac/a01008.html#aa4a081f49bdf9ea42446691c34ceed79" title="ripple::NetworkOPs\l::getCurrentLedger" alt="" coords="433,1053,569,1099"/><area shape="rect" id="node99" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="451,440,552,469"/><area shape="rect" id="node101" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="439,493,564,539"/><area shape="rect" id="node103" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="432,562,571,609"/><area shape="rect" id="node105" href="../../dd/dac/a01008.html#a3b147c209d1201adb03d478f148af4a1" title="ripple::NetworkOPs\l::getValidatedLedger" alt="" coords="431,631,572,678"/><area shape="rect" id="node107" href="../../dd/dac/a01008.html#a7615c0320aa25da4c77d806afe9c5c0e" title="ripple::NetworkOPs\l::getLedgerBySeq" alt="" coords="433,701,569,747"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a907eb3acd539cd6b1f752ab61dc6db09_icgraph.png" border="0" usemap="#dc/d8c/a01297_a907eb3acd539cd6b1f752ab61dc6db09_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a907eb3acd539cd6b1f752ab61dc6db09_icgraph" id="dc/d8c/a01297_a907eb3acd539cd6b1f752ab61dc6db09_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa59250abcc24f82149af101ceffc37ac"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doLedgerHeader </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../de/d11/a03267_source.html#l00027">27</a> of file <a class="el" href="../../de/d11/a03267_source.html">LedgerHeader.cpp</a>.</p>

<p>References <a class="el" href="../../dc/ddd/a03196_source.html#l00089">ripple::Serializer::addRaw()</a>, <a class="el" href="../../d0/d7c/a03318_source.html#l00043">ripple::RPC::lookupLedger()</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, <a class="el" href="../../dd/d61/a03197_source.html#l00125">ripple::Serializer::peekData()</a>, and <a class="el" href="../../d9/d4d/a02840_source.html#l00045">ripple::strHex()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;{</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>     lpLedger;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>         jvResult    = <a class="code" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258">RPC::lookupLedger</a> (params, lpLedger, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">if</span> (!lpLedger)</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    Serializer  s;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    lpLedger-&gt;addRaw (s);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    jvResult[<span class="stringliteral">&quot;ledger_data&quot;</span>] = <a class="code" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073">strHex</a> (s.peekData ());</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="comment">// This information isn&#39;t verified, they should only use it if they trust us.</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    lpLedger-&gt;addJson (jvResult, 0);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_aa59250abcc24f82149af101ceffc37ac_cgraph.png" border="0" usemap="#dc/d8c/a01297_aa59250abcc24f82149af101ceffc37ac_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_aa59250abcc24f82149af101ceffc37ac_cgraph" id="dc/d8c/a01297_aa59250abcc24f82149af101ceffc37ac_cgraph">
<area shape="rect" id="node3" href="../../da/d61/a01350.html#a8d8774ca938809be8323d3957a62af90" title="ripple::Serializer\l::addRaw" alt="" coords="220,421,335,467"/><area shape="rect" id="node5" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258" title="ripple::RPC::lookupLedger" alt="" coords="191,491,364,520"/><area shape="rect" id="node83" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073" title="ripple::strHex" alt="" coords="883,923,981,952"/><area shape="rect" id="node87" href="../../da/d61/a01350.html#a460460eaf22f52170a4e451471f0c19c" title="ripple::Serializer\l::peekData" alt="" coords="220,1071,335,1118"/><area shape="rect" id="node7" href="../../d6/d27/a01781.html#aff2e3a2e9fd5db5469588ab7b501d4db" title="Json::Value::get" alt="" coords="435,5,552,35"/><area shape="rect" id="node9" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="416,59,571,88"/><area shape="rect" id="node11" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="432,112,555,141"/><area shape="rect" id="node13" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="416,165,571,195"/><area shape="rect" id="node37" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7" title="Json::Value::isString" alt="" coords="423,219,564,248"/><area shape="rect" id="node39" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="648,306,773,353"/><area shape="rect" id="node49" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="420,323,567,352"/><area shape="rect" id="node51" href="../../d6/d27/a01781.html#a8ce848900e2e8fa23a41fcc2c1409fab" title="Json::Value::isNumeric" alt="" coords="415,376,572,405"/><area shape="rect" id="node57" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="429,429,557,459"/><area shape="rect" id="node59" href="../../dd/dac/a01008.html#a2797139168b2d6c069aa1f0c51bc327a" title="ripple::NetworkOPs\l::getLedgerByHash" alt="" coords="425,482,561,529"/><area shape="rect" id="node61" href="../../dd/dac/a01008.html#aa4a081f49bdf9ea42446691c34ceed79" title="ripple::NetworkOPs\l::getCurrentLedger" alt="" coords="425,551,561,598"/><area shape="rect" id="node63" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="443,621,544,651"/><area shape="rect" id="node67" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="431,674,556,721"/><area shape="rect" id="node69" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="424,743,563,790"/><area shape="rect" id="node71" href="../../dd/dac/a01008.html#a3b147c209d1201adb03d478f148af4a1" title="ripple::NetworkOPs\l::getValidatedLedger" alt="" coords="423,813,564,859"/><area shape="rect" id="node73" href="../../dd/dac/a01008.html#a7615c0320aa25da4c77d806afe9c5c0e" title="ripple::NetworkOPs\l::getLedgerBySeq" alt="" coords="425,882,561,929"/><area shape="rect" id="node75" href="../../d7/d9a/a00152.html#ad19bda12f3725584ac179f2e091e30d7" title="ripple::base_uint::\lToString" alt="" coords="431,951,556,998"/><area shape="rect" id="node15" href="../../d7/db0/a03467.html#aba0a720f8204028aa9b0f78f969d5f97" title="rocksdb::crc32c::Extend" alt="" coords="629,165,792,195"/><area shape="rect" id="node17" href="../../d7/db0/a03467.html#a174fe9c8cf3cb558b7accfdc10c6c04c" title="rocksdb::crc32c::CRC32" alt="" coords="849,165,1015,195"/><area shape="rect" id="node19" href="../../d7/db0/a03467.html#aeb8537c518a4a8ac7e1d8f8ac1c6bb63" title="rocksdb::crc32c::Choose\l_CRC32" alt="" coords="1064,157,1232,203"/><area shape="rect" id="node21" href="../../d7/db0/a03467.html#a6abc7c8ed18979f0e12fcfb6460f9285" title="rocksdb::crc32c::isSSE42" alt="" coords="1281,104,1455,133"/><area shape="rect" id="node23" href="../../d7/db0/a03467.html#ab6bf1f9041f7859fe1aae6312f650115" title="rocksdb::crc32c::Fast\l_CRC32" alt="" coords="1293,157,1443,203"/><area shape="rect" id="node31" href="../../d7/db0/a03467.html#aabbb4470a0a8566fff676e40a5c3a491" title="rocksdb::crc32c::Slow\l_CRC32" alt="" coords="1504,217,1656,263"/><area shape="rect" id="node25" href="../../d7/db0/a03467.html#aa5eeccea7be6cc99acab7223cc1c7baf" title="rocksdb::crc32c::LE\l_LOAD64" alt="" coords="1511,147,1649,194"/><area shape="rect" id="node27" href="../../d4/d87/a03436.html#a0bb1082c7c473bb0c6614963a14fed62" title="rocksdb::DecodeFixed64" alt="" coords="1705,159,1871,188"/><area shape="rect" id="node29" href="../../d4/d87/a03436.html#a5eb46c01bbc65cc301b2648e655dbe15" title="rocksdb::DecodeFixed32" alt="" coords="1921,191,2087,220"/><area shape="rect" id="node33" href="../../d7/db0/a03467.html#a72b216c9d4dfeeaea89e2410eec06ff9" title="rocksdb::crc32c::LE\l_LOAD32" alt="" coords="1719,213,1857,259"/><area shape="rect" id="node41" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="859,315,1005,344"/><area shape="rect" id="node45" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="857,507,1007,536"/><area shape="rect" id="node47" href="../../d7/d9a/a00152.html#a174768646f7fe8d81f4a38f5ccf9e6f5" title="ripple::base_uint::zero" alt="" coords="857,368,1007,397"/><area shape="rect" id="node43" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1073,527,1223,556"/><area shape="rect" id="node53" href="../../d6/d27/a01781.html#a0ea567fa51fc808851698bef59b43626" title="Json::Value::isDouble" alt="" coords="636,376,785,405"/><area shape="rect" id="node55" href="../../d6/d27/a01781.html#aec4f74ef7b776b1d9c8a10fc3bb4add5" title="Json::Value::isIntegral" alt="" coords="635,429,787,459"/><area shape="rect" id="node65" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="623,613,799,659"/><area shape="rect" id="node77" href="../../d7/d9a/a00152.html#a348c4019943a8b3a05f39f1efcb589c9" title="ripple::base_uint::\lGetHex" alt="" coords="648,817,773,863"/><area shape="rect" id="node79" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="869,730,995,777"/><area shape="rect" id="node85" href="../../d9/d9d/a03417.html#aca6318bcfeb25f74477566a7ddc06a63" title="ripple::charHex" alt="" coords="1093,923,1203,952"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_aa59250abcc24f82149af101ceffc37ac_icgraph.png" border="0" usemap="#dc/d8c/a01297_aa59250abcc24f82149af101ceffc37ac_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_aa59250abcc24f82149af101ceffc37ac_icgraph" id="dc/d8c/a01297_aa59250abcc24f82149af101ceffc37ac_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa1acae11e3ef0cd955af8b55fd359217"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doLogLevel </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/dcb/a03268_source.html#l00023">23</a> of file <a class="el" href="../../d4/dcb/a03268_source.html">LogLevel.cpp</a>.</p>

<p>References <a class="el" href="../../da/d19/a03094_source.html#l00185">ripple::LogSink::get()</a>, <a class="el" href="../../da/dbe/a03091_source.html#l00129">ripple::LogPartition::getSeverities()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d8/d4b/a03093_source.html#l00027">ripple::lsINVALID</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00072">ripple::rpcINVALID_PARAMS</a>, <a class="el" href="../../da/dbe/a03091_source.html#l00091">ripple::LogPartition::setSeverity()</a>, <a class="el" href="../../d9/d5e/a03086_source.html#l00081">ripple::Log::severityToString()</a>, and <a class="el" href="../../d9/d5e/a03086_source.html#l00109">ripple::Log::stringToSeverity()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="comment">// log_level</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;severity&quot;</span>))</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    {</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        <span class="comment">// get log severities</span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> ret (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> lev (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        lev[<span class="stringliteral">&quot;base&quot;</span>] = <a class="code" href="../../d0/dac/a00901.html#aea06470bc34bc07cf9be6511d6c2da6b">Log::severityToString</a> (<a class="code" href="../../d4/ddc/a00917.html#a26cf5d764138e35be6d73247f666dd1a">LogSink::get</a>()-&gt;getMinSeverity ());</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        std::vector&lt; std::pair&lt;std::string, std::string&gt; &gt; logTable = <a class="code" href="../../d3/dd1/a00914.html#ada3d5a0309d9a4abb039baf448938fe4">LogPartition::getSeverities</a> ();</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <span class="keyword">typedef</span> std::map&lt;std::string, std::string&gt;::value_type stringPair;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        BOOST_FOREACH (<span class="keyword">const</span> stringPair &amp; it, logTable)</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        lev[it.<a class="code" href="../../d0/d87/a03399.html#addb402f22cc191c3dc7f4325bb6f684e">first</a>] = it.second;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        ret[&quot;levels&quot;] = lev;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        return ret;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    }</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244">LogSeverity</a> sv = <a class="code" href="../../d4/d87/a03436.html#a437c68f3299fa632d4a1694059fd6ddb">Log</a>::stringToSeverity (params[&quot;severity&quot;].asString ());</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <a class="code" href="../../d4/d87/a03436.html#a6f17c6df7ce20ec52aecef2475cd4158">if</a> (sv == <a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a9c2a0c14a24a6bb33c46f553de5a5ad9">lsINVALID</a>)</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        return <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="comment">// log_level severity</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <a class="code" href="../../d4/d87/a03436.html#a6f17c6df7ce20ec52aecef2475cd4158">if</a> (!params.isMember (&quot;partition&quot;))</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="comment">// set base log severity</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <a class="code" href="../../d4/ddc/a00917.html#a26cf5d764138e35be6d73247f666dd1a">LogSink::get</a>()-&gt;setMinSeverity (sv, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    }</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="comment">// log_level partition severity base?</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;partition&quot;</span>))</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="comment">// set partition severity</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        std::string partition (params[<span class="stringliteral">&quot;partition&quot;</span>].asString ());</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">if</span> (boost::iequals (partition, <span class="stringliteral">&quot;base&quot;</span>))</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;            <a class="code" href="../../d4/ddc/a00917.html#a26cf5d764138e35be6d73247f666dd1a">LogSink::get</a>()-&gt;setMinSeverity (sv, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../d3/dd1/a00914.html#a0b066e27e414adc3ac395f8c1484a0a1">LogPartition::setSeverity</a> (partition, sv))</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (rpcINVALID_PARAMS);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (rpcINVALID_PARAMS);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_aa1acae11e3ef0cd955af8b55fd359217_cgraph.png" border="0" usemap="#dc/d8c/a01297_aa1acae11e3ef0cd955af8b55fd359217_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_aa1acae11e3ef0cd955af8b55fd359217_cgraph" id="dc/d8c/a01297_aa1acae11e3ef0cd955af8b55fd359217_cgraph">
<area shape="rect" id="node3" href="../../d4/ddc/a00917.html#a26cf5d764138e35be6d73247f666dd1a" title="ripple::LogSink::get" alt="" coords="216,5,349,35"/><area shape="rect" id="node5" href="../../d3/dd1/a00914.html#ada3d5a0309d9a4abb039baf448938fe4" title="ripple::LogPartition\l::getSeverities" alt="" coords="217,58,348,105"/><area shape="rect" id="node7" href="../../d0/dac/a00901.html#aea06470bc34bc07cf9be6511d6c2da6b" title="ripple::Log::severityToString" alt="" coords="425,97,609,127"/><area shape="rect" id="node9" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="205,179,360,208"/><area shape="rect" id="node11" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="229,232,336,261"/><area shape="rect" id="node19" href="../../d3/dd1/a00914.html#a0b066e27e414adc3ac395f8c1484a0a1" title="ripple::LogPartition\l::setSeverity" alt="" coords="217,285,348,331"/><area shape="rect" id="node22" href="../../d0/dac/a00901.html#ad425fa3830abfcfb6d21953e5cbe2096" title="ripple::Log::stringToSeverity" alt="" coords="191,355,375,384"/><area shape="rect" id="node13" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="453,223,581,270"/><area shape="rect" id="node15" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="660,232,836,261"/><area shape="rect" id="node17" href="../../dc/d8e/a00473.html#aec1914e37aa6e639af71985d7abfb52f" title="ripple::RPC::detail\l::ErrorCategory::get" alt="" coords="887,223,1023,270"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_aa1acae11e3ef0cd955af8b55fd359217_icgraph.png" border="0" usemap="#dc/d8c/a01297_aa1acae11e3ef0cd955af8b55fd359217_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_aa1acae11e3ef0cd955af8b55fd359217_icgraph" id="dc/d8c/a01297_aa1acae11e3ef0cd955af8b55fd359217_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0bf2dde628b286db05f5923ffab72e60"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doLogRotate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d33/a03269_source.html#l00023">23</a> of file <a class="el" href="../../d9/d33/a03269_source.html">LogRotate.cpp</a>.</p>

<p>References <a class="el" href="../../da/d19/a03094_source.html#l00185">ripple::LogSink::get()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/ddc/a00917.html#a26cf5d764138e35be6d73247f666dd1a">LogSink::get</a>()-&gt;rotateLog ();</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a0bf2dde628b286db05f5923ffab72e60_cgraph.png" border="0" usemap="#dc/d8c/a01297_a0bf2dde628b286db05f5923ffab72e60_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a0bf2dde628b286db05f5923ffab72e60_cgraph" id="dc/d8c/a01297_a0bf2dde628b286db05f5923ffab72e60_cgraph">
<area shape="rect" id="node3" href="../../d4/ddc/a00917.html#a26cf5d764138e35be6d73247f666dd1a" title="ripple::LogSink::get" alt="" coords="191,13,324,43"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a0bf2dde628b286db05f5923ffab72e60_icgraph.png" border="0" usemap="#dc/d8c/a01297_a0bf2dde628b286db05f5923ffab72e60_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a0bf2dde628b286db05f5923ffab72e60_icgraph" id="dc/d8c/a01297_a0bf2dde628b286db05f5923ffab72e60_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aeb064961d348fa21750913aaef39f4d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doNicknameInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abaadd995f0792433ae88561824e0228b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doOwnerInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d13/a03271_source.html#l00028">28</a> of file <a class="el" href="../../df/d13/a03271_source.html">OwnerInfo.cpp</a>.</p>

<p>References <a class="el" href="../../d2/d14/a03304_source.html#l00028">ripple::RPC::accountFromString()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00861">Json::Value::asUInt()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01066">Json::Value::empty()</a>, <a class="el" href="../../dd/dac/a01008.html#ad05280c2a39d4757801d02b8f960300a">ripple::NetworkOPs::getClosedLedger()</a>, <a class="el" href="../../dd/dac/a01008.html#aa4a081f49bdf9ea42446691c34ceed79">ripple::NetworkOPs::getCurrentLedger()</a>, <a class="el" href="../../dd/dac/a01008.html#a7be0d3fdd5191aa586451e176c1e5398">ripple::NetworkOPs::getOwnerInfo()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00166">ripple::RPC::missing_field_error()</a>, and <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;{</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;account&quot;</span>) &amp;&amp; !params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;ident&quot;</span>))</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06">RPC::missing_field_error</a> (<span class="stringliteral">&quot;account&quot;</span>);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    std::string     strIdent    = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;account&quot;</span>) ? params[<span class="stringliteral">&quot;account&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> () : params[<span class="stringliteral">&quot;ident&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ();</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordtype">bool</span>            bIndex;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordtype">int</span>             iIndex      = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;account_index&quot;</span>) ? params[<span class="stringliteral">&quot;account_index&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c">asUInt</a> () : 0;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    RippleAddress   raAccount;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>     ret;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="comment">// Get info on account.</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>     jAccepted   = <a class="code" href="../../d2/d9b/a03429.html#a3006948cff450a68caca5b20d9753b17">RPC::accountFromString</a> (<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#ad05280c2a39d4757801d02b8f960300a">getClosedLedger</a> (), raAccount, bIndex, strIdent, iIndex, <span class="keyword">false</span>, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    ret[<span class="stringliteral">&quot;accepted&quot;</span>] = jAccepted.<a class="code" href="../../d6/d27/a01781.html#a99c42d3ff8495dad1e91b43e66553c36" title="Return true if empty array, empty object, or null; otherwise, false. ">empty</a> () ? <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#a7be0d3fdd5191aa586451e176c1e5398">getOwnerInfo</a> (<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#ad05280c2a39d4757801d02b8f960300a">getClosedLedger</a> (), raAccount) : jAccepted;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>     jCurrent    = <a class="code" href="../../d2/d9b/a03429.html#a3006948cff450a68caca5b20d9753b17">RPC::accountFromString</a> (<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#aa4a081f49bdf9ea42446691c34ceed79">getCurrentLedger</a> (), raAccount, bIndex, strIdent, iIndex, <span class="keyword">false</span>, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    ret[<span class="stringliteral">&quot;current&quot;</span>]  = jCurrent.<a class="code" href="../../d6/d27/a01781.html#a99c42d3ff8495dad1e91b43e66553c36" title="Return true if empty array, empty object, or null; otherwise, false. ">empty</a> () ? <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#a7be0d3fdd5191aa586451e176c1e5398">getOwnerInfo</a> (<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#aa4a081f49bdf9ea42446691c34ceed79">getCurrentLedger</a> (), raAccount) : jCurrent;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_abaadd995f0792433ae88561824e0228b_cgraph.png" border="0" usemap="#dc/d8c/a01297_abaadd995f0792433ae88561824e0228b_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_abaadd995f0792433ae88561824e0228b_cgraph" id="dc/d8c/a01297_abaadd995f0792433ae88561824e0228b_cgraph">
<area shape="rect" id="node3" href="../../d2/d9b/a03429.html#a3006948cff450a68caca5b20d9753b17" title="ripple::RPC::accountFrom\lString" alt="" coords="191,767,364,814"/><area shape="rect" id="node84" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="204,1232,351,1261"/><area shape="rect" id="node86" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="208,1285,347,1315"/><area shape="rect" id="node88" href="../../d6/d27/a01781.html#a99c42d3ff8495dad1e91b43e66553c36" title="Return true if empty array, empty object, or null; otherwise, false. " alt="" coords="211,1339,344,1368"/><area shape="rect" id="node98" href="../../dd/dac/a01008.html#ad05280c2a39d4757801d02b8f960300a" title="ripple::NetworkOPs\l::getClosedLedger" alt="" coords="209,1391,345,1438"/><area shape="rect" id="node100" href="../../dd/dac/a01008.html#aa4a081f49bdf9ea42446691c34ceed79" title="ripple::NetworkOPs\l::getCurrentLedger" alt="" coords="209,1461,345,1507"/><area shape="rect" id="node102" href="../../dd/dac/a01008.html#a7be0d3fdd5191aa586451e176c1e5398" title="ripple::NetworkOPs\l::getOwnerInfo" alt="" coords="209,1530,345,1577"/><area shape="rect" id="node104" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="200,1600,355,1629"/><area shape="rect" id="node106" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06" title="ripple::RPC::missing\l_field_error" alt="" coords="207,1162,348,1209"/><area shape="rect" id="node5" href="../../d4/d0e/a01272.html#a6fccb99136b7c4e3f0d0d1ec404392a0" title="ripple::RippleAddress\l::setAccountPublic" alt="" coords="660,770,807,817"/><area shape="rect" id="node13" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="660,839,807,886"/><area shape="rect" id="node16" href="../../d9/d7d/a00150.html#a93558f897cf671ef53d71144450ae5de" title="ripple::Base58::getBitcoin\lAlphabet" alt="" coords="415,442,585,489"/><area shape="rect" id="node18" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="447,1064,553,1093"/><area shape="rect" id="node24" href="../../d4/d0e/a01272.html#afb74c70e56ff76faf4f4e703139e088f" title="ripple::RippleAddress\l::setSeedGeneric" alt="" coords="427,703,573,750"/><area shape="rect" id="node28" href="../../d4/d0e/a01272.html#a973406a0a660a3085f291033099db6d4" title="ripple::RippleAddress\l::setAccountPrivate" alt="" coords="660,909,807,955"/><area shape="rect" id="node52" href="../../d4/d0e/a01272.html#af5b92338227d7e142fa7a0dd728dbc36" title="ripple::RippleAddress\l::createGeneratorPublic" alt="" coords="421,979,579,1026"/><area shape="rect" id="node56" href="../../d4/d0e/a01272.html#aa69f888fe19bdac32275a0637d93d6ae" title="ripple::RippleAddress\l::setGenerator" alt="" coords="660,978,807,1025"/><area shape="rect" id="node60" href="../../dd/dac/a01008.html#a25f573a5680d2b1d83865b11b28cbe12" title="ripple::NetworkOPs\l::getGenerator" alt="" coords="432,581,568,627"/><area shape="rect" id="node62" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="427,511,573,558"/><area shape="rect" id="node66" href="../../d4/d0e/a01272.html#ac38496bfee913d17eeb561a20fb11eac" title="ripple::RippleAddress\l::accountPrivateDecrypt" alt="" coords="419,146,581,193"/><area shape="rect" id="node80" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="423,651,577,680"/><area shape="rect" id="node7" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="1099,694,1240,741"/><area shape="rect" id="node9" href="../../d9/d7d/a00150.html#a85c405829839e85edb721241fd8d4203" title="ripple::Base58::decodeWith\lCheck" alt="" coords="1308,553,1489,599"/><area shape="rect" id="node11" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="1539,460,1685,489"/><area shape="rect" id="node20" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="892,1133,1020,1179"/><area shape="rect" id="node22" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="1081,1141,1257,1171"/><area shape="rect" id="node31" href="../../d4/d0e/a01272.html#a20ebd6bb6da228273b6159c3698f0b38" title="ripple::RippleAddress\l::setNodePublic" alt="" coords="883,509,1029,555"/><area shape="rect" id="node34" href="../../d4/d0e/a01272.html#a1c5ba09193abc3fe85e179665eba0313" title="ripple::RippleAddress\l::setNodePrivate" alt="" coords="883,578,1029,625"/><area shape="rect" id="node37" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="671,410,796,457"/><area shape="rect" id="node44" href="../../d4/d0e/a01272.html#a174148805b914cbf25bd9aeb932b8fc5" title="ripple::RippleAddress\l::setSeed" alt="" coords="883,647,1029,694"/><area shape="rect" id="node47" href="../../d4/d0e/a01272.html#a084f091b0572c3bd9362738527855ca4" title="ripple::RippleAddress\l::setSeed1751" alt="" coords="660,631,807,678"/><area shape="rect" id="node50" href="../../dc/d5d/a00278.html#afa42bb14eac814058795117def5189f7" title="ripple::CKey::PassPhrase\lToKey" alt="" coords="647,701,820,747"/><area shape="rect" id="node40" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="881,172,1031,201"/><area shape="rect" id="node42" href="../../d7/d9a/a00152.html#a174768646f7fe8d81f4a38f5ccf9e6f5" title="ripple::base_uint::zero" alt="" coords="881,456,1031,485"/><area shape="rect" id="node54" href="../../d4/d0e/a01272.html#a1510644a37f401fb4bbd95967f032f0c" title="ripple::RippleAddress\l::getSeed" alt="" coords="660,1047,807,1094"/><area shape="rect" id="node64" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="677,304,789,333"/><area shape="rect" id="node68" href="../../dc/d5d/a00278.html#ab02179a4d3ae96657fc222bd70505f91" title="ripple::CKey::SetPubKey" alt="" coords="649,59,817,88"/><area shape="rect" id="node70" href="../../d4/d0e/a01272.html#ae5e06999971539c90a3b6556cb3af43e" title="ripple::RippleAddress\l::getAccountPublic" alt="" coords="660,111,807,158"/><area shape="rect" id="node72" href="../../dc/d5d/a00278.html#a0cff62f1b43b21c1707d4e876e09f468" title="ripple::CKey::SetPrivateKeyU" alt="" coords="636,5,831,35"/><area shape="rect" id="node75" href="../../d4/d0e/a01272.html#a82e10e86c62e6a2b788cee0317ad6eaf" title="ripple::RippleAddress\l::getAccountPrivate" alt="" coords="660,181,807,227"/><area shape="rect" id="node77" href="../../dc/d5d/a00278.html#aac5ef86019d319cade44e9112965ef47" title="ripple::CKey::decryptECIES" alt="" coords="640,251,827,280"/><area shape="rect" id="node82" href="../../d7/db0/a03467.html#aba0a720f8204028aa9b0f78f969d5f97" title="rocksdb::crc32c::Extend" alt="" coords="652,357,815,387"/><area shape="rect" id="node90" href="../../d6/d27/a01781.html#ac8c898f93543e55b67418f94bced20af" title="Json::Value::isArray" alt="" coords="431,1392,569,1421"/><area shape="rect" id="node92" href="../../d6/d27/a01781.html#aeb9ad8b1bb91bdd72203dc884b3f4362" title="Json::Value::isNull" alt="" coords="435,1445,565,1475"/><area shape="rect" id="node94" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92" title="Json::Value::isObject" alt="" coords="427,1285,573,1315"/><area shape="rect" id="node96" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="439,1339,561,1368"/><area shape="rect" id="node108" href="../../d2/d9b/a03429.html#a5b6ce0616f6995340f4dd846660c3749" title="ripple::RPC::make_param\l_error" alt="" coords="413,1146,587,1193"/><area shape="rect" id="node113" href="../../d2/d9b/a03429.html#a5d5937b3d78d931333b1c278e13e23b2" title="ripple::RPC::missing\l_field_message" alt="" coords="429,1215,571,1262"/><area shape="rect" id="node110" href="../../d2/d9b/a03429.html#a2cd6200f6709780fcf1dd26ec9cd2866" title="ripple::RPC::make_error" alt="" coords="652,1168,815,1197"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_abaadd995f0792433ae88561824e0228b_icgraph.png" border="0" usemap="#dc/d8c/a01297_abaadd995f0792433ae88561824e0228b_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_abaadd995f0792433ae88561824e0228b_icgraph" id="dc/d8c/a01297_abaadd995f0792433ae88561824e0228b_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4d6dc207e46225696cd4e12dfc3d54bb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doPathFind </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/d1c/a03272_source.html#l00023">23</a> of file <a class="el" href="../../d4/d1c/a03272_source.html">PathFind.cpp</a>.</p>

<p>References <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../d5/d6b/a03428.html#a3bffd22c83dd5da4b419134e040c619a">ripple::Resource::feeHighBurdenRPC</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../dd/dac/a01008.html#ad05280c2a39d4757801d02b8f960300a">ripple::NetworkOPs::getClosedLedger()</a>, <a class="el" href="../../da/d74/a00099.html#a5368183e92fc6cd7a985295d258ec892">ripple::Application::getPathRequests()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01501">Json::Value::isString()</a>, <a class="el" href="../../d6/d58/a02993_source.html#l00162">ripple::PathRequests::makePathRequest()</a>, <a class="el" href="../../de/dec/a03020_source.html#l00137">mInfoSub</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00072">ripple::rpcINVALID_PARAMS</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00045">ripple::rpcNO_EVENTS</a>, and <a class="el" href="../../d8/deb/a03246_source.html#l00074">ripple::rpcNO_PF_REQUEST</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> lpLedger = <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#ad05280c2a39d4757801d02b8f960300a">getClosedLedger</a>();</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    masterLockHolder.unlock();</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;subcommand&quot;</span>) || !params[<span class="stringliteral">&quot;subcommand&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7">isString</a> ())</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dc/d8c/a01297.html#af11ecf1530620e83636a8868f1403eec">mInfoSub</a>)</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a02193610b83aaaae66347f6236dcf995">rpcNO_EVENTS</a>);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    std::string sSubCommand = params[<span class="stringliteral">&quot;subcommand&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ();</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">if</span> (sSubCommand == <span class="stringliteral">&quot;create&quot;</span>)</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        loadType = <a class="code" href="../../d5/d6b/a03428.html#a3bffd22c83dd5da4b419134e040c619a">Resource::feeHighBurdenRPC</a>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <a class="code" href="../../dc/d8c/a01297.html#af11ecf1530620e83636a8868f1403eec">mInfoSub</a>-&gt;clearPathRequest ();</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a5368183e92fc6cd7a985295d258ec892">getPathRequests</a>().<a class="code" href="../../da/d93/a01084.html#af4814b3b68d6c3a0f45846e1104852d9">makePathRequest</a> (<a class="code" href="../../dc/d8c/a01297.html#af11ecf1530620e83636a8868f1403eec">mInfoSub</a>, lpLedger, params);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    }</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">if</span> (sSubCommand == <span class="stringliteral">&quot;close&quot;</span>)</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <a class="code" href="../../d6/d9a/a01083.html#a70ae20c8e4d8e5d8c6601a4a57f542c5">PathRequest::pointer</a> request = <a class="code" href="../../dc/d8c/a01297.html#af11ecf1530620e83636a8868f1403eec">mInfoSub</a>-&gt;getPathRequest ();</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <span class="keywordflow">if</span> (!request)</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932aaa66891292b88906637528756e064d1e">rpcNO_PF_REQUEST</a>);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <a class="code" href="../../dc/d8c/a01297.html#af11ecf1530620e83636a8868f1403eec">mInfoSub</a>-&gt;clearPathRequest ();</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="keywordflow">return</span> request-&gt;doClose (params);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordflow">if</span> (sSubCommand == <span class="stringliteral">&quot;status&quot;</span>)</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <a class="code" href="../../d6/d9a/a01083.html#a70ae20c8e4d8e5d8c6601a4a57f542c5">PathRequest::pointer</a> request = <a class="code" href="../../dc/d8c/a01297.html#af11ecf1530620e83636a8868f1403eec">mInfoSub</a>-&gt;getPathRequest ();</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">if</span> (!request)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932aaa66891292b88906637528756e064d1e">rpcNO_PF_REQUEST</a>;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">return</span> request-&gt;doStatus (params);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a4d6dc207e46225696cd4e12dfc3d54bb_cgraph.png" border="0" usemap="#dc/d8c/a01297_a4d6dc207e46225696cd4e12dfc3d54bb_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a4d6dc207e46225696cd4e12dfc3d54bb_cgraph" id="dc/d8c/a01297_a4d6dc207e46225696cd4e12dfc3d54bb_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="195,5,341,35"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="416,145,517,175"/><area shape="rect" id="node9" href="../../dd/dac/a01008.html#ad05280c2a39d4757801d02b8f960300a" title="ripple::NetworkOPs\l::getClosedLedger" alt="" coords="200,109,336,155"/><area shape="rect" id="node11" href="../../da/d74/a00099.html#a5368183e92fc6cd7a985295d258ec892" title="ripple::Application\l::getPathRequests" alt="" coords="203,178,333,225"/><area shape="rect" id="node13" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="191,248,345,277"/><area shape="rect" id="node15" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7" title="Json::Value::isString" alt="" coords="197,301,339,331"/><area shape="rect" id="node17" href="../../da/d93/a01084.html#af4814b3b68d6c3a0f45846e1104852d9" title="ripple::PathRequests\l::makePathRequest" alt="" coords="196,354,340,401"/><area shape="rect" id="node26" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="215,428,321,457"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="588,137,764,183"/><area shape="rect" id="node20" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="404,250,529,297"/><area shape="rect" id="node22" href="../../da/d93/a01084.html#a164386fea7cfb04118b4fec9ae02d567" title="ripple::PathRequests\l::getLineCache" alt="" coords="395,319,539,366"/><area shape="rect" id="node24" href="../../d1/de6/a00837.html#a72079d9c1d15c67b0607364ee25402f5" title="ripple::LedgerMaster\l::newPathRequest" alt="" coords="397,389,536,435"/><area shape="rect" id="node28" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="403,458,531,505"/><area shape="rect" id="node30" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="588,467,764,496"/><area shape="rect" id="node32" href="../../dc/d8e/a00473.html#aec1914e37aa6e639af71985d7abfb52f" title="ripple::RPC::detail\l::ErrorCategory::get" alt="" coords="815,458,951,505"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a4d6dc207e46225696cd4e12dfc3d54bb_icgraph.png" border="0" usemap="#dc/d8c/a01297_a4d6dc207e46225696cd4e12dfc3d54bb_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a4d6dc207e46225696cd4e12dfc3d54bb_icgraph" id="dc/d8c/a01297_a4d6dc207e46225696cd4e12dfc3d54bb_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adde7167fb74286fe368b0825292583f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doPeers </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d3/da0/a03273_source.html#l00024">24</a> of file <a class="el" href="../../d3/da0/a03273_source.html">Peers.cpp</a>.</p>

<p>References <a class="el" href="../../d0/d78/a01745.html#aa2571955e1a6d62b4078a79477853b88">ripple::UniqueNodeList::addClusterStatus()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2">ripple::Application::getUNL()</a>, <a class="el" href="../../de/de6/a01063.html#a5da9bb30da9541be97e172a923aae879">ripple::Overlay::json()</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, and <a class="el" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee">ripple::Application::overlay()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;{</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvResult (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    jvResult[<span class="stringliteral">&quot;peers&quot;</span>]   = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee">overlay</a> ().<a class="code" href="../../de/de6/a01063.html#a5da9bb30da9541be97e172a923aae879">json</a> ();</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2">getUNL</a>().<a class="code" href="../../d0/d78/a01745.html#aa2571955e1a6d62b4078a79477853b88">addClusterStatus</a>(jvResult);</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_adde7167fb74286fe368b0825292583f1_cgraph.png" border="0" usemap="#dc/d8c/a01297_adde7167fb74286fe368b0825292583f1_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_adde7167fb74286fe368b0825292583f1_cgraph" id="dc/d8c/a01297_adde7167fb74286fe368b0825292583f1_cgraph">
<area shape="rect" id="node3" href="../../d0/d78/a01745.html#aa2571955e1a6d62b4078a79477853b88" title="ripple::UniqueNodeList\l::addClusterStatus" alt="" coords="189,5,344,51"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="216,75,317,104"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2" title="ripple::Application\l::getUNL" alt="" coords="204,127,329,174"/><area shape="rect" id="node11" href="../../de/de6/a01063.html#a5da9bb30da9541be97e172a923aae879" title="ripple::Overlay::json" alt="" coords="197,197,336,227"/><area shape="rect" id="node13" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee" title="ripple::Application\l::overlay" alt="" coords="204,250,329,297"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="393,66,569,113"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_adde7167fb74286fe368b0825292583f1_icgraph.png" border="0" usemap="#dc/d8c/a01297_adde7167fb74286fe368b0825292583f1_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_adde7167fb74286fe368b0825292583f1_icgraph" id="dc/d8c/a01297_adde7167fb74286fe368b0825292583f1_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a979950a0dda1be57a45c4af66bea34e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doPing </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/deb/a03274_source.html#l00023">23</a> of file <a class="el" href="../../da/deb/a03274_source.html">Ping.cpp</a>.</p>

<p>References <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, and <a class="el" href="../../de/d3e/a02727_source.html#l00023">rocksdb::crc32c::Value()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9">Json::Value</a> (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a979950a0dda1be57a45c4af66bea34e5_cgraph.png" border="0" usemap="#dc/d8c/a01297_a979950a0dda1be57a45c4af66bea34e5_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a979950a0dda1be57a45c4af66bea34e5_cgraph" id="dc/d8c/a01297_a979950a0dda1be57a45c4af66bea34e5_cgraph">
<area shape="rect" id="node3" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="191,67,345,96"/><area shape="rect" id="node5" href="../../d7/db0/a03467.html#aba0a720f8204028aa9b0f78f969d5f97" title="rocksdb::crc32c::Extend" alt="" coords="396,67,559,96"/><area shape="rect" id="node7" href="../../d7/db0/a03467.html#a174fe9c8cf3cb558b7accfdc10c6c04c" title="rocksdb::crc32c::CRC32" alt="" coords="609,67,775,96"/><area shape="rect" id="node9" href="../../d7/db0/a03467.html#aeb8537c518a4a8ac7e1d8f8ac1c6bb63" title="rocksdb::crc32c::Choose\l_CRC32" alt="" coords="824,58,992,105"/><area shape="rect" id="node11" href="../../d7/db0/a03467.html#a6abc7c8ed18979f0e12fcfb6460f9285" title="rocksdb::crc32c::isSSE42" alt="" coords="1041,5,1215,35"/><area shape="rect" id="node13" href="../../d7/db0/a03467.html#ab6bf1f9041f7859fe1aae6312f650115" title="rocksdb::crc32c::Fast\l_CRC32" alt="" coords="1053,58,1203,105"/><area shape="rect" id="node21" href="../../d7/db0/a03467.html#aabbb4470a0a8566fff676e40a5c3a491" title="rocksdb::crc32c::Slow\l_CRC32" alt="" coords="1264,118,1416,165"/><area shape="rect" id="node15" href="../../d7/db0/a03467.html#aa5eeccea7be6cc99acab7223cc1c7baf" title="rocksdb::crc32c::LE\l_LOAD64" alt="" coords="1271,49,1409,95"/><area shape="rect" id="node17" href="../../d4/d87/a03436.html#a0bb1082c7c473bb0c6614963a14fed62" title="rocksdb::DecodeFixed64" alt="" coords="1465,60,1631,89"/><area shape="rect" id="node19" href="../../d4/d87/a03436.html#a5eb46c01bbc65cc301b2648e655dbe15" title="rocksdb::DecodeFixed32" alt="" coords="1681,92,1847,121"/><area shape="rect" id="node23" href="../../d7/db0/a03467.html#a72b216c9d4dfeeaea89e2410eec06ff9" title="rocksdb::crc32c::LE\l_LOAD32" alt="" coords="1479,114,1617,161"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a979950a0dda1be57a45c4af66bea34e5_icgraph.png" border="0" usemap="#dc/d8c/a01297_a979950a0dda1be57a45c4af66bea34e5_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a979950a0dda1be57a45c4af66bea34e5_icgraph" id="dc/d8c/a01297_a979950a0dda1be57a45c4af66bea34e5_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a03eb836cf6203f82aa95ad22c444e6fa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doPrint </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/dbf/a03275_source.html#l00023">23</a> of file <a class="el" href="../../d8/dbf/a03275_source.html">Print.cpp</a>.</p>

<p>References <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01508">Json::Value::isArray()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01515">Json::Value::isObject()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01501">Json::Value::isString()</a>, <a class="el" href="../../df/db6/a02455_source.html#l00029">ripple::JsonPropertyStream::top()</a>, and <a class="el" href="../../db/d26/a02129_source.html#l00243">beast::PropertyStream::Source::write()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    JsonPropertyStream stream;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92">isObject</a>() &amp;&amp; params[<span class="stringliteral">&quot;params&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#ac8c898f93543e55b67418f94bced20af">isArray</a>() &amp;&amp; params[<span class="stringliteral">&quot;params&quot;</span>][0u].<a class="code" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7">isString</a> ())</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../d9/db0/a01437.html#aa2398e48dde9f52949d08ca0785c0bb3">write</a> (stream, params[<span class="stringliteral">&quot;params&quot;</span>][0u].asString());</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../d9/db0/a01437.html#aa2398e48dde9f52949d08ca0785c0bb3">write</a> (stream);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordflow">return</span> stream.top();</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a03eb836cf6203f82aa95ad22c444e6fa_cgraph.png" border="0" usemap="#dc/d8c/a01297_a03eb836cf6203f82aa95ad22c444e6fa_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a03eb836cf6203f82aa95ad22c444e6fa_cgraph" id="dc/d8c/a01297_a03eb836cf6203f82aa95ad22c444e6fa_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="243,13,344,43"/><area shape="rect" id="node7" href="../../d6/d27/a01781.html#ac8c898f93543e55b67418f94bced20af" title="Json::Value::isArray" alt="" coords="224,67,363,96"/><area shape="rect" id="node9" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92" title="Json::Value::isObject" alt="" coords="220,120,367,149"/><area shape="rect" id="node11" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7" title="Json::Value::isString" alt="" coords="223,173,364,203"/><area shape="rect" id="node13" href="../../d3/daf/a00790.html#a7fae4d378be92036090b7e84e5451080" title="ripple::JsonPropertyStream::top" alt="" coords="191,227,396,256"/><area shape="rect" id="node15" href="../../d9/db0/a01437.html#aa2398e48dde9f52949d08ca0785c0bb3" title="beast::PropertyStream\l::Source::write" alt="" coords="217,279,369,326"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="447,5,623,51"/><area shape="rect" id="node17" href="../../d9/db0/a01437.html#a9228e91f2702c576f7f914306607c0ff" title="beast::PropertyStream\l::Source::write" alt="" coords="459,279,611,326"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a03eb836cf6203f82aa95ad22c444e6fa_icgraph.png" border="0" usemap="#dc/d8c/a01297_a03eb836cf6203f82aa95ad22c444e6fa_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a03eb836cf6203f82aa95ad22c444e6fa_icgraph" id="dc/d8c/a01297_a03eb836cf6203f82aa95ad22c444e6fa_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa275c2c005e4ff211fe7587162ad4283"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doProfile </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/ded/a03276_source.html#l00028">28</a> of file <a class="el" href="../../d0/ded/a03276_source.html">Profile.cpp</a>.</p>

<p>References <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;{</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="comment">/* need to fix now that sharedOfferCreate is gone</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">    int             iArgs   = params.size();</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">    RippleAddress   naSeedA;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">    RippleAddress   naAccountA;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="comment">    uint160         uCurrencyOfferA;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="comment">    RippleAddress   naSeedB;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;<span class="comment">    RippleAddress   naAccountB;</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="comment">    uint160         uCurrencyOfferB;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="comment">    uint32          iCount  = 100;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="comment">    bool            bSubmit = false;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="comment">    if (iArgs &lt; 6 || &quot;offers&quot; != params[0u].asString())</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="comment">        return rpcError(rpcINVALID_PARAMS);</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="comment">    if (!naSeedA.setSeedGeneric(params[1u].asString()))                          // &lt;pass_a&gt;</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="comment">        return rpcError(rpcINVALID_PARAMS);</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="comment">    naAccountA.setAccountID(params[2u].asString());                              // &lt;account_a&gt;</span></div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="comment">    if (!STAmount::currencyFromString(uCurrencyOfferA, params[3u].asString()))   // &lt;currency_offer_a&gt;</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="comment">        return rpcError(rpcINVALID_PARAMS);</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="comment">    naAccountB.setAccountID(params[4u].asString());                              // &lt;account_b&gt;</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">    if (!STAmount::currencyFromString(uCurrencyOfferB, params[5u].asString()))   // &lt;currency_offer_b&gt;</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;<span class="comment">        return rpcError(rpcINVALID_PARAMS);</span></div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;<span class="comment">    iCount  = lexicalCast &lt;uint32&gt;(params[6u].asString());</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment">    if (iArgs &gt;= 8 &amp;&amp; &quot;false&quot; != params[7u].asString())</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">        bSubmit = true;</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">    LogSink::get()-&gt;setMinSeverity(lsFATAL,true);</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">    boost::posix_time::ptime            ptStart(boost::posix_time::microsec_clock::local_time());</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;<span class="comment">    for(unsigned int n=0; n&lt;iCount; n++)</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;<span class="comment">    {</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;<span class="comment">        RippleAddress           naMasterGeneratorA;</span></div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;<span class="comment">        RippleAddress           naAccountPublicA;</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;<span class="comment">        RippleAddress           naAccountPrivateA;</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;<span class="comment">        AccountState::pointer   asSrcA;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;<span class="comment">        STAmount                saSrcBalanceA;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;<span class="comment">        Json::Value             jvObjA      = authorize(uint256(0), naSeedA, naAccountA, naAccountPublicA, naAccountPrivateA,</span></div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;<span class="comment">            saSrcBalanceA, getConfig ().FEE_DEFAULT, asSrcA, naMasterGeneratorA);</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="comment">        if (!jvObjA.empty())</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="comment">            return jvObjA;</span></div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="comment">        Transaction::pointer    tpOfferA    = Transaction::sharedOfferCreate(</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;<span class="comment">            naAccountPublicA, naAccountPrivateA,</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="comment">            naAccountA,                                                 // naSourceAccount,</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="comment">            asSrcA-&gt;getSeq(),                                           // uSeq</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment">            getConfig ().FEE_DEFAULT,</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">            0,                                                          // uSourceTag,</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">            false,                                                      // bPassive</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">            STAmount(uCurrencyOfferA, naAccountA.getAccountID(), 1),    // saTakerPays</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">            STAmount(uCurrencyOfferB, naAccountB.getAccountID(), 1+n),  // saTakerGets</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">            0);                                                         // uExpiration</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;<span class="comment">        if (bSubmit)</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;<span class="comment">            tpOfferA    = mNetOps-&gt;submitTransactionSync(tpOfferA); // FIXME: Don&#39;t use synch interface</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<span class="comment">    }</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;<span class="comment">    boost::posix_time::ptime            ptEnd(boost::posix_time::microsec_clock::local_time());</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;<span class="comment">    boost::posix_time::time_duration    tdInterval      = ptEnd-ptStart;</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;<span class="comment">    long                                lMicroseconds   = tdInterval.total_microseconds();</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;<span class="comment">    int                                 iTransactions   = iCount;</span></div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;<span class="comment">    float                               fRate           = lMicroseconds ? iTransactions/(lMicroseconds/1000000.0) : 0.0;</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="comment">    Json::Value obj(Json::objectValue);</span></div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="comment">    obj[&quot;transactions&quot;]     = iTransactions;</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;<span class="comment">    obj[&quot;submit&quot;]           = bSubmit;</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;<span class="comment">    obj[&quot;start&quot;]            = boost::posix_time::to_simple_string(ptStart);</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;<span class="comment">    obj[&quot;end&quot;]              = boost::posix_time::to_simple_string(ptEnd);</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment">    obj[&quot;interval&quot;]         = boost::posix_time::to_simple_string(tdInterval);</span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">    obj[&quot;rate_per_second&quot;]  = fRate;</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">    */</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> obj (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <span class="keywordflow">return</span> obj;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8d10c58f34908a3207804824ad99ea0c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doProofCreate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/d46/a03277_source.html#l00029">29</a> of file <a class="el" href="../../d4/d46/a03277_source.html">ProofCreate.cpp</a>.</p>

<p>References <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../db/db2/a01143.html#a70343675b9fe0e04b633fd21c0d6a679">ripple::ProofOfWorkFactory::getProof()</a>, <a class="el" href="../../da/d74/a00099.html#adb34cc74f6b7c6e4532b6ff0f4929ecf">ripple::Application::getProofOfWorkFactory()</a>, <a class="el" href="../../d0/dde/a02978_source.html#l00049">ripple::ProofOfWork::getToken()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00186">ripple::RPC::invalid_field_error()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d6/db9/a02980_source.html#l00033">ripple::ProofOfWorkFactory::kMaxDifficulty</a>, <a class="el" href="../../d4/d2b/a02979_source.html#l00355">ripple::ProofOfWorkFactory::New()</a>, and <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;{</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="comment">// XXX: Add ability to create proof with arbitrary time</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>     jvResult (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;difficulty&quot;</span>) || params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;secret&quot;</span>))</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    {</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="comment">// VFALCO TODO why aren&#39;t we using the app&#39;s factory?</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        std::unique_ptr &lt;ProofOfWorkFactory&gt; pgGen (<a class="code" href="../../db/db2/a01143.html#a94ecd3a9cd4577bf74a9468580b25360">ProofOfWorkFactory::New</a> ());</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;difficulty&quot;</span>))</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;            <span class="keywordflow">if</span> (!params[<span class="stringliteral">&quot;difficulty&quot;</span>].isIntegral ())</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#a3f2a31e585bbecb3af3740d34d7df15f">RPC::invalid_field_error</a> (<span class="stringliteral">&quot;difficulty&quot;</span>);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;            <span class="keywordtype">int</span> <span class="keyword">const</span> iDifficulty (params[<span class="stringliteral">&quot;difficulty&quot;</span>].asInt ());</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;            <span class="keywordflow">if</span> (iDifficulty &lt; 0 || iDifficulty &gt; <a class="code" href="../../db/db2/a01143.html#ab5a9d39fb9fdde6b1002f3dddd0712dfaa7a6e3744c9773c409223bcbddddfc43">ProofOfWorkFactory::kMaxDifficulty</a>)</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#a3f2a31e585bbecb3af3740d34d7df15f">RPC::invalid_field_error</a> (<span class="stringliteral">&quot;difficulty&quot;</span>);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;            pgGen-&gt;setDifficulty (iDifficulty);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;secret&quot;</span>))</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            uint256     uSecret (params[<span class="stringliteral">&quot;secret&quot;</span>].asString ());</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            pgGen-&gt;setSecret (uSecret);</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        jvResult[<span class="stringliteral">&quot;token&quot;</span>]   = pgGen-&gt;getProof ().getToken ();</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        jvResult[<span class="stringliteral">&quot;secret&quot;</span>]  = pgGen-&gt;getSecret ().GetHex ();</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    }</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        jvResult[<span class="stringliteral">&quot;token&quot;</span>]   = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#adb34cc74f6b7c6e4532b6ff0f4929ecf">getProofOfWorkFactory</a> ().<a class="code" href="../../db/db2/a01143.html#a70343675b9fe0e04b633fd21c0d6a679">getProof</a> ().<a class="code" href="../../de/df6/a01141.html#a7426c5a81ad07fd334a049e69653834a">getToken</a> ();</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    }</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a8d10c58f34908a3207804824ad99ea0c_cgraph.png" border="0" usemap="#dc/d8c/a01297_a8d10c58f34908a3207804824ad99ea0c_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a8d10c58f34908a3207804824ad99ea0c_cgraph" id="dc/d8c/a01297_a8d10c58f34908a3207804824ad99ea0c_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="247,13,348,43"/><area shape="rect" id="node7" href="../../db/db2/a01143.html#a70343675b9fe0e04b633fd21c0d6a679" title="ripple::ProofOfWorkFactory\l::getProof" alt="" coords="207,66,388,113"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#adb34cc74f6b7c6e4532b6ff0f4929ecf" title="ripple::Application\l::getProofOfWorkFactory" alt="" coords="213,135,381,182"/><area shape="rect" id="node11" href="../../de/df6/a01141.html#a7426c5a81ad07fd334a049e69653834a" title="ripple::ProofOfWork\l::getToken" alt="" coords="229,205,365,251"/><area shape="rect" id="node13" href="../../d2/d9b/a03429.html#a3f2a31e585bbecb3af3740d34d7df15f" title="ripple::RPC::invalid\l_field_error" alt="" coords="231,274,364,321"/><area shape="rect" id="node27" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="220,344,375,373"/><area shape="rect" id="node29" href="../../db/db2/a01143.html#a94ecd3a9cd4577bf74a9468580b25360" title="ripple::ProofOfWorkFactory::New" alt="" coords="189,397,405,427"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="455,5,631,51"/><area shape="rect" id="node15" href="../../d2/d9b/a03429.html#a5b6ce0616f6995340f4dd846660c3749" title="ripple::RPC::make_param\l_error" alt="" coords="456,239,629,286"/><area shape="rect" id="node25" href="../../d2/d9b/a03429.html#a9f5e626e438381329d8b9ef18fe26636" title="ripple::RPC::object\l_field_message" alt="" coords="476,309,609,355"/><area shape="rect" id="node17" href="../../d2/d9b/a03429.html#a2cd6200f6709780fcf1dd26ec9cd2866" title="ripple::RPC::make_error" alt="" coords="680,248,843,277"/><area shape="rect" id="node19" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="892,239,1020,286"/><area shape="rect" id="node21" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="1071,248,1247,277"/><area shape="rect" id="node23" href="../../dc/d8e/a00473.html#aec1914e37aa6e639af71985d7abfb52f" title="ripple::RPC::detail\l::ErrorCategory::get" alt="" coords="1297,239,1433,286"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a8d10c58f34908a3207804824ad99ea0c_icgraph.png" border="0" usemap="#dc/d8c/a01297_a8d10c58f34908a3207804824ad99ea0c_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a8d10c58f34908a3207804824ad99ea0c_icgraph" id="dc/d8c/a01297_a8d10c58f34908a3207804824ad99ea0c_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7e717030ea0eafe8ee38fcc708d0c5be"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doProofSolve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d9/d7f/a03278_source.html#l00026">26</a> of file <a class="el" href="../../d9/d7f/a03278_source.html">ProofSolve.cpp</a>.</p>

<p>References <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../dd/dfa/a02824_source.html#l00316">ripple::base_uint&lt; BITS &gt;::GetHex()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00186">ripple::RPC::invalid_field_error()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00166">ripple::RPC::missing_field_error()</a>, <a class="el" href="../../dc/dc5/a02977_source.html#l00098">ripple::ProofOfWork::solve()</a>, and <a class="el" href="../../dc/dc5/a02977_source.html#l00156">ripple::ProofOfWork::validateToken()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;{</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>         jvResult;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;token&quot;</span>))</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06">RPC::missing_field_error</a> (<span class="stringliteral">&quot;token&quot;</span>);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    std::string         strToken        = params[<span class="stringliteral">&quot;token&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ();</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../de/df6/a01141.html#a0f9ac1f3287567fae10e37dedf9cb598">ProofOfWork::validateToken</a> (strToken))</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#a3f2a31e585bbecb3af3740d34d7df15f">RPC::invalid_field_error</a> (<span class="stringliteral">&quot;token&quot;</span>);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    ProofOfWork         powProof (strToken);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    uint256             uSolution       = powProof.solve ();</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    jvResult[<span class="stringliteral">&quot;solution&quot;</span>]                = uSolution.GetHex ();</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a7e717030ea0eafe8ee38fcc708d0c5be_cgraph.png" border="0" usemap="#dc/d8c/a01297_a7e717030ea0eafe8ee38fcc708d0c5be_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a7e717030ea0eafe8ee38fcc708d0c5be_cgraph" id="dc/d8c/a01297_a7e717030ea0eafe8ee38fcc708d0c5be_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="195,67,341,96"/><area shape="rect" id="node5" href="../../d7/d9a/a00152.html#a348c4019943a8b3a05f39f1efcb589c9" title="ripple::base_uint::\lGetHex" alt="" coords="205,119,331,166"/><area shape="rect" id="node17" href="../../d2/d9b/a03429.html#a3f2a31e585bbecb3af3740d34d7df15f" title="ripple::RPC::invalid\l_field_error" alt="" coords="201,193,335,239"/><area shape="rect" id="node31" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="191,263,345,292"/><area shape="rect" id="node33" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06" title="ripple::RPC::missing\l_field_error" alt="" coords="197,315,339,362"/><area shape="rect" id="node38" href="../../de/df6/a01141.html#aa57bf68c4f40495817683c407aefad92" title="ripple::ProofOfWork\l::solve" alt="" coords="200,423,336,470"/><area shape="rect" id="node60" href="../../de/df6/a01141.html#a0f9ac1f3287567fae10e37dedf9cb598" title="ripple::ProofOfWork\l::validateToken" alt="" coords="200,493,336,539"/><area shape="rect" id="node7" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="419,5,544,51"/><area shape="rect" id="node11" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="407,75,556,104"/><area shape="rect" id="node13" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073" title="ripple::strHex" alt="" coords="432,128,531,157"/><area shape="rect" id="node9" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="623,13,772,43"/><area shape="rect" id="node15" href="../../d9/d9d/a03417.html#aca6318bcfeb25f74477566a7ddc06a63" title="ripple::charHex" alt="" coords="643,128,752,157"/><area shape="rect" id="node19" href="../../d2/d9b/a03429.html#a5b6ce0616f6995340f4dd846660c3749" title="ripple::RPC::make_param\l_error" alt="" coords="395,250,568,297"/><area shape="rect" id="node29" href="../../d2/d9b/a03429.html#a9f5e626e438381329d8b9ef18fe26636" title="ripple::RPC::object\l_field_message" alt="" coords="415,181,548,227"/><area shape="rect" id="node21" href="../../d2/d9b/a03429.html#a2cd6200f6709780fcf1dd26ec9cd2866" title="ripple::RPC::make_error" alt="" coords="616,259,779,288"/><area shape="rect" id="node23" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="844,250,972,297"/><area shape="rect" id="node25" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="1039,259,1215,288"/><area shape="rect" id="node27" href="../../dc/d8e/a00473.html#aec1914e37aa6e639af71985d7abfb52f" title="ripple::RPC::detail\l::ErrorCategory::get" alt="" coords="1265,250,1401,297"/><area shape="rect" id="node36" href="../../d2/d9b/a03429.html#a5d5937b3d78d931333b1c278e13e23b2" title="ripple::RPC::missing\l_field_message" alt="" coords="411,319,552,366"/><area shape="rect" id="node40" href="../../d2/dd2/a01164.html#a66da242bba3bd8827b1b2171845aa67a" title="ripple::RandomNumbers\l::fill" alt="" coords="400,389,563,435"/><area shape="rect" id="node50" href="../../d2/dd2/a01164.html#a0a835a6ab5768fd8c44604d4c36635ed" title="ripple::RandomNumbers\l::getInstance" alt="" coords="400,458,563,505"/><area shape="rect" id="node52" href="../../d9/d9d/a03417.html#abc1bff36c659a634150d619330d479dc" title="ripple::getSHA512Half" alt="" coords="405,528,557,557"/><area shape="rect" id="node58" href="../../de/df6/a01141.html#a181754076e751623cf8db9745af1e0a7" title="ripple::ProofOfWork\l::isValid" alt="" coords="413,581,549,627"/><area shape="rect" id="node42" href="../../d2/dd2/a01164.html#aa850480b1ab9508d2c3c8e538c08ccff" title="ripple::RandomNumbers\l::fillBytes" alt="" coords="616,389,779,435"/><area shape="rect" id="node44" href="../../d2/dd2/a01164.html#a162c778337290bbe8f22cf070c9ded7c" title="ripple::RandomNumbers\l::initialize" alt="" coords="827,389,989,435"/><area shape="rect" id="node46" href="../../d2/dd2/a01164.html#a029c0ab7c7aafe291d17de9541211116" title="ripple::RandomNumbers\l::platformAddEntropy" alt="" coords="1045,389,1208,435"/><area shape="rect" id="node48" href="../../d2/dd6/a03414.html#a7378f09d8f10ef3ccbb2aeefe7ff41d3" title="Json::in" alt="" coords="1300,397,1367,427"/><area shape="rect" id="node54" href="../../da/d61/a01350.html#afc7187fd3c9e185d29a0ecf5500d0cdf" title="ripple::Serializer\l::getSHA512Half" alt="" coords="637,519,757,566"/><area shape="rect" id="node56" href="../../da/d61/a01350.html#ac7bf5cce451c952933b2750d902d848c" title="ripple::Serializer\l::size" alt="" coords="851,519,965,566"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a7e717030ea0eafe8ee38fcc708d0c5be_icgraph.png" border="0" usemap="#dc/d8c/a01297_a7e717030ea0eafe8ee38fcc708d0c5be_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a7e717030ea0eafe8ee38fcc708d0c5be_icgraph" id="dc/d8c/a01297_a7e717030ea0eafe8ee38fcc708d0c5be_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adf797d26b778692b65d7e5d18dec5922"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doProofVerify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/de5/a03279_source.html#l00030">30</a> of file <a class="el" href="../../d0/de5/a03279_source.html">ProofVerify.cpp</a>.</p>

<p>References <a class="el" href="../../da/d23/a02452_source.html#l00825">Json::Value::asInt()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../dc/dc5/a02977_source.html#l00166">ripple::ProofOfWork::calcResultInfo()</a>, <a class="el" href="../../db/db2/a01143.html#ac0fd313c596b6620ef2c06c5e8b0f5f0">ripple::ProofOfWorkFactory::checkProof()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../da/d74/a00099.html#adb34cc74f6b7c6e4532b6ff0f4929ecf">ripple::Application::getProofOfWorkFactory()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00186">ripple::RPC::invalid_field_error()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d6/db9/a02980_source.html#l00033">ripple::ProofOfWorkFactory::kMaxDifficulty</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00166">ripple::RPC::missing_field_error()</a>, and <a class="el" href="../../d4/d2b/a02979_source.html#l00355">ripple::ProofOfWorkFactory::New()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;{</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="comment">// XXX Add ability to check proof against arbitrary time</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>         jvResult;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;token&quot;</span>))</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06">RPC::missing_field_error</a> (<span class="stringliteral">&quot;token&quot;</span>);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;solution&quot;</span>))</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06">RPC::missing_field_error</a> (<span class="stringliteral">&quot;solution&quot;</span>);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    std::string     strToken    = params[<span class="stringliteral">&quot;token&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ();</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    uint256         uSolution (params[<span class="stringliteral">&quot;solution&quot;</span>].asString ());</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#afbcc7db1a08d881e45423bdbbac9fa5d">PowResult</a>       prResult;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;difficulty&quot;</span>) || params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;secret&quot;</span>))</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="comment">// VFALCO TODO why aren&#39;t we using the app&#39;s factory?</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        std::unique_ptr &lt;ProofOfWorkFactory&gt; pgGen (<a class="code" href="../../db/db2/a01143.html#a94ecd3a9cd4577bf74a9468580b25360">ProofOfWorkFactory::New</a> ());</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;difficulty&quot;</span>))</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        {</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;            <span class="keywordflow">if</span> (!params[<span class="stringliteral">&quot;difficulty&quot;</span>].isIntegral ())</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#a3f2a31e585bbecb3af3740d34d7df15f">RPC::invalid_field_error</a> (<span class="stringliteral">&quot;difficulty&quot;</span>);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            <span class="keywordtype">int</span> iDifficulty = params[<span class="stringliteral">&quot;difficulty&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235">asInt</a> ();</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            <span class="keywordflow">if</span> (iDifficulty &lt; 0 || iDifficulty &gt; <a class="code" href="../../db/db2/a01143.html#ab5a9d39fb9fdde6b1002f3dddd0712dfaa7a6e3744c9773c409223bcbddddfc43">ProofOfWorkFactory::kMaxDifficulty</a>)</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06">RPC::missing_field_error</a> (<span class="stringliteral">&quot;difficulty&quot;</span>);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            pgGen-&gt;setDifficulty (iDifficulty);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        }</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;secret&quot;</span>))</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            uint256     uSecret (params[<span class="stringliteral">&quot;secret&quot;</span>].asString ());</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;            pgGen-&gt;setSecret (uSecret);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        prResult                = pgGen-&gt;checkProof (strToken, uSolution);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        jvResult[<span class="stringliteral">&quot;secret&quot;</span>]      = pgGen-&gt;getSecret ().GetHex ();</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="comment">// XXX Proof should not be marked as used from this</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        prResult = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#adb34cc74f6b7c6e4532b6ff0f4929ecf">getProofOfWorkFactory</a> ().<a class="code" href="../../db/db2/a01143.html#ac0fd313c596b6620ef2c06c5e8b0f5f0">checkProof</a> (strToken, uSolution);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    std::string sToken;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    std::string sHuman;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <a class="code" href="../../de/df6/a01141.html#a1f4ace4a0d25dbeb27681d9a7e9cd283">ProofOfWork::calcResultInfo</a> (prResult, sToken, sHuman);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    jvResult[<span class="stringliteral">&quot;proof_result&quot;</span>]            = sToken;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    jvResult[<span class="stringliteral">&quot;proof_result_code&quot;</span>]       = prResult;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    jvResult[<span class="stringliteral">&quot;proof_result_message&quot;</span>]    = sHuman;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_adf797d26b778692b65d7e5d18dec5922_cgraph.png" border="0" usemap="#dc/d8c/a01297_adf797d26b778692b65d7e5d18dec5922_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_adf797d26b778692b65d7e5d18dec5922_cgraph" id="dc/d8c/a01297_adf797d26b778692b65d7e5d18dec5922_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="233,5,361,35"/><area shape="rect" id="node5" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="224,59,371,88"/><area shape="rect" id="node7" href="../../de/df6/a01141.html#a1f4ace4a0d25dbeb27681d9a7e9cd283" title="ripple::ProofOfWork\l::calcResultInfo" alt="" coords="229,111,365,158"/><area shape="rect" id="node9" href="../../db/db2/a01143.html#ac0fd313c596b6620ef2c06c5e8b0f5f0" title="ripple::ProofOfWorkFactory\l::checkProof" alt="" coords="207,181,388,227"/><area shape="rect" id="node11" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="247,251,348,280"/><area shape="rect" id="node15" href="../../da/d74/a00099.html#adb34cc74f6b7c6e4532b6ff0f4929ecf" title="ripple::Application\l::getProofOfWorkFactory" alt="" coords="213,303,381,350"/><area shape="rect" id="node17" href="../../d2/d9b/a03429.html#a3f2a31e585bbecb3af3740d34d7df15f" title="ripple::RPC::invalid\l_field_error" alt="" coords="231,373,364,419"/><area shape="rect" id="node31" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="220,443,375,472"/><area shape="rect" id="node33" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06" title="ripple::RPC::missing\l_field_error" alt="" coords="227,495,368,542"/><area shape="rect" id="node38" href="../../db/db2/a01143.html#a94ecd3a9cd4577bf74a9468580b25360" title="ripple::ProofOfWorkFactory::New" alt="" coords="189,565,405,595"/><area shape="rect" id="node13" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="455,242,631,289"/><area shape="rect" id="node19" href="../../d2/d9b/a03429.html#a5b6ce0616f6995340f4dd846660c3749" title="ripple::RPC::make_param\l_error" alt="" coords="456,434,629,481"/><area shape="rect" id="node29" href="../../d2/d9b/a03429.html#a9f5e626e438381329d8b9ef18fe26636" title="ripple::RPC::object\l_field_message" alt="" coords="476,365,609,411"/><area shape="rect" id="node21" href="../../d2/d9b/a03429.html#a2cd6200f6709780fcf1dd26ec9cd2866" title="ripple::RPC::make_error" alt="" coords="680,443,843,472"/><area shape="rect" id="node23" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="892,434,1020,481"/><area shape="rect" id="node25" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="1071,443,1247,472"/><area shape="rect" id="node27" href="../../dc/d8e/a00473.html#aec1914e37aa6e639af71985d7abfb52f" title="ripple::RPC::detail\l::ErrorCategory::get" alt="" coords="1297,434,1433,481"/><area shape="rect" id="node36" href="../../d2/d9b/a03429.html#a5d5937b3d78d931333b1c278e13e23b2" title="ripple::RPC::missing\l_field_message" alt="" coords="472,503,613,550"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_adf797d26b778692b65d7e5d18dec5922_icgraph.png" border="0" usemap="#dc/d8c/a01297_adf797d26b778692b65d7e5d18dec5922_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_adf797d26b778692b65d7e5d18dec5922_icgraph" id="dc/d8c/a01297_adf797d26b778692b65d7e5d18dec5922_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1ad63ea274c0e7eb795d2f1d060fb674"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doRandom </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/d0c/a02251_source.html#l00027">27</a> of file <a class="el" href="../../d1/d0c/a02251_source.html">Random.cpp</a>.</p>

<p>References <a class="el" href="../../dd/dfa/a02824_source.html#l00094">ripple::base_uint&lt; BITS &gt;::begin()</a>, <a class="el" href="../../d5/d4c/a02846_source.html#l00062">ripple::RandomNumbers::fillBytes()</a>, <a class="el" href="../../d5/d4c/a02846_source.html#l00090">ripple::RandomNumbers::getInstance()</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00111">ripple::rpcINTERNAL</a>, <a class="el" href="../../dd/dfa/a02824_source.html#l00442">ripple::base_uint&lt; BITS &gt;::size()</a>, and <a class="el" href="../../dd/dfa/a02824_source.html#l00437">ripple::base_uint&lt; BITS &gt;::ToString()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;{</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    uint256         uRandom;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    {</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <a class="code" href="../../d2/dd2/a01164.html#a0a835a6ab5768fd8c44604d4c36635ed">RandomNumbers::getInstance</a> ().<a class="code" href="../../d2/dd2/a01164.html#aa850480b1ab9508d2c3c8e538c08ccff">fillBytes</a> (uRandom.begin (), uRandom.size ());</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvResult;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        jvResult[<span class="stringliteral">&quot;random&quot;</span>]  = uRandom.ToString ();</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    }</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">catch</span> (...)</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a839833d48b635d8df6a9176274ae922f">rpcINTERNAL</a>);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    }</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a1ad63ea274c0e7eb795d2f1d060fb674_cgraph.png" border="0" usemap="#dc/d8c/a01297_a1ad63ea274c0e7eb795d2f1d060fb674_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a1ad63ea274c0e7eb795d2f1d060fb674_cgraph" id="dc/d8c/a01297_a1ad63ea274c0e7eb795d2f1d060fb674_cgraph">
<area shape="rect" id="node3" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="637,8,763,55"/><area shape="rect" id="node7" href="../../d2/dd2/a01164.html#aa850480b1ab9508d2c3c8e538c08ccff" title="ripple::RandomNumbers\l::fillBytes" alt="" coords="189,188,352,235"/><area shape="rect" id="node15" href="../../d2/dd2/a01164.html#a0a835a6ab5768fd8c44604d4c36635ed" title="ripple::RandomNumbers\l::getInstance" alt="" coords="189,257,352,304"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="217,327,324,357"/><area shape="rect" id="node25" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="625,134,775,163"/><area shape="rect" id="node27" href="../../d7/d9a/a00152.html#ad19bda12f3725584ac179f2e091e30d7" title="ripple::base_uint::\lToString" alt="" coords="208,68,333,115"/><area shape="rect" id="node5" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="839,17,988,46"/><area shape="rect" id="node9" href="../../d2/dd2/a01164.html#a162c778337290bbe8f22cf070c9ded7c" title="ripple::RandomNumbers\l::initialize" alt="" coords="400,188,563,235"/><area shape="rect" id="node11" href="../../d2/dd2/a01164.html#a029c0ab7c7aafe291d17de9541211116" title="ripple::RandomNumbers\l::platformAddEntropy" alt="" coords="619,188,781,235"/><area shape="rect" id="node13" href="../../d2/dd6/a03414.html#a7378f09d8f10ef3ccbb2aeefe7ff41d3" title="Json::in" alt="" coords="880,197,947,226"/><area shape="rect" id="node19" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="417,319,545,365"/><area shape="rect" id="node21" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="612,327,788,357"/><area shape="rect" id="node23" href="../../dc/d8e/a00473.html#aec1914e37aa6e639af71985d7abfb52f" title="ripple::RPC::detail\l::ErrorCategory::get" alt="" coords="845,319,981,365"/><area shape="rect" id="node29" href="../../d7/d9a/a00152.html#a348c4019943a8b3a05f39f1efcb589c9" title="ripple::base_uint::\lGetHex" alt="" coords="419,68,544,115"/><area shape="rect" id="node33" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073" title="ripple::strHex" alt="" coords="651,78,749,107"/><area shape="rect" id="node35" href="../../d9/d9d/a03417.html#aca6318bcfeb25f74477566a7ddc06a63" title="ripple::charHex" alt="" coords="859,78,968,107"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a1ad63ea274c0e7eb795d2f1d060fb674_icgraph.png" border="0" usemap="#dc/d8c/a01297_a1ad63ea274c0e7eb795d2f1d060fb674_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a1ad63ea274c0e7eb795d2f1d060fb674_icgraph" id="dc/d8c/a01297_a1ad63ea274c0e7eb795d2f1d060fb674_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a36006720757cc56e9cbd52d1517b909c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doRipplePathFind </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../de/d7f/a03280_source.html#l00025">25</a> of file <a class="el" href="../../de/d7f/a03280_source.html">RipplePathFind.cpp</a>.</p>

<p>References <a class="el" href="../../d8/dd4/a03195_source.html#l00068">ACCOUNT_ONE</a>, <a class="el" href="../../d8/dd4/a03195_source.html#l00067">ACCOUNT_XRP</a>, <a class="el" href="../../d8/dd4/a03195_source.html#l01434">ripple::STPathSet::addPath()</a>, <a class="el" href="../../d2/db9/a01926_source.html#l00263">ripple::Config::ADMIN</a>, <a class="el" href="../../da/d23/a02452_source.html#l01298">Json::Value::append()</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00038">Json::arrayValue</a>, <a class="el" href="../../da/d23/a02452_source.html#l00825">Json::Value::asInt()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../da/dd3/a03198_source.html#l00096">ripple::STAmount::bSetJson()</a>, <a class="el" href="../../d4/db9/a02918_source.html#l00041">ripple::LedgerEntrySet::clear()</a>, <a class="el" href="../../da/dd3/a03198_source.html#l00220">ripple::STAmount::createHumanCurrency()</a>, <a class="el" href="../../da/dd3/a03198_source.html#l00052">ripple::STAmount::currencyFromString()</a>, <a class="el" href="../../d6/df4/a03201_source.html#l00045">ripple::STParsedJSON::error</a>, <a class="el" href="../../d5/d6b/a03428.html#a3bffd22c83dd5da4b419134e040c619a">ripple::Resource::feeHighBurdenRPC</a>, <a class="el" href="../../d4/d69/a02989_source.html#l00129">ripple::Pathfinder::findPaths()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00292">ripple::RippleAddress::getAccountID()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d0/dc2/a02477_source.html#l00647">ripple::getConfig()</a>, <a class="el" href="../../d8/dd4/a03195_source.html#l00663">ripple::STAmount::getCurrency()</a>, <a class="el" href="../../d8/dd4/a03195_source.html#l00653">ripple::STAmount::getIssuer()</a>, <a class="el" href="../../da/dd3/a03198_source.html#l01168">ripple::STAmount::getJson()</a>, <a class="el" href="../../d9/dc1/a03194_source.html#l00526">ripple::STPathSet::getJson()</a>, <a class="el" href="../../d6/d58/a02993_source.html#l00025">ripple::PathRequests::getLineCache()</a>, <a class="el" href="../../da/d74/a00099.html#a5368183e92fc6cd7a985295d258ec892">ripple::Application::getPathRequests()</a>, <a class="el" href="../../dd/dac/a01008.html#a3b147c209d1201adb03d478f148af4a1">ripple::NetworkOPs::getValidatedLedger()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00317">ripple::RippleAddress::humanAccountID()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01508">Json::Value::isArray()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01478">Json::Value::isIntegral()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../dd/dfa/a02824_source.html#l00147">ripple::base_uint&lt; BITS &gt;::isNonZero()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01515">Json::Value::isObject()</a>, <a class="el" href="../../d8/ddd/a03317_source.html#l00032">ripple::RPC::LegacyPathFind::isOkay()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01501">Json::Value::isString()</a>, <a class="el" href="../../da/dd3/a03198_source.html#l00026">ripple::STAmount::issuerFromString()</a>, <a class="el" href="../../dd/dfa/a02824_source.html#l00138">ripple::base_uint&lt; BITS &gt;::isZero()</a>, <a class="el" href="../../d0/d7c/a03318_source.html#l00043">ripple::RPC::lookupLedger()</a>, <a class="el" href="../../d8/d4b/a03093_source.html#l00029">ripple::lsDEBUG</a>, <a class="el" href="../../d8/d4b/a03093_source.html#l00030">ripple::lsINFO</a>, <a class="el" href="../../d8/d4b/a03093_source.html#l00031">ripple::lsWARNING</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, <a class="el" href="../../de/dec/a03020_source.html#l00140">mRole</a>, <a class="el" href="../../d8/dd4/a03195_source.html#l00615">ripple::STAmount::negate()</a>, <a class="el" href="../../d6/df4/a03201_source.html#l00042">ripple::STParsedJSON::object</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../d2/db9/a01926_source.html#l00442">ripple::Config::PATH_SEARCH_OLD</a>, <a class="el" href="../../d2/daa/a02997_source.html#l01982">ripple::RippleCalc::rippleCalc()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00087">ripple::rpcDST_ACT_MALFORMED</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00088">ripple::rpcDST_ACT_MISSING</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00072">ripple::rpcINVALID_PARAMS</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00102">ripple::rpcSRC_ACT_MALFORMED</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00103">ripple::rpcSRC_ACT_MISSING</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00106">ripple::rpcSRC_CUR_MALFORMED</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00107">ripple::rpcSRC_ISR_MALFORMED</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00047">ripple::rpcTOO_BUSY</a>, <a class="el" href="../../d2/db9/a01926_source.html#l00392">ripple::Config::RUN_STANDALONE</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00356">ripple::RippleAddress::setAccountID()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01023">Json::Value::size()</a>, <a class="el" href="../../d8/dd4/a03195_source.html#l01285">ripple::STPath::size()</a>, <a class="el" href="../../db/da5/a02919_source.html#l00027">ripple::tapNONE</a>, <a class="el" href="../../d5/d73/a03203_source.html#l00154">ripple::tecPATH_PARTIAL</a>, <a class="el" href="../../d5/d73/a03203_source.html#l00129">ripple::terNO_LINE</a>, <a class="el" href="../../d5/d73/a03203_source.html#l00141">ripple::tesSUCCESS</a>, <a class="el" href="../../d6/d9b/a03202_source.html#l00148">ripple::transHuman()</a>, <a class="el" href="../../d6/d9b/a03202_source.html#l00022">ripple::transResultInfo()</a>, <a class="el" href="../../d4/d69/a02989_source.html#l00430">ripple::usAccountDestCurrencies()</a>, <a class="el" href="../../d4/d69/a02989_source.html#l00399">ripple::usAccountSourceCurrencies()</a>, <a class="el" href="../../de/d3e/a02727_source.html#l00023">rocksdb::crc32c::Value()</a>, and <a class="el" href="../../dc/dc0/a03087_source.html#l00075">WriteLog</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;{</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    RPC::LegacyPathFind lpf (<a class="code" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a> == <a class="code" href="../../d3/db8/a00316.html#a459f32c779b04342b4811b1a898a156eabfd6bd9f2deb401e760dbafe42c80107">Config::ADMIN</a>);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">if</span> (!lpf.isOkay ())</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a41779a85a65f6faeb648c960e77f388f">rpcTOO_BUSY</a>);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    loadType = <a class="code" href="../../d5/d6b/a03428.html#a3bffd22c83dd5da4b419134e040c619a">Resource::feeHighBurdenRPC</a>;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    RippleAddress   raSrc;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    RippleAddress   raDst;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    STAmount        saDstAmount;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> lpLedger;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>     jvResult;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a>().<a class="code" href="../../d3/db8/a00316.html#a9e6ee7c4f8367f7007f92d07d3268996">RUN_STANDALONE</a> || params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a>(<span class="stringliteral">&quot;ledger&quot;</span>) || params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a>(<span class="stringliteral">&quot;ledger_index&quot;</span>) || params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a>(<span class="stringliteral">&quot;ledger_hash&quot;</span>))</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    { <span class="comment">// The caller specified a ledger</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        jvResult = <a class="code" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258">RPC::lookupLedger</a> (params, lpLedger, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="keywordflow">if</span> (!lpLedger)</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;            <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    }</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;source_account&quot;</span>))</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    {</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        jvResult    = <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932afff1867365ccf8f1661c8d796c93ef4c">rpcSRC_ACT_MISSING</a>);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!params[<span class="stringliteral">&quot;source_account&quot;</span>].isString ()</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;             || !raSrc.setAccountID (params[<span class="stringliteral">&quot;source_account&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ()))</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        jvResult    = <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a967859223f75630b2c78876fca0c0436">rpcSRC_ACT_MALFORMED</a>);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    }</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;destination_account&quot;</span>))</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        jvResult    = <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a04a908ae049e097e9e7896ba3deef874">rpcDST_ACT_MISSING</a>);</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!params[<span class="stringliteral">&quot;destination_account&quot;</span>].isString ()</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;             || !raDst.setAccountID (params[<span class="stringliteral">&quot;destination_account&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ()))</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        jvResult    = <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932ac88bf3c7097096c5ed0fc4d354e91950">rpcDST_ACT_MALFORMED</a>);</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    }</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        <span class="comment">// Parse saDstAmount.</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        !params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;destination_amount&quot;</span>)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        || !saDstAmount.bSetJson (params[<span class="stringliteral">&quot;destination_amount&quot;</span>])</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        || saDstAmount &lt;= zero</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        || (!!saDstAmount.getCurrency () &amp;&amp; (!saDstAmount.getIssuer () || <a class="code" href="../../d8/dd4/a03195.html#ad55eb3b0f8711599b73d311ac52eced0">ACCOUNT_ONE</a> == saDstAmount.getIssuer ())))</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;Bad destination_amount.&quot;</span>;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        jvResult    = <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;        <span class="comment">// Checks on source_currencies.</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;source_currencies&quot;</span>)</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;        &amp;&amp; (!params[<span class="stringliteral">&quot;source_currencies&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#ac8c898f93543e55b67418f94bced20af">isArray</a> ()</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            || !params[<span class="stringliteral">&quot;source_currencies&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. ">size</a> ()) <span class="comment">// Don&#39;t allow empty currencies.</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    )</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;Bad source_currencies.&quot;</span>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        jvResult    = <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    {</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        loadType = <a class="code" href="../../d5/d6b/a03428.html#a3bffd22c83dd5da4b419134e040c619a">Resource::feeHighBurdenRPC</a>;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;        <a class="code" href="../../d5/d6f/a01281.html#aac5493454cca7eeea610b5b96dbea656">RippleLineCache::pointer</a> cache;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordflow">if</span> (lpLedger)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        { <span class="comment">// The caller specified a ledger</span></div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;            lpLedger = boost::make_shared&lt;Ledger&gt; (boost::ref (*lpLedger), <span class="keyword">false</span>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;            cache = boost::make_shared&lt;RippleLineCache&gt;(lpLedger);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        }</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        { <span class="comment">// Use the default ledger and cache</span></div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            lpLedger = <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#a3b147c209d1201adb03d478f148af4a1">getValidatedLedger</a>();</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            cache = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a5368183e92fc6cd7a985295d258ec892">getPathRequests</a>().<a class="code" href="../../da/d93/a01084.html#a164386fea7cfb04118b4fec9ae02d567">getLineCache</a>(lpLedger, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>     jvSrcCurrencies;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;        <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;source_currencies&quot;</span>))</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        {</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;            jvSrcCurrencies = params[<span class="stringliteral">&quot;source_currencies&quot;</span>];</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        }</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            boost::unordered_set&lt;uint160&gt;   usCurrencies    = <a class="code" href="../../d9/d9d/a03417.html#a82509d254d600219c9415ac9e81e0078">usAccountSourceCurrencies</a> (raSrc, cache, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;            jvSrcCurrencies             = <a class="code" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9">Json::Value</a> (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eadc8f264f36b55b063c78126b335415f4" title="array value (ordered list) ">Json::arrayValue</a>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            BOOST_FOREACH (<span class="keyword">const</span> uint160 &amp; uCurrency, usCurrencies)</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            {</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvCurrency (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                jvCurrency[<span class="stringliteral">&quot;currency&quot;</span>]  = <a class="code" href="../../d2/d41/a01493.html#aefb662aaabfc521cb4cdcdb715c7d4b8">STAmount::createHumanCurrency</a> (uCurrency);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                jvSrcCurrencies.<a class="code" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. ">append</a> (jvCurrency);</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            }</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;        }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;        <span class="comment">// Fill in currencies destination will accept</span></div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvDestCur (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eadc8f264f36b55b063c78126b335415f4" title="array value (ordered list) ">Json::arrayValue</a>);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;        boost::unordered_set&lt;uint160&gt; usDestCurrID = <a class="code" href="../../d9/d9d/a03417.html#ac84226923530605db9ab88a1168d5d0e">usAccountDestCurrencies</a> (raDst, cache, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;        BOOST_FOREACH (<span class="keyword">const</span> uint160 &amp; uCurrency, usDestCurrID)</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        jvDestCur.append (STAmount::createHumanCurrency (uCurrency));</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        jvResult[&quot;destination_currencies&quot;] = jvDestCur;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;        jvResult[&quot;destination_account&quot;] = raDst.humanAccountID ();</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;        Json::<a class="code" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9">Value</a> jvArray (Json::<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eadc8f264f36b55b063c78126b335415f4" title="array value (ordered list) ">arrayValue</a>);</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;        for (<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> i = 0; i != jvSrcCurrencies.size (); ++i)</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;        {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvSource        = jvSrcCurrencies[i];</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            uint160     uSrcCurrencyID;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            uint160     uSrcIssuerID;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            <span class="keywordflow">if</span> (!jvSource.<a class="code" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92">isObject</a> ())</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;            <span class="comment">// Parse mandatory currency.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <span class="keywordflow">if</span> (!jvSource.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;currency&quot;</span>)</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;                    || !<a class="code" href="../../d2/d41/a01493.html#a853bdaa68ca8aa5239041e7d9d26aa48">STAmount::currencyFromString</a> (uSrcCurrencyID, jvSource[<span class="stringliteral">&quot;currency&quot;</span>].asString ()))</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;            {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;                <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;Bad currency.&quot;</span>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932ad23b4971210983fe07f7225143e02225">rpcSRC_CUR_MALFORMED</a>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            }</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;            <span class="keywordflow">if</span> (uSrcCurrencyID.isNonZero ())</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                uSrcIssuerID = raSrc.getAccountID ();</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="comment">// Parse optional issuer.</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="keywordflow">if</span> (jvSource.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;issuer&quot;</span>) &amp;&amp;</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                    ((!jvSource[<span class="stringliteral">&quot;issuer&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7">isString</a> () ||</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                      !<a class="code" href="../../d2/d41/a01493.html#a41a925f05a7bb7c9aae2108f133c47f4">STAmount::issuerFromString</a> (uSrcIssuerID, jvSource[<span class="stringliteral">&quot;issuer&quot;</span>].asString ())) ||</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                     (uSrcIssuerID.isZero () != uSrcCurrencyID.isZero ()) ||</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                     (<a class="code" href="../../d8/dd4/a03195.html#ad55eb3b0f8711599b73d311ac52eced0">ACCOUNT_ONE</a> == uSrcIssuerID)))</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;            {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;                <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;Bad issuer.&quot;</span>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a9e0f3e460ea9530eb29736e0cd9b4304">rpcSRC_ISR_MALFORMED</a>);</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;            }</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;            STPathSet   spsComputed;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="keywordtype">bool</span>        bValid;</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            Pathfinder  pf (cache, raSrc, raDst, uSrcCurrencyID, uSrcIssuerID, saDstAmount, bValid);</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            <span class="keywordtype">int</span> level = <a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a>().<a class="code" href="../../d3/db8/a00316.html#a22e402f03909935b07b56ffeb7069b0f">PATH_SEARCH_OLD</a>;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;            <span class="keywordflow">if</span> ((<a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a>().PATH_SEARCH_MAX &gt; level) &amp;&amp; !<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getFeeTrack().isLoadedLocal())</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;                ++level;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a>(<span class="stringliteral">&quot;depth&quot;</span>) &amp;&amp; params[<span class="stringliteral">&quot;depth&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#aec4f74ef7b776b1d9c8a10fc3bb4add5">isIntegral</a>())</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            {</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;                <span class="keywordtype">int</span> rLev = params[<span class="stringliteral">&quot;search_depth&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235">asInt</a> ();</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;                <span class="keywordflow">if</span> ((rLev &lt; level) || (<a class="code" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a> == <a class="code" href="../../d3/db8/a00316.html#a459f32c779b04342b4811b1a898a156eabfd6bd9f2deb401e760dbafe42c80107">Config::ADMIN</a>))</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                    level = rLev;</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;            }</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a>(<span class="stringliteral">&quot;paths&quot;</span>))</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;            {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;                STParsedJSON paths (<span class="stringliteral">&quot;paths&quot;</span>, params[<span class="stringliteral">&quot;paths&quot;</span>]);</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                <span class="keywordflow">if</span> (paths.object.get() == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;                    <span class="keywordflow">return</span> paths.error;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;                    spsComputed = paths.object.get()-&gt;downcast&lt;STPathSet&gt; ();</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;            }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            STPath extraPath;</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            <span class="keywordflow">if</span> (!bValid || !pf.findPaths (level, 4, spsComputed, extraPath))</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;            {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;                <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a4f9eb9b54b9bf0586ad6249697d4adde">lsWARNING</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;ripple_path_find: No paths found.&quot;</span>;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;            }</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;            {</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                std::vector&lt;PathState::pointer&gt; vpsExpanded;</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                STAmount                        saMaxAmountAct;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                STAmount                        saDstAmountAct;</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                STAmount                        saMaxAmount (</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;                    uSrcCurrencyID,</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;                    !!uSrcIssuerID</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                    ? uSrcIssuerID      <span class="comment">// Use specifed issuer.</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;                    : !!uSrcCurrencyID  <span class="comment">// Default to source account.</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;                    ? raSrc.getAccountID ()</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;                    : <a class="code" href="../../d8/dd4/a03195.html#a57e043e884b1e1c81c656740c0a1a4ea">ACCOUNT_XRP</a>,</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;                    1);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;                saMaxAmount.negate ();</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;                LedgerEntrySet  lesSandbox (lpLedger, <a class="code" href="../../d9/d9d/a03417.html#ae2a321a3f2099e098fdcc670a60c7a09af77cbea9706ce2ee7fdf5a85efbf70c5">tapNONE</a>);</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;                <a class="code" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0">TER</a> terResult   =</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;                    <a class="code" href="../../d4/d10/a01278.html#a922f80d22daaecefd09acb0b9a5f0c05">RippleCalc::rippleCalc</a> (</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;                        lesSandbox,</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;                        saMaxAmountAct,         <span class="comment">// &lt;--</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;                        saDstAmountAct,         <span class="comment">// &lt;--</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;                        vpsExpanded,            <span class="comment">// &lt;--</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                        saMaxAmount,            <span class="comment">// --&gt; Amount to send is unlimited to get an estimate.</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;                        saDstAmount,            <span class="comment">// --&gt; Amount to deliver.</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                        raDst.getAccountID (),  <span class="comment">// --&gt; Account to deliver to.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;                        raSrc.getAccountID (),  <span class="comment">// --&gt; Account sending from.</span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                        spsComputed,            <span class="comment">// --&gt; Path set.</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;                        <span class="keyword">false</span>,                  <span class="comment">// --&gt; Don&#39;t allow partial payment. This is for normal fill or kill payments.</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;                        <span class="comment">// Must achieve delivery goal.</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;                        <span class="keyword">false</span>,                  <span class="comment">// --&gt; Don&#39;t limit quality. Average quality is wanted for normal payments.</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                        <span class="keyword">false</span>,                  <span class="comment">// --&gt; Allow direct ripple to be added to path set. to path set.</span></div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                        <span class="keyword">true</span>);                  <span class="comment">// --&gt; Stand alone mode, no point in deleting unfundeds.</span></div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                <span class="comment">// WriteLog (lsDEBUG, RPCHandler) &lt;&lt; &quot;ripple_path_find: PATHS IN: &quot; &lt;&lt; spsComputed.size() &lt;&lt; &quot; : &quot; &lt;&lt; spsComputed.getJson(0);</span></div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                <span class="comment">// WriteLog (lsDEBUG, RPCHandler) &lt;&lt; &quot;ripple_path_find: PATHS EXP: &quot; &lt;&lt; vpsExpanded.size();</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a4f9eb9b54b9bf0586ad6249697d4adde">lsWARNING</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>)</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;                        &lt;&lt; boost::str (boost::format (<span class="stringliteral">&quot;ripple_path_find: saMaxAmount=%s saDstAmount=%s saMaxAmountAct=%s saDstAmountAct=%s&quot;</span>)</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                                       % saMaxAmount</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;                                       % saDstAmount</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;                                       % saMaxAmountAct</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;                                       % saDstAmountAct);</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                <span class="keywordflow">if</span> ((extraPath.size() &gt; 0) &amp;&amp; ((terResult == <a class="code" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0ae9a023686bac48d78ee1d9d7aaa95b5f">terNO_LINE</a>) || (terResult == <a class="code" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0abd7038b5669becf7271665614c94efb6">tecPATH_PARTIAL</a>)))</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                    <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a031699c2a2c25288caf7c5c512da58eb">lsDEBUG</a>, PathRequest) &lt;&lt; <span class="stringliteral">&quot;Trying with an extra path element&quot;</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                    spsComputed.addPath(extraPath);</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                    vpsExpanded.clear ();</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                    lesSandbox.clear ();</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                    terResult = <a class="code" href="../../d4/d10/a01278.html#a922f80d22daaecefd09acb0b9a5f0c05">RippleCalc::rippleCalc</a> (lesSandbox, saMaxAmountAct, saDstAmountAct,</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                                                        vpsExpanded, saMaxAmount, saDstAmount,</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                                                        raDst.getAccountID (), raSrc.getAccountID (),</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                                                        spsComputed, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                    <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a031699c2a2c25288caf7c5c512da58eb">lsDEBUG</a>, PathRequest) &lt;&lt; <span class="stringliteral">&quot;Extra path element gives &quot;</span> &lt;&lt; <a class="code" href="../../d9/d9d/a03417.html#af67d027ed1da5fcdbb6f7675d0151d0b">transHuman</a> (terResult);</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                }</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0a28c7d8b3ed759d363503a05fcd59f151">tesSUCCESS</a> == terResult)</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                {</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;                    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvEntry (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;                    STPathSet   spsCanonical;</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;                    <span class="comment">// Reuse the expanded as it would need to be calcuated anyway to produce the canonical.</span></div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                    <span class="comment">// (At least unless we make a direct canonical.)</span></div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;                    <span class="comment">// RippleCalc::setCanonical(spsCanonical, vpsExpanded, false);</span></div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;                    jvEntry[<span class="stringliteral">&quot;source_amount&quot;</span>]    = saMaxAmountAct.getJson (0);</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                    <span class="comment">//                  jvEntry[&quot;paths_expanded&quot;]   = vpsExpanded.getJson(0);</span></div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;                    jvEntry[<span class="stringliteral">&quot;paths_canonical&quot;</span>]  = <a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eadc8f264f36b55b063c78126b335415f4" title="array value (ordered list) ">Json::arrayValue</a>; <span class="comment">// spsCanonical.getJson(0);</span></div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;                    jvEntry[<span class="stringliteral">&quot;paths_computed&quot;</span>]   = spsComputed.getJson (0);</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;                    jvArray.append (jvEntry);</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;                }</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;                    std::string strToken;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;                    std::string strHuman;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                    <a class="code" href="../../d9/d9d/a03417.html#a8ebf8214ccd67d515e6dd26b832854a9">transResultInfo</a> (terResult, strToken, strHuman);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;                    <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a031699c2a2c25288caf7c5c512da58eb">lsDEBUG</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>)</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;                            &lt;&lt; boost::str (boost::format (<span class="stringliteral">&quot;ripple_path_find: %s %s %s&quot;</span>)</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;                                           % strToken</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                                           % strHuman</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                                           % spsComputed.getJson (0));</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                }</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;            }</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="comment">// Each alternative differs by source currency.</span></div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        jvResult[<span class="stringliteral">&quot;alternatives&quot;</span>] = jvArray;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;    }</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a031699c2a2c25288caf7c5c512da58eb">lsDEBUG</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>)</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            &lt;&lt; boost::str (boost::format (<span class="stringliteral">&quot;ripple_path_find&lt; %s&quot;</span>)</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                           % jvResult);</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a36006720757cc56e9cbd52d1517b909c_cgraph.png" border="0" usemap="#dc/d8c/a01297_a36006720757cc56e9cbd52d1517b909c_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a36006720757cc56e9cbd52d1517b909c_cgraph" id="dc/d8c/a01297_a36006720757cc56e9cbd52d1517b909c_cgraph">
<area shape="rect" id="node3" href="../../d6/db5/a01573.html#a6f9ee66acccd72d9d3ab829515e35700" title="ripple::STPathSet::\laddPath" alt="" coords="499,147,632,194"/><area shape="rect" id="node5" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. " alt="" coords="495,839,636,868"/><area shape="rect" id="node7" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="732,839,855,868"/><area shape="rect" id="node9" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="501,1081,629,1111"/><area shape="rect" id="node11" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="492,1135,639,1164"/><area shape="rect" id="node13" href="../../d2/d41/a01493.html#a4df1aef3b6904f94556bdd7100dbaa96" title="ripple::STAmount::bSetJson" alt="" coords="209,1493,396,1523"/><area shape="rect" id="node15" href="../../d0/d08/a00832.html#a95c6ccf68549ef1d88dc47cf3e71a7ea" title="ripple::LedgerEntrySet\l::clear" alt="" coords="228,1546,377,1593"/><area shape="rect" id="node19" href="../../d2/d41/a01493.html#aefb662aaabfc521cb4cdcdb715c7d4b8" title="ripple::STAmount::create\lHumanCurrency" alt="" coords="483,267,648,314"/><area shape="rect" id="node21" href="../../d7/d9a/a00152.html#a25e873c7d069c6c2d44655736f2b6c21" title="ripple::base_uint::\lisZero" alt="" coords="731,106,856,153"/><area shape="rect" id="node32" href="../../d2/d41/a01493.html#a853bdaa68ca8aa5239041e7d9d26aa48" title="ripple::STAmount::currency\lFromString" alt="" coords="212,1015,393,1062"/><area shape="rect" id="node41" href="../../dd/df1/a01082.html#a7a1f0030b743b25f47fa956c93b3982f" title="ripple::Pathfinder\l::findPaths" alt="" coords="243,207,363,254"/><area shape="rect" id="node45" href="../../d2/d41/a01493.html#a61429db7fed5872fca90d726f3088325" title="ripple::STAmount::getCurrency" alt="" coords="464,447,667,476"/><area shape="rect" id="node48" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="492,595,639,642"/><area shape="rect" id="node50" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="515,1289,616,1319"/><area shape="rect" id="node52" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d" title="ripple::getConfig" alt="" coords="244,1616,361,1645"/><area shape="rect" id="node55" href="../../d2/d41/a01493.html#ac88b3e8c68c4fbda4e493471be3f074c" title="ripple::STAmount::getIssuer" alt="" coords="473,339,657,368"/><area shape="rect" id="node57" href="../../d2/d41/a01493.html#a9ffbf4116501f497f754275b63cd9c73" title="ripple::STAmount::getJson" alt="" coords="215,1669,391,1699"/><area shape="rect" id="node59" href="../../d6/db5/a01573.html#a1747dc34f1fc24478eddaf3dd3f95544" title="ripple::STPathSet::\lgetJson" alt="" coords="236,895,369,942"/><area shape="rect" id="node62" href="../../da/d93/a01084.html#a164386fea7cfb04118b4fec9ae02d567" title="ripple::PathRequests\l::getLineCache" alt="" coords="231,1722,375,1769"/><area shape="rect" id="node64" href="../../da/d74/a00099.html#a5368183e92fc6cd7a985295d258ec892" title="ripple::Application\l::getPathRequests" alt="" coords="237,1791,368,1838"/><area shape="rect" id="node66" href="../../dd/dac/a01008.html#a3b147c209d1201adb03d478f148af4a1" title="ripple::NetworkOPs\l::getValidatedLedger" alt="" coords="495,1342,636,1389"/><area shape="rect" id="node68" href="../../d4/d0e/a01272.html#a2a8201537b6969c0e186c9b1d889c52b" title="ripple::RippleAddress\l::humanAccountID" alt="" coords="229,725,376,771"/><area shape="rect" id="node70" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="492,718,639,765"/><area shape="rect" id="node73" href="../../d6/d27/a01781.html#ac8c898f93543e55b67418f94bced20af" title="Json::Value::isArray" alt="" coords="233,1861,372,1891"/><area shape="rect" id="node75" href="../../d6/d27/a01781.html#aec4f74ef7b776b1d9c8a10fc3bb4add5" title="Json::Value::isIntegral" alt="" coords="227,1915,379,1944"/><area shape="rect" id="node77" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="488,1412,643,1441"/><area shape="rect" id="node79" href="../../d7/d9a/a00152.html#a3fa11a064a87fe4e970f00d661287dd2" title="ripple::base_uint::\lisNonZero" alt="" coords="503,78,628,125"/><area shape="rect" id="node82" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92" title="Json::Value::isObject" alt="" coords="229,1968,376,1997"/><area shape="rect" id="node84" href="../../d5/dac/a00841.html#a142e70807c5ead91dca1ea885b978dda" title="ripple::RPC::LegacyPathFind\l::isOkay" alt="" coords="207,2021,399,2067"/><area shape="rect" id="node86" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7" title="Json::Value::isString" alt="" coords="495,1465,636,1495"/><area shape="rect" id="node88" href="../../d2/d41/a01493.html#a41a925f05a7bb7c9aae2108f133c47f4" title="ripple::STAmount::issuer\lFromString" alt="" coords="220,655,385,702"/><area shape="rect" id="node93" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258" title="ripple::RPC::lookupLedger" alt="" coords="216,1187,389,1216"/><area shape="rect" id="node97" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="488,1519,643,1548"/><area shape="rect" id="node106" href="../../d2/d41/a01493.html#ad9cebdb647da68f740009f9cda4dbe83" title="ripple::STAmount::negate" alt="" coords="217,2091,388,2120"/><area shape="rect" id="node108" href="../../d4/d10/a01278.html#a922f80d22daaecefd09acb0b9a5f0c05" title="ripple::RippleCalc\l::rippleCalc" alt="" coords="240,378,365,425"/><area shape="rect" id="node113" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="249,2144,356,2173"/><area shape="rect" id="node117" href="../../d5/d10/a01571.html#aa94382f7b7447c2c876d850ccdd08523" title="ripple::STPath::size" alt="" coords="235,2197,371,2227"/><area shape="rect" id="node119" href="../../d9/d9d/a03417.html#af67d027ed1da5fcdbb6f7675d0151d0b" title="ripple::transHuman" alt="" coords="237,2301,368,2331"/><area shape="rect" id="node121" href="../../d9/d9d/a03417.html#a8ebf8214ccd67d515e6dd26b832854a9" title="ripple::transResultInfo" alt="" coords="491,2276,640,2305"/><area shape="rect" id="node124" href="../../d9/d9d/a03417.html#ac84226923530605db9ab88a1168d5d0e" title="ripple::usAccountDestCurrencies" alt="" coords="196,499,409,528"/><area shape="rect" id="node128" href="../../d9/d9d/a03417.html#a82509d254d600219c9415ac9e81e0078" title="ripple::usAccountSourceCurrencies" alt="" coords="189,552,416,581"/><area shape="rect" id="node17" href="../../d1/da7/a01709.html#afcac71040a014d74bf063ce83ca95bb2" title="ripple::TransactionMetaSet\l::clear" alt="" coords="476,1571,655,1618"/><area shape="rect" id="node23" href="../../d7/d9a/a00152.html#ad19bda12f3725584ac179f2e091e30d7" title="ripple::base_uint::\lToString" alt="" coords="731,443,856,490"/><area shape="rect" id="node25" href="../../d7/d9a/a00152.html#a348c4019943a8b3a05f39f1efcb589c9" title="ripple::base_uint::\lGetHex" alt="" coords="920,383,1045,430"/><area shape="rect" id="node27" href="../../da/d61/a01350.html#a509771bf1109949d4bee7b71aecc3757" title="ripple::Serializer\l::add160" alt="" coords="736,203,851,250"/><area shape="rect" id="node29" href="../../d0/d85/a01352.html#a28779f2e8d8ceb7882acfb5534d70754" title="ripple::SerializerIterator\l::getRaw" alt="" coords="716,323,871,370"/><area shape="rect" id="node34" href="../../d7/d9a/a00152.html#a174768646f7fe8d81f4a38f5ccf9e6f5" title="ripple::base_uint::zero" alt="" coords="719,991,868,1020"/><area shape="rect" id="node36" href="../../da/d61/a01350.html#af9f127e708de4849795bdab51f2a4c78" title="ripple::Serializer\l::addZeros" alt="" coords="508,891,623,938"/><area shape="rect" id="node38" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="503,1011,628,1058"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a36006720757cc56e9cbd52d1517b909c_icgraph.png" border="0" usemap="#dc/d8c/a01297_a36006720757cc56e9cbd52d1517b909c_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a36006720757cc56e9cbd52d1517b909c_icgraph" id="dc/d8c/a01297_a36006720757cc56e9cbd52d1517b909c_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,122,324,169"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,53,515,99"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,122,523,169"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,192,511,221"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,5,756,51"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,74,751,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,74,991,121"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,74,1225,121"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,192,703,221"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,165,924,195"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,219,953,248"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1cd91f081ddb5435c1a768c2501e3ea4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doRpcCommand </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>strCommand</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> const &amp;&#160;</td>
          <td class="paramname"><em>jvParams</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>iRole</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../de/dc6/a03019_source.html#l00047">47</a> of file <a class="el" href="../../de/dc6/a03019_source.html">RPCHandler.cpp</a>.</p>

<p>References <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01515">Json::Value::isObject()</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00039">ripple::logRPCError()</a>, <a class="el" href="../../d8/d4b/a03093_source.html#l00028">ripple::lsTRACE</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00072">ripple::rpcINVALID_PARAMS</a>, <a class="el" href="../../da/d23/a02452_source.html#l01023">Json::Value::size()</a>, <a class="el" href="../../de/d3e/a02727_source.html#l00023">rocksdb::crc32c::Value()</a>, and <a class="el" href="../../dc/dc0/a03087_source.html#l00075">WriteLog</a>.</p>

<p>Referenced by <a class="el" href="../../d2/d76/a03021_source.html#l00041">ripple::RPCServerHandler::processRequest()</a>, and <a class="el" href="../../dd/d72/a02953_source.html#l00179">ripple::RPCHTTPServerImp::processRequest()</a>.</p>
<div class="fragment"><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;{</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a994075b2b57b391e5ba833769ac13487">lsTRACE</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;doRpcCommand:&quot;</span> &lt;&lt; strMethod &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; jvParams;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">if</span> (!jvParams.isArray () || jvParams.size () &gt; 1)</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ad4fe55808f3aa5089560bcb8993b4f81">logRPCError</a> (<a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>));</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> params   = jvParams.<a class="code" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. ">size</a> () ? jvParams[0u] : <a class="code" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9">Json::Value</a> (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92">isObject</a> ())</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ad4fe55808f3aa5089560bcb8993b4f81">logRPCError</a> (<a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>));</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="comment">// Provide the JSON-RPC method as the field &quot;command&quot; in the request.</span></div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    params[<span class="stringliteral">&quot;command&quot;</span>]    = strMethod;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvResult = <a class="code" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e">doCommand</a> (params, iRole, loadType);</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment">// Always report &quot;status&quot;.  On an error report the request as received.</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">if</span> (jvResult.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;error&quot;</span>))</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        jvResult[<span class="stringliteral">&quot;status&quot;</span>]  = <span class="stringliteral">&quot;error&quot;</span>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        jvResult[<span class="stringliteral">&quot;request&quot;</span>] = params;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        jvResult[<span class="stringliteral">&quot;status&quot;</span>]  = <span class="stringliteral">&quot;success&quot;</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ad4fe55808f3aa5089560bcb8993b4f81">logRPCError</a> (jvResult);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a1cd91f081ddb5435c1a768c2501e3ea4_cgraph.png" border="0" usemap="#dc/d8c/a01297_a1cd91f081ddb5435c1a768c2501e3ea4_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a1cd91f081ddb5435c1a768c2501e3ea4_cgraph" id="dc/d8c/a01297_a1cd91f081ddb5435c1a768c2501e3ea4_cgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,1574,324,1621"/><area shape="rect" id="node10" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="577,1687,732,1716"/><area shape="rect" id="node16" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="601,2242,708,2271"/><area shape="rect" id="node39" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="577,2751,732,2780"/><area shape="rect" id="node81" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92" title="Json::Value::isObject" alt="" coords="581,2804,728,2834"/><area shape="rect" id="node83" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="593,2858,716,2887"/><area shape="rect" id="node164" href="../../d9/d9d/a03417.html#ad4fe55808f3aa5089560bcb8993b4f81" title="ripple::logRPCError" alt="" coords="191,3300,324,3330"/><area shape="rect" id="node5" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="581,1186,728,1215"/><area shape="rect" id="node7" href="../../dc/d8c/a01297.html#abb847dfa562c55ddc83c4eb8552f3b28" title="ripple::RPCHandler\l::doAccountCurrencies" alt="" coords="373,726,528,773"/><area shape="rect" id="node12" href="../../dc/d8c/a01297.html#a53a357c0e37964494a2cf42860544fbc" title="ripple::RPCHandler\l::doAccountInfo" alt="" coords="384,1142,517,1189"/><area shape="rect" id="node18" href="../../dc/d8c/a01297.html#a7f877c7e7527d04836c76861e2646b08" title="ripple::RPCHandler\l::doAccountLines" alt="" coords="384,1212,517,1258"/><area shape="rect" id="node23" href="../../dc/d8c/a01297.html#a9a2d86224ccb500f98e0ea2a782164bd" title="ripple::RPCHandler\l::doAccountOffers" alt="" coords="384,1281,517,1328"/><area shape="rect" id="node28" href="../../dc/d8c/a01297.html#a46dd6ff043e620a329a7f14e6dea480d" title="ripple::RPCHandler\l::doAccountTxSwitch" alt="" coords="377,1470,524,1517"/><area shape="rect" id="node31" href="../../dc/d8c/a01297.html#a124fdd4817ee18afc9f2929f071a7871" title="ripple::RPCHandler\l::doBlackList" alt="" coords="384,1540,517,1586"/><area shape="rect" id="node34" href="../../dc/d8c/a01297.html#a386adf2947cd602810d62b6529b57be2" title="ripple::RPCHandler\l::doBookOffers" alt="" coords="384,1956,517,2002"/><area shape="rect" id="node41" href="../../dc/d8c/a01297.html#a5724314350b54b02ea9191dd88d1e0ff" title="ripple::RPCHandler\l::doConnect" alt="" coords="384,2025,517,2072"/><area shape="rect" id="node45" href="../../dc/d8c/a01297.html#a1ce5e78fbf78c32459343077b318e984" title="ripple::RPCHandler\l::doConsensusInfo" alt="" coords="384,3028,517,3074"/><area shape="rect" id="node47" href="../../dc/d8c/a01297.html#a5cf94b6ff18a230618ee1b00de524290" title="ripple::RPCHandler\l::doFeature" alt="" coords="384,2094,517,2141"/><area shape="rect" id="node51" href="../../dc/d8c/a01297.html#a5e5e99859e00ad824cfb1f0b30679800" title="ripple::RPCHandler\l::doFetchInfo" alt="" coords="384,1609,517,1656"/><area shape="rect" id="node54" href="../../dc/d8c/a01297.html#ae33a4e196231d363db4fe43d05143dce" title="ripple::RPCHandler\l::doGetCounts" alt="" coords="384,1678,517,1725"/><area shape="rect" id="node57" href="../../dc/d8c/a01297.html#ad2142a33aae718be18780c93fceb1887" title="ripple::RPCHandler\l::doInternal" alt="" coords="384,2164,517,2210"/><area shape="rect" id="node61" href="../../dc/d8c/a01297.html#a7b1cff52f81e9f2a6887166592e6d8e8" title="ripple::RPCHandler\l::doLedger" alt="" coords="384,2233,517,2280"/><area shape="rect" id="node65" href="../../dc/d8c/a01297.html#a0518029e09b22a2ea50e1d6bf078067a" title="ripple::RPCHandler\l::doLedgerAccept" alt="" coords="384,52,517,98"/><area shape="rect" id="node67" href="../../dc/d8c/a01297.html#af061bc5d67a0280408da85ad518038de" title="ripple::RPCHandler\l::doLedgerCleaner" alt="" coords="384,121,517,168"/><area shape="rect" id="node69" href="../../dc/d8c/a01297.html#a8874942ed3d7119bcdc4ffa9095855a2" title="ripple::RPCHandler\l::doLedgerClosed" alt="" coords="384,190,517,237"/><area shape="rect" id="node71" href="../../dc/d8c/a01297.html#a7b1789811646050c73e9dad1eb9c8bdd" title="ripple::RPCHandler\l::doLedgerCurrent" alt="" coords="384,260,517,306"/><area shape="rect" id="node73" href="../../dc/d8c/a01297.html#a1dfcca9d072ce92d0b57690cad9ee11f" title="ripple::RPCHandler\l::doLedgerData" alt="" coords="384,796,517,842"/><area shape="rect" id="node77" href="../../dc/d8c/a01297.html#a907eb3acd539cd6b1f752ab61dc6db09" title="ripple::RPCHandler\l::doLedgerEntry" alt="" coords="384,2580,517,2626"/><area shape="rect" id="node85" href="../../dc/d8c/a01297.html#aa59250abcc24f82149af101ceffc37ac" title="ripple::RPCHandler\l::doLedgerHeader" alt="" coords="384,329,517,376"/><area shape="rect" id="node87" href="../../dc/d8c/a01297.html#aa1acae11e3ef0cd955af8b55fd359217" title="ripple::RPCHandler\l::doLogLevel" alt="" coords="384,2302,517,2349"/><area shape="rect" id="node91" href="../../dc/d8c/a01297.html#a0bf2dde628b286db05f5923ffab72e60" title="ripple::RPCHandler\l::doLogRotate" alt="" coords="384,398,517,445"/><area shape="rect" id="node93" href="../../dc/d8c/a01297.html#abaadd995f0792433ae88561824e0228b" title="ripple::RPCHandler\l::doOwnerInfo" alt="" coords="384,865,517,912"/><area shape="rect" id="node97" href="../../dc/d8c/a01297.html#a4d6dc207e46225696cd4e12dfc3d54bb" title="ripple::RPCHandler\l::doPathFind" alt="" coords="384,1350,517,1397"/><area shape="rect" id="node102" href="../../dc/d8c/a01297.html#adde7167fb74286fe368b0825292583f1" title="ripple::RPCHandler\l::doPeers" alt="" coords="384,468,517,514"/><area shape="rect" id="node104" href="../../dc/d8c/a01297.html#a979950a0dda1be57a45c4af66bea34e5" title="ripple::RPCHandler\l::doPing" alt="" coords="384,2838,517,2885"/><area shape="rect" id="node107" href="../../dc/d8c/a01297.html#a03eb836cf6203f82aa95ad22c444e6fa" title="ripple::RPCHandler\l::doPrint" alt="" coords="384,2958,517,3005"/><area shape="rect" id="node110" href="../../dc/d8c/a01297.html#a8d10c58f34908a3207804824ad99ea0c" title="ripple::RPCHandler\l::doProofCreate" alt="" coords="384,1748,517,1794"/><area shape="rect" id="node113" href="../../dc/d8c/a01297.html#a7e717030ea0eafe8ee38fcc708d0c5be" title="ripple::RPCHandler\l::doProofSolve" alt="" coords="384,934,517,981"/><area shape="rect" id="node117" href="../../dc/d8c/a01297.html#adf797d26b778692b65d7e5d18dec5922" title="ripple::RPCHandler\l::doProofVerify" alt="" coords="384,1004,517,1050"/><area shape="rect" id="node121" href="../../dc/d8c/a01297.html#a1ad63ea274c0e7eb795d2f1d060fb674" title="ripple::RPCHandler\l::doRandom" alt="" coords="384,2700,517,2746"/><area shape="rect" id="node124" href="../../dc/d8c/a01297.html#a36006720757cc56e9cbd52d1517b909c" title="ripple::RPCHandler\l::doRipplePathFind" alt="" coords="384,2769,517,2816"/><area shape="rect" id="node132" href="../../dc/d8c/a01297.html#a622b01ed218cafb4fb728c2e04a6ca68" title="ripple::RPCHandler\l::doServerInfo" alt="" coords="384,537,517,584"/><area shape="rect" id="node134" href="../../dc/d8c/a01297.html#af5528b5c81268b2c289244bb5c25980a" title="ripple::RPCHandler\l::doServerState" alt="" coords="384,606,517,653"/><area shape="rect" id="node136" href="../../dc/d8c/a01297.html#a2fe8c9df95b37a944ac9238b4bfe6b03" title="ripple::RPCHandler\l::doSign" alt="" coords="384,1817,517,1864"/><area shape="rect" id="node139" href="../../dc/d8c/a01297.html#a4c1d25327afb7cd52aec03ea080b9b2b" title="ripple::RPCHandler\l::doSMS" alt="" coords="384,2372,517,2418"/><area shape="rect" id="node143" href="../../dc/d8c/a01297.html#ac0f27906fb676e013c3f259c44fc2c5c" title="ripple::RPCHandler\l::doStop" alt="" coords="384,1073,517,1120"/><area shape="rect" id="node145" href="../../dc/d8c/a01297.html#a5ab050f89daeca6d691765cdc4526d41" title="ripple::RPCHandler\l::doSubmit" alt="" coords="384,2441,517,2488"/><area shape="rect" id="node149" href="../../dc/d8c/a01297.html#af66ac86d99976b533baa08e959e8303f" title="ripple::RPCHandler\l::doSubscribe" alt="" coords="384,2510,517,2557"/><area shape="rect" id="node156" href="../../dc/d8c/a01297.html#a94ca6f5bc40fea59fb46f7fbe97a32d3" title="ripple::RPCHandler\l::doTransactionEntry" alt="" coords="380,1886,521,1933"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a1cd91f081ddb5435c1a768c2501e3ea4_icgraph.png" border="0" usemap="#dc/d8c/a01297_a1cd91f081ddb5435c1a768c2501e3ea4_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a1cd91f081ddb5435c1a768c2501e3ea4_icgraph" id="dc/d8c/a01297_a1cd91f081ddb5435c1a768c2501e3ea4_icgraph">
<area shape="rect" id="node3" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="196,5,369,51"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="191,74,375,121"/><area shape="rect" id="node5" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="425,5,609,51"/><area shape="rect" id="node7" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="660,5,844,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a622b01ed218cafb4fb728c2e04a6ca68"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doServerInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/d84/a03281_source.html#l00023">23</a> of file <a class="el" href="../../d0/d84/a03281_source.html">ServerInfo.cpp</a>.</p>

<p>References <a class="el" href="../../d2/db9/a01926_source.html#l00263">ripple::Config::ADMIN</a>, <a class="el" href="../../dd/dac/a01008.html#a62ba6c71d741a25bc374ebb96554237e">ripple::NetworkOPs::getServerInfo()</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, <a class="el" href="../../de/dec/a03020_source.html#l00140">mRole</a>, and <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> ret (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    ret[<span class="stringliteral">&quot;info&quot;</span>] = <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#a62ba6c71d741a25bc374ebb96554237e">getServerInfo</a> (<span class="keyword">true</span>, <a class="code" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a> == <a class="code" href="../../d3/db8/a00316.html#a459f32c779b04342b4811b1a898a156eabfd6bd9f2deb401e760dbafe42c80107">Config::ADMIN</a>);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a622b01ed218cafb4fb728c2e04a6ca68_cgraph.png" border="0" usemap="#dc/d8c/a01297_a622b01ed218cafb4fb728c2e04a6ca68_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a622b01ed218cafb4fb728c2e04a6ca68_cgraph" id="dc/d8c/a01297_a622b01ed218cafb4fb728c2e04a6ca68_cgraph">
<area shape="rect" id="node3" href="../../dd/dac/a01008.html#a62ba6c71d741a25bc374ebb96554237e" title="ripple::NetworkOPs\l::getServerInfo" alt="" coords="189,5,325,51"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a622b01ed218cafb4fb728c2e04a6ca68_icgraph.png" border="0" usemap="#dc/d8c/a01297_a622b01ed218cafb4fb728c2e04a6ca68_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a622b01ed218cafb4fb728c2e04a6ca68_icgraph" id="dc/d8c/a01297_a622b01ed218cafb4fb728c2e04a6ca68_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,109,324,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,39,515,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,109,523,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,179,511,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,5,751,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,74,756,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,5,991,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,179,703,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,152,924,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,205,953,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af5528b5c81268b2c289244bb5c25980a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doServerState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d4/d1b/a03282_source.html#l00023">23</a> of file <a class="el" href="../../d4/d1b/a03282_source.html">ServerState.cpp</a>.</p>

<p>References <a class="el" href="../../d2/db9/a01926_source.html#l00263">ripple::Config::ADMIN</a>, <a class="el" href="../../dd/dac/a01008.html#a62ba6c71d741a25bc374ebb96554237e">ripple::NetworkOPs::getServerInfo()</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, <a class="el" href="../../de/dec/a03020_source.html#l00140">mRole</a>, and <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> ret (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    ret[<span class="stringliteral">&quot;state&quot;</span>]    = <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#a62ba6c71d741a25bc374ebb96554237e">getServerInfo</a> (<span class="keyword">false</span>, <a class="code" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a> == <a class="code" href="../../d3/db8/a00316.html#a459f32c779b04342b4811b1a898a156eabfd6bd9f2deb401e760dbafe42c80107">Config::ADMIN</a>);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_af5528b5c81268b2c289244bb5c25980a_cgraph.png" border="0" usemap="#dc/d8c/a01297_af5528b5c81268b2c289244bb5c25980a_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_af5528b5c81268b2c289244bb5c25980a_cgraph" id="dc/d8c/a01297_af5528b5c81268b2c289244bb5c25980a_cgraph">
<area shape="rect" id="node3" href="../../dd/dac/a01008.html#a62ba6c71d741a25bc374ebb96554237e" title="ripple::NetworkOPs\l::getServerInfo" alt="" coords="189,5,325,51"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_af5528b5c81268b2c289244bb5c25980a_icgraph.png" border="0" usemap="#dc/d8c/a01297_af5528b5c81268b2c289244bb5c25980a_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_af5528b5c81268b2c289244bb5c25980a_icgraph" id="dc/d8c/a01297_af5528b5c81268b2c289244bb5c25980a_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,109,324,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,39,515,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,109,523,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,179,511,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,5,751,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,74,756,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,5,991,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,179,703,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,152,924,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,205,953,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aebb1188d0f7d192f870c7fd0feb9c604"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doSessionClose </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="af6f58489d9ce889aa3a8cce53097af47"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doSessionOpen </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a2fe8c9df95b37a944ac9238b4bfe6b03"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doSign </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/dd0/a03283_source.html#l00027">27</a> of file <a class="el" href="../../d2/dd0/a03283_source.html">Sign.cpp</a>.</p>

<p>References <a class="el" href="../../da/d23/a02452_source.html#l00929">Json::Value::asBool()</a>, <a class="el" href="../../d5/d6b/a03428.html#a3bffd22c83dd5da4b419134e040c619a">ripple::Resource::feeHighBurdenRPC</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, <a class="el" href="../../de/dec/a03020_source.html#l00140">mRole</a>, and <a class="el" href="../../da/d5b/a03322_source.html#l00152">ripple::RPC::transactionSign()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;{</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    loadType = <a class="code" href="../../d5/d6b/a03428.html#a3bffd22c83dd5da4b419134e040c619a">Resource::feeHighBurdenRPC</a>;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keywordtype">bool</span> bFailHard = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;fail_hard&quot;</span>) &amp;&amp; params[<span class="stringliteral">&quot;fail_hard&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ();</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#a616c2de8fe8896397bfda189ce16de4a">RPC::transactionSign</a> (params, <span class="keyword">false</span>, bFailHard, masterLockHolder, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>, <a class="code" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a>);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a2fe8c9df95b37a944ac9238b4bfe6b03_cgraph.png" border="0" usemap="#dc/d8c/a01297_a2fe8c9df95b37a944ac9238b4bfe6b03_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a2fe8c9df95b37a944ac9238b4bfe6b03_cgraph" id="dc/d8c/a01297_a2fe8c9df95b37a944ac9238b4bfe6b03_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="459,5,597,35"/><area shape="rect" id="node5" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="687,135,841,164"/><area shape="rect" id="node7" href="../../d2/d9b/a03429.html#a616c2de8fe8896397bfda189ce16de4a" title="ripple::RPC::transactionSign" alt="" coords="191,1208,377,1237"/><area shape="rect" id="node10" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06" title="ripple::RPC::missing\l_field_error" alt="" coords="457,573,599,619"/><area shape="rect" id="node14" href="../../d2/d9b/a03429.html#a2cd6200f6709780fcf1dd26ec9cd2866" title="ripple::RPC::make_error" alt="" coords="899,441,1061,471"/><area shape="rect" id="node16" href="../../d2/d9b/a03429.html#a5d5937b3d78d931333b1c278e13e23b2" title="ripple::RPC::missing\l_field_message" alt="" coords="693,586,835,633"/><area shape="rect" id="node18" href="../../d4/d0e/a01272.html#afb74c70e56ff76faf4f4e703139e088f" title="ripple::RippleAddress\l::setSeedGeneric" alt="" coords="691,814,837,861"/><area shape="rect" id="node20" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="907,681,1053,727"/><area shape="rect" id="node32" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="455,1085,601,1115"/><area shape="rect" id="node35" href="../../d2/d9b/a03429.html#a786aa1fb7be9a79763f72a11aa8224b6" title="ripple::RPC::invalid\l_field_message" alt="" coords="461,1138,595,1185"/><area shape="rect" id="node37" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92" title="Json::Value::isObject" alt="" coords="691,289,837,319"/><area shape="rect" id="node39" href="../../d2/d9b/a03429.html#a97b09da785b1944b7b1964eeff97a43b" title="ripple::RPC::object\l_field_error" alt="" coords="461,434,595,481"/><area shape="rect" id="node45" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d" title="ripple::getConfig" alt="" coords="705,204,823,233"/><area shape="rect" id="node47" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="477,1208,579,1237"/><area shape="rect" id="node49" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="465,1261,591,1307"/><area shape="rect" id="node51" href="../../d1/de6/a00837.html#a616a9ac6aa98e9ff03a112cd4c486a05" title="ripple::LedgerMaster\l::getValidatedLedgerAge" alt="" coords="447,1330,609,1377"/><area shape="rect" id="node53" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="475,1400,581,1429"/><area shape="rect" id="node55" href="../../dd/dac/a01008.html#aa4a081f49bdf9ea42446691c34ceed79" title="ripple::NetworkOPs\l::getCurrentLedger" alt="" coords="460,1453,596,1499"/><area shape="rect" id="node57" href="../../dd/dac/a01008.html#acb121b6ee80362d6525d8760a058cdb1" title="ripple::NetworkOPs\l::getAccountState" alt="" coords="460,1522,596,1569"/><area shape="rect" id="node59" href="../../d4/d0e/a01272.html#a2a8201537b6969c0e186c9b1d889c52b" title="ripple::RippleAddress\l::humanAccountID" alt="" coords="455,863,601,910"/><area shape="rect" id="node62" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="691,889,837,935"/><area shape="rect" id="node64" href="../../d2/d9b/a03429.html#aa4dd259be9455301ffed19a0b83519c4" title="ripple::RPC::autofill_fee" alt="" coords="448,160,608,189"/><area shape="rect" id="node68" href="../../d2/d9b/a03429.html#a1a79f0c33d1405fe85c40d63a49658bd" title="ripple::RPC::contains\l_error" alt="" coords="455,213,601,259"/><area shape="rect" id="node72" href="../../d2/d41/a01493.html#a4df1aef3b6904f94556bdd7100dbaa96" title="ripple::STAmount::bSetJson" alt="" coords="435,1592,621,1621"/><area shape="rect" id="node74" href="../../d2/d9b/a03429.html#a3f2a31e585bbecb3af3740d34d7df15f" title="ripple::RPC::invalid\l_field_error" alt="" coords="461,503,595,550"/><area shape="rect" id="node77" href="../../d2/d41/a01493.html#a9c0e550741c6a42146b6bed092f45643" title="ripple::STAmount::setIssuer" alt="" coords="436,1645,620,1675"/><area shape="rect" id="node80" href="../../d2/d41/a01493.html#af327650875d5657bc9999fac9751a0eb" title="ripple::STAmount::isNative" alt="" coords="439,1699,617,1728"/><area shape="rect" id="node82" href="../../d5/dac/a00841.html#a142e70807c5ead91dca1ea885b978dda" title="ripple::RPC::LegacyPathFind\l::isOkay" alt="" coords="432,1751,624,1798"/><area shape="rect" id="node84" href="../../d2/d41/a01493.html#a61429db7fed5872fca90d726f3088325" title="ripple::STAmount::getCurrency" alt="" coords="427,1821,629,1851"/><area shape="rect" id="node86" href="../../d2/d41/a01493.html#ac88b3e8c68c4fbda4e493471be3f074c" title="ripple::STAmount::getIssuer" alt="" coords="436,1875,620,1904"/><area shape="rect" id="node88" href="../../d6/db5/a01573.html#a1747dc34f1fc24478eddaf3dd3f95544" title="ripple::STPathSet::\lgetJson" alt="" coords="461,1927,595,1974"/><area shape="rect" id="node90" href="../../d6/db5/a01573.html#a439e37af850af53eea40bb9f4be1925f" title="ripple::STPathSet::\lisEmpty" alt="" coords="461,1997,595,2043"/><area shape="rect" id="node92" href="../../dd/dac/a01008.html#ac46448620aab70b2a6cd2e960f679cf5" title="ripple::NetworkOPs\l::getSLEi" alt="" coords="460,2066,596,2113"/><area shape="rect" id="node94" href="../../dd/d5f/a00825.html#ab0ca75e1c5fa67568377f9962687cf90" title="ripple::Ledger::getAccount\lRootIndex" alt="" coords="441,2135,615,2182"/><area shape="rect" id="node96" href="../../d4/d0e/a01272.html#ab6ffdf1b518db959de30e3e1d390d538" title="ripple::RippleAddress\l::createSeedGeneric" alt="" coords="455,794,601,841"/><area shape="rect" id="node99" href="../../d4/d0e/a01272.html#af5b92338227d7e142fa7a0dd728dbc36" title="ripple::RippleAddress\l::createGeneratorPublic" alt="" coords="449,2205,607,2251"/><area shape="rect" id="node101" href="../../d4/d0e/a01272.html#a6968a67148f339e077846b0722b37f89" title="ripple::RippleAddress\l::createAccountPublic" alt="" coords="689,958,839,1005"/><area shape="rect" id="node104" href="../../d4/d0e/a01272.html#a32cc8e6203f36f355bb0ea7db28736e0" title="ripple::RippleAddress\l::createAccountPrivate" alt="" coords="687,1027,841,1074"/><area shape="rect" id="node107" href="../../d4/d0e/a01272.html#ae5e06999971539c90a3b6556cb3af43e" title="ripple::RippleAddress\l::getAccountPublic" alt="" coords="455,2274,601,2321"/><area shape="rect" id="node109" href="../../d9/d9d/a03417.html#a80b2f965303dfe486ecbae7d99be5f2d" title="ripple::passesLocalChecks" alt="" coords="439,2344,617,2373"/><area shape="rect" id="node111" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073" title="ripple::strHex" alt="" coords="479,2397,577,2427"/><area shape="rect" id="node113" href="../../dd/dac/a01008.html#afa798f1cd83b2e615e4af6ae6d2609c7" title="ripple::NetworkOPs\l::submitTransactionSync" alt="" coords="445,2450,611,2497"/><area shape="rect" id="node115" href="../../d9/d9d/a03417.html#a8ebf8214ccd67d515e6dd26b832854a9" title="ripple::transResultInfo" alt="" coords="453,2520,603,2549"/><area shape="rect" id="node12" href="../../d2/d9b/a03429.html#a5b6ce0616f6995340f4dd846660c3749" title="ripple::RPC::make_param\l_error" alt="" coords="677,491,851,538"/><area shape="rect" id="node22" href="../../d4/d0e/a01272.html#a6fccb99136b7c4e3f0d0d1ec404392a0" title="ripple::RippleAddress\l::setAccountPublic" alt="" coords="907,958,1053,1005"/><area shape="rect" id="node24" href="../../d4/d0e/a01272.html#a973406a0a660a3085f291033099db6d4" title="ripple::RippleAddress\l::setAccountPrivate" alt="" coords="907,1027,1053,1074"/><area shape="rect" id="node26" href="../../d4/d0e/a01272.html#a20ebd6bb6da228273b6159c3698f0b38" title="ripple::RippleAddress\l::setNodePublic" alt="" coords="907,750,1053,797"/><area shape="rect" id="node28" href="../../d4/d0e/a01272.html#a1c5ba09193abc3fe85e179665eba0313" title="ripple::RippleAddress\l::setNodePrivate" alt="" coords="907,819,1053,866"/><area shape="rect" id="node30" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="917,889,1043,935"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a2fe8c9df95b37a944ac9238b4bfe6b03_icgraph.png" border="0" usemap="#dc/d8c/a01297_a2fe8c9df95b37a944ac9238b4bfe6b03_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a2fe8c9df95b37a944ac9238b4bfe6b03_icgraph" id="dc/d8c/a01297_a2fe8c9df95b37a944ac9238b4bfe6b03_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,109,324,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,39,515,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,109,523,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,179,511,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,5,751,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,74,756,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,5,991,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,179,703,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,152,924,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,205,953,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4c1d25327afb7cd52aec03ea080b9b2b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doSMS </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d25/a03284_source.html#l00023">23</a> of file <a class="el" href="../../d6/d25/a03284_source.html">SMS.cpp</a>.</p>

<p>References <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00072">ripple::rpcINVALID_PARAMS</a>, and <a class="el" href="../../d6/dd5/a03214_source.html#l00579">ripple::HTTPClient::sendSMS()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;text&quot;</span>))</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <a class="code" href="../../d2/d85/a00679.html#a5a9c658b1e2e686130a26aa1e64db476">HTTPClient::sendSMS</a> (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getIOService (), params[<span class="stringliteral">&quot;text&quot;</span>].asString ());</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;sms dispatched&quot;</span>;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a4c1d25327afb7cd52aec03ea080b9b2b_cgraph.png" border="0" usemap="#dc/d8c/a01297_a4c1d25327afb7cd52aec03ea080b9b2b_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a4c1d25327afb7cd52aec03ea080b9b2b_cgraph" id="dc/d8c/a01297_a4c1d25327afb7cd52aec03ea080b9b2b_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="217,13,319,43"/><area shape="rect" id="node7" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="191,67,345,96"/><area shape="rect" id="node9" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="215,120,321,149"/><area shape="rect" id="node17" href="../../d2/d85/a00679.html#a5a9c658b1e2e686130a26aa1e64db476" title="ripple::HTTPClient\l::sendSMS" alt="" coords="203,207,333,254"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="396,5,572,51"/><area shape="rect" id="node11" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="420,93,548,139"/><area shape="rect" id="node13" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="623,101,799,131"/><area shape="rect" id="node15" href="../../dc/d8e/a00473.html#aec1914e37aa6e639af71985d7abfb52f" title="ripple::RPC::detail\l::ErrorCategory::get" alt="" coords="849,93,985,139"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d" title="ripple::getConfig" alt="" coords="425,163,543,192"/><area shape="rect" id="node21" href="../../d9/d9d/a03417.html#a18357f0be70c623f7de8ee067013e6c8" title="ripple::parseUrl" alt="" coords="429,216,539,245"/><area shape="rect" id="node23" href="../../d9/d9d/a03417.html#ab3e559fc6cc8a1c5d5f2b030cbf2dccc" title="ripple::urlEncode" alt="" coords="425,269,543,299"/><area shape="rect" id="node27" href="../../d7/dc3/a00682.html#a249ad192f8df7bb6ecbafc41cf09cec7" title="ripple::HTTPClientImp\l::onSMSResponse" alt="" coords="408,322,560,369"/><area shape="rect" id="node25" href="../../d9/d9d/a03417.html#aca6318bcfeb25f74477566a7ddc06a63" title="ripple::charHex" alt="" coords="656,269,765,299"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a4c1d25327afb7cd52aec03ea080b9b2b_icgraph.png" border="0" usemap="#dc/d8c/a01297_a4c1d25327afb7cd52aec03ea080b9b2b_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a4c1d25327afb7cd52aec03ea080b9b2b_icgraph" id="dc/d8c/a01297_a4c1d25327afb7cd52aec03ea080b9b2b_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,109,324,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,39,515,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,109,523,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,179,511,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,5,751,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,74,756,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,5,991,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,179,703,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,152,924,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,205,953,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac0f27906fb676e013c3f259c44fc2c5c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doStop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/dfa/a03285_source.html#l00023">23</a> of file <a class="el" href="../../d2/dfa/a03285_source.html">Stop.cpp</a>.</p>

<p>References <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../da/d74/a00099.html#ab7df0df981780800966c5b063ff215c1">ripple::Application::signalStop()</a>, and <a class="el" href="../../da/dfb/a03188_source.html#l00056">SYSTEM_NAME</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#ab7df0df981780800966c5b063ff215c1">signalStop</a> ();</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../da/dfb/a03188.html#a33e39a62b1236b923aceaff009189226">SYSTEM_NAME</a> <span class="stringliteral">&quot; server stopping&quot;</span>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_ac0f27906fb676e013c3f259c44fc2c5c_cgraph.png" border="0" usemap="#dc/d8c/a01297_ac0f27906fb676e013c3f259c44fc2c5c_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_ac0f27906fb676e013c3f259c44fc2c5c_cgraph" id="dc/d8c/a01297_ac0f27906fb676e013c3f259c44fc2c5c_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="201,13,303,43"/><area shape="rect" id="node7" href="../../da/d74/a00099.html#ab7df0df981780800966c5b063ff215c1" title="ripple::Application\l::signalStop" alt="" coords="189,66,315,113"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="364,5,540,51"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_ac0f27906fb676e013c3f259c44fc2c5c_icgraph.png" border="0" usemap="#dc/d8c/a01297_ac0f27906fb676e013c3f259c44fc2c5c_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_ac0f27906fb676e013c3f259c44fc2c5c_icgraph" id="dc/d8c/a01297_ac0f27906fb676e013c3f259c44fc2c5c_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,109,324,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,39,515,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,109,523,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,179,511,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,5,751,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,74,756,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,5,991,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,179,703,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,152,924,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,205,953,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5ab050f89daeca6d691765cdc4526d41"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doSubmit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d1b/a03286_source.html#l00027">27</a> of file <a class="el" href="../../da/d1b/a03286_source.html">Submit.cpp</a>.</p>

<p>References <a class="el" href="../../d2/db9/a01926_source.html#l00263">ripple::Config::ADMIN</a>, <a class="el" href="../../da/d23/a02452_source.html#l00929">Json::Value::asBool()</a>, <a class="el" href="../../d5/d6b/a03428.html#a8466333cef2ff22196d2f7732f0c958a">ripple::Resource::feeMediumBurdenRPC</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, <a class="el" href="../../de/dec/a03020_source.html#l00140">mRole</a>, <a class="el" href="../../dd/dac/a01008.html#ab7f2fdbb88d912b8b2a151b9eeb5ed0f">ripple::NetworkOPs::processTransaction()</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00072">ripple::rpcINVALID_PARAMS</a>, <a class="el" href="../../d9/d4d/a02840_source.html#l00045">ripple::strHex()</a>, <a class="el" href="../../d9/dc2/a03106_source.html#l00072">ripple::strUnHex()</a>, <a class="el" href="../../d5/d73/a03203_source.html#l00084">ripple::temUNCERTAIN</a>, <a class="el" href="../../da/d5b/a03322_source.html#l00152">ripple::RPC::transactionSign()</a>, and <a class="el" href="../../d6/d9b/a03202_source.html#l00022">ripple::transResultInfo()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;{</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    loadType = <a class="code" href="../../d5/d6b/a03428.html#a8466333cef2ff22196d2f7732f0c958a">Resource::feeMediumBurdenRPC</a>;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;tx_blob&quot;</span>))</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        <span class="keywordtype">bool</span> bFailHard = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;fail_hard&quot;</span>) &amp;&amp; params[<span class="stringliteral">&quot;fail_hard&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ();</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#a616c2de8fe8896397bfda189ce16de4a">RPC::transactionSign</a> (params, <span class="keyword">true</span>, bFailHard, masterLockHolder, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>, <a class="code" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a>);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    }</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>                 jvResult;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    std::pair&lt;Blob, bool&gt; ret(<a class="code" href="../../d9/d9d/a03417.html#a86b56f6a948bd1184ddd8f727d7fe655">strUnHex</a> (params[<span class="stringliteral">&quot;tx_blob&quot;</span>].asString ()));</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="keywordflow">if</span> (!ret.second || !ret.first.size ())</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    Serializer                  sTrans (ret.first);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    SerializerIterator          sitTrans (sTrans);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    <a class="code" href="../../d9/de4/a01346.html#a19013480d962d1dd24d7fd022fea003e">SerializedTransaction::pointer</a> stpTrans;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    {</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        stpTrans = boost::make_shared&lt;SerializedTransaction&gt; (boost::ref (sitTrans));</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    }</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">catch</span> (std::exception&amp; e)</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    {</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        jvResult[<span class="stringliteral">&quot;error&quot;</span>]           = <span class="stringliteral">&quot;invalidTransaction&quot;</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        jvResult[<span class="stringliteral">&quot;error_exception&quot;</span>] = e.what ();</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    }</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;    <a class="code" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a>            tpTrans;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        tpTrans     = boost::make_shared&lt;Transaction&gt; (stpTrans, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">catch</span> (std::exception&amp; e)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        jvResult[<span class="stringliteral">&quot;error&quot;</span>]           = <span class="stringliteral">&quot;internalTransaction&quot;</span>;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        jvResult[<span class="stringliteral">&quot;error_exception&quot;</span>] = e.what ();</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        (void) <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#ab7f2fdbb88d912b8b2a151b9eeb5ed0f">processTransaction</a> (tpTrans, <a class="code" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a> == <a class="code" href="../../d3/db8/a00316.html#a459f32c779b04342b4811b1a898a156eabfd6bd9f2deb401e760dbafe42c80107">Config::ADMIN</a>, <span class="keyword">true</span>,</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;            params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;fail_hard&quot;</span>) &amp;&amp; params[<span class="stringliteral">&quot;fail_hard&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ());</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    }</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">catch</span> (std::exception&amp; e)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        jvResult[<span class="stringliteral">&quot;error&quot;</span>]           = <span class="stringliteral">&quot;internalSubmit&quot;</span>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;        jvResult[<span class="stringliteral">&quot;error_exception&quot;</span>] = e.what ();</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;        <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    }</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    {</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;        jvResult[<span class="stringliteral">&quot;tx_json&quot;</span>]     = tpTrans-&gt;getJson (0);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        jvResult[<span class="stringliteral">&quot;tx_blob&quot;</span>]     = <a class="code" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073">strHex</a> (tpTrans-&gt;getSTransaction ()-&gt;getSerializer ().peekData ());</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0a3f4aacb3a231bc64f3056eb28a6026fd">temUNCERTAIN</a> != tpTrans-&gt;getResult ())</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            std::string sToken;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;            std::string sHuman;</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            <a class="code" href="../../d9/d9d/a03417.html#a8ebf8214ccd67d515e6dd26b832854a9">transResultInfo</a> (tpTrans-&gt;getResult (), sToken, sHuman);</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;            jvResult[<span class="stringliteral">&quot;engine_result&quot;</span>]           = sToken;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;            jvResult[<span class="stringliteral">&quot;engine_result_code&quot;</span>]      = tpTrans-&gt;getResult ();</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;            jvResult[<span class="stringliteral">&quot;engine_result_message&quot;</span>]   = sHuman;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        }</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    }</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;    <span class="keywordflow">catch</span> (std::exception&amp; e)</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;        jvResult[<span class="stringliteral">&quot;error&quot;</span>]           = <span class="stringliteral">&quot;internalJson&quot;</span>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        jvResult[<span class="stringliteral">&quot;error_exception&quot;</span>] = e.what ();</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;    }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a5ab050f89daeca6d691765cdc4526d41_cgraph.png" border="0" usemap="#dc/d8c/a01297_a5ab050f89daeca6d691765cdc4526d41_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a5ab050f89daeca6d691765cdc4526d41_cgraph" id="dc/d8c/a01297_a5ab050f89daeca6d691765cdc4526d41_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="459,119,597,149"/><area shape="rect" id="node5" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="679,405,833,434"/><area shape="rect" id="node7" href="../../dd/dac/a01008.html#ab7f2fdbb88d912b8b2a151b9eeb5ed0f" title="ripple::NetworkOPs\l::processTransaction" alt="" coords="212,1367,356,1413"/><area shape="rect" id="node9" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="475,173,581,202"/><area shape="rect" id="node15" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073" title="ripple::strHex" alt="" coords="479,15,577,45"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a86b56f6a948bd1184ddd8f727d7fe655" title="ripple::strUnHex" alt="" coords="225,2013,343,2042"/><area shape="rect" id="node23" href="../../d2/d9b/a03429.html#a616c2de8fe8896397bfda189ce16de4a" title="ripple::RPC::transactionSign" alt="" coords="191,1263,377,1293"/><area shape="rect" id="node114" href="../../d9/d9d/a03417.html#a8ebf8214ccd67d515e6dd26b832854a9" title="ripple::transResultInfo" alt="" coords="453,2570,603,2599"/><area shape="rect" id="node11" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="692,636,820,683"/><area shape="rect" id="node13" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="884,645,1060,674"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#aca6318bcfeb25f74477566a7ddc06a63" title="ripple::charHex" alt="" coords="701,15,811,45"/><area shape="rect" id="node21" href="../../d9/d9d/a03417.html#a5a8ba83c012a5d82c51cff0f56bdb097" title="ripple::charUnHex" alt="" coords="465,2623,591,2653"/><area shape="rect" id="node26" href="../../d2/d9b/a03429.html#aec2e1163b39a450d3917af9dd15b0f06" title="ripple::RPC::missing\l_field_error" alt="" coords="457,1756,599,1803"/><area shape="rect" id="node28" href="../../d2/d9b/a03429.html#a5d5937b3d78d931333b1c278e13e23b2" title="ripple::RPC::missing\l_field_message" alt="" coords="685,1725,827,1772"/><area shape="rect" id="node30" href="../../d4/d0e/a01272.html#afb74c70e56ff76faf4f4e703139e088f" title="ripple::RippleAddress\l::setSeedGeneric" alt="" coords="683,1905,829,1952"/><area shape="rect" id="node32" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="899,1905,1045,1952"/><area shape="rect" id="node34" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="455,2117,601,2146"/><area shape="rect" id="node36" href="../../d2/d9b/a03429.html#a2cd6200f6709780fcf1dd26ec9cd2866" title="ripple::RPC::make_error" alt="" coords="447,1413,609,1442"/><area shape="rect" id="node39" href="../../d2/d9b/a03429.html#a786aa1fb7be9a79763f72a11aa8224b6" title="ripple::RPC::invalid\l_field_message" alt="" coords="461,2169,595,2216"/><area shape="rect" id="node41" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92" title="Json::Value::isObject" alt="" coords="683,1555,829,1585"/><area shape="rect" id="node43" href="../../d2/d9b/a03429.html#a97b09da785b1944b7b1964eeff97a43b" title="ripple::RPC::object\l_field_error" alt="" coords="461,2239,595,2285"/><area shape="rect" id="node48" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d" title="ripple::getConfig" alt="" coords="697,1086,815,1115"/><area shape="rect" id="node50" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="477,2309,579,2338"/><area shape="rect" id="node52" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="465,2361,591,2408"/><area shape="rect" id="node54" href="../../d1/de6/a00837.html#a616a9ac6aa98e9ff03a112cd4c486a05" title="ripple::LedgerMaster\l::getValidatedLedgerAge" alt="" coords="447,2431,609,2477"/><area shape="rect" id="node57" href="../../dd/dac/a01008.html#aa4a081f49bdf9ea42446691c34ceed79" title="ripple::NetworkOPs\l::getCurrentLedger" alt="" coords="460,2500,596,2547"/><area shape="rect" id="node59" href="../../dd/dac/a01008.html#acb121b6ee80362d6525d8760a058cdb1" title="ripple::NetworkOPs\l::getAccountState" alt="" coords="460,276,596,323"/><area shape="rect" id="node61" href="../../d4/d0e/a01272.html#a2a8201537b6969c0e186c9b1d889c52b" title="ripple::RippleAddress\l::humanAccountID" alt="" coords="455,1996,601,2043"/><area shape="rect" id="node64" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="683,2048,829,2095"/><area shape="rect" id="node66" href="../../d2/d9b/a03429.html#aa4dd259be9455301ffed19a0b83519c4" title="ripple::RPC::autofill_fee" alt="" coords="448,645,608,674"/><area shape="rect" id="node71" href="../../d2/d9b/a03429.html#a1a79f0c33d1405fe85c40d63a49658bd" title="ripple::RPC::contains\l_error" alt="" coords="455,1516,601,1563"/><area shape="rect" id="node75" href="../../d2/d41/a01493.html#a4df1aef3b6904f94556bdd7100dbaa96" title="ripple::STAmount::bSetJson" alt="" coords="435,346,621,375"/><area shape="rect" id="node77" href="../../d2/d9b/a03429.html#a3f2a31e585bbecb3af3740d34d7df15f" title="ripple::RPC::invalid\l_field_error" alt="" coords="461,399,595,445"/><area shape="rect" id="node79" href="../../d2/d41/a01493.html#a9c0e550741c6a42146b6bed092f45643" title="ripple::STAmount::setIssuer" alt="" coords="436,469,620,498"/><area shape="rect" id="node82" href="../../d2/d41/a01493.html#af327650875d5657bc9999fac9751a0eb" title="ripple::STAmount::isNative" alt="" coords="439,522,617,551"/><area shape="rect" id="node84" href="../../d5/dac/a00841.html#a142e70807c5ead91dca1ea885b978dda" title="ripple::RPC::LegacyPathFind\l::isOkay" alt="" coords="432,575,624,621"/><area shape="rect" id="node86" href="../../d2/d41/a01493.html#a61429db7fed5872fca90d726f3088325" title="ripple::STAmount::getCurrency" alt="" coords="427,698,629,727"/><area shape="rect" id="node88" href="../../d2/d41/a01493.html#ac88b3e8c68c4fbda4e493471be3f074c" title="ripple::STAmount::getIssuer" alt="" coords="436,751,620,781"/><area shape="rect" id="node90" href="../../d6/db5/a01573.html#a1747dc34f1fc24478eddaf3dd3f95544" title="ripple::STPathSet::\lgetJson" alt="" coords="461,804,595,851"/><area shape="rect" id="node92" href="../../d6/db5/a01573.html#a439e37af850af53eea40bb9f4be1925f" title="ripple::STPathSet::\lisEmpty" alt="" coords="461,873,595,920"/><area shape="rect" id="node94" href="../../dd/dac/a01008.html#ac46448620aab70b2a6cd2e960f679cf5" title="ripple::NetworkOPs\l::getSLEi" alt="" coords="460,943,596,989"/><area shape="rect" id="node96" href="../../dd/d5f/a00825.html#ab0ca75e1c5fa67568377f9962687cf90" title="ripple::Ledger::getAccount\lRootIndex" alt="" coords="441,1012,615,1059"/><area shape="rect" id="node98" href="../../d4/d0e/a01272.html#ab6ffdf1b518db959de30e3e1d390d538" title="ripple::RippleAddress\l::createSeedGeneric" alt="" coords="455,1876,601,1923"/><area shape="rect" id="node101" href="../../d4/d0e/a01272.html#af5b92338227d7e142fa7a0dd728dbc36" title="ripple::RippleAddress\l::createGeneratorPublic" alt="" coords="449,1081,607,1128"/><area shape="rect" id="node103" href="../../d4/d0e/a01272.html#a6968a67148f339e077846b0722b37f89" title="ripple::RippleAddress\l::createAccountPublic" alt="" coords="453,1151,603,1197"/><area shape="rect" id="node105" href="../../d4/d0e/a01272.html#a32cc8e6203f36f355bb0ea7db28736e0" title="ripple::RippleAddress\l::createAccountPrivate" alt="" coords="451,1220,605,1267"/><area shape="rect" id="node107" href="../../d4/d0e/a01272.html#ae5e06999971539c90a3b6556cb3af43e" title="ripple::RippleAddress\l::getAccountPublic" alt="" coords="455,1289,601,1336"/><area shape="rect" id="node109" href="../../d9/d9d/a03417.html#a80b2f965303dfe486ecbae7d99be5f2d" title="ripple::passesLocalChecks" alt="" coords="439,1359,617,1389"/><area shape="rect" id="node112" href="../../dd/dac/a01008.html#afa798f1cd83b2e615e4af6ae6d2609c7" title="ripple::NetworkOPs\l::submitTransactionSync" alt="" coords="445,1636,611,1683"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a5ab050f89daeca6d691765cdc4526d41_icgraph.png" border="0" usemap="#dc/d8c/a01297_a5ab050f89daeca6d691765cdc4526d41_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a5ab050f89daeca6d691765cdc4526d41_icgraph" id="dc/d8c/a01297_a5ab050f89daeca6d691765cdc4526d41_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,109,324,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,39,515,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,109,523,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,179,511,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,5,751,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,74,756,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,5,991,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,179,703,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,152,924,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,205,953,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af66ac86d99976b533baa08e959e8303f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doSubscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/dcc/a03287_source.html#l00023">23</a> of file <a class="el" href="../../d8/dcc/a03287_source.html">Subscribe.cpp</a>.</p>

<p>References <a class="el" href="../../d8/dd4/a03195_source.html#l00068">ACCOUNT_ONE</a>, <a class="el" href="../../d5/dd0/a01438.html#afcc1eb3ab3ef8b82b6a7b161df619ff3">ripple::InfoSub::Source::addRpcSub()</a>, <a class="el" href="../../d2/db9/a01926_source.html#l00263">ripple::Config::ADMIN</a>, <a class="el" href="../../da/d23/a02452_source.html#l00929">Json::Value::asBool()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00861">Json::Value::asUInt()</a>, <a class="el" href="../../da/dd3/a03198_source.html#l00052">ripple::STAmount::currencyFromString()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01608">Json::Value::end()</a>, <a class="el" href="../../d5/d6b/a03428.html#a8466333cef2ff22196d2f7732f0c958a">ripple::Resource::feeMediumBurdenRPC</a>, <a class="el" href="../../d5/dd0/a01438.html#ae81c1e618f3e4c666628a05ffdfe1b3d">ripple::InfoSub::Source::findRpcSub()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00292">ripple::RippleAddress::getAccountID()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../dd/dac/a01008.html#aa6425494b52cece6f613d6209f838a75">ripple::NetworkOPs::getBookPage()</a>, <a class="el" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104">ripple::Application::getLedgerMaster()</a>, <a class="el" href="../../d1/de6/a00837.html#ab68f28d77183efd613919b589d85e330">ripple::LedgerMaster::getPublishedLedger()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01494">Json::Value::isNumeric()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01515">Json::Value::isObject()</a>, <a class="el" href="../../da/dd3/a03198_source.html#l00026">ripple::STAmount::issuerFromString()</a>, <a class="el" href="../../dd/d3f/a02912_source.html#l01633">ripple::Ledger::isValidBook()</a>, <a class="el" href="../../d8/d4b/a03093_source.html#l00029">ripple::lsDEBUG</a>, <a class="el" href="../../d8/d4b/a03093_source.html#l00030">ripple::lsINFO</a>, <a class="el" href="../../d8/d4b/a03093_source.html#l00028">ripple::lsTRACE</a>, <a class="el" href="../../d8/d4b/a03093_source.html#l00031">ripple::lsWARNING</a>, <a class="el" href="../../de/dec/a03020_source.html#l00137">mInfoSub</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, <a class="el" href="../../de/dec/a03020_source.html#l00140">mRole</a>, <a class="el" href="../../df/dc9/a03230_source.html#l00203">ripple::RPCSub::New()</a>, <a class="el" href="../../d0/d75/a03105_source.html#l00047">nothing</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00032">Json::nullValue</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../db/d69/a03320_source.html#l00025">ripple::RPC::parseAccountIds()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00082">ripple::rpcBAD_ISSUER</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00083">ripple::rpcBAD_MARKET</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00090">ripple::rpcDST_ISR_MALFORMED</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00072">ripple::rpcINVALID_PARAMS</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00044">ripple::rpcNO_PERMISSION</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00106">ripple::rpcSRC_CUR_MALFORMED</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00107">ripple::rpcSRC_ISR_MALFORMED</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00356">ripple::RippleAddress::setAccountID()</a>, <a class="el" href="../../d5/dd0/a01438.html#a565ca94fd342520e53deae25df1fb355">ripple::InfoSub::Source::subAccount()</a>, <a class="el" href="../../d5/dd0/a01438.html#a9eaf189fc7d8d7724bda1f931b9fcee8">ripple::InfoSub::Source::subBook()</a>, <a class="el" href="../../d5/dd0/a01438.html#ad0b605951cb74872c096b5a816c8175c">ripple::InfoSub::Source::subLedger()</a>, <a class="el" href="../../d5/dd0/a01438.html#afb7c7aff3eef5f3ba5908e85029386c8">ripple::InfoSub::Source::subRTTransactions()</a>, <a class="el" href="../../d5/dd0/a01438.html#a064a471ce6cfcd02a04bd03ffb0dd326">ripple::InfoSub::Source::subServer()</a>, <a class="el" href="../../d5/dd0/a01438.html#ac2821cf52871a9e25fcb411f28cf8205">ripple::InfoSub::Source::subTransactions()</a>, <a class="el" href="../../de/d3e/a02727_source.html#l00023">rocksdb::crc32c::Value()</a>, and <a class="el" href="../../dc/dc0/a03087_source.html#l00075">WriteLog</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <span class="comment">// FIXME: This needs to release the master lock immediately</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="comment">// Subscriptions need to be protected by their own lock</span></div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <a class="code" href="../../d4/deb/a00710.html#a15ba6fd94d60310cdf80362345b5d07b">InfoSub::pointer</a> ispSub;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvResult (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> uLedgerIndex = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;ledger_index&quot;</span>) &amp;&amp; params[<span class="stringliteral">&quot;ledger_index&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a8ce848900e2e8fa23a41fcc2c1409fab">isNumeric</a> ()</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;                               ? params[<span class="stringliteral">&quot;ledger_index&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c">asUInt</a> ()</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                               : 0;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dc/d8c/a01297.html#af11ecf1530620e83636a8868f1403eec">mInfoSub</a> &amp;&amp; !params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;url&quot;</span>))</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <span class="comment">// Must be a JSON-RPC call.</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; boost::str (boost::format (<span class="stringliteral">&quot;doSubscribe: RPC subscribe requires a url&quot;</span>));</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    }</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;url&quot;</span>))</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a> != <a class="code" href="../../d3/db8/a00316.html#a459f32c779b04342b4811b1a898a156eabfd6bd9f2deb401e760dbafe42c80107">Config::ADMIN</a>)</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932af84f0f070938fb2e6bfc21dd28e98c5c">rpcNO_PERMISSION</a>);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        std::string strUrl      = params[<span class="stringliteral">&quot;url&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ();</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        std::string strUsername = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;url_username&quot;</span>) ? params[<span class="stringliteral">&quot;url_username&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> () : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        std::string strPassword = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;url_password&quot;</span>) ? params[<span class="stringliteral">&quot;url_password&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> () : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="comment">// DEPRECATED</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;username&quot;</span>))</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;            strUsername = params[<span class="stringliteral">&quot;username&quot;</span>].asString ();</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        <span class="comment">// DEPRECATED</span></div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;password&quot;</span>))</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            strPassword = params[<span class="stringliteral">&quot;password&quot;</span>].asString ();</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        ispSub  = <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../d5/dd0/a01438.html#ae81c1e618f3e4c666628a05ffdfe1b3d">findRpcSub</a> (strUrl);</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        <span class="keywordflow">if</span> (!ispSub)</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a031699c2a2c25288caf7c5c512da58eb">lsDEBUG</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; boost::str (boost::format (<span class="stringliteral">&quot;doSubscribe: building: %s&quot;</span>) % strUrl);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;            <a class="code" href="../../dc/d9e/a01305.html#a5944f46f0c0d6b6e3eee66def8949275">RPCSub::pointer</a> rspSub = <a class="code" href="../../dc/d9e/a01305.html#a461acfc5eae33cc2448b4627a14d003b">RPCSub::New</a> (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a> ().getOPs (),</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a> ().getIOService (), <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a> ().getJobQueue (),</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                    strUrl, strUsername, strPassword);</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            ispSub  = <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../d5/dd0/a01438.html#afcc1eb3ab3ef8b82b6a7b161df619ff3">addRpcSub</a> (strUrl, boost::dynamic_pointer_cast&lt;InfoSub&gt; (rspSub));</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        }</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        {</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;            <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a994075b2b57b391e5ba833769ac13487">lsTRACE</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; boost::str (boost::format (<span class="stringliteral">&quot;doSubscribe: reusing: %s&quot;</span>) % strUrl);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;username&quot;</span>))</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                dynamic_cast&lt;RPCSub*&gt; (&amp;*ispSub)-&gt;setUsername (strUsername);</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;            <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;password&quot;</span>))</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                dynamic_cast&lt;RPCSub*&gt; (&amp;*ispSub)-&gt;setPassword (strPassword);</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;        }</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    {</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;        ispSub  = <a class="code" href="../../dc/d8c/a01297.html#af11ecf1530620e83636a8868f1403eec">mInfoSub</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;    }</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;streams&quot;</span>))</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    {</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <a class="code" href="../../d0/d75/a03105.html#afc5c6ba8fe8a6402e1f14c610c2bf146">nothing</a> ();</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!params[<span class="stringliteral">&quot;streams&quot;</span>].isArray ())</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; boost::str (boost::format (<span class="stringliteral">&quot;doSubscribe: streams requires an array.&quot;</span>));</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    }</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d4b/a01786.html" title="Iterator for object and array value. ">Json::Value::iterator</a> it = params[<span class="stringliteral">&quot;streams&quot;</span>].begin (); it != params[<span class="stringliteral">&quot;streams&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a596da1926b2f2a4056bff2edb713eb0b">end</a> (); it++)</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;            <span class="keywordflow">if</span> ((*it).isString ())</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;            {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;                std::string streamName = (*it).asString ();</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;                <span class="keywordflow">if</span> (streamName == <span class="stringliteral">&quot;server&quot;</span>)</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;                {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;                    <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../d5/dd0/a01438.html#a064a471ce6cfcd02a04bd03ffb0dd326">subServer</a> (ispSub, jvResult);</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;                }</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (streamName == <span class="stringliteral">&quot;ledger&quot;</span>)</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;                {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;                    <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../d5/dd0/a01438.html#ad0b605951cb74872c096b5a816c8175c">subLedger</a> (ispSub, jvResult);</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;                }</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (streamName == <span class="stringliteral">&quot;transactions&quot;</span>)</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;                    <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../d5/dd0/a01438.html#ac2821cf52871a9e25fcb411f28cf8205">subTransactions</a> (ispSub);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;                }</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (streamName == <span class="stringliteral">&quot;transactions_proposed&quot;</span></div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;                         || streamName == <span class="stringliteral">&quot;rt_transactions&quot;</span>) <span class="comment">// DEPRECATED</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;                {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;                    <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../d5/dd0/a01438.html#afb7c7aff3eef5f3ba5908e85029386c8">subRTTransactions</a> (ispSub);</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;                }</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;                {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;                    jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;unknownStream&quot;</span>;</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;                }</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;            }</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;malformedStream&quot;</span>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;            }</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    }</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    std::string strAccountsProposed = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;accounts_proposed&quot;</span>)</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                                      ? <span class="stringliteral">&quot;accounts_proposed&quot;</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                                      : <span class="stringliteral">&quot;rt_accounts&quot;</span>;                                    <span class="comment">// DEPRECATED</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (strAccountsProposed))</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;        <a class="code" href="../../d0/d75/a03105.html#afc5c6ba8fe8a6402e1f14c610c2bf146">nothing</a> ();</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    }</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!params[strAccountsProposed].isArray ())</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    {</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    }</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    {</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;        boost::unordered_set&lt;RippleAddress&gt; usnaAccoundIds  = <a class="code" href="../../d2/d9b/a03429.html#abce7686cc3167cc4dc87eecd26d4232b">RPC::parseAccountIds</a> (params[strAccountsProposed]);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <span class="keywordflow">if</span> (usnaAccoundIds.empty ())</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;        {</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;malformedAccount&quot;</span>;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;        }</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;            <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../d5/dd0/a01438.html#a565ca94fd342520e53deae25df1fb355">subAccount</a> (ispSub, usnaAccoundIds, uLedgerIndex, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;        }</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    }</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;accounts&quot;</span>))</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;        <a class="code" href="../../d0/d75/a03105.html#afc5c6ba8fe8a6402e1f14c610c2bf146">nothing</a> ();</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    }</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!params[<span class="stringliteral">&quot;accounts&quot;</span>].isArray ())</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;    }</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;    {</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;        boost::unordered_set&lt;RippleAddress&gt; usnaAccoundIds  = <a class="code" href="../../d2/d9b/a03429.html#abce7686cc3167cc4dc87eecd26d4232b">RPC::parseAccountIds</a> (params[<span class="stringliteral">&quot;accounts&quot;</span>]);</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">if</span> (usnaAccoundIds.empty ())</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;        {</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;            jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;malformedAccount&quot;</span>;</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;        }</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;        {</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;            <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../d5/dd0/a01438.html#a565ca94fd342520e53deae25df1fb355">subAccount</a> (ispSub, usnaAccoundIds, uLedgerIndex, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a031699c2a2c25288caf7c5c512da58eb">lsDEBUG</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; boost::str (boost::format (<span class="stringliteral">&quot;doSubscribe: accounts: %d&quot;</span>) % usnaAccoundIds.size ());</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;        }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    }</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;    <span class="keywordtype">bool</span> bHaveMasterLock = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;books&quot;</span>))</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    {</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;        <a class="code" href="../../d0/d75/a03105.html#afc5c6ba8fe8a6402e1f14c610c2bf146">nothing</a> ();</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;    }</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!params[<span class="stringliteral">&quot;books&quot;</span>].isArray ())</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    }</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d4b/a01786.html" title="Iterator for object and array value. ">Json::Value::iterator</a> it = params[<span class="stringliteral">&quot;books&quot;</span>].begin (); it != params[<span class="stringliteral">&quot;books&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a596da1926b2f2a4056bff2edb713eb0b">end</a> (); it++)</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;        {</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;            <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>&amp;    jvSubRequest    = *it;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            <span class="keywordflow">if</span> (!jvSubRequest.<a class="code" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92">isObject</a> ()</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;                    || !jvSubRequest.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;taker_pays&quot;</span>)</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;                    || !jvSubRequest.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;taker_gets&quot;</span>)</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;                    || !jvSubRequest[<span class="stringliteral">&quot;taker_pays&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92">isObject</a> ()</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                    || !jvSubRequest[<span class="stringliteral">&quot;taker_gets&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92">isObject</a> ())</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;            <span class="comment">// VFALCO TODO Use RippleAsset here</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;            <a class="code" href="../../d9/d9d/a03417.html#aae81fe197fcabf93844fa04d16d99c0c">RippleCurrency</a> pay_currency;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            <a class="code" href="../../d9/d9d/a03417.html#af6ceb67b67fea965b4a6d61712883794">RippleIssuer</a>   pay_issuer;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;            <a class="code" href="../../d9/d9d/a03417.html#aae81fe197fcabf93844fa04d16d99c0c">RippleCurrency</a> get_currency;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <a class="code" href="../../d9/d9d/a03417.html#af6ceb67b67fea965b4a6d61712883794">RippleIssuer</a>   get_issuer;</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            <span class="keywordtype">bool</span>            bBoth           = (jvSubRequest.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;both&quot;</span>) &amp;&amp; jvSubRequest[<span class="stringliteral">&quot;both&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ())</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;                                              || (jvSubRequest.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;both_sides&quot;</span>) &amp;&amp; jvSubRequest[<span class="stringliteral">&quot;both_sides&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ());  <span class="comment">// DEPRECATED</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;            <span class="keywordtype">bool</span>            bSnapshot       = (jvSubRequest.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;snapshot&quot;</span>) &amp;&amp; jvSubRequest[<span class="stringliteral">&quot;snapshot&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ())</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;                                              || (jvSubRequest.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;state_now&quot;</span>) &amp;&amp; jvSubRequest[<span class="stringliteral">&quot;state_now&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ());    <span class="comment">// DEPRECATED</span></div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;            <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>     taker_pays     = jvSubRequest[<span class="stringliteral">&quot;taker_pays&quot;</span>];</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;            <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>     taker_gets     = jvSubRequest[<span class="stringliteral">&quot;taker_gets&quot;</span>];</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;            <span class="comment">// Parse mandatory currency.</span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;            <span class="keywordflow">if</span> (!taker_pays.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;currency&quot;</span>)</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;                    || !<a class="code" href="../../d2/d41/a01493.html#a853bdaa68ca8aa5239041e7d9d26aa48">STAmount::currencyFromString</a> (pay_currency, taker_pays[<span class="stringliteral">&quot;currency&quot;</span>].asString ()))</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;            {</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;                <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;Bad taker_pays currency.&quot;</span>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932ad23b4971210983fe07f7225143e02225">rpcSRC_CUR_MALFORMED</a>);</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;            }</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;            <span class="comment">// Parse optional issuer.</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((taker_pays.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;issuer&quot;</span>))</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;                      &amp;&amp; (!taker_pays[<span class="stringliteral">&quot;issuer&quot;</span>].isString ()</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;                          || !<a class="code" href="../../d2/d41/a01493.html#a41a925f05a7bb7c9aae2108f133c47f4">STAmount::issuerFromString</a> (pay_issuer, taker_pays[<span class="stringliteral">&quot;issuer&quot;</span>].asString ())))</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;                     <span class="comment">// Don&#39;t allow illegal issuers.</span></div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;                     || (!pay_currency != !pay_issuer)</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;                     || <a class="code" href="../../d8/dd4/a03195.html#ad55eb3b0f8711599b73d311ac52eced0">ACCOUNT_ONE</a> == pay_issuer)</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;            {</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;                <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;Bad taker_pays issuer.&quot;</span>;</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a9e0f3e460ea9530eb29736e0cd9b4304">rpcSRC_ISR_MALFORMED</a>);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;            }</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            <span class="comment">// Parse mandatory currency.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;            <span class="keywordflow">if</span> (!taker_gets.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;currency&quot;</span>)</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                    || !<a class="code" href="../../d2/d41/a01493.html#a853bdaa68ca8aa5239041e7d9d26aa48">STAmount::currencyFromString</a> (get_currency, taker_gets[<span class="stringliteral">&quot;currency&quot;</span>].asString ()))</div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;            {</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;Bad taker_pays currency.&quot;</span>;</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932ad23b4971210983fe07f7225143e02225">rpcSRC_CUR_MALFORMED</a>);</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;            }</div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;            <span class="comment">// Parse optional issuer.</span></div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((taker_gets.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;issuer&quot;</span>))</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                      &amp;&amp; (!taker_gets[<span class="stringliteral">&quot;issuer&quot;</span>].isString ()</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;                          || !<a class="code" href="../../d2/d41/a01493.html#a41a925f05a7bb7c9aae2108f133c47f4">STAmount::issuerFromString</a> (get_issuer, taker_gets[<span class="stringliteral">&quot;issuer&quot;</span>].asString ())))</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;                     <span class="comment">// Don&#39;t allow illegal issuers.</span></div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;                     || (!get_currency != !get_issuer)</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;                     || <a class="code" href="../../d8/dd4/a03195.html#ad55eb3b0f8711599b73d311ac52eced0">ACCOUNT_ONE</a> == get_issuer)</div>
<div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;            {</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;                <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;Bad taker_gets issuer.&quot;</span>;</div>
<div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a7eec43248b5e3342fa6ff1fcf9976519">rpcDST_ISR_MALFORMED</a>);</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;            }</div>
<div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;            <span class="keywordflow">if</span> (pay_currency == get_currency</div>
<div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;                    &amp;&amp; pay_issuer == get_issuer)</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;            {</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;                <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;taker_gets same as taker_pays.&quot;</span>;</div>
<div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a64f2f624cc4844b4907be821dccabbd9">rpcBAD_MARKET</a>);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;            }</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;</div>
<div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;            RippleAddress   raTakerID;</div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;            <span class="keywordflow">if</span> (!jvSubRequest.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;taker&quot;</span>))</div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;            {</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;                raTakerID.setAccountID (<a class="code" href="../../d8/dd4/a03195.html#ad55eb3b0f8711599b73d311ac52eced0">ACCOUNT_ONE</a>);</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;            }</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!raTakerID.setAccountID (jvSubRequest[<span class="stringliteral">&quot;taker&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ()))</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;            {</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a06d57c943aeb0aff8b6d87d64cbcfa04">rpcBAD_ISSUER</a>);</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;            }</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../dd/d5f/a00825.html#a1734170f6cce15cb6cf85c18d3c2b754">Ledger::isValidBook</a> (pay_currency, pay_issuer, get_currency, get_issuer))</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;            {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;                <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a4f9eb9b54b9bf0586ad6249697d4adde">lsWARNING</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;Bad market: &quot;</span> &lt;&lt;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;                                                 pay_currency &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; pay_issuer &lt;&lt; <span class="stringliteral">&quot; -&gt; &quot;</span> &lt;&lt;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;                                                 get_currency &lt;&lt; <span class="stringliteral">&quot;:&quot;</span> &lt;&lt; get_issuer;</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a64f2f624cc4844b4907be821dccabbd9">rpcBAD_MARKET</a>);</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;            }</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;            <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../d5/dd0/a01438.html#a9eaf189fc7d8d7724bda1f931b9fcee8">subBook</a> (ispSub, pay_currency, get_currency, pay_issuer, get_issuer);</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;            <span class="keywordflow">if</span> (bBoth) <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../d5/dd0/a01438.html#a9eaf189fc7d8d7724bda1f931b9fcee8">subBook</a> (ispSub, get_currency, pay_currency, get_issuer, pay_issuer);</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;            <span class="keywordflow">if</span> (bSnapshot)</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;            {</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;                <span class="keywordflow">if</span> (bHaveMasterLock)</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;                {</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;                    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;                    bHaveMasterLock = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;                }</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;                loadType = <a class="code" href="../../d5/d6b/a03428.html#a8466333cef2ff22196d2f7732f0c958a">Resource::feeMediumBurdenRPC</a>;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>     lpLedger = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104">getLedgerMaster</a> ().<a class="code" href="../../d1/de6/a00837.html#ab68f28d77183efd613919b589d85e330">getPublishedLedger</a> ();</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                <span class="keywordflow">if</span> (lpLedger)</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                {</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                    <span class="keyword">const</span> <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>   jvMarker = <a class="code" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9">Json::Value</a> (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4ea7d9899633b4409bd3fc107e6737f8391" title="&#39;null&#39; value ">Json::nullValue</a>);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;                    <span class="keywordflow">if</span> (bBoth)</div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;                    {</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;                        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvBids (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;                        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvAsks (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div>
<div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;                        <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#aa6425494b52cece6f613d6209f838a75">getBookPage</a> (lpLedger, pay_currency, pay_issuer, get_currency, get_issuer, raTakerID.getAccountID (), <span class="keyword">false</span>, 0, jvMarker, jvBids);</div>
<div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;                        <span class="keywordflow">if</span> (jvBids.isMember (<span class="stringliteral">&quot;offers&quot;</span>)) jvResult[<span class="stringliteral">&quot;bids&quot;</span>] = jvBids[<span class="stringliteral">&quot;offers&quot;</span>];</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;</div>
<div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;                        <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#aa6425494b52cece6f613d6209f838a75">getBookPage</a> (lpLedger, get_currency, get_issuer, pay_currency, pay_issuer, raTakerID.getAccountID (), <span class="keyword">false</span>, 0, jvMarker, jvAsks);</div>
<div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;                        <span class="keywordflow">if</span> (jvAsks.isMember (<span class="stringliteral">&quot;offers&quot;</span>)) jvResult[<span class="stringliteral">&quot;asks&quot;</span>] = jvAsks[<span class="stringliteral">&quot;offers&quot;</span>];</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;                    }</div>
<div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;                    {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;                        <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#aa6425494b52cece6f613d6209f838a75">getBookPage</a> (lpLedger, pay_currency, pay_issuer, get_currency, get_issuer, raTakerID.getAccountID (), <span class="keyword">false</span>, 0, jvMarker, jvResult);</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;                    }</div>
<div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;                }</div>
<div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;            }</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        }</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    }</div>
<div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div>
<div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_af66ac86d99976b533baa08e959e8303f_cgraph.png" border="0" usemap="#dc/d8c/a01297_af66ac86d99976b533baa08e959e8303f_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_af66ac86d99976b533baa08e959e8303f_cgraph" id="dc/d8c/a01297_af66ac86d99976b533baa08e959e8303f_cgraph">
<area shape="rect" id="node3" href="../../d5/dd0/a01438.html#afcc1eb3ab3ef8b82b6a7b161df619ff3" title="ripple::InfoSub::Source\l::addRpcSub" alt="" coords="211,5,365,51"/><area shape="rect" id="node5" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="219,75,357,104"/><area shape="rect" id="node7" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="215,128,361,157"/><area shape="rect" id="node9" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="219,181,357,211"/><area shape="rect" id="node11" href="../../d2/d41/a01493.html#a853bdaa68ca8aa5239041e7d9d26aa48" title="ripple::STAmount::currency\lFromString" alt="" coords="197,234,379,281"/><area shape="rect" id="node28" href="../../d6/d27/a01781.html#a596da1926b2f2a4056bff2edb713eb0b" title="Json::Value::end" alt="" coords="464,473,584,503"/><area shape="rect" id="node30" href="../../d5/dd0/a01438.html#ae81c1e618f3e4c666628a05ffdfe1b3d" title="ripple::InfoSub::Source\l::findRpcSub" alt="" coords="211,578,365,625"/><area shape="rect" id="node32" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="451,403,597,450"/><area shape="rect" id="node36" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="237,648,339,677"/><area shape="rect" id="node40" href="../../dd/dac/a01008.html#aa6425494b52cece6f613d6209f838a75" title="ripple::NetworkOPs\l::getBookPage" alt="" coords="220,701,356,747"/><area shape="rect" id="node42" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="225,770,351,817"/><area shape="rect" id="node44" href="../../d1/de6/a00837.html#ab68f28d77183efd613919b589d85e330" title="ripple::LedgerMaster\l::getPublishedLedger" alt="" coords="216,839,360,886"/><area shape="rect" id="node46" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="211,909,365,939"/><area shape="rect" id="node48" href="../../d6/d27/a01781.html#a8ce848900e2e8fa23a41fcc2c1409fab" title="Json::Value::isNumeric" alt="" coords="209,963,367,992"/><area shape="rect" id="node54" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92" title="Json::Value::isObject" alt="" coords="215,1016,361,1045"/><area shape="rect" id="node56" href="../../d2/d41/a01493.html#a41a925f05a7bb7c9aae2108f133c47f4" title="ripple::STAmount::issuer\lFromString" alt="" coords="205,354,371,401"/><area shape="rect" id="node58" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="451,334,597,381"/><area shape="rect" id="node66" href="../../dd/d5f/a00825.html#a1734170f6cce15cb6cf85c18d3c2b754" title="ripple::Ledger::isValidBook" alt="" coords="200,1069,376,1099"/><area shape="rect" id="node73" href="../../dc/d9e/a01305.html#a461acfc5eae33cc2448b4627a14d003b" title="ripple::RPCSub::New" alt="" coords="215,1123,361,1152"/><area shape="rect" id="node75" href="../../d2/d9b/a03429.html#abce7686cc3167cc4dc87eecd26d4232b" title="ripple::RPC::parseAccountIds" alt="" coords="191,525,385,555"/><area shape="rect" id="node83" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="235,1176,341,1205"/><area shape="rect" id="node90" href="../../d5/dd0/a01438.html#a565ca94fd342520e53deae25df1fb355" title="ripple::InfoSub::Source\l::subAccount" alt="" coords="211,1229,365,1275"/><area shape="rect" id="node92" href="../../d5/dd0/a01438.html#a9eaf189fc7d8d7724bda1f931b9fcee8" title="ripple::InfoSub::Source\l::subBook" alt="" coords="211,1298,365,1345"/><area shape="rect" id="node94" href="../../d5/dd0/a01438.html#ad0b605951cb74872c096b5a816c8175c" title="ripple::InfoSub::Source\l::subLedger" alt="" coords="211,1367,365,1414"/><area shape="rect" id="node96" href="../../d5/dd0/a01438.html#afb7c7aff3eef5f3ba5908e85029386c8" title="ripple::InfoSub::Source\l::subRTTransactions" alt="" coords="211,1437,365,1483"/><area shape="rect" id="node98" href="../../d5/dd0/a01438.html#a064a471ce6cfcd02a04bd03ffb0dd326" title="ripple::InfoSub::Source\l::subServer" alt="" coords="211,1506,365,1553"/><area shape="rect" id="node100" href="../../d5/dd0/a01438.html#ac2821cf52871a9e25fcb411f28cf8205" title="ripple::InfoSub::Source\l::subTransactions" alt="" coords="211,1575,365,1622"/><area shape="rect" id="node102" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="211,1645,365,1675"/><area shape="rect" id="node13" href="../../d7/d9a/a00152.html#a174768646f7fe8d81f4a38f5ccf9e6f5" title="ripple::base_uint::zero" alt="" coords="676,112,825,141"/><area shape="rect" id="node15" href="../../da/d61/a01350.html#af9f127e708de4849795bdab51f2a4c78" title="ripple::Serializer\l::addZeros" alt="" coords="467,258,581,305"/><area shape="rect" id="node19" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="461,175,587,222"/><area shape="rect" id="node17" href="../../da/d61/a01350.html#ac7bf5cce451c952933b2750d902d848c" title="ripple::Serializer\l::size" alt="" coords="693,269,808,315"/><area shape="rect" id="node21" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="1120,265,1267,295"/><area shape="rect" id="node25" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="676,165,825,195"/><area shape="rect" id="node23" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1316,265,1465,295"/><area shape="rect" id="node34" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="695,412,807,441"/><area shape="rect" id="node38" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="436,649,612,695"/><area shape="rect" id="node50" href="../../d6/d27/a01781.html#a0ea567fa51fc808851698bef59b43626" title="Json::Value::isDouble" alt="" coords="449,971,599,1000"/><area shape="rect" id="node52" href="../../d6/d27/a01781.html#aec4f74ef7b776b1d9c8a10fc3bb4add5" title="Json::Value::isIntegral" alt="" coords="448,917,600,947"/><area shape="rect" id="node60" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="680,338,821,385"/><area shape="rect" id="node62" href="../../d9/d7d/a00150.html#a85c405829839e85edb721241fd8d4203" title="ripple::Base58::decodeWith\lCheck" alt="" coords="889,303,1071,350"/><area shape="rect" id="node68" href="../../d7/d9a/a00152.html#a3fa11a064a87fe4e970f00d661287dd2" title="ripple::base_uint::\lisNonZero" alt="" coords="461,1090,587,1137"/><area shape="rect" id="node70" href="../../d7/d9a/a00152.html#a25e873c7d069c6c2d44655736f2b6c21" title="ripple::base_uint::\lisZero" alt="" coords="688,1061,813,1107"/><area shape="rect" id="node77" href="../../d6/d27/a01781.html#ac12df0d6980600c5bac908ed0f64856e" title="Json::Value::begin" alt="" coords="459,596,589,625"/><area shape="rect" id="node81" href="../../d4/d0e/a01272.html#af50b71d5c97deeae31d725099782f8a4" title="ripple::RippleAddress\l::clear" alt="" coords="451,526,597,573"/><area shape="rect" id="node85" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="460,1167,588,1214"/><area shape="rect" id="node87" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="663,1176,839,1205"/><area shape="rect" id="node104" href="../../d7/db0/a03467.html#aba0a720f8204028aa9b0f78f969d5f97" title="rocksdb::crc32c::Extend" alt="" coords="443,1645,605,1675"/><area shape="rect" id="node106" href="../../d7/db0/a03467.html#a174fe9c8cf3cb558b7accfdc10c6c04c" title="rocksdb::crc32c::CRC32" alt="" coords="668,1645,833,1675"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_af66ac86d99976b533baa08e959e8303f_icgraph.png" border="0" usemap="#dc/d8c/a01297_af66ac86d99976b533baa08e959e8303f_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_af66ac86d99976b533baa08e959e8303f_icgraph" id="dc/d8c/a01297_af66ac86d99976b533baa08e959e8303f_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,109,324,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,39,515,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,109,523,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,179,511,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,5,751,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,74,756,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,5,991,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,179,703,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,152,924,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,205,953,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a94ca6f5bc40fea59fb46f7fbe97a32d3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doTransactionEntry </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/de4/a03288_source.html#l00028">28</a> of file <a class="el" href="../../db/de4/a03288_source.html">TransactionEntry.cpp</a>.</p>

<p>References <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d0/d7c/a03318_source.html#l00043">ripple::RPC::lookupLedger()</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, and <a class="el" href="../../dd/dfa/a02824_source.html#l00362">ripple::base_uint&lt; BITS &gt;::SetHex()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;{</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>     lpLedger;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>         jvResult    = <a class="code" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258">RPC::lookupLedger</a> (params, lpLedger, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>);</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordflow">if</span> (!lpLedger)</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;tx_hash&quot;</span>))</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;fieldNotFoundTransaction&quot;</span>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    }</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;ledger_hash&quot;</span>) &amp;&amp; !params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;ledger_index&quot;</span>))</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    {</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="comment">// We don&#39;t work on ledger current.</span></div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;        jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;notYetImplemented&quot;</span>;  <span class="comment">// XXX We don&#39;t support any transaction yet.</span></div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    }</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        uint256                     uTransID;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <span class="comment">// XXX Relying on trusted WSS client. Would be better to have a strict routine, returning success or failure.</span></div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        uTransID.SetHex (params[<span class="stringliteral">&quot;tx_hash&quot;</span>].asString ());</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keywordflow">if</span> (!lpLedger)</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;ledgerNotFound&quot;</span>;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        }</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;            <a class="code" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a>        tpTrans;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;            <a class="code" href="../../d1/da7/a01709.html#aa6169f45f954da1eae3fd72dd45f5849">TransactionMetaSet::pointer</a> tmTrans;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;            <span class="keywordflow">if</span> (!lpLedger-&gt;getTransaction (uTransID, tpTrans, tmTrans))</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;            {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;transactionNotFound&quot;</span>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;            }</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;            {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                jvResult[<span class="stringliteral">&quot;tx_json&quot;</span>]     = tpTrans-&gt;getJson (0);</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                <span class="keywordflow">if</span> (tmTrans)</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                    jvResult[<span class="stringliteral">&quot;metadata&quot;</span>]    = tmTrans-&gt;getJson (0);</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                <span class="comment">// &#39;accounts&#39;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                <span class="comment">// &#39;engine_...&#39;</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                <span class="comment">// &#39;ledger_...&#39;</span></div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;            }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;        }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    }</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a94ca6f5bc40fea59fb46f7fbe97a32d3_cgraph.png" border="0" usemap="#dc/d8c/a01297_a94ca6f5bc40fea59fb46f7fbe97a32d3_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a94ca6f5bc40fea59fb46f7fbe97a32d3_cgraph" id="dc/d8c/a01297_a94ca6f5bc40fea59fb46f7fbe97a32d3_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="424,5,579,35"/><area shape="rect" id="node5" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258" title="ripple::RPC::lookupLedger" alt="" coords="199,485,372,515"/><area shape="rect" id="node38" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="439,58,564,105"/><area shape="rect" id="node7" href="../../d6/d27/a01781.html#aff2e3a2e9fd5db5469588ab7b501d4db" title="Json::Value::get" alt="" coords="443,651,560,680"/><area shape="rect" id="node10" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="440,704,563,733"/><area shape="rect" id="node12" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="424,880,579,909"/><area shape="rect" id="node36" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7" title="Json::Value::isString" alt="" coords="431,827,572,856"/><area shape="rect" id="node48" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="428,933,575,963"/><area shape="rect" id="node50" href="../../d6/d27/a01781.html#a8ce848900e2e8fa23a41fcc2c1409fab" title="Json::Value::isNumeric" alt="" coords="423,987,580,1016"/><area shape="rect" id="node56" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="437,197,565,227"/><area shape="rect" id="node58" href="../../dd/dac/a01008.html#a2797139168b2d6c069aa1f0c51bc327a" title="ripple::NetworkOPs\l::getLedgerByHash" alt="" coords="433,250,569,297"/><area shape="rect" id="node60" href="../../dd/dac/a01008.html#aa4a081f49bdf9ea42446691c34ceed79" title="ripple::NetworkOPs\l::getCurrentLedger" alt="" coords="433,319,569,366"/><area shape="rect" id="node62" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="451,389,552,419"/><area shape="rect" id="node66" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="439,442,564,489"/><area shape="rect" id="node68" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="432,511,571,558"/><area shape="rect" id="node70" href="../../dd/dac/a01008.html#a3b147c209d1201adb03d478f148af4a1" title="ripple::NetworkOPs\l::getValidatedLedger" alt="" coords="431,581,572,627"/><area shape="rect" id="node72" href="../../dd/dac/a01008.html#a7615c0320aa25da4c77d806afe9c5c0e" title="ripple::NetworkOPs\l::getLedgerBySeq" alt="" coords="433,757,569,803"/><area shape="rect" id="node74" href="../../d7/d9a/a00152.html#ad19bda12f3725584ac179f2e091e30d7" title="ripple::base_uint::\lToString" alt="" coords="439,127,564,174"/><area shape="rect" id="node14" href="../../d7/db0/a03467.html#aba0a720f8204028aa9b0f78f969d5f97" title="rocksdb::crc32c::Extend" alt="" coords="637,880,800,909"/><area shape="rect" id="node16" href="../../d7/db0/a03467.html#a174fe9c8cf3cb558b7accfdc10c6c04c" title="rocksdb::crc32c::CRC32" alt="" coords="857,880,1023,909"/><area shape="rect" id="node18" href="../../d7/db0/a03467.html#aeb8537c518a4a8ac7e1d8f8ac1c6bb63" title="rocksdb::crc32c::Choose\l_CRC32" alt="" coords="1072,871,1240,918"/><area shape="rect" id="node20" href="../../d7/db0/a03467.html#a6abc7c8ed18979f0e12fcfb6460f9285" title="rocksdb::crc32c::isSSE42" alt="" coords="1289,819,1463,848"/><area shape="rect" id="node22" href="../../d7/db0/a03467.html#ab6bf1f9041f7859fe1aae6312f650115" title="rocksdb::crc32c::Fast\l_CRC32" alt="" coords="1301,871,1451,918"/><area shape="rect" id="node30" href="../../d7/db0/a03467.html#aabbb4470a0a8566fff676e40a5c3a491" title="rocksdb::crc32c::Slow\l_CRC32" alt="" coords="1512,931,1664,978"/><area shape="rect" id="node24" href="../../d7/db0/a03467.html#aa5eeccea7be6cc99acab7223cc1c7baf" title="rocksdb::crc32c::LE\l_LOAD64" alt="" coords="1519,862,1657,909"/><area shape="rect" id="node26" href="../../d4/d87/a03436.html#a0bb1082c7c473bb0c6614963a14fed62" title="rocksdb::DecodeFixed64" alt="" coords="1713,873,1879,903"/><area shape="rect" id="node28" href="../../d4/d87/a03436.html#a5eb46c01bbc65cc301b2648e655dbe15" title="rocksdb::DecodeFixed32" alt="" coords="1929,905,2095,935"/><area shape="rect" id="node32" href="../../d7/db0/a03467.html#a72b216c9d4dfeeaea89e2410eec06ff9" title="rocksdb::crc32c::LE\l_LOAD32" alt="" coords="1727,927,1865,974"/><area shape="rect" id="node40" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="867,19,1013,48"/><area shape="rect" id="node44" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="865,96,1015,125"/><area shape="rect" id="node46" href="../../d7/d9a/a00152.html#a174768646f7fe8d81f4a38f5ccf9e6f5" title="ripple::base_uint::zero" alt="" coords="644,45,793,75"/><area shape="rect" id="node42" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1081,88,1231,117"/><area shape="rect" id="node52" href="../../d6/d27/a01781.html#a0ea567fa51fc808851698bef59b43626" title="Json::Value::isDouble" alt="" coords="644,1013,793,1043"/><area shape="rect" id="node54" href="../../d6/d27/a01781.html#aec4f74ef7b776b1d9c8a10fc3bb4add5" title="Json::Value::isIntegral" alt="" coords="643,960,795,989"/><area shape="rect" id="node64" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="631,381,807,427"/><area shape="rect" id="node76" href="../../d7/d9a/a00152.html#a348c4019943a8b3a05f39f1efcb589c9" title="ripple::base_uint::\lGetHex" alt="" coords="656,149,781,195"/><area shape="rect" id="node78" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="877,149,1003,195"/><area shape="rect" id="node82" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073" title="ripple::strHex" alt="" coords="891,219,989,248"/><area shape="rect" id="node84" href="../../d9/d9d/a03417.html#aca6318bcfeb25f74477566a7ddc06a63" title="ripple::charHex" alt="" coords="1101,219,1211,248"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a94ca6f5bc40fea59fb46f7fbe97a32d3_icgraph.png" border="0" usemap="#dc/d8c/a01297_a94ca6f5bc40fea59fb46f7fbe97a32d3_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a94ca6f5bc40fea59fb46f7fbe97a32d3_icgraph" id="dc/d8c/a01297_a94ca6f5bc40fea59fb46f7fbe97a32d3_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="199,109,332,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="389,39,523,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="381,109,531,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="393,179,519,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="585,5,759,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="580,74,764,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="815,5,999,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1049,5,1233,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="633,179,711,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="881,152,932,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="852,205,961,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5cf8ce222b65949f6938f24959402f2b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doTx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/d9d/a03289_source.html#l00026">26</a> of file <a class="el" href="../../d0/d9d/a03289_source.html">Tx.cpp</a>.</p>

<p>References <a class="el" href="../../da/d23/a02452_source.html#l00929">Json::Value::asBool()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../d7/d5a/a03069_source.html#l00039">ripple::TransactionMaster::fetch()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../dd/dac/a01008.html#a7615c0320aa25da4c77d806afe9c5c0e">ripple::NetworkOPs::getLedgerBySeq()</a>, <a class="el" href="../../da/d74/a00099.html#aae949580d66cede10b0b392755858e32">ripple::Application::getMasterTransaction()</a>, <a class="el" href="../../d6/d2a/a03062_source.html#l00355">ripple::Transaction::isHexTxID()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../dd/dac/a01008.html#a6e7708abcb4aecb04332bcd9a469c948">ripple::NetworkOPs::isValidated()</a>, <a class="el" href="../../de/d94/a02597_source.html#l00095">meta</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00072">ripple::rpcINVALID_PARAMS</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00113">ripple::rpcNOT_IMPL</a>, and <a class="el" href="../../d8/deb/a03246_source.html#l00068">ripple::rpcTXN_NOT_FOUND</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;{</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;transaction&quot;</span>))</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordtype">bool</span> binary = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;binary&quot;</span>) &amp;&amp; params[<span class="stringliteral">&quot;binary&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ();</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    std::string strTransaction  = params[<span class="stringliteral">&quot;transaction&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ();</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../de/d05/a01702.html#a9a64118f7cb5ff28a7c8f0b83e839153">Transaction::isHexTxID</a> (strTransaction))</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    {</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="comment">// transaction by ID</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        uint256 txid (strTransaction);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <a class="code" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a> txn = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#aae949580d66cede10b0b392755858e32">getMasterTransaction</a> ().<a class="code" href="../../de/d5c/a01708.html#a61e3df3a86f5f6e9f8c1b3305f1d40e6">fetch</a> (txid, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="keywordflow">if</span> (!txn)</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a34422dc324e558835f6b63c7f430729a">rpcTXN_NOT_FOUND</a>);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="preprocessor">#ifdef READY_FOR_NEW_TX_FORMAT</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="preprocessor"></span>        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> ret;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        ret[<span class="stringliteral">&quot;transaction&quot;</span>] = txn-&gt;getJson (0, binary);</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="preprocessor"></span>        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> ret = txn-&gt;getJson (0, binary);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keywordflow">if</span> (txn-&gt;getLedger () != 0)</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> lgr = <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#a7615c0320aa25da4c77d806afe9c5c0e">getLedgerBySeq</a> (txn-&gt;getLedger ());</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;            <span class="keywordflow">if</span> (lgr)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;            {</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                <span class="keywordtype">bool</span> okay = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                <span class="keywordflow">if</span> (binary)</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                {</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                    std::string <a class="code" href="../../de/d94/a02597.html#a6b8f1f5fc8f36aa1678fff8fa5aecd0b">meta</a>;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                    <span class="keywordflow">if</span> (lgr-&gt;getMetaHex (txid, meta))</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                    {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                        ret[<span class="stringliteral">&quot;meta&quot;</span>] = <a class="code" href="../../de/d94/a02597.html#a6b8f1f5fc8f36aa1678fff8fa5aecd0b">meta</a>;</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                        okay = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                    }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                    <a class="code" href="../../d1/da7/a01709.html#aa6169f45f954da1eae3fd72dd45f5849">TransactionMetaSet::pointer</a> set;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                    <span class="keywordflow">if</span> (lgr-&gt;getTransactionMeta (txid, set))</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                    {</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                        okay = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                        ret[<span class="stringliteral">&quot;meta&quot;</span>] = set-&gt;getJson (0);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                    }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;                }</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;                <span class="keywordflow">if</span> (okay)</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                    ret[<span class="stringliteral">&quot;validated&quot;</span>] = <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../dd/dac/a01008.html#a6e7708abcb4aecb04332bcd9a469c948">isValidated</a> (lgr);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;        <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    }</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a9a898f996bdd8a3b2e718444d86e1640">rpcNOT_IMPL</a>);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a5cf8ce222b65949f6938f24959402f2b_cgraph.png" border="0" usemap="#dc/d8c/a01297_a5cf8ce222b65949f6938f24959402f2b_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a5cf8ce222b65949f6938f24959402f2b_cgraph" id="dc/d8c/a01297_a5cf8ce222b65949f6938f24959402f2b_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="205,44,344,73"/><area shape="rect" id="node5" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="201,97,348,127"/><area shape="rect" id="node7" href="../../de/d5c/a01708.html#a61e3df3a86f5f6e9f8c1b3305f1d40e6" title="ripple::TransactionMaster\l::fetch" alt="" coords="191,150,359,197"/><area shape="rect" id="node29" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="224,220,325,249"/><area shape="rect" id="node33" href="../../dd/dac/a01008.html#a7615c0320aa25da4c77d806afe9c5c0e" title="ripple::NetworkOPs\l::getLedgerBySeq" alt="" coords="207,273,343,319"/><area shape="rect" id="node35" href="../../da/d74/a00099.html#aae949580d66cede10b0b392755858e32" title="ripple::Application\l::getMasterTransaction" alt="" coords="197,342,352,389"/><area shape="rect" id="node37" href="../../de/d05/a01702.html#a9a64118f7cb5ff28a7c8f0b83e839153" title="ripple::Transaction\l::isHexTxID" alt="" coords="211,411,339,458"/><area shape="rect" id="node39" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="197,481,352,511"/><area shape="rect" id="node41" href="../../dd/dac/a01008.html#a6e7708abcb4aecb04332bcd9a469c948" title="ripple::NetworkOPs\l::isValidated" alt="" coords="207,534,343,581"/><area shape="rect" id="node43" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="221,604,328,633"/><area shape="rect" id="node9" href="../../de/d05/a01702.html#a6b34e15909640abcd996da4b3ec60fe4" title="ripple::Transaction\l::load" alt="" coords="433,146,561,193"/><area shape="rect" id="node11" href="../../de/d05/a01702.html#a127e942da36e00fd47b4dac4f2dc581c" title="ripple::Transaction\l::transactionFromSQL" alt="" coords="649,146,799,193"/><area shape="rect" id="node13" href="../../da/d61/a01350.html#a462cbb304e3bcba2b4a78b8fee551265" title="ripple::Serializer\l::resize" alt="" coords="895,5,1009,51"/><area shape="rect" id="node15" href="../../d5/db5/a00374.html#a5695e1a1b8e65383924a03d29c81a4f2" title="ripple::Database::getStr" alt="" coords="872,75,1032,104"/><area shape="rect" id="node19" href="../../d5/db5/a00374.html#ad34864d60e84c7168a3b173097c27157" title="ripple::Database::getInt" alt="" coords="873,128,1031,157"/><area shape="rect" id="node22" href="../../d5/db5/a00374.html#a654eaaef86fa7de1fa9a9d6c9f8d38a4" title="ripple::Database::getBinary" alt="" coords="863,181,1041,211"/><area shape="rect" id="node25" href="../../da/d61/a01350.html#a32c26f7ab6d19e352751979c9d56eccd" title="ripple::Serializer\l::begin" alt="" coords="895,234,1009,281"/><area shape="rect" id="node27" href="../../da/d61/a01350.html#a237280c7ca05aed5c750ec154a599547" title="ripple::Serializer\l::getLength" alt="" coords="895,303,1009,350"/><area shape="rect" id="node17" href="../../d5/db5/a00374.html#a5b7ed864f9f854446470c987b37ebecc" title="ripple::Database::getCol\lNumber" alt="" coords="1091,119,1253,166"/><area shape="rect" id="node31" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="409,215,585,262"/><area shape="rect" id="node45" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="433,595,561,642"/><area shape="rect" id="node47" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="636,604,812,633"/><area shape="rect" id="node49" href="../../dc/d8e/a00473.html#aec1914e37aa6e639af71985d7abfb52f" title="ripple::RPC::detail\l::ErrorCategory::get" alt="" coords="884,595,1020,642"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a5cf8ce222b65949f6938f24959402f2b_icgraph.png" border="0" usemap="#dc/d8c/a01297_a5cf8ce222b65949f6938f24959402f2b_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a5cf8ce222b65949f6938f24959402f2b_icgraph" id="dc/d8c/a01297_a5cf8ce222b65949f6938f24959402f2b_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,109,324,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,39,515,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,109,523,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,179,511,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,5,751,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,74,756,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,5,991,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,179,703,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,152,924,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,205,953,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a910bfab606b50360c07c08a1c0107dd6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doTxHistory </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d85/a03290_source.html#l00026">26</a> of file <a class="el" href="../../d6/d85/a03290_source.html">TxHistory.cpp</a>.</p>

<p>References <a class="el" href="../../d2/db9/a01926_source.html#l00263">ripple::Config::ADMIN</a>, <a class="el" href="../../da/d23/a02452_source.html#l01298">Json::Value::append()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00861">Json::Value::asUInt()</a>, <a class="el" href="../../db/d44/a02564_source.html#l02479">db</a>, <a class="el" href="../../d5/d6b/a03428.html#a8466333cef2ff22196d2f7732f0c958a">ripple::Resource::feeMediumBurdenRPC</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d2/d4c/a02897_source.html#l00032">ripple::DatabaseCon::getDB()</a>, <a class="el" href="../../da/d74/a00099.html#aed3322f9602bc688e68b14e8baff5440">ripple::Application::getTxnDB()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../de/dec/a03020_source.html#l00140">mRole</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00072">ripple::rpcINVALID_PARAMS</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00044">ripple::rpcNO_PERMISSION</a>, <a class="el" href="../../dc/d38/a02894_source.html#l00027">SQL_FOREACH</a>, and <a class="el" href="../../d6/d2a/a03062_source.html#l00139">ripple::Transaction::transactionFromSQL()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;{</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    loadType = <a class="code" href="../../d5/d6b/a03428.html#a8466333cef2ff22196d2f7732f0c958a">Resource::feeMediumBurdenRPC</a>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;start&quot;</span>))</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> startIndex = params[<span class="stringliteral">&quot;start&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c">asUInt</a> ();</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">if</span> ((startIndex &gt; 10000) &amp;&amp;  (<a class="code" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a> != <a class="code" href="../../d3/db8/a00316.html#a459f32c779b04342b4811b1a898a156eabfd6bd9f2deb401e760dbafe42c80107">Config::ADMIN</a>))</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932af84f0f070938fb2e6bfc21dd28e98c5c">rpcNO_PERMISSION</a>);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> obj;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> txs;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    obj[<span class="stringliteral">&quot;index&quot;</span>] = startIndex;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    std::string sql =</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        boost::str (boost::format (<span class="stringliteral">&quot;SELECT * FROM Transactions ORDER BY LedgerSeq desc LIMIT %u,20&quot;</span>)</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;                    % startIndex);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        Database* <a class="code" href="../../db/d44/a02564.html#a22e641d23ca36f47aa7b2b551bec1dc6">db</a> = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#aed3322f9602bc688e68b14e8baff5440">getTxnDB</a> ()-&gt;<a class="code" href="../../d6/db8/a00376.html#a9368476a90456c8f1256a53c239cc9a5">getDB</a> ();</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a5eca9d1139ddca4b45a44798b9d55329">DeprecatedScopedLock</a> sl (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getTxnDB ()-&gt;getDBLock ());</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        <a class="code" href="../../dc/d38/a02894.html#a51bb3e37b14d7bad19ab389e3a26a2ac">SQL_FOREACH</a> (db, sql)</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            <a class="code" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a> trans = <a class="code" href="../../de/d05/a01702.html#a127e942da36e00fd47b4dac4f2dc581c">Transaction::transactionFromSQL</a> (db, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            <span class="keywordflow">if</span> (trans) txs.<a class="code" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. ">append</a> (trans-&gt;getJson (0));</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        }</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    obj[<span class="stringliteral">&quot;txs&quot;</span>] = txs;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">return</span> obj;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a910bfab606b50360c07c08a1c0107dd6_cgraph.png" border="0" usemap="#dc/d8c/a01297_a910bfab606b50360c07c08a1c0107dd6_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a910bfab606b50360c07c08a1c0107dd6_cgraph" id="dc/d8c/a01297_a910bfab606b50360c07c08a1c0107dd6_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. " alt="" coords="197,5,339,35"/><area shape="rect" id="node7" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="199,59,337,88"/><area shape="rect" id="node9" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="217,112,319,141"/><area shape="rect" id="node13" href="../../d6/db8/a00376.html#a9368476a90456c8f1256a53c239cc9a5" title="ripple::DatabaseCon\l::getDB" alt="" coords="197,165,339,211"/><area shape="rect" id="node15" href="../../da/d74/a00099.html#aed3322f9602bc688e68b14e8baff5440" title="ripple::Application\l::getTxnDB" alt="" coords="205,234,331,281"/><area shape="rect" id="node17" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="191,304,345,333"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="215,357,321,387"/><area shape="rect" id="node27" href="../../de/d05/a01702.html#a127e942da36e00fd47b4dac4f2dc581c" title="ripple::Transaction\l::transactionFromSQL" alt="" coords="193,471,343,518"/><area shape="rect" id="node5" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="424,5,547,35"/><area shape="rect" id="node11" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="397,103,573,150"/><area shape="rect" id="node21" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="421,287,549,334"/><area shape="rect" id="node23" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="625,296,801,325"/><area shape="rect" id="node25" href="../../dc/d8e/a00473.html#aec1914e37aa6e639af71985d7abfb52f" title="ripple::RPC::detail\l::ErrorCategory::get" alt="" coords="852,287,988,334"/><area shape="rect" id="node29" href="../../da/d61/a01350.html#a462cbb304e3bcba2b4a78b8fee551265" title="ripple::Serializer\l::resize" alt="" coords="428,357,543,403"/><area shape="rect" id="node31" href="../../d5/db5/a00374.html#a5695e1a1b8e65383924a03d29c81a4f2" title="ripple::Database::getStr" alt="" coords="405,427,565,456"/><area shape="rect" id="node35" href="../../d5/db5/a00374.html#ad34864d60e84c7168a3b173097c27157" title="ripple::Database::getInt" alt="" coords="407,480,564,509"/><area shape="rect" id="node38" href="../../d5/db5/a00374.html#a654eaaef86fa7de1fa9a9d6c9f8d38a4" title="ripple::Database::getBinary" alt="" coords="396,533,575,563"/><area shape="rect" id="node41" href="../../da/d61/a01350.html#a32c26f7ab6d19e352751979c9d56eccd" title="ripple::Serializer\l::begin" alt="" coords="428,586,543,633"/><area shape="rect" id="node43" href="../../da/d61/a01350.html#a237280c7ca05aed5c750ec154a599547" title="ripple::Serializer\l::getLength" alt="" coords="428,655,543,702"/><area shape="rect" id="node33" href="../../d5/db5/a00374.html#a5b7ed864f9f854446470c987b37ebecc" title="ripple::Database::getCol\lNumber" alt="" coords="632,471,795,518"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a910bfab606b50360c07c08a1c0107dd6_icgraph.png" border="0" usemap="#dc/d8c/a01297_a910bfab606b50360c07c08a1c0107dd6_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a910bfab606b50360c07c08a1c0107dd6_icgraph" id="dc/d8c/a01297_a910bfab606b50360c07c08a1c0107dd6_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,109,324,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,39,515,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,109,523,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,179,511,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,5,751,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,74,756,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,5,991,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,179,703,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,152,924,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,205,953,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ab1a18104680cd7213a0c92bc2a13db52"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doUnlAdd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/dbb/a03291_source.html#l00027">27</a> of file <a class="el" href="../../da/dbb/a03291_source.html">UnlAdd.cpp</a>.</p>

<p>References <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2">ripple::Application::getUNL()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d0/d78/a01745.html#a84911799c28a3336544bb2ff2fa10edb">ripple::UniqueNodeList::nodeAddDomain()</a>, <a class="el" href="../../d0/d78/a01745.html#ae529fbc59b26d48cc81b8e723d771c98">ripple::UniqueNodeList::nodeAddPublic()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00154">ripple::RippleAddress::setNodePublic()</a>, and <a class="el" href="../../db/d52/a03007_source.html#l00035">ripple::UniqueNodeList::vsManual</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;{</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    std::string strNode     = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;node&quot;</span>) ? params[<span class="stringliteral">&quot;node&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> () : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    std::string strComment  = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;comment&quot;</span>) ? params[<span class="stringliteral">&quot;comment&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> () : <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    RippleAddress   raNodePublic;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">if</span> (raNodePublic.setNodePublic (strNode))</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2">getUNL</a> ().<a class="code" href="../../d0/d78/a01745.html#ae529fbc59b26d48cc81b8e723d771c98">nodeAddPublic</a> (raNodePublic, <a class="code" href="../../d0/d78/a01745.html#a73d8379d7229865dc7cf83d2a3839c3babae04d5b1434f16ae1408a48d891e2bf">UniqueNodeList::vsManual</a>, strComment);</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;adding node by public key&quot;</span>;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    }</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2">getUNL</a> ().<a class="code" href="../../d0/d78/a01745.html#a84911799c28a3336544bb2ff2fa10edb">nodeAddDomain</a> (strNode, <a class="code" href="../../d0/d78/a01745.html#a73d8379d7229865dc7cf83d2a3839c3babae04d5b1434f16ae1408a48d891e2bf">UniqueNodeList::vsManual</a>, strComment);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;adding node by domain&quot;</span>;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    }</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_ab1a18104680cd7213a0c92bc2a13db52_cgraph.png" border="0" usemap="#dc/d8c/a01297_ab1a18104680cd7213a0c92bc2a13db52_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_ab1a18104680cd7213a0c92bc2a13db52_cgraph" id="dc/d8c/a01297_ab1a18104680cd7213a0c92bc2a13db52_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="195,5,341,35"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="217,59,319,88"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2" title="ripple::Application\l::getUNL" alt="" coords="205,111,331,158"/><area shape="rect" id="node11" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="191,181,345,211"/><area shape="rect" id="node13" href="../../d0/d78/a01745.html#a84911799c28a3336544bb2ff2fa10edb" title="ripple::UniqueNodeList\l::nodeAddDomain" alt="" coords="191,234,345,281"/><area shape="rect" id="node15" href="../../d0/d78/a01745.html#ae529fbc59b26d48cc81b8e723d771c98" title="ripple::UniqueNodeList\l::nodeAddPublic" alt="" coords="191,303,345,350"/><area shape="rect" id="node17" href="../../d4/d0e/a01272.html#a20ebd6bb6da228273b6159c3698f0b38" title="ripple::RippleAddress\l::setNodePublic" alt="" coords="195,373,341,419"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="396,50,572,97"/><area shape="rect" id="node19" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="413,373,555,419"/><area shape="rect" id="node21" href="../../d9/d7d/a00150.html#a85c405829839e85edb721241fd8d4203" title="ripple::Base58::decodeWith\lCheck" alt="" coords="623,373,804,419"/><area shape="rect" id="node23" href="../../d9/d7d/a00150.html#a0c2d621faceac43aeb30f4797f03b12c" title="ripple::Base58::decode" alt="" coords="853,315,1008,344"/><area shape="rect" id="node33" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="857,381,1004,411"/><area shape="rect" id="node37" href="../../d9/d9d/a03417.html#a4be54b895ff42f63b835266848abf9af" title="ripple::SHA256Hash" alt="" coords="860,435,1001,464"/><area shape="rect" id="node25" href="../../d9/dec/a00090.html#ac2a3456ebd59fd80270f618c64544ac9" title="ripple::Base58::Alphabet\l::chars" alt="" coords="1057,218,1220,265"/><area shape="rect" id="node27" href="../../d7/d2f/a00258.html#a84e73d21fd76767976513f5bf1276215" title="ripple::CBigNum::getvch" alt="" coords="1056,288,1221,317"/><area shape="rect" id="node29" href="../../d7/d2f/a00258.html#a01d5357e9691e5d7743172afbc3cc85c" title="ripple::CBigNum::setuint" alt="" coords="1056,341,1221,371"/><area shape="rect" id="node31" href="../../d7/d2f/a00258.html#a80a1fa42fd2d87bedd0b3bf5180ed4ba" title="ripple::CBigNum::setulong" alt="" coords="1271,341,1444,371"/><area shape="rect" id="node35" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1064,395,1213,424"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_ab1a18104680cd7213a0c92bc2a13db52_icgraph.png" border="0" usemap="#dc/d8c/a01297_ab1a18104680cd7213a0c92bc2a13db52_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_ab1a18104680cd7213a0c92bc2a13db52_icgraph" id="dc/d8c/a01297_ab1a18104680cd7213a0c92bc2a13db52_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,109,324,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,39,515,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,109,523,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,179,511,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,5,751,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,74,756,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,5,991,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,179,703,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,152,924,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,205,953,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a842618718f796d9149285a738cecb85f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doUnlDelete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d52/a03292_source.html#l00026">26</a> of file <a class="el" href="../../d7/d52/a03292_source.html">UnlDelete.cpp</a>.</p>

<p>References <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2">ripple::Application::getUNL()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d0/d78/a01745.html#abf16de6e12391037ebbf6d760ebfacb6">ripple::UniqueNodeList::nodeRemoveDomain()</a>, <a class="el" href="../../d0/d78/a01745.html#a2f262e2ace4f72d4eec411f094cef105">ripple::UniqueNodeList::nodeRemovePublic()</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00072">ripple::rpcINVALID_PARAMS</a>, and <a class="el" href="../../d2/d23/a03186_source.html#l00154">ripple::RippleAddress::setNodePublic()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;{</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;node&quot;</span>))</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    std::string strNode     = params[<span class="stringliteral">&quot;node&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ();</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    RippleAddress   raNodePublic;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordflow">if</span> (raNodePublic.setNodePublic (strNode))</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2">getUNL</a> ().<a class="code" href="../../d0/d78/a01745.html#a2f262e2ace4f72d4eec411f094cef105">nodeRemovePublic</a> (raNodePublic);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;removing node by public key&quot;</span>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    }</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    {</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2">getUNL</a> ().<a class="code" href="../../d0/d78/a01745.html#abf16de6e12391037ebbf6d760ebfacb6">nodeRemoveDomain</a> (strNode);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        <span class="keywordflow">return</span> <span class="stringliteral">&quot;removing node by domain&quot;</span>;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a842618718f796d9149285a738cecb85f_cgraph.png" border="0" usemap="#dc/d8c/a01297_a842618718f796d9149285a738cecb85f_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a842618718f796d9149285a738cecb85f_cgraph" id="dc/d8c/a01297_a842618718f796d9149285a738cecb85f_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="195,5,341,35"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="217,59,319,88"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2" title="ripple::Application\l::getUNL" alt="" coords="205,111,331,158"/><area shape="rect" id="node11" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="191,181,345,211"/><area shape="rect" id="node13" href="../../d0/d78/a01745.html#abf16de6e12391037ebbf6d760ebfacb6" title="ripple::UniqueNodeList\l::nodeRemoveDomain" alt="" coords="191,234,345,281"/><area shape="rect" id="node15" href="../../d0/d78/a01745.html#a2f262e2ace4f72d4eec411f094cef105" title="ripple::UniqueNodeList\l::nodeRemovePublic" alt="" coords="191,303,345,350"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="215,373,321,403"/><area shape="rect" id="node25" href="../../d4/d0e/a01272.html#a20ebd6bb6da228273b6159c3698f0b38" title="ripple::RippleAddress\l::setNodePublic" alt="" coords="195,430,341,477"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="396,50,572,97"/><area shape="rect" id="node19" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="420,362,548,409"/><area shape="rect" id="node21" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="625,348,801,377"/><area shape="rect" id="node23" href="../../dc/d8e/a00473.html#aec1914e37aa6e639af71985d7abfb52f" title="ripple::RPC::detail\l::ErrorCategory::get" alt="" coords="863,334,999,381"/><area shape="rect" id="node27" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="413,437,555,483"/><area shape="rect" id="node29" href="../../d9/d7d/a00150.html#a85c405829839e85edb721241fd8d4203" title="ripple::Base58::decodeWith\lCheck" alt="" coords="623,447,804,494"/><area shape="rect" id="node31" href="../../d9/d7d/a00150.html#a0c2d621faceac43aeb30f4797f03b12c" title="ripple::Base58::decode" alt="" coords="853,404,1008,433"/><area shape="rect" id="node41" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="857,457,1004,487"/><area shape="rect" id="node45" href="../../d9/d9d/a03417.html#a4be54b895ff42f63b835266848abf9af" title="ripple::SHA256Hash" alt="" coords="860,511,1001,540"/><area shape="rect" id="node33" href="../../d9/dec/a00090.html#ac2a3456ebd59fd80270f618c64544ac9" title="ripple::Base58::Alphabet\l::chars" alt="" coords="1057,307,1220,354"/><area shape="rect" id="node35" href="../../d7/d2f/a00258.html#a84e73d21fd76767976513f5bf1276215" title="ripple::CBigNum::getvch" alt="" coords="1056,377,1221,407"/><area shape="rect" id="node37" href="../../d7/d2f/a00258.html#a01d5357e9691e5d7743172afbc3cc85c" title="ripple::CBigNum::setuint" alt="" coords="1056,431,1221,460"/><area shape="rect" id="node39" href="../../d7/d2f/a00258.html#a80a1fa42fd2d87bedd0b3bf5180ed4ba" title="ripple::CBigNum::setulong" alt="" coords="1271,431,1444,460"/><area shape="rect" id="node43" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1064,484,1213,513"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a842618718f796d9149285a738cecb85f_icgraph.png" border="0" usemap="#dc/d8c/a01297_a842618718f796d9149285a738cecb85f_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a842618718f796d9149285a738cecb85f_icgraph" id="dc/d8c/a01297_a842618718f796d9149285a738cecb85f_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,109,324,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,39,515,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,109,523,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,179,511,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,5,751,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,74,756,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,5,991,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,179,703,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,152,924,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,205,953,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a515fc676c3b5915dc0d31c284709620c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doUnlFetch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="a315b7e045f85be63a0e0983d710900ab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doUnlList </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/d74/a03293_source.html#l00023">23</a> of file <a class="el" href="../../d2/d74/a03293_source.html">UnlList.cpp</a>.</p>

<p>References <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2">ripple::Application::getUNL()</a>, <a class="el" href="../../d0/d78/a01745.html#a3ce9e545ec231b6c99a04f9d191de782">ripple::UniqueNodeList::getUnlJson()</a>, and <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> obj (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    obj[<span class="stringliteral">&quot;unl&quot;</span>] = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2">getUNL</a> ().<a class="code" href="../../d0/d78/a01745.html#a3ce9e545ec231b6c99a04f9d191de782">getUnlJson</a> ();</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="keywordflow">return</span> obj;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a315b7e045f85be63a0e0983d710900ab_cgraph.png" border="0" usemap="#dc/d8c/a01297_a315b7e045f85be63a0e0983d710900ab_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a315b7e045f85be63a0e0983d710900ab_cgraph" id="dc/d8c/a01297_a315b7e045f85be63a0e0983d710900ab_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="216,13,317,43"/><area shape="rect" id="node7" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2" title="ripple::Application\l::getUNL" alt="" coords="204,66,329,113"/><area shape="rect" id="node9" href="../../d0/d78/a01745.html#a3ce9e545ec231b6c99a04f9d191de782" title="ripple::UniqueNodeList\l::getUnlJson" alt="" coords="189,135,344,182"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="393,5,569,51"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a315b7e045f85be63a0e0983d710900ab_icgraph.png" border="0" usemap="#dc/d8c/a01297_a315b7e045f85be63a0e0983d710900ab_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a315b7e045f85be63a0e0983d710900ab_icgraph" id="dc/d8c/a01297_a315b7e045f85be63a0e0983d710900ab_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,109,324,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,39,515,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,109,523,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,179,511,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,5,751,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,74,756,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,5,991,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,179,703,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,152,924,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,205,953,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0a7d4878b2550560a39075cb4e03881e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doUnlLoad </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../df/d2e/a03294_source.html#l00024">24</a> of file <a class="el" href="../../df/d2e/a03294_source.html">UnlLoad.cpp</a>.</p>

<p>References <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d0/dc2/a02477_source.html#l00647">ripple::getConfig()</a>, <a class="el" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2">ripple::Application::getUNL()</a>, <a class="el" href="../../d0/d78/a01745.html#a9fb35855ef4263c98b4e73459b8ee7e1">ripple::UniqueNodeList::nodeLoad()</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, and <a class="el" href="../../d8/deb/a03246_source.html#l00043">ripple::rpcLOAD_FAILED</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;{</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().VALIDATORS_FILE.empty () || !<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2">getUNL</a> ().<a class="code" href="../../d0/d78/a01745.html#a9fb35855ef4263c98b4e73459b8ee7e1">nodeLoad</a> (<a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().VALIDATORS_FILE))</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    {</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a675d4de4b380db6f8427bd56938b0fe3">rpcLOAD_FAILED</a>);</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    }</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;loading&quot;</span>;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a0a7d4878b2550560a39075cb4e03881e_cgraph.png" border="0" usemap="#dc/d8c/a01297_a0a7d4878b2550560a39075cb4e03881e_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a0a7d4878b2550560a39075cb4e03881e_cgraph" id="dc/d8c/a01297_a0a7d4878b2550560a39075cb4e03881e_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="216,13,317,43"/><area shape="rect" id="node7" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d" title="ripple::getConfig" alt="" coords="208,67,325,96"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2" title="ripple::Application\l::getUNL" alt="" coords="204,119,329,166"/><area shape="rect" id="node11" href="../../d0/d78/a01745.html#a9fb35855ef4263c98b4e73459b8ee7e1" title="ripple::UniqueNodeList\l::nodeLoad" alt="" coords="189,189,344,235"/><area shape="rect" id="node13" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="213,259,320,288"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="393,5,569,51"/><area shape="rect" id="node15" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="417,250,545,297"/><area shape="rect" id="node17" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="620,259,796,288"/><area shape="rect" id="node19" href="../../dc/d8e/a00473.html#aec1914e37aa6e639af71985d7abfb52f" title="ripple::RPC::detail\l::ErrorCategory::get" alt="" coords="847,250,983,297"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a0a7d4878b2550560a39075cb4e03881e_icgraph.png" border="0" usemap="#dc/d8c/a01297_a0a7d4878b2550560a39075cb4e03881e_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a0a7d4878b2550560a39075cb4e03881e_icgraph" id="dc/d8c/a01297_a0a7d4878b2550560a39075cb4e03881e_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,109,324,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,39,515,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,109,523,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,179,511,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,5,751,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,74,756,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,5,991,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,179,703,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,152,924,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,205,953,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a14f4ae72b3a94a0cddd2bc5d5edd3db5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doUnlNetwork </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d35/a03295_source.html#l00024">24</a> of file <a class="el" href="../../d7/d35/a03295_source.html">UnlNetwork.cpp</a>.</p>

<p>References <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2">ripple::Application::getUNL()</a>, and <a class="el" href="../../d0/d78/a01745.html#a96054683a1d3b785f9cba812b05da83e">ripple::UniqueNodeList::nodeNetwork()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;{</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2">getUNL</a> ().<a class="code" href="../../d0/d78/a01745.html#a96054683a1d3b785f9cba812b05da83e">nodeNetwork</a> ();</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;fetching&quot;</span>;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a14f4ae72b3a94a0cddd2bc5d5edd3db5_cgraph.png" border="0" usemap="#dc/d8c/a01297_a14f4ae72b3a94a0cddd2bc5d5edd3db5_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a14f4ae72b3a94a0cddd2bc5d5edd3db5_cgraph" id="dc/d8c/a01297_a14f4ae72b3a94a0cddd2bc5d5edd3db5_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="216,13,317,43"/><area shape="rect" id="node7" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2" title="ripple::Application\l::getUNL" alt="" coords="204,66,329,113"/><area shape="rect" id="node9" href="../../d0/d78/a01745.html#a96054683a1d3b785f9cba812b05da83e" title="ripple::UniqueNodeList\l::nodeNetwork" alt="" coords="189,135,344,182"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="393,5,569,51"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a14f4ae72b3a94a0cddd2bc5d5edd3db5_icgraph.png" border="0" usemap="#dc/d8c/a01297_a14f4ae72b3a94a0cddd2bc5d5edd3db5_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a14f4ae72b3a94a0cddd2bc5d5edd3db5_icgraph" id="dc/d8c/a01297_a14f4ae72b3a94a0cddd2bc5d5edd3db5_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,109,324,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,39,515,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,109,523,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,179,511,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,5,751,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,74,756,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,5,991,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,179,703,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,152,924,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,205,953,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a120e909da5c69d13d91e49e8e10ed392"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doUnlReset </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d2/d76/a03296_source.html#l00023">23</a> of file <a class="el" href="../../d2/d76/a03296_source.html">UnlReset.cpp</a>.</p>

<p>References <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2">ripple::Application::getUNL()</a>, and <a class="el" href="../../d0/d78/a01745.html#a8444b3d1c48b360f9cf05b7425e19bec">ripple::UniqueNodeList::nodeReset()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2">getUNL</a> ().<a class="code" href="../../d0/d78/a01745.html#a8444b3d1c48b360f9cf05b7425e19bec">nodeReset</a> ();</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;removing nodes&quot;</span>;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a120e909da5c69d13d91e49e8e10ed392_cgraph.png" border="0" usemap="#dc/d8c/a01297_a120e909da5c69d13d91e49e8e10ed392_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a120e909da5c69d13d91e49e8e10ed392_cgraph" id="dc/d8c/a01297_a120e909da5c69d13d91e49e8e10ed392_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="216,13,317,43"/><area shape="rect" id="node7" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2" title="ripple::Application\l::getUNL" alt="" coords="204,66,329,113"/><area shape="rect" id="node9" href="../../d0/d78/a01745.html#a8444b3d1c48b360f9cf05b7425e19bec" title="ripple::UniqueNodeList\l::nodeReset" alt="" coords="189,135,344,182"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="393,5,569,51"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a120e909da5c69d13d91e49e8e10ed392_icgraph.png" border="0" usemap="#dc/d8c/a01297_a120e909da5c69d13d91e49e8e10ed392_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a120e909da5c69d13d91e49e8e10ed392_icgraph" id="dc/d8c/a01297_a120e909da5c69d13d91e49e8e10ed392_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,109,324,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,39,515,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,109,523,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,179,511,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,5,751,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,74,756,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,5,991,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,179,703,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,152,924,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,205,953,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a521e2a7449888402f8b4ef24b0a4b9d0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doUnlScore </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../da/d0a/a03297_source.html#l00024">24</a> of file <a class="el" href="../../da/d0a/a03297_source.html">UnlScore.cpp</a>.</p>

<p>References <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2">ripple::Application::getUNL()</a>, and <a class="el" href="../../d0/d78/a01745.html#ac234e78042705ccfc4c65fe5327712cc">ripple::UniqueNodeList::nodeScore()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;{</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2">getUNL</a> ().<a class="code" href="../../d0/d78/a01745.html#ac234e78042705ccfc4c65fe5327712cc">nodeScore</a> ();</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordflow">return</span> <span class="stringliteral">&quot;scoring requested&quot;</span>;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a521e2a7449888402f8b4ef24b0a4b9d0_cgraph.png" border="0" usemap="#dc/d8c/a01297_a521e2a7449888402f8b4ef24b0a4b9d0_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a521e2a7449888402f8b4ef24b0a4b9d0_cgraph" id="dc/d8c/a01297_a521e2a7449888402f8b4ef24b0a4b9d0_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="216,13,317,43"/><area shape="rect" id="node7" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2" title="ripple::Application\l::getUNL" alt="" coords="204,66,329,113"/><area shape="rect" id="node9" href="../../d0/d78/a01745.html#ac234e78042705ccfc4c65fe5327712cc" title="ripple::UniqueNodeList\l::nodeScore" alt="" coords="189,135,344,182"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="393,5,569,51"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a521e2a7449888402f8b4ef24b0a4b9d0_icgraph.png" border="0" usemap="#dc/d8c/a01297_a521e2a7449888402f8b4ef24b0a4b9d0_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a521e2a7449888402f8b4ef24b0a4b9d0_icgraph" id="dc/d8c/a01297_a521e2a7449888402f8b4ef24b0a4b9d0_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,109,324,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,39,515,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,109,523,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,179,511,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,5,751,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,74,756,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,5,991,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,179,703,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,152,924,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,205,953,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aaa6f604e5f4c8324ee9ca4a5c03d0fcc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doUnsubscribe </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d6/d90/a03298_source.html#l00024">24</a> of file <a class="el" href="../../d6/d90/a03298_source.html">Unsubscribe.cpp</a>.</p>

<p>References <a class="el" href="../../d8/dd4/a03195_source.html#l00068">ACCOUNT_ONE</a>, <a class="el" href="../../d2/db9/a01926_source.html#l00263">ripple::Config::ADMIN</a>, <a class="el" href="../../da/d23/a02452_source.html#l00929">Json::Value::asBool()</a>, <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../da/dd3/a03198_source.html#l00052">ripple::STAmount::currencyFromString()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01608">Json::Value::end()</a>, <a class="el" href="../../d5/dd0/a01438.html#ae81c1e618f3e4c666628a05ffdfe1b3d">ripple::InfoSub::Source::findRpcSub()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01515">Json::Value::isObject()</a>, <a class="el" href="../../da/dd3/a03198_source.html#l00026">ripple::STAmount::issuerFromString()</a>, <a class="el" href="../../d8/d4b/a03093_source.html#l00030">ripple::lsINFO</a>, <a class="el" href="../../de/dec/a03020_source.html#l00137">mInfoSub</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, <a class="el" href="../../de/dec/a03020_source.html#l00140">mRole</a>, <a class="el" href="../../d0/d75/a03105_source.html#l00047">nothing</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../db/d69/a03320_source.html#l00025">ripple::RPC::parseAccountIds()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00083">ripple::rpcBAD_MARKET</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00090">ripple::rpcDST_ISR_MALFORMED</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00072">ripple::rpcINVALID_PARAMS</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00044">ripple::rpcNO_PERMISSION</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00106">ripple::rpcSRC_CUR_MALFORMED</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00107">ripple::rpcSRC_ISR_MALFORMED</a>, <a class="el" href="../../d5/dd0/a01438.html#a99e144c4b1b599d4e614bccbb3a36269">ripple::InfoSub::Source::unsubAccount()</a>, <a class="el" href="../../d5/dd0/a01438.html#af01b308d0d3054db7f0dd1e2c353393a">ripple::InfoSub::Source::unsubBook()</a>, <a class="el" href="../../d5/dd0/a01438.html#a9aa6655862d29312e9118e8d38440f58">ripple::InfoSub::Source::unsubLedger()</a>, <a class="el" href="../../d5/dd0/a01438.html#af6f77c7a7761162ed5eca6d86ac75122">ripple::InfoSub::Source::unsubRTTransactions()</a>, <a class="el" href="../../d5/dd0/a01438.html#a51c46af5b8a7b1e511cb787a27163c59">ripple::InfoSub::Source::unsubServer()</a>, <a class="el" href="../../d5/dd0/a01438.html#ab5cc6f426d78792f74907946bba3fcca">ripple::InfoSub::Source::unsubTransactions()</a>, and <a class="el" href="../../dc/dc0/a03087_source.html#l00075">WriteLog</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;{</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;    <a class="code" href="../../d4/deb/a00710.html#a15ba6fd94d60310cdf80362345b5d07b">InfoSub::pointer</a> ispSub;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvResult (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../dc/d8c/a01297.html#af11ecf1530620e83636a8868f1403eec">mInfoSub</a> &amp;&amp; !params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;url&quot;</span>))</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    {</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;        <span class="comment">// Must be a JSON-RPC call.</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    }</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;url&quot;</span>))</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    {</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../dc/d8c/a01297.html#abe574a57210c4043aa67f62a77db6e5a">mRole</a> != <a class="code" href="../../d3/db8/a00316.html#a459f32c779b04342b4811b1a898a156eabfd6bd9f2deb401e760dbafe42c80107">Config::ADMIN</a>)</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;            <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932af84f0f070938fb2e6bfc21dd28e98c5c">rpcNO_PERMISSION</a>);</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        std::string strUrl  = params[<span class="stringliteral">&quot;url&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ();</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        ispSub  = <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../d5/dd0/a01438.html#ae81c1e618f3e4c666628a05ffdfe1b3d">findRpcSub</a> (strUrl);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;        <span class="keywordflow">if</span> (!ispSub)</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;            <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    }</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    {</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        ispSub  = <a class="code" href="../../dc/d8c/a01297.html#af11ecf1530620e83636a8868f1403eec">mInfoSub</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;streams&quot;</span>))</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    {</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d4b/a01786.html" title="Iterator for object and array value. ">Json::Value::iterator</a> it = params[<span class="stringliteral">&quot;streams&quot;</span>].begin (); it != params[<span class="stringliteral">&quot;streams&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a596da1926b2f2a4056bff2edb713eb0b">end</a> (); it++)</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        {</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            <span class="keywordflow">if</span> ((*it).isString ())</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;            {</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;                std::string streamName = (*it).asString ();</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;                <span class="keywordflow">if</span> (streamName == <span class="stringliteral">&quot;server&quot;</span>)</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;                {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;                    <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../d5/dd0/a01438.html#a51c46af5b8a7b1e511cb787a27163c59">unsubServer</a> (ispSub-&gt;getSeq ());</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;                }</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (streamName == <span class="stringliteral">&quot;ledger&quot;</span>)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;                {</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;                    <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../d5/dd0/a01438.html#a9aa6655862d29312e9118e8d38440f58">unsubLedger</a> (ispSub-&gt;getSeq ());</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;                }</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (streamName == <span class="stringliteral">&quot;transactions&quot;</span>)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;                {</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;                    <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../d5/dd0/a01438.html#ab5cc6f426d78792f74907946bba3fcca">unsubTransactions</a> (ispSub-&gt;getSeq ());</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;                }</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (streamName == <span class="stringliteral">&quot;transactions_proposed&quot;</span></div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;                         || streamName == <span class="stringliteral">&quot;rt_transactions&quot;</span>)         <span class="comment">// DEPRECATED</span></div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;                {</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;                    <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../d5/dd0/a01438.html#af6f77c7a7761162ed5eca6d86ac75122">unsubRTTransactions</a> (ispSub-&gt;getSeq ());</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;                }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;                {</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;                    jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = str (boost::format (<span class="stringliteral">&quot;Unknown stream: %s&quot;</span>) % streamName);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                }</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;            }</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;            {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;                jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;malformedSteam&quot;</span>;</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;            }</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        }</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;accounts_proposed&quot;</span>) || params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;rt_accounts&quot;</span>))</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    {</div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;        boost::unordered_set&lt;RippleAddress&gt; usnaAccoundIds  = <a class="code" href="../../d2/d9b/a03429.html#abce7686cc3167cc4dc87eecd26d4232b">RPC::parseAccountIds</a> (</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;                    params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;accounts_proposed&quot;</span>)</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;                    ? params[<span class="stringliteral">&quot;accounts_proposed&quot;</span>]</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;                    : params[<span class="stringliteral">&quot;rt_accounts&quot;</span>]);                    <span class="comment">// DEPRECATED</span></div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;        <span class="keywordflow">if</span> (usnaAccoundIds.empty ())</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;        {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;            jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;malformedAccount&quot;</span>;</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;        }</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;        {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;            <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../d5/dd0/a01438.html#a99e144c4b1b599d4e614bccbb3a36269">unsubAccount</a> (ispSub-&gt;getSeq (), usnaAccoundIds, <span class="keyword">true</span>);</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;        }</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;    }</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <span class="keywordflow">if</span> (params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;accounts&quot;</span>))</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    {</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;        boost::unordered_set&lt;RippleAddress&gt; usnaAccoundIds  = <a class="code" href="../../d2/d9b/a03429.html#abce7686cc3167cc4dc87eecd26d4232b">RPC::parseAccountIds</a> (params[<span class="stringliteral">&quot;accounts&quot;</span>]);</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">if</span> (usnaAccoundIds.empty ())</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;        {</div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            jvResult[<span class="stringliteral">&quot;error&quot;</span>]   = <span class="stringliteral">&quot;malformedAccount&quot;</span>;</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;        }</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;        {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;            <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../d5/dd0/a01438.html#a99e144c4b1b599d4e614bccbb3a36269">unsubAccount</a> (ispSub-&gt;getSeq (), usnaAccoundIds, <span class="keyword">false</span>);</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        }</div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;    }</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;books&quot;</span>))</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;    {</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;        <a class="code" href="../../d0/d75/a03105.html#afc5c6ba8fe8a6402e1f14c610c2bf146">nothing</a> ();</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;    }</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!params[<span class="stringliteral">&quot;books&quot;</span>].isArray ())</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;    {</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    }</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;    {</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;        <span class="keywordflow">for</span> (<a class="code" href="../../db/d4b/a01786.html" title="Iterator for object and array value. ">Json::Value::iterator</a> it = params[<span class="stringliteral">&quot;books&quot;</span>].begin (); it != params[<span class="stringliteral">&quot;books&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a596da1926b2f2a4056bff2edb713eb0b">end</a> (); it++)</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;        {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>&amp;    jvSubRequest    = *it;</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;            <span class="keywordflow">if</span> (!jvSubRequest.<a class="code" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92">isObject</a> ()</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                    || !jvSubRequest.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;taker_pays&quot;</span>)</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                    || !jvSubRequest.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;taker_gets&quot;</span>)</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                    || !jvSubRequest[<span class="stringliteral">&quot;taker_pays&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92">isObject</a> ()</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                    || !jvSubRequest[<span class="stringliteral">&quot;taker_gets&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92">isObject</a> ())</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a82ddebc5ec7a37ff38892487277bf9c4">rpcINVALID_PARAMS</a>);</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;            uint160         pay_currency;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;            uint160         pay_issuer;</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;            uint160         get_currency;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;            uint160         get_issuer;</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;            <span class="keywordtype">bool</span>            bBoth           = (jvSubRequest.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;both&quot;</span>) &amp;&amp; jvSubRequest[<span class="stringliteral">&quot;both&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ())</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;                                              || (jvSubRequest.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;both_sides&quot;</span>) &amp;&amp; jvSubRequest[<span class="stringliteral">&quot;both_sides&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940">asBool</a> ());  <span class="comment">// DEPRECATED</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;            <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>     taker_pays     = jvSubRequest[<span class="stringliteral">&quot;taker_pays&quot;</span>];</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;            <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>     taker_gets     = jvSubRequest[<span class="stringliteral">&quot;taker_gets&quot;</span>];</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;            <span class="comment">// Parse mandatory currency.</span></div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;            <span class="keywordflow">if</span> (!taker_pays.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;currency&quot;</span>)</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;                    || !<a class="code" href="../../d2/d41/a01493.html#a853bdaa68ca8aa5239041e7d9d26aa48">STAmount::currencyFromString</a> (pay_currency, taker_pays[<span class="stringliteral">&quot;currency&quot;</span>].asString ()))</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;            {</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;                <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;Bad taker_pays currency.&quot;</span>;</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932ad23b4971210983fe07f7225143e02225">rpcSRC_CUR_MALFORMED</a>);</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;            }</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;            <span class="comment">// Parse optional issuer.</span></div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((taker_pays.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;issuer&quot;</span>))</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;                      &amp;&amp; (!taker_pays[<span class="stringliteral">&quot;issuer&quot;</span>].isString ()</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;                          || !<a class="code" href="../../d2/d41/a01493.html#a41a925f05a7bb7c9aae2108f133c47f4">STAmount::issuerFromString</a> (pay_issuer, taker_pays[<span class="stringliteral">&quot;issuer&quot;</span>].asString ())))</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;                     <span class="comment">// Don&#39;t allow illegal issuers.</span></div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;                     || (!pay_currency != !pay_issuer)</div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;                     || <a class="code" href="../../d8/dd4/a03195.html#ad55eb3b0f8711599b73d311ac52eced0">ACCOUNT_ONE</a> == pay_issuer)</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;            {</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;                <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;Bad taker_pays issuer.&quot;</span>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a9e0f3e460ea9530eb29736e0cd9b4304">rpcSRC_ISR_MALFORMED</a>);</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;            }</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;            <span class="comment">// Parse mandatory currency.</span></div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;            <span class="keywordflow">if</span> (!taker_gets.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;currency&quot;</span>)</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;                    || !<a class="code" href="../../d2/d41/a01493.html#a853bdaa68ca8aa5239041e7d9d26aa48">STAmount::currencyFromString</a> (get_currency, taker_gets[<span class="stringliteral">&quot;currency&quot;</span>].asString ()))</div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;            {</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;                <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;Bad taker_pays currency.&quot;</span>;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932ad23b4971210983fe07f7225143e02225">rpcSRC_CUR_MALFORMED</a>);</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;            }</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;            <span class="comment">// Parse optional issuer.</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (((taker_gets.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;issuer&quot;</span>))</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;                      &amp;&amp; (!taker_gets[<span class="stringliteral">&quot;issuer&quot;</span>].isString ()</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;                          || !<a class="code" href="../../d2/d41/a01493.html#a41a925f05a7bb7c9aae2108f133c47f4">STAmount::issuerFromString</a> (get_issuer, taker_gets[<span class="stringliteral">&quot;issuer&quot;</span>].asString ())))</div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;                     <span class="comment">// Don&#39;t allow illegal issuers.</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;                     || (!get_currency != !get_issuer)</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;                     || <a class="code" href="../../d8/dd4/a03195.html#ad55eb3b0f8711599b73d311ac52eced0">ACCOUNT_ONE</a> == get_issuer)</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;            {</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;                <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;Bad taker_gets issuer.&quot;</span>;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;</div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a7eec43248b5e3342fa6ff1fcf9976519">rpcDST_ISR_MALFORMED</a>);</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;            }</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="keywordflow">if</span> (pay_currency == get_currency</div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;                    &amp;&amp; pay_issuer == get_issuer)</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;            {</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;taker_gets same as taker_pays.&quot;</span>;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932a64f2f624cc4844b4907be821dccabbd9">rpcBAD_MARKET</a>);</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;            }</div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;            <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../d5/dd0/a01438.html#af01b308d0d3054db7f0dd1e2c353393a">unsubBook</a> (ispSub-&gt;getSeq (), pay_currency, get_currency, pay_issuer, get_issuer);</div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;            <span class="keywordflow">if</span> (bBoth) <a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>-&gt;<a class="code" href="../../d5/dd0/a01438.html#af01b308d0d3054db7f0dd1e2c353393a">unsubBook</a> (ispSub-&gt;getSeq (), get_currency, pay_currency, get_issuer, pay_issuer);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;        }</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    }</div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_aaa6f604e5f4c8324ee9ca4a5c03d0fcc_cgraph.png" border="0" usemap="#dc/d8c/a01297_aaa6f604e5f4c8324ee9ca4a5c03d0fcc_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_aaa6f604e5f4c8324ee9ca4a5c03d0fcc_cgraph" id="dc/d8c/a01297_aaa6f604e5f4c8324ee9ca4a5c03d0fcc_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="219,44,357,73"/><area shape="rect" id="node5" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="215,97,361,127"/><area shape="rect" id="node7" href="../../d2/d41/a01493.html#a853bdaa68ca8aa5239041e7d9d26aa48" title="ripple::STAmount::currency\lFromString" alt="" coords="197,150,379,197"/><area shape="rect" id="node24" href="../../d6/d27/a01781.html#a596da1926b2f2a4056bff2edb713eb0b" title="Json::Value::end" alt="" coords="448,355,568,384"/><area shape="rect" id="node26" href="../../d5/dd0/a01438.html#ae81c1e618f3e4c666628a05ffdfe1b3d" title="ripple::InfoSub::Source\l::findRpcSub" alt="" coords="211,402,365,449"/><area shape="rect" id="node28" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="211,472,365,501"/><area shape="rect" id="node30" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92" title="Json::Value::isObject" alt="" coords="215,525,361,555"/><area shape="rect" id="node32" href="../../d2/d41/a01493.html#a41a925f05a7bb7c9aae2108f133c47f4" title="ripple::STAmount::issuer\lFromString" alt="" coords="205,229,371,275"/><area shape="rect" id="node57" href="../../d2/d9b/a03429.html#abce7686cc3167cc4dc87eecd26d4232b" title="ripple::RPC::parseAccountIds" alt="" coords="191,349,385,379"/><area shape="rect" id="node65" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="235,579,341,608"/><area shape="rect" id="node73" href="../../d5/dd0/a01438.html#a99e144c4b1b599d4e614bccbb3a36269" title="ripple::InfoSub::Source\l::unsubAccount" alt="" coords="211,631,365,678"/><area shape="rect" id="node75" href="../../d5/dd0/a01438.html#af01b308d0d3054db7f0dd1e2c353393a" title="ripple::InfoSub::Source\l::unsubBook" alt="" coords="211,701,365,747"/><area shape="rect" id="node77" href="../../d5/dd0/a01438.html#a9aa6655862d29312e9118e8d38440f58" title="ripple::InfoSub::Source\l::unsubLedger" alt="" coords="211,770,365,817"/><area shape="rect" id="node79" href="../../d5/dd0/a01438.html#af6f77c7a7761162ed5eca6d86ac75122" title="ripple::InfoSub::Source\l::unsubRTTransactions" alt="" coords="209,839,367,886"/><area shape="rect" id="node81" href="../../d5/dd0/a01438.html#a51c46af5b8a7b1e511cb787a27163c59" title="ripple::InfoSub::Source\l::unsubServer" alt="" coords="211,909,365,955"/><area shape="rect" id="node83" href="../../d5/dd0/a01438.html#ab5cc6f426d78792f74907946bba3fcca" title="ripple::InfoSub::Source\l::unsubTransactions" alt="" coords="211,978,365,1025"/><area shape="rect" id="node9" href="../../d7/d9a/a00152.html#a174768646f7fe8d81f4a38f5ccf9e6f5" title="ripple::base_uint::zero" alt="" coords="644,5,793,35"/><area shape="rect" id="node11" href="../../da/d61/a01350.html#af9f127e708de4849795bdab51f2a4c78" title="ripple::Serializer\l::addZeros" alt="" coords="451,146,565,193"/><area shape="rect" id="node15" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="445,67,571,114"/><area shape="rect" id="node13" href="../../da/d61/a01350.html#ac7bf5cce451c952933b2750d902d848c" title="ripple::Serializer\l::size" alt="" coords="661,162,776,209"/><area shape="rect" id="node17" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="1092,153,1239,183"/><area shape="rect" id="node21" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="644,59,793,88"/><area shape="rect" id="node19" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1299,153,1448,183"/><area shape="rect" id="node34" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="435,285,581,331"/><area shape="rect" id="node53" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="435,215,581,262"/><area shape="rect" id="node36" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="648,285,789,331"/><area shape="rect" id="node38" href="../../d9/d7d/a00150.html#a85c405829839e85edb721241fd8d4203" title="ripple::Base58::decodeWith\lCheck" alt="" coords="857,262,1039,309"/><area shape="rect" id="node40" href="../../d9/d7d/a00150.html#a0c2d621faceac43aeb30f4797f03b12c" title="ripple::Base58::decode" alt="" coords="1088,297,1243,327"/><area shape="rect" id="node51" href="../../d9/d9d/a03417.html#a4be54b895ff42f63b835266848abf9af" title="ripple::SHA256Hash" alt="" coords="1095,244,1236,273"/><area shape="rect" id="node42" href="../../d9/dec/a00090.html#ac2a3456ebd59fd80270f618c64544ac9" title="ripple::Base58::Alphabet\l::chars" alt="" coords="1292,227,1455,274"/><area shape="rect" id="node44" href="../../d7/d2f/a00258.html#a84e73d21fd76767976513f5bf1276215" title="ripple::CBigNum::getvch" alt="" coords="1291,297,1456,327"/><area shape="rect" id="node46" href="../../d7/d2f/a00258.html#a01d5357e9691e5d7743172afbc3cc85c" title="ripple::CBigNum::setuint" alt="" coords="1291,351,1456,380"/><area shape="rect" id="node48" href="../../d7/d2f/a00258.html#a80a1fa42fd2d87bedd0b3bf5180ed4ba" title="ripple::CBigNum::setulong" alt="" coords="1505,351,1679,380"/><area shape="rect" id="node55" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="663,232,775,261"/><area shape="rect" id="node59" href="../../d6/d27/a01781.html#ac12df0d6980600c5bac908ed0f64856e" title="Json::Value::begin" alt="" coords="443,477,573,507"/><area shape="rect" id="node63" href="../../d4/d0e/a01272.html#af50b71d5c97deeae31d725099782f8a4" title="ripple::RippleAddress\l::clear" alt="" coords="435,407,581,454"/><area shape="rect" id="node67" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="444,570,572,617"/><area shape="rect" id="node69" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="631,579,807,608"/><area shape="rect" id="node71" href="../../dc/d8e/a00473.html#aec1914e37aa6e639af71985d7abfb52f" title="ripple::RPC::detail\l::ErrorCategory::get" alt="" coords="880,570,1016,617"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_aaa6f604e5f4c8324ee9ca4a5c03d0fcc_icgraph.png" border="0" usemap="#dc/d8c/a01297_aaa6f604e5f4c8324ee9ca4a5c03d0fcc_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_aaa6f604e5f4c8324ee9ca4a5c03d0fcc_icgraph" id="dc/d8c/a01297_aaa6f604e5f4c8324ee9ca4a5c03d0fcc_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,109,324,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,39,515,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,109,523,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,179,511,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,5,751,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,74,756,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,5,991,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,179,703,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,152,924,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,205,953,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa8d06a22bd4b19b5ca86aaf30abf5801"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doValidationCreate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d8/de2/a03299_source.html#l00028">28</a> of file <a class="el" href="../../d8/de2/a03299_source.html">ValidationCreate.cpp</a>.</p>

<p>References <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00080">ripple::RippleAddress::createNodePublic()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00139">ripple::RippleAddress::humanNodePublic()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00786">ripple::RippleAddress::humanSeed()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00758">ripple::RippleAddress::humanSeed1751()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d8/d4b/a03093_source.html#l00029">ripple::lsDEBUG</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00085">ripple::rpcBAD_SEED</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00824">ripple::RippleAddress::setSeedGeneric()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00869">ripple::RippleAddress::setSeedRandom()</a>, and <a class="el" href="../../dc/dc0/a03087_source.html#l00075">WriteLog</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;{</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    RippleAddress   raSeed;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>     obj (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;secret&quot;</span>))</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        <a class="code" href="../../dc/dc0/a03087.html#a5308b5072b82addfc9132f3aa5d0e45f">WriteLog</a> (<a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a031699c2a2c25288caf7c5c512da58eb">lsDEBUG</a>, <a class="code" href="../../dc/d8c/a01297.html#a6921d7e540afe53cd9fe5f50dbcf7093">RPCHandler</a>) &lt;&lt; <span class="stringliteral">&quot;Creating random validation seed.&quot;</span>;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        raSeed.setSeedRandom ();                <span class="comment">// Get a random seed.</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    }</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!raSeed.setSeedGeneric (params[<span class="stringliteral">&quot;secret&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ()))</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932ad2f8f023342d32f2602688202894cabe">rpcBAD_SEED</a>);</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    }</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    obj[<span class="stringliteral">&quot;validation_public_key&quot;</span>]    = <a class="code" href="../../d4/d0e/a01272.html#aa4795e02698a9e360ea491d6072cde24">RippleAddress::createNodePublic</a> (raSeed).<a class="code" href="../../d4/d0e/a01272.html#a8c42af138548d581382a9631a7d09f4b">humanNodePublic</a> ();</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    obj[<span class="stringliteral">&quot;validation_seed&quot;</span>]          = raSeed.humanSeed ();</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    obj[<span class="stringliteral">&quot;validation_key&quot;</span>]           = raSeed.humanSeed1751 ();</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">return</span> obj;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_aa8d06a22bd4b19b5ca86aaf30abf5801_cgraph.png" border="0" usemap="#dc/d8c/a01297_aa8d06a22bd4b19b5ca86aaf30abf5801_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_aa8d06a22bd4b19b5ca86aaf30abf5801_cgraph" id="dc/d8c/a01297_aa8d06a22bd4b19b5ca86aaf30abf5801_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="200,465,347,494"/><area shape="rect" id="node5" href="../../d4/d0e/a01272.html#aa4795e02698a9e360ea491d6072cde24" title="ripple::RippleAddress\l::createNodePublic" alt="" coords="413,692,560,739"/><area shape="rect" id="node19" href="../../d4/d0e/a01272.html#a8c42af138548d581382a9631a7d09f4b" title="ripple::RippleAddress\l::humanNodePublic" alt="" coords="200,1009,347,1056"/><area shape="rect" id="node29" href="../../d4/d0e/a01272.html#a80d3fccd8d1831c82bc7070802770301" title="ripple::RippleAddress\l::humanSeed" alt="" coords="200,940,347,987"/><area shape="rect" id="node32" href="../../d4/d0e/a01272.html#a70314116ec1050a38182e7da0cf3ee8a" title="ripple::RippleAddress\l::humanSeed1751" alt="" coords="413,821,560,868"/><area shape="rect" id="node45" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="196,1079,351,1109"/><area shape="rect" id="node47" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="220,1139,327,1169"/><area shape="rect" id="node55" href="../../d4/d0e/a01272.html#afb74c70e56ff76faf4f4e703139e088f" title="ripple::RippleAddress\l::setSeedGeneric" alt="" coords="200,517,347,564"/><area shape="rect" id="node106" href="../../d4/d0e/a01272.html#aa92b4ecc2a1c3c00d986a7d042c8be72" title="ripple::RippleAddress\l::setSeedRandom" alt="" coords="413,983,560,1029"/><area shape="rect" id="node7" href="../../d4/d0e/a01272.html#a1510644a37f401fb4bbd95967f032f0c" title="ripple::RippleAddress\l::getSeed" alt="" coords="647,692,793,739"/><area shape="rect" id="node9" href="../../d4/d0e/a01272.html#a20ebd6bb6da228273b6159c3698f0b38" title="ripple::RippleAddress\l::setNodePublic" alt="" coords="647,623,793,669"/><area shape="rect" id="node11" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="884,424,1025,471"/><area shape="rect" id="node13" href="../../d9/d7d/a00150.html#a85c405829839e85edb721241fd8d4203" title="ripple::Base58::decodeWith\lCheck" alt="" coords="1092,561,1273,608"/><area shape="rect" id="node15" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="1323,827,1469,857"/><area shape="rect" id="node17" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1519,827,1668,857"/><area shape="rect" id="node21" href="../../d9/d39/a00257.html#a18a7bfe8bbf61262472b03f1dfe5c887" title="ripple::CBase58Data\l::ToString" alt="" coords="416,1052,557,1099"/><area shape="rect" id="node23" href="../../d9/d7d/a00150.html#a085fa82e1453fd6e5460a0cd960b5816" title="ripple::Base58::encodeWith\lCheck" alt="" coords="629,1244,811,1291"/><area shape="rect" id="node25" href="../../d9/d7d/a00150.html#ac6c6ad62e7ed916bfe1c652721d3fe26" title="ripple::Base58::encode" alt="" coords="877,1298,1032,1327"/><area shape="rect" id="node27" href="../../d9/d7d/a00150.html#a24f49360e730224f1d16edb1b504e32a" title="ripple::Base58::getCurrent\lAlphabet" alt="" coords="868,1228,1041,1275"/><area shape="rect" id="node35" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="657,983,783,1029"/><area shape="rect" id="node39" href="../../dc/dd9/a01268.html#a65a0ec43d7758934c0d5a7ff335d1619" title="ripple::RFC1751::getEnglish\lFromKey" alt="" coords="627,761,813,808"/><area shape="rect" id="node41" href="../../dc/dd9/a01268.html#ab7d7c0e301a30ccede70ef60eb20400b" title="ripple::RFC1751::btoe" alt="" coords="880,735,1029,765"/><area shape="rect" id="node43" href="../../dc/dd9/a01268.html#a019d99f62059116ae0d6ee9d0097dfb4" title="ripple::RFC1751::extract" alt="" coords="1100,701,1265,730"/><area shape="rect" id="node49" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="423,1144,551,1191"/><area shape="rect" id="node51" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="632,1329,808,1358"/><area shape="rect" id="node53" href="../../dc/d8e/a00473.html#aec1914e37aa6e639af71985d7abfb52f" title="ripple::RPC::detail\l::ErrorCategory::get" alt="" coords="887,1351,1023,1397"/><area shape="rect" id="node57" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="413,240,560,287"/><area shape="rect" id="node60" href="../../d4/d0e/a01272.html#a6fccb99136b7c4e3f0d0d1ec404392a0" title="ripple::RippleAddress\l::setAccountPublic" alt="" coords="413,309,560,356"/><area shape="rect" id="node63" href="../../d4/d0e/a01272.html#a973406a0a660a3085f291033099db6d4" title="ripple::RippleAddress\l::setAccountPrivate" alt="" coords="413,379,560,425"/><area shape="rect" id="node67" href="../../d4/d0e/a01272.html#a1c5ba09193abc3fe85e179665eba0313" title="ripple::RippleAddress\l::setNodePrivate" alt="" coords="413,448,560,495"/><area shape="rect" id="node70" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="424,903,549,949"/><area shape="rect" id="node77" href="../../d4/d0e/a01272.html#a174148805b914cbf25bd9aeb932b8fc5" title="ripple::RippleAddress\l::setSeed" alt="" coords="647,553,793,600"/><area shape="rect" id="node80" href="../../d4/d0e/a01272.html#a084f091b0572c3bd9362738527855ca4" title="ripple::RippleAddress\l::setSeed1751" alt="" coords="413,517,560,564"/><area shape="rect" id="node88" href="../../dc/d5d/a00278.html#afa42bb14eac814058795117def5189f7" title="ripple::CKey::PassPhrase\lToKey" alt="" coords="400,143,573,189"/><area shape="rect" id="node73" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="645,1053,795,1082"/><area shape="rect" id="node75" href="../../d7/d9a/a00152.html#a174768646f7fe8d81f4a38f5ccf9e6f5" title="ripple::base_uint::zero" alt="" coords="1108,879,1257,909"/><area shape="rect" id="node82" href="../../dc/dd9/a01268.html#aa8cb14efe712e16736e80e27af0b7afa" title="ripple::RFC1751::getKeyFrom\lEnglish" alt="" coords="623,484,817,531"/><area shape="rect" id="node84" href="../../dc/dd9/a01268.html#a10c179bdbdd950867927eca2d9d455cf" title="ripple::RFC1751::etob" alt="" coords="880,494,1029,523"/><area shape="rect" id="node90" href="../../da/d61/a01350.html#a8d8774ca938809be8323d3957a62af90" title="ripple::Serializer\l::addRaw" alt="" coords="663,212,777,259"/><area shape="rect" id="node92" href="../../da/d61/a01350.html#afc7187fd3c9e185d29a0ecf5500d0cdf" title="ripple::Serializer\l::getSHA512Half" alt="" coords="660,73,780,120"/><area shape="rect" id="node96" href="../../de/daf/a01736.html#a4d95a1151b8cb55d55695b440235ee6b" title="ripple::uint128::low128" alt="" coords="644,21,796,50"/><area shape="rect" id="node102" href="../../da/d61/a01350.html#a481c97f830afdc190d114238e4177edd" title="ripple::Serializer\l::secureErase" alt="" coords="663,143,777,189"/><area shape="rect" id="node94" href="../../da/d61/a01350.html#ac7bf5cce451c952933b2750d902d848c" title="ripple::Serializer\l::size" alt="" coords="897,100,1012,147"/><area shape="rect" id="node99" href="../../de/daf/a01736.html#afd16c55d68ba67fdafb76fc13501006b" title="ripple::uint128::uint128" alt="" coords="879,47,1031,77"/><area shape="rect" id="node104" href="../../da/d61/a01350.html#a0b9f56cab2021e47d45e4cd287f4b425" title="ripple::Serializer\l::erase" alt="" coords="897,169,1012,216"/><area shape="rect" id="node108" href="../../d2/dd2/a01164.html#a0a835a6ab5768fd8c44604d4c36635ed" title="ripple::RandomNumbers\l::getInstance" alt="" coords="639,1105,801,1152"/><area shape="rect" id="node110" href="../../d2/dd2/a01164.html#aa850480b1ab9508d2c3c8e538c08ccff" title="ripple::RandomNumbers\l::fillBytes" alt="" coords="639,1175,801,1221"/><area shape="rect" id="node112" href="../../d2/dd2/a01164.html#a162c778337290bbe8f22cf070c9ded7c" title="ripple::RandomNumbers\l::initialize" alt="" coords="873,1159,1036,1205"/><area shape="rect" id="node114" href="../../d2/dd2/a01164.html#a029c0ab7c7aafe291d17de9541211116" title="ripple::RandomNumbers\l::platformAddEntropy" alt="" coords="1101,1159,1264,1205"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_aa8d06a22bd4b19b5ca86aaf30abf5801_icgraph.png" border="0" usemap="#dc/d8c/a01297_aa8d06a22bd4b19b5ca86aaf30abf5801_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_aa8d06a22bd4b19b5ca86aaf30abf5801_icgraph" id="dc/d8c/a01297_aa8d06a22bd4b19b5ca86aaf30abf5801_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="196,109,329,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="387,39,520,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="379,109,528,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="391,179,516,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="583,5,756,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="577,74,761,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="812,5,996,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1047,5,1231,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="631,179,708,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="879,152,929,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="849,205,959,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a70dce7b77ab9226d7e9619868b158463"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doValidationSeed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/d7c/a03300_source.html#l00026">26</a> of file <a class="el" href="../../d0/d7c/a03300_source.html">ValidationSeed.cpp</a>.</p>

<p>References <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00032">ripple::RippleAddress::clear()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00199">ripple::RippleAddress::createNodePrivate()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00080">ripple::RippleAddress::createNodePublic()</a>, <a class="el" href="../../d0/dc2/a02477_source.html#l00647">ripple::getConfig()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00139">ripple::RippleAddress::humanNodePublic()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00786">ripple::RippleAddress::humanSeed()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00758">ripple::RippleAddress::humanSeed1751()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00085">ripple::rpcBAD_SEED</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d2/db9/a01926_source.html#l00448">ripple::Config::VALIDATION_PRIV</a>, <a class="el" href="../../d2/db9/a01926_source.html#l00448">ripple::Config::VALIDATION_PUB</a>, and <a class="el" href="../../d2/db9/a01926_source.html#l00448">ripple::Config::VALIDATION_SEED</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;{</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> obj (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;secret&quot;</span>))</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        Log::out() &lt;&lt; <span class="stringliteral">&quot;Unset validation seed.&quot;</span>;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().<a class="code" href="../../d3/db8/a00316.html#a8b6f75bf85c0b017c0d70b08236fccad">VALIDATION_SEED</a>.<a class="code" href="../../d4/d0e/a01272.html#af50b71d5c97deeae31d725099782f8a4">clear</a> ();</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().<a class="code" href="../../d3/db8/a00316.html#a3ce32f544e45d63b19a6a104d9216b53">VALIDATION_PUB</a>.<a class="code" href="../../d4/d0e/a01272.html#af50b71d5c97deeae31d725099782f8a4">clear</a> ();</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().<a class="code" href="../../d3/db8/a00316.html#aa178e72cdab9b76a2105a2ba47ae44ec">VALIDATION_PRIV</a>.<a class="code" href="../../d4/d0e/a01272.html#af50b71d5c97deeae31d725099782f8a4">clear</a> ();</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;    }</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().VALIDATION_SEED.setSeedGeneric (params[<span class="stringliteral">&quot;secret&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ()))</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().<a class="code" href="../../d3/db8/a00316.html#a3ce32f544e45d63b19a6a104d9216b53">VALIDATION_PUB</a>.<a class="code" href="../../d4/d0e/a01272.html#af50b71d5c97deeae31d725099782f8a4">clear</a> ();</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().<a class="code" href="../../d3/db8/a00316.html#aa178e72cdab9b76a2105a2ba47ae44ec">VALIDATION_PRIV</a>.<a class="code" href="../../d4/d0e/a01272.html#af50b71d5c97deeae31d725099782f8a4">clear</a> ();</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932ad2f8f023342d32f2602688202894cabe">rpcBAD_SEED</a>);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    }</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().<a class="code" href="../../d3/db8/a00316.html#a3ce32f544e45d63b19a6a104d9216b53">VALIDATION_PUB</a> = <a class="code" href="../../d4/d0e/a01272.html#aa4795e02698a9e360ea491d6072cde24">RippleAddress::createNodePublic</a> (<a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().VALIDATION_SEED);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().<a class="code" href="../../d3/db8/a00316.html#aa178e72cdab9b76a2105a2ba47ae44ec">VALIDATION_PRIV</a> = <a class="code" href="../../d4/d0e/a01272.html#a520a6137eae4ab0a4c6efb6f4858df22">RippleAddress::createNodePrivate</a> (<a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().VALIDATION_SEED);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        obj[<span class="stringliteral">&quot;validation_public_key&quot;</span>]    = <a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().<a class="code" href="../../d3/db8/a00316.html#a3ce32f544e45d63b19a6a104d9216b53">VALIDATION_PUB</a>.<a class="code" href="../../d4/d0e/a01272.html#a8c42af138548d581382a9631a7d09f4b">humanNodePublic</a> ();</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        obj[<span class="stringliteral">&quot;validation_seed&quot;</span>]          = <a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().<a class="code" href="../../d3/db8/a00316.html#a8b6f75bf85c0b017c0d70b08236fccad">VALIDATION_SEED</a>.<a class="code" href="../../d4/d0e/a01272.html#a80d3fccd8d1831c82bc7070802770301">humanSeed</a> ();</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        obj[<span class="stringliteral">&quot;validation_key&quot;</span>]           = <a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().<a class="code" href="../../d3/db8/a00316.html#a8b6f75bf85c0b017c0d70b08236fccad">VALIDATION_SEED</a>.<a class="code" href="../../d4/d0e/a01272.html#a70314116ec1050a38182e7da0cf3ee8a">humanSeed1751</a> ();</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    }</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    <span class="keywordflow">return</span> obj;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a70dce7b77ab9226d7e9619868b158463_cgraph.png" border="0" usemap="#dc/d8c/a01297_a70dce7b77ab9226d7e9619868b158463_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a70dce7b77ab9226d7e9619868b158463_cgraph" id="dc/d8c/a01297_a70dce7b77ab9226d7e9619868b158463_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="195,45,341,75"/><area shape="rect" id="node5" href="../../d4/d0e/a01272.html#af50b71d5c97deeae31d725099782f8a4" title="ripple::RippleAddress\l::clear" alt="" coords="195,98,341,145"/><area shape="rect" id="node7" href="../../d4/d0e/a01272.html#a520a6137eae4ab0a4c6efb6f4858df22" title="ripple::RippleAddress\l::createNodePrivate" alt="" coords="395,101,541,147"/><area shape="rect" id="node42" href="../../d4/d0e/a01272.html#aa4795e02698a9e360ea491d6072cde24" title="ripple::RippleAddress\l::createNodePublic" alt="" coords="395,205,541,251"/><area shape="rect" id="node48" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d" title="ripple::getConfig" alt="" coords="209,269,327,299"/><area shape="rect" id="node50" href="../../d4/d0e/a01272.html#a8c42af138548d581382a9631a7d09f4b" title="ripple::RippleAddress\l::humanNodePublic" alt="" coords="195,442,341,489"/><area shape="rect" id="node70" href="../../d4/d0e/a01272.html#a80d3fccd8d1831c82bc7070802770301" title="ripple::RippleAddress\l::humanSeed" alt="" coords="195,373,341,419"/><area shape="rect" id="node73" href="../../d4/d0e/a01272.html#a70314116ec1050a38182e7da0cf3ee8a" title="ripple::RippleAddress\l::humanSeed1751" alt="" coords="395,313,541,359"/><area shape="rect" id="node84" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="191,512,345,541"/><area shape="rect" id="node86" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="215,567,321,596"/><area shape="rect" id="node9" href="../../d4/d0e/a01272.html#a1510644a37f401fb4bbd95967f032f0c" title="ripple::RippleAddress\l::getSeed" alt="" coords="615,205,761,251"/><area shape="rect" id="node11" href="../../dc/d5d/a00278.html#afb6d00736cec76afe266945382dfc3f1" title="ripple::CKey::GetPrivateKeyU" alt="" coords="589,13,787,43"/><area shape="rect" id="node21" href="../../d4/d0e/a01272.html#a1c5ba09193abc3fe85e179665eba0313" title="ripple::RippleAddress\l::setNodePrivate" alt="" coords="615,66,761,113"/><area shape="rect" id="node13" href="../../d7/d9a/a00152.html#a174768646f7fe8d81f4a38f5ccf9e6f5" title="ripple::base_uint::zero" alt="" coords="848,5,997,35"/><area shape="rect" id="node15" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="1311,381,1436,427"/><area shape="rect" id="node19" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="848,59,997,88"/><area shape="rect" id="node17" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1512,332,1661,361"/><area shape="rect" id="node23" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="852,183,993,230"/><area shape="rect" id="node25" href="../../d9/d7d/a00150.html#a85c405829839e85edb721241fd8d4203" title="ripple::Base58::decodeWith\lCheck" alt="" coords="1060,109,1241,155"/><area shape="rect" id="node27" href="../../d9/d7d/a00150.html#a0c2d621faceac43aeb30f4797f03b12c" title="ripple::Base58::decode" alt="" coords="1296,117,1451,147"/><area shape="rect" id="node37" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="1300,273,1447,303"/><area shape="rect" id="node40" href="../../d9/d9d/a03417.html#a4be54b895ff42f63b835266848abf9af" title="ripple::SHA256Hash" alt="" coords="1303,328,1444,357"/><area shape="rect" id="node29" href="../../d9/dec/a00090.html#ac2a3456ebd59fd80270f618c64544ac9" title="ripple::Base58::Alphabet\l::chars" alt="" coords="1505,47,1668,94"/><area shape="rect" id="node31" href="../../d7/d2f/a00258.html#a84e73d21fd76767976513f5bf1276215" title="ripple::CBigNum::getvch" alt="" coords="1504,117,1669,147"/><area shape="rect" id="node33" href="../../d7/d2f/a00258.html#a01d5357e9691e5d7743172afbc3cc85c" title="ripple::CBigNum::setuint" alt="" coords="1504,171,1669,200"/><area shape="rect" id="node35" href="../../d7/d2f/a00258.html#a80a1fa42fd2d87bedd0b3bf5180ed4ba" title="ripple::CBigNum::setulong" alt="" coords="1719,171,1892,200"/><area shape="rect" id="node45" href="../../d4/d0e/a01272.html#a20ebd6bb6da228273b6159c3698f0b38" title="ripple::RippleAddress\l::setNodePublic" alt="" coords="615,135,761,182"/><area shape="rect" id="node52" href="../../d9/d39/a00257.html#a18a7bfe8bbf61262472b03f1dfe5c887" title="ripple::CBase58Data\l::ToString" alt="" coords="397,442,539,489"/><area shape="rect" id="node54" href="../../d9/d7d/a00150.html#a085fa82e1453fd6e5460a0cd960b5816" title="ripple::Base58::encodeWith\lCheck" alt="" coords="597,445,779,491"/><area shape="rect" id="node56" href="../../d9/d7d/a00150.html#ac6c6ad62e7ed916bfe1c652721d3fe26" title="ripple::Base58::encode" alt="" coords="845,451,1000,480"/><area shape="rect" id="node68" href="../../d9/d7d/a00150.html#a24f49360e730224f1d16edb1b504e32a" title="ripple::Base58::getCurrent\lAlphabet" alt="" coords="836,503,1009,550"/><area shape="rect" id="node58" href="../../d0/d87/a03399.html#addb402f22cc191c3dc7f4325bb6f684e" title="beast.util.Iter.first" alt="" coords="1089,511,1212,540"/><area shape="rect" id="node60" href="../../d9/d7d/a00150.html#a03b8b4e8a39fe06fe7e3a74f76cdf664" title="ripple::Base58::fourbyte\l_hash256" alt="" coords="1071,441,1231,487"/><area shape="rect" id="node64" href="../../d9/d7d/a00150.html#a126fe41b1f663aeb5826c2f44a2d9528" title="ripple::Base58::raw\l_encode" alt="" coords="1084,563,1217,610"/><area shape="rect" id="node66" href="../../d7/d2f/a00258.html#af54502b0cc273266a8cc841100386645" title="ripple::CBigNum::getuint" alt="" coords="1291,572,1456,601"/><area shape="rect" id="node78" href="../../dc/dd9/a01268.html#a65a0ec43d7758934c0d5a7ff335d1619" title="ripple::RFC1751::getEnglish\lFromKey" alt="" coords="595,325,781,371"/><area shape="rect" id="node80" href="../../dc/dd9/a01268.html#ab7d7c0e301a30ccede70ef60eb20400b" title="ripple::RFC1751::btoe" alt="" coords="848,333,997,363"/><area shape="rect" id="node82" href="../../dc/dd9/a01268.html#a019d99f62059116ae0d6ee9d0097dfb4" title="ripple::RFC1751::extract" alt="" coords="1068,333,1233,363"/><area shape="rect" id="node88" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="404,561,532,607"/><area shape="rect" id="node90" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="600,575,776,604"/><area shape="rect" id="node92" href="../../dc/d8e/a00473.html#aec1914e37aa6e639af71985d7abfb52f" title="ripple::RPC::detail\l::ErrorCategory::get" alt="" coords="855,573,991,619"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a70dce7b77ab9226d7e9619868b158463_icgraph.png" border="0" usemap="#dc/d8c/a01297_a70dce7b77ab9226d7e9619868b158463_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a70dce7b77ab9226d7e9619868b158463_icgraph" id="dc/d8c/a01297_a70dce7b77ab9226d7e9619868b158463_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,109,324,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,39,515,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,109,523,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,179,511,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,5,751,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,74,756,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,5,991,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,179,703,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,152,924,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,205,953,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a56cd8842b63e346bdda718d81b0dcdce"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doWalletAccounts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d1/d24/a03301_source.html#l00028">28</a> of file <a class="el" href="../../d1/d24/a03301_source.html">WalletAccounts.cpp</a>.</p>

<p>References <a class="el" href="../../dd/d7a/a03306_source.html#l00025">ripple::RPC::accounts()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00729">ripple::RippleAddress::createGeneratorPublic()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01066">Json::Value::empty()</a>, <a class="el" href="../../d8/dde/a03313_source.html#l00028">ripple::RPC::getMasterGenerator()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d0/d7c/a03318_source.html#l00043">ripple::RPC::lookupLedger()</a>, <a class="el" href="../../de/dec/a03020_source.html#l00136">mNetOps</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00085">ripple::rpcBAD_SEED</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, and <a class="el" href="../../d2/d23/a03186_source.html#l00824">ripple::RippleAddress::setSeedGeneric()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;{</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>     lpLedger;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>         jvResult    = <a class="code" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258">RPC::lookupLedger</a> (params, lpLedger, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>);</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordflow">if</span> (!lpLedger)</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        <span class="keywordflow">return</span> jvResult;</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    RippleAddress   naSeed;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;seed&quot;</span>) || !naSeed.setSeedGeneric (params[<span class="stringliteral">&quot;seed&quot;</span>].asString ()))</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932ad2f8f023342d32f2602688202894cabe">rpcBAD_SEED</a>);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;    }</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    <span class="comment">// Try the seed as a master seed.</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    RippleAddress   naMasterGenerator   = <a class="code" href="../../d4/d0e/a01272.html#af5b92338227d7e142fa7a0dd728dbc36">RippleAddress::createGeneratorPublic</a> (naSeed);</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jsonAccounts    = <a class="code" href="../../d2/d9b/a03429.html#a6a87f8268bd5d6456ca1e7a1867d8dbe">RPC::accounts</a> (lpLedger, naMasterGenerator, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>);</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    <span class="keywordflow">if</span> (jsonAccounts.<a class="code" href="../../d6/d27/a01781.html#a99c42d3ff8495dad1e91b43e66553c36" title="Return true if empty array, empty object, or null; otherwise, false. ">empty</a> ())</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;    {</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        <span class="comment">// No account via seed as master, try seed a regular.</span></div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> ret = <a class="code" href="../../d2/d9b/a03429.html#a67de042627b2d5647f421b99e7b0da20">RPC::getMasterGenerator</a> (lpLedger, naSeed, naMasterGenerator, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>);</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keywordflow">if</span> (!ret.<a class="code" href="../../d6/d27/a01781.html#a99c42d3ff8495dad1e91b43e66553c36" title="Return true if empty array, empty object, or null; otherwise, false. ">empty</a> ())</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;            <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;        ret[<span class="stringliteral">&quot;accounts&quot;</span>] = <a class="code" href="../../d2/d9b/a03429.html#a6a87f8268bd5d6456ca1e7a1867d8dbe">RPC::accounts</a> (lpLedger, naMasterGenerator, *<a class="code" href="../../dc/d8c/a01297.html#a14361b9399c54013281e70bb9ba7efe6">mNetOps</a>);</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    }</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    {</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        <span class="comment">// Had accounts via seed as master, return them.</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> ret (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        ret[<span class="stringliteral">&quot;accounts&quot;</span>] = jsonAccounts;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    }</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a56cd8842b63e346bdda718d81b0dcdce_cgraph.png" border="0" usemap="#dc/d8c/a01297_a56cd8842b63e346bdda718d81b0dcdce_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a56cd8842b63e346bdda718d81b0dcdce_cgraph" id="dc/d8c/a01297_a56cd8842b63e346bdda718d81b0dcdce_cgraph">
<area shape="rect" id="node3" href="../../d2/d9b/a03429.html#a6a87f8268bd5d6456ca1e7a1867d8dbe" title="ripple::RPC::accounts" alt="" coords="221,524,371,553"/><area shape="rect" id="node15" href="../../d4/d0e/a01272.html#af5b92338227d7e142fa7a0dd728dbc36" title="ripple::RippleAddress\l::createGeneratorPublic" alt="" coords="459,887,616,934"/><area shape="rect" id="node22" href="../../d6/d27/a01781.html#a99c42d3ff8495dad1e91b43e66553c36" title="Return true if empty array, empty object, or null; otherwise, false. " alt="" coords="229,781,363,811"/><area shape="rect" id="node31" href="../../d2/d9b/a03429.html#a67de042627b2d5647f421b99e7b0da20" title="ripple::RPC::getMasterGenerator" alt="" coords="189,1007,403,1036"/><area shape="rect" id="node44" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="484,1267,591,1296"/><area shape="rect" id="node61" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="460,1373,615,1403"/><area shape="rect" id="node63" href="../../d2/d9b/a03429.html#af3a6bc618176e419fcd4659850e35258" title="ripple::RPC::lookupLedger" alt="" coords="209,1661,383,1691"/><area shape="rect" id="node97" href="../../d4/d0e/a01272.html#afb74c70e56ff76faf4f4e703139e088f" title="ripple::RippleAddress\l::setSeedGeneric" alt="" coords="223,261,369,307"/><area shape="rect" id="node5" href="../../d4/d0e/a01272.html#a6fccb99136b7c4e3f0d0d1ec404392a0" title="ripple::RippleAddress\l::setAccountPublic" alt="" coords="464,346,611,393"/><area shape="rect" id="node9" href="../../dd/dac/a01008.html#acb121b6ee80362d6525d8760a058cdb1" title="ripple::NetworkOPs\l::getAccountState" alt="" coords="469,485,605,531"/><area shape="rect" id="node11" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. " alt="" coords="467,555,608,584"/><area shape="rect" id="node7" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="919,297,1060,343"/><area shape="rect" id="node13" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="709,729,832,759"/><area shape="rect" id="node17" href="../../d4/d0e/a01272.html#a1510644a37f401fb4bbd95967f032f0c" title="ripple::RippleAddress\l::getSeed" alt="" coords="697,846,844,893"/><area shape="rect" id="node19" href="../../d4/d0e/a01272.html#aa69f888fe19bdac32275a0637d93d6ae" title="ripple::RippleAddress\l::setGenerator" alt="" coords="697,915,844,962"/><area shape="rect" id="node24" href="../../d6/d27/a01781.html#ac8c898f93543e55b67418f94bced20af" title="Json::Value::isArray" alt="" coords="468,835,607,864"/><area shape="rect" id="node26" href="../../d6/d27/a01781.html#aeb9ad8b1bb91bdd72203dc884b3f4362" title="Json::Value::isNull" alt="" coords="472,608,603,637"/><area shape="rect" id="node28" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92" title="Json::Value::isObject" alt="" coords="464,781,611,811"/><area shape="rect" id="node35" href="../../d4/d0e/a01272.html#a973406a0a660a3085f291033099db6d4" title="ripple::RippleAddress\l::setAccountPrivate" alt="" coords="464,415,611,462"/><area shape="rect" id="node38" href="../../dd/dac/a01008.html#a25f573a5680d2b1d83865b11b28cbe12" title="ripple::NetworkOPs\l::getGenerator" alt="" coords="469,957,605,1003"/><area shape="rect" id="node40" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="464,1197,611,1243"/><area shape="rect" id="node48" href="../../d4/d0e/a01272.html#ac38496bfee913d17eeb561a20fb11eac" title="ripple::RippleAddress\l::accountPrivateDecrypt" alt="" coords="456,1127,619,1174"/><area shape="rect" id="node59" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="460,1320,615,1349"/><area shape="rect" id="node42" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="715,1245,827,1275"/><area shape="rect" id="node46" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="707,1298,835,1345"/><area shape="rect" id="node50" href="../../dc/d5d/a00278.html#ab02179a4d3ae96657fc222bd70505f91" title="ripple::CKey::SetPubKey" alt="" coords="687,1123,855,1152"/><area shape="rect" id="node52" href="../../d4/d0e/a01272.html#ae5e06999971539c90a3b6556cb3af43e" title="ripple::RippleAddress\l::getAccountPublic" alt="" coords="697,1175,844,1222"/><area shape="rect" id="node54" href="../../dc/d5d/a00278.html#a0cff62f1b43b21c1707d4e876e09f468" title="ripple::CKey::SetPrivateKeyU" alt="" coords="673,1000,868,1029"/><area shape="rect" id="node56" href="../../d4/d0e/a01272.html#a82e10e86c62e6a2b788cee0317ad6eaf" title="ripple::RippleAddress\l::getAccountPrivate" alt="" coords="697,1053,844,1099"/><area shape="rect" id="node65" href="../../d6/d27/a01781.html#aff2e3a2e9fd5db5469588ab7b501d4db" title="Json::Value::get" alt="" coords="479,1635,596,1664"/><area shape="rect" id="node70" href="../../d6/d27/a01781.html#a06c01d7c1e8151a5844b595ab00f46c7" title="Json::Value::isString" alt="" coords="467,1688,608,1717"/><area shape="rect" id="node72" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="475,661,600,707"/><area shape="rect" id="node74" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="464,1741,611,1771"/><area shape="rect" id="node76" href="../../d6/d27/a01781.html#a8ce848900e2e8fa23a41fcc2c1409fab" title="Json::Value::isNumeric" alt="" coords="459,1795,616,1824"/><area shape="rect" id="node78" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="473,1848,601,1877"/><area shape="rect" id="node80" href="../../dd/dac/a01008.html#a2797139168b2d6c069aa1f0c51bc327a" title="ripple::NetworkOPs\l::getLedgerByHash" alt="" coords="469,1901,605,1947"/><area shape="rect" id="node82" href="../../dd/dac/a01008.html#aa4a081f49bdf9ea42446691c34ceed79" title="ripple::NetworkOPs\l::getCurrentLedger" alt="" coords="469,1970,605,2017"/><area shape="rect" id="node84" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="487,2040,588,2069"/><area shape="rect" id="node86" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="475,2093,600,2139"/><area shape="rect" id="node88" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="468,2162,607,2209"/><area shape="rect" id="node90" href="../../dd/dac/a01008.html#a3b147c209d1201adb03d478f148af4a1" title="ripple::NetworkOPs\l::getValidatedLedger" alt="" coords="467,1426,608,1473"/><area shape="rect" id="node92" href="../../dd/dac/a01008.html#a7615c0320aa25da4c77d806afe9c5c0e" title="ripple::NetworkOPs\l::getLedgerBySeq" alt="" coords="469,1495,605,1542"/><area shape="rect" id="node94" href="../../d7/d9a/a00152.html#ad19bda12f3725584ac179f2e091e30d7" title="ripple::base_uint::\lToString" alt="" coords="475,1565,600,1611"/><area shape="rect" id="node99" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="697,73,844,119"/><area shape="rect" id="node104" href="../../d4/d0e/a01272.html#a20ebd6bb6da228273b6159c3698f0b38" title="ripple::RippleAddress\l::setNodePublic" alt="" coords="697,227,844,274"/><area shape="rect" id="node107" href="../../d4/d0e/a01272.html#a1c5ba09193abc3fe85e179665eba0313" title="ripple::RippleAddress\l::setNodePrivate" alt="" coords="697,297,844,343"/><area shape="rect" id="node111" href="../../d4/d0e/a01272.html#a174148805b914cbf25bd9aeb932b8fc5" title="ripple::RippleAddress\l::setSeed" alt="" coords="697,158,844,205"/><area shape="rect" id="node114" href="../../d4/d0e/a01272.html#a084f091b0572c3bd9362738527855ca4" title="ripple::RippleAddress\l::setSeed1751" alt="" coords="464,125,611,171"/><area shape="rect" id="node117" href="../../dc/d5d/a00278.html#afa42bb14eac814058795117def5189f7" title="ripple::CKey::PassPhrase\lToKey" alt="" coords="451,5,624,51"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a56cd8842b63e346bdda718d81b0dcdce_icgraph.png" border="0" usemap="#dc/d8c/a01297_a56cd8842b63e346bdda718d81b0dcdce_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a56cd8842b63e346bdda718d81b0dcdce_icgraph" id="dc/d8c/a01297_a56cd8842b63e346bdda718d81b0dcdce_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,109,324,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,39,515,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,109,523,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,179,511,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,5,751,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,74,756,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,5,991,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,179,703,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,152,924,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,205,953,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af35df95f2fb815d82afe5717e384b0bc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doWalletLock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="abdd26c4e121117c798f5a1229fe77979"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doWalletPropose </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d5/da8/a03302_source.html#l00026">26</a> of file <a class="el" href="../../d5/da8/a03302_source.html">WalletPropose.cpp</a>.</p>

<p>References <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00729">ripple::RippleAddress::createGeneratorPublic()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00393">ripple::RippleAddress::getAccountPublic()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00743">ripple::RippleAddress::getSeed()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00317">ripple::RippleAddress::humanAccountID()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00412">ripple::RippleAddress::humanAccountPublic()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00786">ripple::RippleAddress::humanSeed()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00758">ripple::RippleAddress::humanSeed1751()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00085">ripple::rpcBAD_SEED</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00430">ripple::RippleAddress::setAccountPublic()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00824">ripple::RippleAddress::setSeedGeneric()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00869">ripple::RippleAddress::setSeedRandom()</a>, <a class="el" href="../../d9/d4d/a02840_source.html#l00045">ripple::strHex()</a>, and <a class="el" href="../../dd/dfa/a02824_source.html#l00437">ripple::base_uint&lt; BITS &gt;::ToString()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;{</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    masterLockHolder.unlock ();</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    RippleAddress   naSeed;</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    RippleAddress   naAccount;</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    <span class="keywordflow">if</span> (!params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;passphrase&quot;</span>))</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;        naSeed.setSeedRandom ();</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!naSeed.setSeedGeneric (params[<span class="stringliteral">&quot;passphrase&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ()))</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a>(<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932ad2f8f023342d32f2602688202894cabe">rpcBAD_SEED</a>);</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;    RippleAddress naGenerator = <a class="code" href="../../d4/d0e/a01272.html#af5b92338227d7e142fa7a0dd728dbc36">RippleAddress::createGeneratorPublic</a> (naSeed);</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    naAccount.setAccountPublic (naGenerator, 0);</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> obj (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    obj[<span class="stringliteral">&quot;master_seed&quot;</span>]      = naSeed.humanSeed ();</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;    obj[<span class="stringliteral">&quot;master_seed_hex&quot;</span>]  = naSeed.getSeed ().ToString ();</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;    obj[<span class="stringliteral">&quot;master_key&quot;</span>]     = naSeed.humanSeed1751();</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;    obj[<span class="stringliteral">&quot;account_id&quot;</span>]       = naAccount.humanAccountID ();</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;    obj[<span class="stringliteral">&quot;public_key&quot;</span>] = naAccount.humanAccountPublic();</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;    <span class="keyword">auto</span> acct = naAccount.getAccountPublic();</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    obj[<span class="stringliteral">&quot;public_key_hex&quot;</span>] = <a class="code" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073">strHex</a>(acct.begin(), acct.size());</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;    <span class="keywordflow">return</span> obj;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_abdd26c4e121117c798f5a1229fe77979_cgraph.png" border="0" usemap="#dc/d8c/a01297_abdd26c4e121117c798f5a1229fe77979_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_abdd26c4e121117c798f5a1229fe77979_cgraph" id="dc/d8c/a01297_abdd26c4e121117c798f5a1229fe77979_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="196,5,343,35"/><area shape="rect" id="node5" href="../../d4/d0e/a01272.html#af5b92338227d7e142fa7a0dd728dbc36" title="ripple::RippleAddress\l::createGeneratorPublic" alt="" coords="191,58,348,105"/><area shape="rect" id="node7" href="../../d4/d0e/a01272.html#a1510644a37f401fb4bbd95967f032f0c" title="ripple::RippleAddress\l::getSeed" alt="" coords="417,58,564,105"/><area shape="rect" id="node19" href="../../d4/d0e/a01272.html#ae5e06999971539c90a3b6556cb3af43e" title="ripple::RippleAddress\l::getAccountPublic" alt="" coords="196,1375,343,1422"/><area shape="rect" id="node22" href="../../d4/d0e/a01272.html#a2a8201537b6969c0e186c9b1d889c52b" title="ripple::RippleAddress\l::humanAccountID" alt="" coords="196,1167,343,1214"/><area shape="rect" id="node39" href="../../d4/d0e/a01272.html#abd8b389a4530da90367f765638a23d31" title="ripple::RippleAddress\l::humanAccountPublic" alt="" coords="193,1237,345,1283"/><area shape="rect" id="node42" href="../../d4/d0e/a01272.html#a80d3fccd8d1831c82bc7070802770301" title="ripple::RippleAddress\l::humanSeed" alt="" coords="196,1306,343,1353"/><area shape="rect" id="node45" href="../../d4/d0e/a01272.html#a70314116ec1050a38182e7da0cf3ee8a" title="ripple::RippleAddress\l::humanSeed1751" alt="" coords="196,178,343,225"/><area shape="rect" id="node56" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="192,1445,347,1475"/><area shape="rect" id="node58" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="216,1499,323,1528"/><area shape="rect" id="node64" href="../../d4/d0e/a01272.html#a6fccb99136b7c4e3f0d0d1ec404392a0" title="ripple::RippleAddress\l::setAccountPublic" alt="" coords="417,247,564,294"/><area shape="rect" id="node67" href="../../d4/d0e/a01272.html#afb74c70e56ff76faf4f4e703139e088f" title="ripple::RippleAddress\l::setSeedGeneric" alt="" coords="196,555,343,602"/><area shape="rect" id="node104" href="../../d4/d0e/a01272.html#aa92b4ecc2a1c3c00d986a7d042c8be72" title="ripple::RippleAddress\l::setSeedRandom" alt="" coords="417,929,564,975"/><area shape="rect" id="node113" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073" title="ripple::strHex" alt="" coords="688,1187,787,1216"/><area shape="rect" id="node117" href="../../d7/d9a/a00152.html#ad19bda12f3725584ac179f2e091e30d7" title="ripple::base_uint::\lToString" alt="" coords="207,1047,332,1094"/><area shape="rect" id="node9" href="../../d4/d0e/a01272.html#aa69f888fe19bdac32275a0637d93d6ae" title="ripple::RippleAddress\l::setGenerator" alt="" coords="664,117,811,163"/><area shape="rect" id="node11" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="892,357,1033,403"/><area shape="rect" id="node13" href="../../d9/d7d/a00150.html#a85c405829839e85edb721241fd8d4203" title="ripple::Base58::decodeWith\lCheck" alt="" coords="1084,491,1265,538"/><area shape="rect" id="node15" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="1315,584,1461,613"/><area shape="rect" id="node17" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1511,720,1660,749"/><area shape="rect" id="node24" href="../../d4/d87/a03436.html#a6f17c6df7ce20ec52aecef2475cd4158" title="rocksdb::if" alt="" coords="449,1244,532,1273"/><area shape="rect" id="node28" href="../../d9/d39/a00257.html#a18a7bfe8bbf61262472b03f1dfe5c887" title="ripple::CBase58Data\l::ToString" alt="" coords="420,1305,561,1351"/><area shape="rect" id="node32" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="417,859,564,906"/><area shape="rect" id="node35" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="417,1170,564,1217"/><area shape="rect" id="node26" href="../../da/d71/a00814.html#ab25c6d03dbcd6168b3ae3762dc98fd51" title="rocksdb::LDBCommandExecute\lResult::FAILED" alt="" coords="632,1293,843,1339"/><area shape="rect" id="node30" href="../../d9/d7d/a00150.html#a085fa82e1453fd6e5460a0cd960b5816" title="ripple::Base58::encodeWith\lCheck" alt="" coords="647,1362,828,1409"/><area shape="rect" id="node37" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="681,1240,793,1269"/><area shape="rect" id="node48" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="675,1117,800,1163"/><area shape="rect" id="node52" href="../../dc/dd9/a01268.html#a65a0ec43d7758934c0d5a7ff335d1619" title="ripple::RFC1751::getEnglish\lFromKey" alt="" coords="397,178,584,225"/><area shape="rect" id="node54" href="../../dc/dd9/a01268.html#ab7d7c0e301a30ccede70ef60eb20400b" title="ripple::RFC1751::btoe" alt="" coords="663,187,812,216"/><area shape="rect" id="node60" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="427,1490,555,1537"/><area shape="rect" id="node62" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="649,1499,825,1528"/><area shape="rect" id="node71" href="../../d4/d0e/a01272.html#a973406a0a660a3085f291033099db6d4" title="ripple::RippleAddress\l::setAccountPrivate" alt="" coords="417,317,564,363"/><area shape="rect" id="node74" href="../../d4/d0e/a01272.html#a20ebd6bb6da228273b6159c3698f0b38" title="ripple::RippleAddress\l::setNodePublic" alt="" coords="417,386,564,433"/><area shape="rect" id="node77" href="../../d4/d0e/a01272.html#a1c5ba09193abc3fe85e179665eba0313" title="ripple::RippleAddress\l::setNodePrivate" alt="" coords="417,455,564,502"/><area shape="rect" id="node80" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="428,774,553,821"/><area shape="rect" id="node87" href="../../d4/d0e/a01272.html#a174148805b914cbf25bd9aeb932b8fc5" title="ripple::RippleAddress\l::setSeed" alt="" coords="664,511,811,558"/><area shape="rect" id="node90" href="../../d4/d0e/a01272.html#a084f091b0572c3bd9362738527855ca4" title="ripple::RippleAddress\l::setSeed1751" alt="" coords="417,525,564,571"/><area shape="rect" id="node95" href="../../dc/d5d/a00278.html#afa42bb14eac814058795117def5189f7" title="ripple::CKey::PassPhrase\lToKey" alt="" coords="404,647,577,694"/><area shape="rect" id="node83" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="663,995,812,1024"/><area shape="rect" id="node85" href="../../d7/d9a/a00152.html#a174768646f7fe8d81f4a38f5ccf9e6f5" title="ripple::base_uint::zero" alt="" coords="663,771,812,800"/><area shape="rect" id="node92" href="../../dc/dd9/a01268.html#aa8cb14efe712e16736e80e27af0b7afa" title="ripple::RFC1751::getKeyFrom\lEnglish" alt="" coords="640,442,835,489"/><area shape="rect" id="node97" href="../../da/d61/a01350.html#a8d8774ca938809be8323d3957a62af90" title="ripple::Serializer\l::addRaw" alt="" coords="680,581,795,627"/><area shape="rect" id="node99" href="../../da/d61/a01350.html#afc7187fd3c9e185d29a0ecf5500d0cdf" title="ripple::Serializer\l::getSHA512Half" alt="" coords="677,650,797,697"/><area shape="rect" id="node101" href="../../de/daf/a01736.html#a4d95a1151b8cb55d55695b440235ee6b" title="ripple::uint128::low128" alt="" coords="1099,720,1251,749"/><area shape="rect" id="node106" href="../../d2/dd2/a01164.html#a0a835a6ab5768fd8c44604d4c36635ed" title="ripple::RandomNumbers\l::getInstance" alt="" coords="656,925,819,971"/><area shape="rect" id="node108" href="../../d2/dd2/a01164.html#aa850480b1ab9508d2c3c8e538c08ccff" title="ripple::RandomNumbers\l::fillBytes" alt="" coords="656,1047,819,1094"/><area shape="rect" id="node115" href="../../d9/d9d/a03417.html#aca6318bcfeb25f74477566a7ddc06a63" title="ripple::charHex" alt="" coords="908,1187,1017,1216"/><area shape="rect" id="node119" href="../../d7/d9a/a00152.html#a348c4019943a8b3a05f39f1efcb589c9" title="ripple::base_uint::\lGetHex" alt="" coords="428,1049,553,1095"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_abdd26c4e121117c798f5a1229fe77979_icgraph.png" border="0" usemap="#dc/d8c/a01297_abdd26c4e121117c798f5a1229fe77979_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_abdd26c4e121117c798f5a1229fe77979_icgraph" id="dc/d8c/a01297_abdd26c4e121117c798f5a1229fe77979_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,109,324,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,39,515,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,109,523,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,179,511,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,5,751,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,74,756,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,5,991,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,179,703,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,152,924,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,205,953,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a94c663acd3d07543ad5ba1c7a53530b6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doWalletSeed </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d5/d04/a03303_source.html#l00025">25</a> of file <a class="el" href="../../d5/d04/a03303_source.html">WalletSeed.cpp</a>.</p>

<p>References <a class="el" href="../../da/d23/a02452_source.html#l00787">Json::Value::asString()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00729">ripple::RippleAddress::createGeneratorPublic()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00786">ripple::RippleAddress::humanSeed()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00758">ripple::RippleAddress::humanSeed1751()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../d8/deb/a03246_source.html#l00085">ripple::rpcBAD_SEED</a>, <a class="el" href="../../d6/d63/a03228_source.html#l00027">ripple::rpcError()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00430">ripple::RippleAddress::setAccountPublic()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00824">ripple::RippleAddress::setSeedGeneric()</a>, and <a class="el" href="../../d2/d23/a03186_source.html#l00869">ripple::RippleAddress::setSeedRandom()</a>.</p>

<p>Referenced by <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>.</p>
<div class="fragment"><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;{</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;    RippleAddress   raSeed;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;    <span class="keywordtype">bool</span>            bSecret = params.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a> (<span class="stringliteral">&quot;secret&quot;</span>);</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;    <span class="keywordflow">if</span> (bSecret &amp;&amp; !raSeed.setSeedGeneric (params[<span class="stringliteral">&quot;secret&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd">asString</a> ()))</div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;    {</div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461">rpcError</a> (<a class="code" href="../../d9/d9d/a03417.html#a32d6d3ce1a48272b677d2c88b1d30932ad2f8f023342d32f2602688202894cabe">rpcBAD_SEED</a>);</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;    }</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;    {</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;        RippleAddress   raAccount;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;        <span class="keywordflow">if</span> (!bSecret)</div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;        {</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;            raSeed.setSeedRandom ();</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        }</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        RippleAddress   raGenerator = <a class="code" href="../../d4/d0e/a01272.html#af5b92338227d7e142fa7a0dd728dbc36">RippleAddress::createGeneratorPublic</a> (raSeed);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;        raAccount.setAccountPublic (raGenerator, 0);</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> obj (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        obj[<span class="stringliteral">&quot;seed&quot;</span>]     = raSeed.humanSeed ();</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;        obj[<span class="stringliteral">&quot;key&quot;</span>]      = raSeed.humanSeed1751 ();</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        obj[<span class="stringliteral">&quot;deprecated&quot;</span>] = <span class="stringliteral">&quot;Use wallet_propose instead&quot;</span>;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        <span class="keywordflow">return</span> obj;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    }</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a94c663acd3d07543ad5ba1c7a53530b6_cgraph.png" border="0" usemap="#dc/d8c/a01297_a94c663acd3d07543ad5ba1c7a53530b6_cgraph" alt=""/></div>
<map name="dc/d8c/a01297_a94c663acd3d07543ad5ba1c7a53530b6_cgraph" id="dc/d8c/a01297_a94c663acd3d07543ad5ba1c7a53530b6_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a03ee3d5df576640c93ba683f140828bd" title="Json::Value::asString" alt="" coords="195,312,341,342"/><area shape="rect" id="node5" href="../../d4/d0e/a01272.html#af5b92338227d7e142fa7a0dd728dbc36" title="ripple::RippleAddress\l::createGeneratorPublic" alt="" coords="403,120,560,166"/><area shape="rect" id="node23" href="../../d4/d0e/a01272.html#a80d3fccd8d1831c82bc7070802770301" title="ripple::RippleAddress\l::humanSeed" alt="" coords="195,774,341,821"/><area shape="rect" id="node33" href="../../d4/d0e/a01272.html#a70314116ec1050a38182e7da0cf3ee8a" title="ripple::RippleAddress\l::humanSeed1751" alt="" coords="408,880,555,926"/><area shape="rect" id="node46" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="191,844,345,874"/><area shape="rect" id="node48" href="../../d9/d9d/a03417.html#ab114d40490d1a6a0ab2fa6053167d461" title="ripple::rpcError" alt="" coords="215,1172,321,1202"/><area shape="rect" id="node56" href="../../d4/d0e/a01272.html#a6fccb99136b7c4e3f0d0d1ec404392a0" title="ripple::RippleAddress\l::setAccountPublic" alt="" coords="408,50,555,97"/><area shape="rect" id="node59" href="../../d4/d0e/a01272.html#afb74c70e56ff76faf4f4e703139e088f" title="ripple::RippleAddress\l::setSeedGeneric" alt="" coords="195,466,341,513"/><area shape="rect" id="node108" href="../../d4/d0e/a01272.html#aa92b4ecc2a1c3c00d986a7d042c8be72" title="ripple::RippleAddress\l::setSeedRandom" alt="" coords="408,1016,555,1062"/><area shape="rect" id="node7" href="../../d4/d0e/a01272.html#a1510644a37f401fb4bbd95967f032f0c" title="ripple::RippleAddress\l::getSeed" alt="" coords="641,517,788,564"/><area shape="rect" id="node9" href="../../d4/d0e/a01272.html#aa69f888fe19bdac32275a0637d93d6ae" title="ripple::RippleAddress\l::setGenerator" alt="" coords="641,37,788,84"/><area shape="rect" id="node11" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="879,173,1020,220"/><area shape="rect" id="node13" href="../../d9/d7d/a00150.html#a85c405829839e85edb721241fd8d4203" title="ripple::Base58::decodeWith\lCheck" alt="" coords="1087,354,1268,401"/><area shape="rect" id="node15" href="../../d9/d7d/a00150.html#a0c2d621faceac43aeb30f4797f03b12c" title="ripple::Base58::decode" alt="" coords="1317,390,1472,419"/><area shape="rect" id="node17" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="1321,828,1468,858"/><area shape="rect" id="node21" href="../../d9/d9d/a03417.html#a4be54b895ff42f63b835266848abf9af" title="ripple::SHA256Hash" alt="" coords="1324,336,1465,366"/><area shape="rect" id="node19" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1521,828,1671,858"/><area shape="rect" id="node25" href="../../d9/d39/a00257.html#a18a7bfe8bbf61262472b03f1dfe5c887" title="ripple::CBase58Data\l::ToString" alt="" coords="411,1134,552,1181"/><area shape="rect" id="node27" href="../../d9/d7d/a00150.html#a085fa82e1453fd6e5460a0cd960b5816" title="ripple::Base58::encodeWith\lCheck" alt="" coords="624,1261,805,1308"/><area shape="rect" id="node29" href="../../d9/d7d/a00150.html#ac6c6ad62e7ed916bfe1c652721d3fe26" title="ripple::Base58::encode" alt="" coords="872,1208,1027,1238"/><area shape="rect" id="node31" href="../../d9/d7d/a00150.html#a24f49360e730224f1d16edb1b504e32a" title="ripple::Base58::getCurrent\lAlphabet" alt="" coords="863,1261,1036,1308"/><area shape="rect" id="node36" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="652,1053,777,1100"/><area shape="rect" id="node40" href="../../dc/dd9/a01268.html#a65a0ec43d7758934c0d5a7ff335d1619" title="ripple::RFC1751::getEnglish\lFromKey" alt="" coords="621,880,808,926"/><area shape="rect" id="node42" href="../../dc/dd9/a01268.html#ab7d7c0e301a30ccede70ef60eb20400b" title="ripple::RFC1751::btoe" alt="" coords="875,886,1024,915"/><area shape="rect" id="node44" href="../../dc/dd9/a01268.html#a019d99f62059116ae0d6ee9d0097dfb4" title="ripple::RFC1751::extract" alt="" coords="1095,884,1260,914"/><area shape="rect" id="node50" href="../../d2/d9b/a03429.html#ac4c846c6043b4afa966f4f35790fe303" title="ripple::RPC::inject\l_error" alt="" coords="417,1301,545,1348"/><area shape="rect" id="node52" href="../../d2/d9b/a03429.html#aa6dc5b7a225869afb02c82d035352e7d" title="ripple::RPC::get_error_info" alt="" coords="627,1335,803,1364"/><area shape="rect" id="node54" href="../../dc/d8e/a00473.html#aec1914e37aa6e639af71985d7abfb52f" title="ripple::RPC::detail\l::ErrorCategory::get" alt="" coords="881,1330,1017,1377"/><area shape="rect" id="node61" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="408,189,555,236"/><area shape="rect" id="node65" href="../../d4/d0e/a01272.html#a973406a0a660a3085f291033099db6d4" title="ripple::RippleAddress\l::setAccountPrivate" alt="" coords="408,258,555,305"/><area shape="rect" id="node68" href="../../d4/d0e/a01272.html#a20ebd6bb6da228273b6159c3698f0b38" title="ripple::RippleAddress\l::setNodePublic" alt="" coords="408,328,555,374"/><area shape="rect" id="node71" href="../../d4/d0e/a01272.html#a1c5ba09193abc3fe85e179665eba0313" title="ripple::RippleAddress\l::setNodePrivate" alt="" coords="408,397,555,444"/><area shape="rect" id="node74" href="../../d7/d9a/a00152.html#a0da8709f6817b4f400f80e788c0505d1" title="ripple::base_uint::\lSetHex" alt="" coords="419,789,544,836"/><area shape="rect" id="node81" href="../../d4/d0e/a01272.html#a174148805b914cbf25bd9aeb932b8fc5" title="ripple::RippleAddress\l::setSeed" alt="" coords="641,640,788,686"/><area shape="rect" id="node84" href="../../d4/d0e/a01272.html#a084f091b0572c3bd9362738527855ca4" title="ripple::RippleAddress\l::setSeed1751" alt="" coords="408,640,555,686"/><area shape="rect" id="node92" href="../../dc/d5d/a00278.html#afa42bb14eac814058795117def5189f7" title="ripple::CKey::PassPhrase\lToKey" alt="" coords="395,466,568,513"/><area shape="rect" id="node77" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="640,1000,789,1030"/><area shape="rect" id="node79" href="../../d7/d9a/a00152.html#a174768646f7fe8d81f4a38f5ccf9e6f5" title="ripple::base_uint::zero" alt="" coords="1103,715,1252,744"/><area shape="rect" id="node86" href="../../dc/dd9/a01268.html#aa8cb14efe712e16736e80e27af0b7afa" title="ripple::RFC1751::getKeyFrom\lEnglish" alt="" coords="617,709,812,756"/><area shape="rect" id="node88" href="../../dc/dd9/a01268.html#a10c179bdbdd950867927eca2d9d455cf" title="ripple::RFC1751::etob" alt="" coords="875,722,1024,751"/><area shape="rect" id="node94" href="../../da/d61/a01350.html#a8d8774ca938809be8323d3957a62af90" title="ripple::Serializer\l::addRaw" alt="" coords="657,378,772,425"/><area shape="rect" id="node96" href="../../da/d61/a01350.html#afc7187fd3c9e185d29a0ecf5500d0cdf" title="ripple::Serializer\l::getSHA512Half" alt="" coords="655,448,775,494"/><area shape="rect" id="node100" href="../../de/daf/a01736.html#a4d95a1151b8cb55d55695b440235ee6b" title="ripple::uint128::low128" alt="" coords="639,587,791,616"/><area shape="rect" id="node106" href="../../da/d61/a01350.html#a481c97f830afdc190d114238e4177edd" title="ripple::Serializer\l::secureErase" alt="" coords="657,309,772,356"/><area shape="rect" id="node98" href="../../da/d61/a01350.html#ac7bf5cce451c952933b2750d902d848c" title="ripple::Serializer\l::size" alt="" coords="892,448,1007,494"/><area shape="rect" id="node103" href="../../de/daf/a01736.html#afd16c55d68ba67fdafb76fc13501006b" title="ripple::uint128::uint128" alt="" coords="873,654,1025,683"/><area shape="rect" id="node110" href="../../d2/dd2/a01164.html#a0a835a6ab5768fd8c44604d4c36635ed" title="ripple::RandomNumbers\l::getInstance" alt="" coords="633,1192,796,1238"/><area shape="rect" id="node112" href="../../d2/dd2/a01164.html#aa850480b1ab9508d2c3c8e538c08ccff" title="ripple::RandomNumbers\l::fillBytes" alt="" coords="633,1122,796,1169"/><area shape="rect" id="node114" href="../../d2/dd2/a01164.html#a162c778337290bbe8f22cf070c9ded7c" title="ripple::RandomNumbers\l::initialize" alt="" coords="868,1122,1031,1169"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d8c/a01297_a94c663acd3d07543ad5ba1c7a53530b6_icgraph.png" border="0" usemap="#dc/d8c/a01297_a94c663acd3d07543ad5ba1c7a53530b6_icgraph" alt=""/></div>
<map name="dc/d8c/a01297_a94c663acd3d07543ad5ba1c7a53530b6_icgraph" id="dc/d8c/a01297_a94c663acd3d07543ad5ba1c7a53530b6_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="191,109,324,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="381,39,515,86"/><area shape="rect" id="node15" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="373,109,523,155"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="385,179,511,208"/><area shape="rect" id="node7" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="577,5,751,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="572,74,756,121"/><area shape="rect" id="node9" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="807,5,991,51"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="625,179,703,208"/><area shape="rect" id="node21" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="873,152,924,181"/><area shape="rect" id="node23" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="844,205,953,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac2195d65ecaaed11fb462d1c01fc1cd8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doWalletUnlock </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<a class="anchor" id="aaf5b46971f3b494cd1b50a36cb1850a5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::RPCHandler::doWalletVerify </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td>
          <td class="paramname"><em>params</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d53/a00265.html">Resource::Charge</a> &amp;&#160;</td>
          <td class="paramname"><em>loadType</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> &amp;&#160;</td>
          <td class="paramname"><em>mlh</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="af11ecf1530620e83636a8868f1403eec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/deb/a00710.html#a15ba6fd94d60310cdf80362345b5d07b">InfoSub::pointer</a> ripple::RPCHandler::mInfoSub</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../de/dec/a03020_source.html#l00137">137</a> of file <a class="el" href="../../de/dec/a03020_source.html">RPCHandler.h</a>.</p>

<p>Referenced by <a class="el" href="../../d4/d1c/a03272_source.html#l00023">doPathFind()</a>, <a class="el" href="../../d8/dcc/a03287_source.html#l00023">doSubscribe()</a>, and <a class="el" href="../../d6/d90/a03298_source.html#l00024">doUnsubscribe()</a>.</p>

</div>
</div>
<a class="anchor" id="a14361b9399c54013281e70bb9ba7efe6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dac/a01008.html">NetworkOPs</a>* ripple::RPCHandler::mNetOps</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../de/dec/a03020_source.html#l00136">136</a> of file <a class="el" href="../../de/dec/a03020_source.html">RPCHandler.h</a>.</p>

<p>Referenced by <a class="el" href="../../d9/d01/a03248_source.html#l00022">doAccountCurrencies()</a>, <a class="el" href="../../d6/d24/a03249_source.html#l00029">doAccountInfo()</a>, <a class="el" href="../../dc/d45/a03250_source.html#l00029">doAccountLines()</a>, <a class="el" href="../../db/dd3/a03251_source.html#l00041">doAccountOffers()</a>, <a class="el" href="../../d7/d44/a03252_source.html#l00032">doAccountTx()</a>, <a class="el" href="../../d9/d56/a03253_source.html#l00033">doAccountTxOld()</a>, <a class="el" href="../../d3/d55/a03256_source.html#l00049">doBookOffers()</a>, <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>, <a class="el" href="../../d6/d13/a03258_source.html#l00022">doConsensusInfo()</a>, <a class="el" href="../../d1/dda/a03260_source.html#l00023">doFetchInfo()</a>, <a class="el" href="../../d8/dea/a02913_source.html#l00028">doLedger()</a>, <a class="el" href="../../dc/dbb/a03262_source.html#l00023">doLedgerAccept()</a>, <a class="el" href="../../dc/dc1/a03263_source.html#l00023">doLedgerClosed()</a>, <a class="el" href="../../d4/d1a/a03264_source.html#l00023">doLedgerCurrent()</a>, <a class="el" href="../../d8/d81/a03265_source.html#l00033">doLedgerData()</a>, <a class="el" href="../../d6/d8d/a03266_source.html#l00028">doLedgerEntry()</a>, <a class="el" href="../../de/d11/a03267_source.html#l00027">doLedgerHeader()</a>, <a class="el" href="../../df/d13/a03271_source.html#l00028">doOwnerInfo()</a>, <a class="el" href="../../d4/d1c/a03272_source.html#l00023">doPathFind()</a>, <a class="el" href="../../de/d7f/a03280_source.html#l00025">doRipplePathFind()</a>, <a class="el" href="../../d0/d84/a03281_source.html#l00023">doServerInfo()</a>, <a class="el" href="../../d4/d1b/a03282_source.html#l00023">doServerState()</a>, <a class="el" href="../../d2/dd0/a03283_source.html#l00027">doSign()</a>, <a class="el" href="../../da/d1b/a03286_source.html#l00027">doSubmit()</a>, <a class="el" href="../../d8/dcc/a03287_source.html#l00023">doSubscribe()</a>, <a class="el" href="../../db/de4/a03288_source.html#l00028">doTransactionEntry()</a>, <a class="el" href="../../d0/d9d/a03289_source.html#l00026">doTx()</a>, <a class="el" href="../../d6/d90/a03298_source.html#l00024">doUnsubscribe()</a>, and <a class="el" href="../../d1/d24/a03301_source.html#l00028">doWalletAccounts()</a>.</p>

</div>
</div>
<a class="anchor" id="abe574a57210c4043aa67f62a77db6e5a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ripple::RPCHandler::mRole</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../de/dec/a03020_source.html#l00140">140</a> of file <a class="el" href="../../de/dec/a03020_source.html">RPCHandler.h</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d44/a03252_source.html#l00032">doAccountTx()</a>, <a class="el" href="../../d9/d56/a03253_source.html#l00033">doAccountTxOld()</a>, <a class="el" href="../../de/dc6/a03019_source.html#l00088">doCommand()</a>, <a class="el" href="../../d8/dea/a02913_source.html#l00028">doLedger()</a>, <a class="el" href="../../d8/d81/a03265_source.html#l00033">doLedgerData()</a>, <a class="el" href="../../de/d7f/a03280_source.html#l00025">doRipplePathFind()</a>, <a class="el" href="../../d0/d84/a03281_source.html#l00023">doServerInfo()</a>, <a class="el" href="../../d4/d1b/a03282_source.html#l00023">doServerState()</a>, <a class="el" href="../../d2/dd0/a03283_source.html#l00027">doSign()</a>, <a class="el" href="../../da/d1b/a03286_source.html#l00027">doSubmit()</a>, <a class="el" href="../../d8/dcc/a03287_source.html#l00023">doSubscribe()</a>, <a class="el" href="../../d6/d85/a03290_source.html#l00026">doTxHistory()</a>, and <a class="el" href="../../d6/d90/a03298_source.html#l00024">doUnsubscribe()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>rippled/src/ripple_app/rpc/<a class="el" href="../../de/dec/a03020_source.html">RPCHandler.h</a></li>
<li>rippled/src/ripple_app/rpc/<a class="el" href="../../de/dc6/a03019_source.html">RPCHandler.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d9/d01/a03248_source.html">AccountCurrencies.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d6/d24/a03249_source.html">AccountInfo.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../dc/d45/a03250_source.html">AccountLines.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../db/dd3/a03251_source.html">AccountOffers.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d7/d44/a03252_source.html">AccountTx.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d9/d56/a03253_source.html">AccountTxOld.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d5/d08/a03254_source.html">AccountTxSwitch.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d5/d8f/a03255_source.html">BlackList.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d3/d55/a03256_source.html">BookOffers.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../df/d62/a03257_source.html">Connect.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d6/d13/a03258_source.html">ConsensusInfo.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d6/d38/a03259_source.html">Feature.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d1/dda/a03260_source.html">FetchInfo.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../dc/df1/a03261_source.html">GetCounts.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d8/dea/a02913_source.html">Ledger.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../dc/dbb/a03262_source.html">LedgerAccept.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d6/dd2/a02916_source.html">LedgerCleaner.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../dc/dc1/a03263_source.html">LedgerClosed.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d4/d1a/a03264_source.html">LedgerCurrent.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d8/d81/a03265_source.html">LedgerData.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d6/d8d/a03266_source.html">LedgerEntry.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../de/d11/a03267_source.html">LedgerHeader.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d4/dcb/a03268_source.html">LogLevel.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d9/d33/a03269_source.html">LogRotate.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../df/d13/a03271_source.html">OwnerInfo.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d4/d1c/a03272_source.html">PathFind.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d3/da0/a03273_source.html">Peers.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../da/deb/a03274_source.html">Ping.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d8/dbf/a03275_source.html">Print.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d0/ded/a03276_source.html">Profile.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d4/d46/a03277_source.html">ProofCreate.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d9/d7f/a03278_source.html">ProofSolve.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d0/de5/a03279_source.html">ProofVerify.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d1/d0c/a02251_source.html">Random.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../de/d7f/a03280_source.html">RipplePathFind.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d0/d84/a03281_source.html">ServerInfo.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d4/d1b/a03282_source.html">ServerState.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d2/dd0/a03283_source.html">Sign.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d6/d25/a03284_source.html">SMS.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d2/dfa/a03285_source.html">Stop.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../da/d1b/a03286_source.html">Submit.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d8/dcc/a03287_source.html">Subscribe.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../db/de4/a03288_source.html">TransactionEntry.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d0/d9d/a03289_source.html">Tx.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d6/d85/a03290_source.html">TxHistory.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../da/dbb/a03291_source.html">UnlAdd.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d7/d52/a03292_source.html">UnlDelete.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d2/d74/a03293_source.html">UnlList.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../df/d2e/a03294_source.html">UnlLoad.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d7/d35/a03295_source.html">UnlNetwork.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d2/d76/a03296_source.html">UnlReset.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../da/d0a/a03297_source.html">UnlScore.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d6/d90/a03298_source.html">Unsubscribe.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d8/de2/a03299_source.html">ValidationCreate.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d0/d7c/a03300_source.html">ValidationSeed.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d1/d24/a03301_source.html">WalletAccounts.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d5/da8/a03302_source.html">WalletPropose.cpp</a></li>
<li>rippled/src/ripple_rpc/handlers/<a class="el" href="../../d5/d04/a03303_source.html">WalletSeed.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d9/d9d/a03417.html">ripple</a></li><li class="navelem"><a class="el" href="../../dc/d8c/a01297.html">RPCHandler</a></li>
    <li class="footer">Generated on Fri May 2 2014 05:29:13 for rippled by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
