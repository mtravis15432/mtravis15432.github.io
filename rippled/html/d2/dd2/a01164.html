<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>rippled: ripple::RandomNumbers Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">rippled
   &#160;<span id="projectnumber">0.24.0-rc1</span>
   </div>
   <div id="projectbrief">Reference implementation of the Ripple Protocol</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d2/dd2/a01164.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d0/d14/a07253.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ripple::RandomNumbers Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d7/d8a/a02830_source.html">RandomNumbers.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a162c778337290bbe8f22cf070c9ded7c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd2/a01164.html#a162c778337290bbe8f22cf070c9ded7c">initialize</a> (<a class="el" href="../../d4/d2c/a01575.html">beast::Journal::Stream</a> stream=<a class="el" href="../../d4/d2c/a01575.html">beast::Journal::Stream</a>())</td></tr>
<tr class="separator:a162c778337290bbe8f22cf070c9ded7c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa850480b1ab9508d2c3c8e538c08ccff"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd2/a01164.html#aa850480b1ab9508d2c3c8e538c08ccff">fillBytes</a> (void *destinationBuffer, int numberOfBytes)</td></tr>
<tr class="separator:aa850480b1ab9508d2c3c8e538c08ccff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66da242bba3bd8827b1b2171845aa67a"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a66da242bba3bd8827b1b2171845aa67a"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="../../d2/dd2/a01164.html#a66da242bba3bd8827b1b2171845aa67a">fill</a> (<a class="el" href="../../d3/dbb/a02004.html#ad24d0de3f597ca60dd95c4bc59c2ff73">T</a> *object)</td></tr>
<tr class="separator:a66da242bba3bd8827b1b2171845aa67a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:a0a835a6ab5768fd8c44604d4c36635ed"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../d2/dd2/a01164.html">RandomNumbers</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd2/a01164.html#a0a835a6ab5768fd8c44604d4c36635ed">getInstance</a> ()</td></tr>
<tr class="separator:a0a835a6ab5768fd8c44604d4c36635ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a1e7b16959183e41c28fdbd47e262b28d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd2/a01164.html#a1e7b16959183e41c28fdbd47e262b28d">RandomNumbers</a> ()</td></tr>
<tr class="separator:a1e7b16959183e41c28fdbd47e262b28d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abd126588b55ab84eb9e206acfb34f869"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd2/a01164.html#abd126588b55ab84eb9e206acfb34f869">~RandomNumbers</a> ()</td></tr>
<tr class="separator:abd126588b55ab84eb9e206acfb34f869"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a029c0ab7c7aafe291d17de9541211116"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd2/a01164.html#a029c0ab7c7aafe291d17de9541211116">platformAddEntropy</a> (<a class="el" href="../../d4/d2c/a01575.html">beast::Journal::Stream</a> stream)</td></tr>
<tr class="separator:a029c0ab7c7aafe291d17de9541211116"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4230f5a3d0b479eea5e34523204a384c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd2/a01164.html#a4230f5a3d0b479eea5e34523204a384c">platformAddPerformanceMonitorEntropy</a> ()</td></tr>
<tr class="separator:a4230f5a3d0b479eea5e34523204a384c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a420ef4f527a00904ef0c49aa4cb852eb"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/dd2/a01164.html#a420ef4f527a00904ef0c49aa4cb852eb">m_initialized</a></td></tr>
<tr class="separator:a420ef4f527a00904ef0c49aa4cb852eb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Cryptographically secure random number source. </p>

<p>Definition at line <a class="el" href="../../d7/d8a/a02830_source.html#l00029">29</a> of file <a class="el" href="../../d7/d8a/a02830_source.html">RandomNumbers.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a1e7b16959183e41c28fdbd47e262b28d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ripple::RandomNumbers::RandomNumbers </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d5/d4c/a02846_source.html#l00041">41</a> of file <a class="el" href="../../d5/d4c/a02846_source.html">RandomNumbers.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    : <a class="code" href="../../d2/dd2/a01164.html#a420ef4f527a00904ef0c49aa4cb852eb">m_initialized</a> (<span class="keyword">false</span>)</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;{</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="abd126588b55ab84eb9e206acfb34f869"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ripple::RandomNumbers::~RandomNumbers </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d5/d4c/a02846_source.html#l00046">46</a> of file <a class="el" href="../../d5/d4c/a02846_source.html">RandomNumbers.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;{</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a66da242bba3bd8827b1b2171845aa67a"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::RandomNumbers::fill </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d3/dbb/a02004.html#ad24d0de3f597ca60dd95c4bc59c2ff73">T</a> *&#160;</td>
          <td class="paramname"><em>object</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Generate secure random numbers.</p>
<p>The generated data is suitable for cryptography.</p>
<p>Fills the memory for the object with random numbers. This is a type-safe alternative to the function above.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">object</td><td>A pointer to the object to fill.</td></tr>
  </table>
  </dd>
</dl>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">T</td><td>The type of <code>object</code></td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>Undefined behavior results if <code>T</code> is not a POD type. </dd></dl>

<p>Definition at line <a class="el" href="../../d7/d8a/a02830_source.html#l00072">72</a> of file <a class="el" href="../../d7/d8a/a02830_source.html">RandomNumbers.h</a>.</p>

<p>References <a class="el" href="../../d5/d4c/a02846_source.html#l00062">fillBytes()</a>, and <a class="el" href="../../d3/dbb/a02004_source.html#l00193">T</a>.</p>

<p>Referenced by <a class="el" href="../../d3/df5/a02827_source.html#l00106">ripple::HashMaps::NonceHolder&lt; T &gt;::NonceHolder()</a>, <a class="el" href="../../da/df5/a03220_source.html#l00202">ripple::SNTPClientImp::resolveComplete()</a>, and <a class="el" href="../../dc/dc5/a02977_source.html#l00098">ripple::ProofOfWork::solve()</a>.</p>
<div class="fragment"><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    {</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        <a class="code" href="../../d2/dd2/a01164.html#aa850480b1ab9508d2c3c8e538c08ccff">fillBytes</a> (<span class="keywordtype">object</span>, <span class="keyword">sizeof</span> (<a class="code" href="../../d8/d24/a02001.html#ad24d0de3f597ca60dd95c4bc59c2ff73">T</a>));</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/dd2/a01164_a66da242bba3bd8827b1b2171845aa67a_cgraph.png" border="0" usemap="#d2/dd2/a01164_a66da242bba3bd8827b1b2171845aa67a_cgraph" alt=""/></div>
<map name="d2/dd2/a01164_a66da242bba3bd8827b1b2171845aa67a_cgraph" id="d2/dd2/a01164_a66da242bba3bd8827b1b2171845aa67a_cgraph">
<area shape="rect" id="node3" href="../../d2/dd2/a01164.html#aa850480b1ab9508d2c3c8e538c08ccff" title="ripple::RandomNumbers\l::fillBytes" alt="" coords="216,5,379,51"/><area shape="rect" id="node5" href="../../d2/dd2/a01164.html#a162c778337290bbe8f22cf070c9ded7c" title="ripple::RandomNumbers\l::initialize" alt="" coords="427,5,589,51"/><area shape="rect" id="node7" href="../../d2/dd2/a01164.html#a029c0ab7c7aafe291d17de9541211116" title="ripple::RandomNumbers\l::platformAddEntropy" alt="" coords="637,5,800,51"/><area shape="rect" id="node9" href="../../d2/dd6/a03414.html#a7378f09d8f10ef3ccbb2aeefe7ff41d3" title="Json::in" alt="" coords="849,13,916,43"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/dd2/a01164_a66da242bba3bd8827b1b2171845aa67a_icgraph.png" border="0" usemap="#d2/dd2/a01164_a66da242bba3bd8827b1b2171845aa67a_icgraph" alt=""/></div>
<map name="d2/dd2/a01164_a66da242bba3bd8827b1b2171845aa67a_icgraph" id="d2/dd2/a01164_a66da242bba3bd8827b1b2171845aa67a_icgraph">
<area shape="rect" id="node3" href="../../db/d08/a01028.html#a00e2a2853c0e4bc687ef244498e85012" title="ripple::HashMaps::NonceHolder\l::NonceHolder" alt="" coords="216,5,424,51"/><area shape="rect" id="node5" href="../../d2/db1/a01428.html#a2404856b303bf2f5c80fe6e88a326916" title="ripple::SNTPClientImp\l::resolveComplete" alt="" coords="244,74,396,121"/><area shape="rect" id="node17" href="../../de/df6/a01141.html#aa57bf68c4f40495817683c407aefad92" title="ripple::ProofOfWork\l::solve" alt="" coords="252,143,388,190"/><area shape="rect" id="node7" href="../../d2/db1/a01428.html#ac7d50947e3f871780e978d22d165f5db" title="ripple::SNTPClientImp\l::doQuery" alt="" coords="473,74,625,121"/><area shape="rect" id="node9" href="../../d2/db1/a01428.html#a9b0fb742ef97afb0a652122a5155519f" title="ripple::SNTPClientImp\l::queryAll" alt="" coords="676,13,828,59"/><area shape="rect" id="node13" href="../../d2/db1/a01428.html#afa7f90cbed492d80d8a017212c345804" title="ripple::SNTPClientImp\l::timerEntry" alt="" coords="676,82,828,129"/><area shape="rect" id="node11" href="../../d2/db1/a01428.html#adc503957f83cec41ccbf501c528aea90" title="ripple::SNTPClientImp\l::init" alt="" coords="879,13,1031,59"/><area shape="rect" id="node15" href="../../d2/db1/a01428.html#aff2aaade7c694ddf1aa57baadafa8ad7" title="ripple::SNTPClientImp\l::SNTPClientImp" alt="" coords="879,82,1031,129"/><area shape="rect" id="node19" href="../../d3/ddc/a01142.html#ab63a8e175b40d55ea5fcec7acb3379de" title="ripple::ProofOfWork\l_test::run" alt="" coords="481,143,617,190"/><area shape="rect" id="node21" href="../../dc/d8c/a01297.html#a7e717030ea0eafe8ee38fcc708d0c5be" title="ripple::RPCHandler\l::doProofSolve" alt="" coords="483,213,616,259"/><area shape="rect" id="node23" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="685,213,819,259"/><area shape="rect" id="node25" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="892,160,1017,189"/><area shape="rect" id="node33" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="888,213,1021,259"/><area shape="rect" id="node43" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="880,282,1029,329"/><area shape="rect" id="node27" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="1135,160,1212,189"/><area shape="rect" id="node29" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1383,133,1433,163"/><area shape="rect" id="node31" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="1353,187,1463,216"/><area shape="rect" id="node35" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="1081,213,1265,259"/><area shape="rect" id="node37" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="1087,282,1260,329"/><area shape="rect" id="node39" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="1316,282,1500,329"/><area shape="rect" id="node41" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1551,282,1735,329"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa850480b1ab9508d2c3c8e538c08ccff"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::RandomNumbers::fillBytes </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>destinationBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numberOfBytes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Generate secure random numbers.</p>
<p>The generated data is suitable for cryptography.</p>
<dl class="section invariant"><dt>Invariant</dt><dd>The destination buffer must be large enough or undefined behavior results.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">destinationBuffer</td><td>The place to store the bytes. </td></tr>
    <tr><td class="paramname">numberOfBytes</td><td>The number of bytes to generate. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../d5/d4c/a02846_source.html#l00062">62</a> of file <a class="el" href="../../d5/d4c/a02846_source.html">RandomNumbers.cpp</a>.</p>

<p>References <a class="el" href="../../d5/d4c/a02846_source.html#l00050">initialize()</a>, and <a class="el" href="../../d7/d8a/a02830_source.html#l00087">m_initialized</a>.</p>

<p>Referenced by <a class="el" href="../../d3/dcf/a03173_source.html#l00286">ripple::checkECIES()</a>, <a class="el" href="../../d1/d0c/a02251_source.html#l00027">ripple::RPCHandler::doRandom()</a>, <a class="el" href="../../d3/dcf/a03173_source.html#l00129">ripple::CKey::encryptECIES()</a>, <a class="el" href="../../d7/d8a/a02830_source.html#l00072">fill()</a>, <a class="el" href="../../d4/d2b/a02979_source.html#l00148">ripple::ProofOfWorkFactoryImp::getProof()</a>, <a class="el" href="../../d4/d2b/a02979_source.html#l00038">ripple::ProofOfWorkFactoryImp::ProofOfWorkFactoryImp()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00869">ripple::RippleAddress::setSeedRandom()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l02777">ripple::NetworkOPsImp::subServer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    <span class="comment">// VFALCO NOTE this assert is here to remind us that the code is not yet</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;    <span class="comment">//         thread safe.</span></div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    assert (<a class="code" href="../../d2/dd2/a01164.html#a420ef4f527a00904ef0c49aa4cb852eb">m_initialized</a>);</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    <span class="comment">// VFALCO NOTE When a spinlock is available in beast, use it here.</span></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;    <span class="keywordflow">if</span> (! <a class="code" href="../../d2/dd2/a01164.html#a420ef4f527a00904ef0c49aa4cb852eb">m_initialized</a>)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    {</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;        <span class="keywordflow">if</span> (! <a class="code" href="../../d2/dd2/a01164.html#a162c778337290bbe8f22cf070c9ded7c">initialize</a> ())</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        {</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;            <span class="keywordtype">char</span> <span class="keyword">const</span>* <a class="code" href="../../d5/d6c/a00977.html">message</a> = <span class="stringliteral">&quot;Unable to add system entropy&quot;</span>;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;            <span class="keywordflow">throw</span> std::runtime_error (message);</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;        }</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    }</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;<span class="preprocessor">#ifdef PURIFY</span></div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="preprocessor"></span>    memset (destinationBuffer, 0, numberOfBytes);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    <span class="keywordflow">if</span> (RAND_bytes (reinterpret_cast &lt;unsigned char*&gt; (destinationBuffer), numberOfBytes) != 1)</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;    {</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;        assert (<span class="keyword">false</span>);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;        <span class="keywordflow">throw</span> std::runtime_error (<span class="stringliteral">&quot;Entropy pool not seeded&quot;</span>);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;    }</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/dd2/a01164_aa850480b1ab9508d2c3c8e538c08ccff_cgraph.png" border="0" usemap="#d2/dd2/a01164_aa850480b1ab9508d2c3c8e538c08ccff_cgraph" alt=""/></div>
<map name="d2/dd2/a01164_aa850480b1ab9508d2c3c8e538c08ccff_cgraph" id="d2/dd2/a01164_aa850480b1ab9508d2c3c8e538c08ccff_cgraph">
<area shape="rect" id="node3" href="../../d2/dd2/a01164.html#a162c778337290bbe8f22cf070c9ded7c" title="ripple::RandomNumbers\l::initialize" alt="" coords="216,5,379,51"/><area shape="rect" id="node5" href="../../d2/dd2/a01164.html#a029c0ab7c7aafe291d17de9541211116" title="ripple::RandomNumbers\l::platformAddEntropy" alt="" coords="427,5,589,51"/><area shape="rect" id="node7" href="../../d2/dd6/a03414.html#a7378f09d8f10ef3ccbb2aeefe7ff41d3" title="Json::in" alt="" coords="639,13,705,43"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/dd2/a01164_aa850480b1ab9508d2c3c8e538c08ccff_icgraph.png" border="0" usemap="#d2/dd2/a01164_aa850480b1ab9508d2c3c8e538c08ccff_icgraph" alt=""/></div>
<map name="d2/dd2/a01164_aa850480b1ab9508d2c3c8e538c08ccff_icgraph" id="d2/dd2/a01164_aa850480b1ab9508d2c3c8e538c08ccff_icgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a5e3dd1672446270d2ec2eb478ef31f5b" title="ripple::checkECIES" alt="" coords="495,9,631,38"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1ad63ea274c0e7eb795d2f1d060fb674" title="ripple::RPCHandler\l::doRandom" alt="" coords="247,192,380,239"/><area shape="rect" id="node29" href="../../dc/d5d/a00278.html#ad660df4926d0348dac8c4a4d72fa38ec" title="ripple::CKey::encryptECIES" alt="" coords="220,70,407,100"/><area shape="rect" id="node36" href="../../d2/dd2/a01164.html#a66da242bba3bd8827b1b2171845aa67a" title="ripple::RandomNumbers\l::fill" alt="" coords="232,380,395,427"/><area shape="rect" id="node59" href="../../db/d51/a01144.html#a87634294fbf14c8ca02c95bb79ad081e" title="ripple::ProofOfWorkFactory\lImp::getProof" alt="" coords="223,450,404,496"/><area shape="rect" id="node61" href="../../db/d51/a01144.html#a182b29d4c9a73c3d5cc0f2a9d0302f97" title="ripple::ProofOfWorkFactory\lImp::ProofOfWorkFactoryImp" alt="" coords="216,519,411,566"/><area shape="rect" id="node63" href="../../d4/d0e/a01272.html#aa92b4ecc2a1c3c00d986a7d042c8be72" title="ripple::RippleAddress\l::setSeedRandom" alt="" coords="489,320,636,367"/><area shape="rect" id="node84" href="../../d7/ded/a01009.html#a862ad4901433791b9bea86eb574b3aed" title="ripple::NetworkOPsImp\l::subServer" alt="" coords="235,588,392,635"/><area shape="rect" id="node7" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="963,251,1096,298"/><area shape="rect" id="node9" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="1175,198,1300,228"/><area shape="rect" id="node17" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="1171,251,1304,298"/><area shape="rect" id="node27" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="1163,320,1312,367"/><area shape="rect" id="node11" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="1420,198,1497,228"/><area shape="rect" id="node13" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1668,225,1719,254"/><area shape="rect" id="node15" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="1639,172,1748,201"/><area shape="rect" id="node19" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="1367,251,1551,298"/><area shape="rect" id="node21" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="1372,320,1545,367"/><area shape="rect" id="node23" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="1601,320,1785,367"/><area shape="rect" id="node25" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1836,320,2020,367"/><area shape="rect" id="node32" href="../../d4/d0e/a01272.html#a545876acac69d3944ea3619afce8fb70" title="ripple::RippleAddress\l::accountPrivateEncrypt" alt="" coords="481,62,644,108"/><area shape="rect" id="node34" href="../../de/d85/a01273.html#adddf405a090c12e1047af157091e7dda" title="ripple::RippleAddress\l_test::run" alt="" coords="735,62,881,108"/><area shape="rect" id="node38" href="../../db/d08/a01028.html#a00e2a2853c0e4bc687ef244498e85012" title="ripple::HashMaps::NonceHolder\l::NonceHolder" alt="" coords="459,494,667,540"/><area shape="rect" id="node40" href="../../d2/db1/a01428.html#a2404856b303bf2f5c80fe6e88a326916" title="ripple::SNTPClientImp\l::resolveComplete" alt="" coords="487,632,639,679"/><area shape="rect" id="node52" href="../../de/df6/a01141.html#aa57bf68c4f40495817683c407aefad92" title="ripple::ProofOfWork\l::solve" alt="" coords="495,424,631,471"/><area shape="rect" id="node42" href="../../d2/db1/a01428.html#ac7d50947e3f871780e978d22d165f5db" title="ripple::SNTPClientImp\l::doQuery" alt="" coords="732,667,884,714"/><area shape="rect" id="node44" href="../../d2/db1/a01428.html#a9b0fb742ef97afb0a652122a5155519f" title="ripple::SNTPClientImp\l::queryAll" alt="" coords="953,702,1105,748"/><area shape="rect" id="node48" href="../../d2/db1/a01428.html#afa7f90cbed492d80d8a017212c345804" title="ripple::SNTPClientImp\l::timerEntry" alt="" coords="953,632,1105,679"/><area shape="rect" id="node46" href="../../d2/db1/a01428.html#adc503957f83cec41ccbf501c528aea90" title="ripple::SNTPClientImp\l::init" alt="" coords="1161,702,1313,748"/><area shape="rect" id="node50" href="../../d2/db1/a01428.html#aff2aaade7c694ddf1aa57baadafa8ad7" title="ripple::SNTPClientImp\l::SNTPClientImp" alt="" coords="1161,632,1313,679"/><area shape="rect" id="node54" href="../../d3/ddc/a01142.html#ab63a8e175b40d55ea5fcec7acb3379de" title="ripple::ProofOfWork\l_test::run" alt="" coords="740,598,876,644"/><area shape="rect" id="node56" href="../../dc/d8c/a01297.html#a7e717030ea0eafe8ee38fcc708d0c5be" title="ripple::RPCHandler\l::doProofSolve" alt="" coords="741,528,875,575"/><area shape="rect" id="node65" href="../../df/d96/a01347.html#a8b34fe88feb28ef414568b1fd6e6b2a1" title="ripple::SerializedTransaction\l_test::run" alt="" coords="715,390,901,436"/><area shape="rect" id="node67" href="../../d4/d0e/a01272.html#af95471d1c7b56c3a12e695a339842e54" title="ripple::RippleAddress\l::createSeedRandom" alt="" coords="735,459,881,506"/><area shape="rect" id="node75" href="../../dc/d8c/a01297.html#aa8d06a22bd4b19b5ca86aaf30abf5801" title="ripple::RPCHandler\l::doValidationCreate" alt="" coords="739,182,877,228"/><area shape="rect" id="node78" href="../../dc/d8c/a01297.html#abdd26c4e121117c798f5a1229fe77979" title="ripple::RPCHandler\l::doWalletPropose" alt="" coords="741,251,875,298"/><area shape="rect" id="node81" href="../../dc/d8c/a01297.html#a94c663acd3d07543ad5ba1c7a53530b6" title="ripple::RPCHandler\l::doWalletSeed" alt="" coords="741,320,875,367"/><area shape="rect" id="node69" href="../../dc/dfa/a00894.html#a1c8442e7e94043576b9b839e39189eb6" title="ripple::LocalCredentials\l::nodeIdentityCreate" alt="" coords="951,459,1108,506"/><area shape="rect" id="node71" href="../../dc/dfa/a00894.html#a3f803f7d2d37df82597ce86065bb98a4" title="ripple::LocalCredentials\l::start" alt="" coords="1159,459,1316,506"/><area shape="rect" id="node73" href="../../d0/d61/a00100.html#a0c3f15a3c50547ecb0a40f5824465774" title="ripple::ApplicationImp\l::setup" alt="" coords="1385,459,1532,506"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0a835a6ab5768fd8c44604d4c36635ed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d2/dd2/a01164.html">RandomNumbers</a> &amp; ripple::RandomNumbers::getInstance </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Retrieve the instance of the generator. </p>

<p>Definition at line <a class="el" href="../../d5/d4c/a02846_source.html#l00090">90</a> of file <a class="el" href="../../d5/d4c/a02846_source.html">RandomNumbers.cpp</a>.</p>

<p>References <a class="el" href="../../d0/dbd/a02771_source.html#l00148">instance</a>.</p>

<p>Referenced by <a class="el" href="../../d3/dcf/a03173_source.html#l00286">ripple::checkECIES()</a>, <a class="el" href="../../d1/d0c/a02251_source.html#l00027">ripple::RPCHandler::doRandom()</a>, <a class="el" href="../../d3/dcf/a03173_source.html#l00129">ripple::CKey::encryptECIES()</a>, <a class="el" href="../../d4/d2b/a02979_source.html#l00148">ripple::ProofOfWorkFactoryImp::getProof()</a>, <a class="el" href="../../d3/df5/a02827_source.html#l00106">ripple::HashMaps::NonceHolder&lt; T &gt;::NonceHolder()</a>, <a class="el" href="../../d4/d2b/a02979_source.html#l00038">ripple::ProofOfWorkFactoryImp::ProofOfWorkFactoryImp()</a>, <a class="el" href="../../da/df5/a03220_source.html#l00202">ripple::SNTPClientImp::resolveComplete()</a>, <a class="el" href="../../d2/d9c/a02948_source.html#l00165">ripple::run()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00869">ripple::RippleAddress::setSeedRandom()</a>, <a class="el" href="../../dc/dc5/a02977_source.html#l00098">ripple::ProofOfWork::solve()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l02777">ripple::NetworkOPsImp::subServer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;{</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    <span class="keyword">static</span> <a class="code" href="../../d2/dd2/a01164.html#a1e7b16959183e41c28fdbd47e262b28d">RandomNumbers</a> <a class="code" href="../../d0/dbd/a02771.html#aab538a3d23669a89793e3ff121606c3c">instance</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d0/dbd/a02771.html#aab538a3d23669a89793e3ff121606c3c">instance</a>;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/dd2/a01164_a0a835a6ab5768fd8c44604d4c36635ed_icgraph.png" border="0" usemap="#d2/dd2/a01164_a0a835a6ab5768fd8c44604d4c36635ed_icgraph" alt=""/></div>
<map name="d2/dd2/a01164_a0a835a6ab5768fd8c44604d4c36635ed_icgraph" id="d2/dd2/a01164_a0a835a6ab5768fd8c44604d4c36635ed_icgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a5e3dd1672446270d2ec2eb478ef31f5b" title="ripple::checkECIES" alt="" coords="497,12,633,41"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a1ad63ea274c0e7eb795d2f1d060fb674" title="ripple::RPCHandler\l::doRandom" alt="" coords="253,392,387,439"/><area shape="rect" id="node11" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="1177,286,1255,316"/><area shape="rect" id="node29" href="../../dc/d5d/a00278.html#ad660df4926d0348dac8c4a4d72fa38ec" title="ripple::CKey::encryptECIES" alt="" coords="227,73,413,102"/><area shape="rect" id="node36" href="../../db/d51/a01144.html#a87634294fbf14c8ca02c95bb79ad081e" title="ripple::ProofOfWorkFactory\lImp::getProof" alt="" coords="229,531,411,578"/><area shape="rect" id="node38" href="../../db/d08/a01028.html#a00e2a2853c0e4bc687ef244498e85012" title="ripple::HashMaps::NonceHolder\l::NonceHolder" alt="" coords="216,600,424,647"/><area shape="rect" id="node40" href="../../db/d51/a01144.html#a182b29d4c9a73c3d5cc0f2a9d0302f97" title="ripple::ProofOfWorkFactory\lImp::ProofOfWorkFactoryImp" alt="" coords="223,670,417,716"/><area shape="rect" id="node42" href="../../d2/db1/a01428.html#a2404856b303bf2f5c80fe6e88a326916" title="ripple::SNTPClientImp\l::resolveComplete" alt="" coords="244,739,396,786"/><area shape="rect" id="node55" href="../../d4/d0e/a01272.html#aa92b4ecc2a1c3c00d986a7d042c8be72" title="ripple::RippleAddress\l::setSeedRandom" alt="" coords="247,323,393,370"/><area shape="rect" id="node76" href="../../de/df6/a01141.html#aa57bf68c4f40495817683c407aefad92" title="ripple::ProofOfWork\l::solve" alt="" coords="252,462,388,508"/><area shape="rect" id="node83" href="../../d7/ded/a01009.html#a862ad4901433791b9bea86eb574b3aed" title="ripple::NetworkOPsImp\l::subServer" alt="" coords="241,808,399,855"/><area shape="rect" id="node7" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="720,431,853,478"/><area shape="rect" id="node9" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="932,409,1057,438"/><area shape="rect" id="node17" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="928,462,1061,508"/><area shape="rect" id="node27" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="920,339,1069,386"/><area shape="rect" id="node13" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1425,260,1476,289"/><area shape="rect" id="node15" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="1396,313,1505,342"/><area shape="rect" id="node19" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="1124,496,1308,543"/><area shape="rect" id="node21" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="1129,427,1303,474"/><area shape="rect" id="node23" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="1359,427,1543,474"/><area shape="rect" id="node25" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1593,427,1777,474"/><area shape="rect" id="node32" href="../../d4/d0e/a01272.html#a545876acac69d3944ea3619afce8fb70" title="ripple::RippleAddress\l::accountPrivateEncrypt" alt="" coords="484,64,647,111"/><area shape="rect" id="node34" href="../../de/d85/a01273.html#adddf405a090c12e1047af157091e7dda" title="ripple::RippleAddress\l_test::run" alt="" coords="713,64,860,111"/><area shape="rect" id="node44" href="../../d2/db1/a01428.html#ac7d50947e3f871780e978d22d165f5db" title="ripple::SNTPClientImp\l::doQuery" alt="" coords="489,739,641,786"/><area shape="rect" id="node46" href="../../d2/db1/a01428.html#a9b0fb742ef97afb0a652122a5155519f" title="ripple::SNTPClientImp\l::queryAll" alt="" coords="711,704,863,751"/><area shape="rect" id="node50" href="../../d2/db1/a01428.html#afa7f90cbed492d80d8a017212c345804" title="ripple::SNTPClientImp\l::timerEntry" alt="" coords="711,774,863,820"/><area shape="rect" id="node48" href="../../d2/db1/a01428.html#adc503957f83cec41ccbf501c528aea90" title="ripple::SNTPClientImp\l::init" alt="" coords="919,704,1071,751"/><area shape="rect" id="node52" href="../../d2/db1/a01428.html#aff2aaade7c694ddf1aa57baadafa8ad7" title="ripple::SNTPClientImp\l::SNTPClientImp" alt="" coords="919,774,1071,820"/><area shape="rect" id="node57" href="../../df/d96/a01347.html#a8b34fe88feb28ef414568b1fd6e6b2a1" title="ripple::SerializedTransaction\l_test::run" alt="" coords="472,392,659,439"/><area shape="rect" id="node59" href="../../d4/d0e/a01272.html#af95471d1c7b56c3a12e695a339842e54" title="ripple::RippleAddress\l::createSeedRandom" alt="" coords="492,184,639,231"/><area shape="rect" id="node67" href="../../dc/d8c/a01297.html#aa8d06a22bd4b19b5ca86aaf30abf5801" title="ripple::RPCHandler\l::doValidationCreate" alt="" coords="496,254,635,300"/><area shape="rect" id="node70" href="../../dc/d8c/a01297.html#abdd26c4e121117c798f5a1229fe77979" title="ripple::RPCHandler\l::doWalletPropose" alt="" coords="499,323,632,370"/><area shape="rect" id="node73" href="../../dc/d8c/a01297.html#a94c663acd3d07543ad5ba1c7a53530b6" title="ripple::RPCHandler\l::doWalletSeed" alt="" coords="499,462,632,508"/><area shape="rect" id="node61" href="../../dc/dfa/a00894.html#a1c8442e7e94043576b9b839e39189eb6" title="ripple::LocalCredentials\l::nodeIdentityCreate" alt="" coords="708,184,865,231"/><area shape="rect" id="node63" href="../../dc/dfa/a00894.html#a3f803f7d2d37df82597ce86065bb98a4" title="ripple::LocalCredentials\l::start" alt="" coords="916,184,1073,231"/><area shape="rect" id="node65" href="../../d0/d61/a00100.html#a0c3f15a3c50547ecb0a40f5824465774" title="ripple::ApplicationImp\l::setup" alt="" coords="1143,184,1289,231"/><area shape="rect" id="node78" href="../../d3/ddc/a01142.html#ab63a8e175b40d55ea5fcec7acb3379de" title="ripple::ProofOfWork\l_test::run" alt="" coords="497,651,633,698"/><area shape="rect" id="node80" href="../../dc/d8c/a01297.html#a7e717030ea0eafe8ee38fcc708d0c5be" title="ripple::RPCHandler\l::doProofSolve" alt="" coords="499,582,632,628"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a162c778337290bbe8f22cf070c9ded7c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::RandomNumbers::initialize </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d2c/a01575.html">beast::Journal::Stream</a>&#160;</td>
          <td class="paramname"><em>stream</em> = <code><a class="el" href="../../d4/d2c/a01575.html">beast::Journal::Stream</a>()</code>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initialize the generator.</p>
<p>If the generator is not manually initialized, it will be automatically initialized on first use. If automatic initialization fails, an exception is thrown.</p>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if enough entropy could be retrieved. </dd></dl>

<p>Definition at line <a class="el" href="../../d5/d4c/a02846_source.html#l00050">50</a> of file <a class="el" href="../../d5/d4c/a02846_source.html">RandomNumbers.cpp</a>.</p>

<p>References <a class="el" href="../../d7/d8a/a02830_source.html#l00087">m_initialized</a>, and <a class="el" href="../../d5/d4c/a02846_source.html#l00135">platformAddEntropy()</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d4c/a02846_source.html#l00062">fillBytes()</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;{</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    assert (!<a class="code" href="../../d2/dd2/a01164.html#a420ef4f527a00904ef0c49aa4cb852eb">m_initialized</a>);</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="keywordtype">bool</span> success = <a class="code" href="../../d2/dd2/a01164.html#a029c0ab7c7aafe291d17de9541211116">platformAddEntropy</a> (stream);</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;    <span class="keywordflow">if</span> (success)</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        <a class="code" href="../../d2/dd2/a01164.html#a420ef4f527a00904ef0c49aa4cb852eb">m_initialized</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;    <span class="keywordflow">return</span> success;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/dd2/a01164_a162c778337290bbe8f22cf070c9ded7c_cgraph.png" border="0" usemap="#d2/dd2/a01164_a162c778337290bbe8f22cf070c9ded7c_cgraph" alt=""/></div>
<map name="d2/dd2/a01164_a162c778337290bbe8f22cf070c9ded7c_cgraph" id="d2/dd2/a01164_a162c778337290bbe8f22cf070c9ded7c_cgraph">
<area shape="rect" id="node3" href="../../d2/dd2/a01164.html#a029c0ab7c7aafe291d17de9541211116" title="ripple::RandomNumbers\l::platformAddEntropy" alt="" coords="216,5,379,51"/><area shape="rect" id="node5" href="../../d2/dd6/a03414.html#a7378f09d8f10ef3ccbb2aeefe7ff41d3" title="Json::in" alt="" coords="428,13,495,43"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/dd2/a01164_a162c778337290bbe8f22cf070c9ded7c_icgraph.png" border="0" usemap="#d2/dd2/a01164_a162c778337290bbe8f22cf070c9ded7c_icgraph" alt=""/></div>
<map name="d2/dd2/a01164_a162c778337290bbe8f22cf070c9ded7c_icgraph" id="d2/dd2/a01164_a162c778337290bbe8f22cf070c9ded7c_icgraph">
<area shape="rect" id="node3" href="../../d2/dd2/a01164.html#aa850480b1ab9508d2c3c8e538c08ccff" title="ripple::RandomNumbers\l::fillBytes" alt="" coords="216,351,379,398"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a5e3dd1672446270d2ec2eb478ef31f5b" title="ripple::checkECIES" alt="" coords="705,9,841,38"/><area shape="rect" id="node7" href="../../dc/d8c/a01297.html#a1ad63ea274c0e7eb795d2f1d060fb674" title="ripple::RPCHandler\l::doRandom" alt="" coords="457,192,591,239"/><area shape="rect" id="node31" href="../../dc/d5d/a00278.html#ad660df4926d0348dac8c4a4d72fa38ec" title="ripple::CKey::encryptECIES" alt="" coords="431,70,617,100"/><area shape="rect" id="node38" href="../../d2/dd2/a01164.html#a66da242bba3bd8827b1b2171845aa67a" title="ripple::RandomNumbers\l::fill" alt="" coords="443,380,605,427"/><area shape="rect" id="node61" href="../../db/d51/a01144.html#a87634294fbf14c8ca02c95bb79ad081e" title="ripple::ProofOfWorkFactory\lImp::getProof" alt="" coords="433,450,615,496"/><area shape="rect" id="node63" href="../../db/d51/a01144.html#a182b29d4c9a73c3d5cc0f2a9d0302f97" title="ripple::ProofOfWorkFactory\lImp::ProofOfWorkFactoryImp" alt="" coords="427,519,621,566"/><area shape="rect" id="node65" href="../../d4/d0e/a01272.html#aa92b4ecc2a1c3c00d986a7d042c8be72" title="ripple::RippleAddress\l::setSeedRandom" alt="" coords="700,320,847,367"/><area shape="rect" id="node86" href="../../d7/ded/a01009.html#a862ad4901433791b9bea86eb574b3aed" title="ripple::NetworkOPsImp\l::subServer" alt="" coords="445,588,603,635"/><area shape="rect" id="node9" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="1173,251,1307,298"/><area shape="rect" id="node11" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="1385,198,1511,228"/><area shape="rect" id="node19" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="1381,251,1515,298"/><area shape="rect" id="node29" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="1373,320,1523,367"/><area shape="rect" id="node13" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="1631,198,1708,228"/><area shape="rect" id="node15" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1879,225,1929,254"/><area shape="rect" id="node17" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="1849,172,1959,201"/><area shape="rect" id="node21" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="1577,251,1761,298"/><area shape="rect" id="node23" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="1583,320,1756,367"/><area shape="rect" id="node25" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="1812,320,1996,367"/><area shape="rect" id="node27" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="2047,320,2231,367"/><area shape="rect" id="node34" href="../../d4/d0e/a01272.html#a545876acac69d3944ea3619afce8fb70" title="ripple::RippleAddress\l::accountPrivateEncrypt" alt="" coords="692,62,855,108"/><area shape="rect" id="node36" href="../../de/d85/a01273.html#adddf405a090c12e1047af157091e7dda" title="ripple::RippleAddress\l_test::run" alt="" coords="945,62,1092,108"/><area shape="rect" id="node40" href="../../db/d08/a01028.html#a00e2a2853c0e4bc687ef244498e85012" title="ripple::HashMaps::NonceHolder\l::NonceHolder" alt="" coords="669,494,877,540"/><area shape="rect" id="node42" href="../../d2/db1/a01428.html#a2404856b303bf2f5c80fe6e88a326916" title="ripple::SNTPClientImp\l::resolveComplete" alt="" coords="697,632,849,679"/><area shape="rect" id="node54" href="../../de/df6/a01141.html#aa57bf68c4f40495817683c407aefad92" title="ripple::ProofOfWork\l::solve" alt="" coords="705,424,841,471"/><area shape="rect" id="node44" href="../../d2/db1/a01428.html#ac7d50947e3f871780e978d22d165f5db" title="ripple::SNTPClientImp\l::doQuery" alt="" coords="943,667,1095,714"/><area shape="rect" id="node46" href="../../d2/db1/a01428.html#a9b0fb742ef97afb0a652122a5155519f" title="ripple::SNTPClientImp\l::queryAll" alt="" coords="1164,702,1316,748"/><area shape="rect" id="node50" href="../../d2/db1/a01428.html#afa7f90cbed492d80d8a017212c345804" title="ripple::SNTPClientImp\l::timerEntry" alt="" coords="1164,632,1316,679"/><area shape="rect" id="node48" href="../../d2/db1/a01428.html#adc503957f83cec41ccbf501c528aea90" title="ripple::SNTPClientImp\l::init" alt="" coords="1372,702,1524,748"/><area shape="rect" id="node52" href="../../d2/db1/a01428.html#aff2aaade7c694ddf1aa57baadafa8ad7" title="ripple::SNTPClientImp\l::SNTPClientImp" alt="" coords="1372,632,1524,679"/><area shape="rect" id="node56" href="../../d3/ddc/a01142.html#ab63a8e175b40d55ea5fcec7acb3379de" title="ripple::ProofOfWork\l_test::run" alt="" coords="951,598,1087,644"/><area shape="rect" id="node58" href="../../dc/d8c/a01297.html#a7e717030ea0eafe8ee38fcc708d0c5be" title="ripple::RPCHandler\l::doProofSolve" alt="" coords="952,528,1085,575"/><area shape="rect" id="node67" href="../../df/d96/a01347.html#a8b34fe88feb28ef414568b1fd6e6b2a1" title="ripple::SerializedTransaction\l_test::run" alt="" coords="925,390,1112,436"/><area shape="rect" id="node69" href="../../d4/d0e/a01272.html#af95471d1c7b56c3a12e695a339842e54" title="ripple::RippleAddress\l::createSeedRandom" alt="" coords="945,459,1092,506"/><area shape="rect" id="node77" href="../../dc/d8c/a01297.html#aa8d06a22bd4b19b5ca86aaf30abf5801" title="ripple::RPCHandler\l::doValidationCreate" alt="" coords="949,182,1088,228"/><area shape="rect" id="node80" href="../../dc/d8c/a01297.html#abdd26c4e121117c798f5a1229fe77979" title="ripple::RPCHandler\l::doWalletPropose" alt="" coords="952,251,1085,298"/><area shape="rect" id="node83" href="../../dc/d8c/a01297.html#a94c663acd3d07543ad5ba1c7a53530b6" title="ripple::RPCHandler\l::doWalletSeed" alt="" coords="952,320,1085,367"/><area shape="rect" id="node71" href="../../dc/dfa/a00894.html#a1c8442e7e94043576b9b839e39189eb6" title="ripple::LocalCredentials\l::nodeIdentityCreate" alt="" coords="1161,459,1319,506"/><area shape="rect" id="node73" href="../../dc/dfa/a00894.html#a3f803f7d2d37df82597ce86065bb98a4" title="ripple::LocalCredentials\l::start" alt="" coords="1369,459,1527,506"/><area shape="rect" id="node75" href="../../d0/d61/a00100.html#a0c3f15a3c50547ecb0a40f5824465774" title="ripple::ApplicationImp\l::setup" alt="" coords="1596,459,1743,506"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a029c0ab7c7aafe291d17de9541211116"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::RandomNumbers::platformAddEntropy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/d2c/a01575.html">beast::Journal::Stream</a>&#160;</td>
          <td class="paramname"><em>stream</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d5/d4c/a02846_source.html#l00135">135</a> of file <a class="el" href="../../d5/d4c/a02846_source.html">RandomNumbers.cpp</a>.</p>

<p>References <a class="el" href="../../da/d74/a02451_source.html#l00054">Json::in()</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d4c/a02846_source.html#l00050">initialize()</a>.</p>
<div class="fragment"><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;{</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    <span class="keywordtype">char</span> <a class="code" href="../../d6/d50/a02694.html#a2391b9dab13f09bae65ae349c8d4c271">rand</a>[128];</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;    std::ifstream reader;</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;    reader.open (<span class="stringliteral">&quot;/dev/urandom&quot;</span>, <a class="code" href="../../d2/dd6/a03414.html#a7378f09d8f10ef3ccbb2aeefe7ff41d3">std::ios::in</a> | std::ios::binary);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    <span class="keywordflow">if</span> (!reader.is_open ())</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;    {</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="preprocessor">#ifdef BEAST_DEBUG</span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="preprocessor"></span>        stream &lt;&lt; <span class="stringliteral">&quot;Unable to open random source&quot;</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="preprocessor"></span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    }</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    reader.read (rand, 128);</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;    <span class="keywordtype">int</span> bytesRead = reader.gcount ();</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <span class="keywordflow">if</span> (bytesRead == 0)</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    {</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="preprocessor">#ifdef BEAST_DEBUG</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="preprocessor"></span>        stream &lt;&lt; <span class="stringliteral">&quot;Unable to read from random source&quot;</span>;</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;<span class="preprocessor"></span>        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;    }</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    RAND_seed (rand, bytesRead);</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    <span class="keywordflow">return</span> bytesRead &gt;= 64;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/dd2/a01164_a029c0ab7c7aafe291d17de9541211116_cgraph.png" border="0" usemap="#d2/dd2/a01164_a029c0ab7c7aafe291d17de9541211116_cgraph" alt=""/></div>
<map name="d2/dd2/a01164_a029c0ab7c7aafe291d17de9541211116_cgraph" id="d2/dd2/a01164_a029c0ab7c7aafe291d17de9541211116_cgraph">
<area shape="rect" id="node3" href="../../d2/dd6/a03414.html#a7378f09d8f10ef3ccbb2aeefe7ff41d3" title="Json::in" alt="" coords="217,13,284,43"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d2/dd2/a01164_a029c0ab7c7aafe291d17de9541211116_icgraph.png" border="0" usemap="#d2/dd2/a01164_a029c0ab7c7aafe291d17de9541211116_icgraph" alt=""/></div>
<map name="d2/dd2/a01164_a029c0ab7c7aafe291d17de9541211116_icgraph" id="d2/dd2/a01164_a029c0ab7c7aafe291d17de9541211116_icgraph">
<area shape="rect" id="node3" href="../../d2/dd2/a01164.html#a162c778337290bbe8f22cf070c9ded7c" title="ripple::RandomNumbers\l::initialize" alt="" coords="216,351,379,398"/><area shape="rect" id="node5" href="../../d2/dd2/a01164.html#aa850480b1ab9508d2c3c8e538c08ccff" title="ripple::RandomNumbers\l::fillBytes" alt="" coords="427,351,589,398"/><area shape="rect" id="node7" href="../../d9/d9d/a03417.html#a5e3dd1672446270d2ec2eb478ef31f5b" title="ripple::checkECIES" alt="" coords="916,9,1052,38"/><area shape="rect" id="node9" href="../../dc/d8c/a01297.html#a1ad63ea274c0e7eb795d2f1d060fb674" title="ripple::RPCHandler\l::doRandom" alt="" coords="668,192,801,239"/><area shape="rect" id="node33" href="../../dc/d5d/a00278.html#ad660df4926d0348dac8c4a4d72fa38ec" title="ripple::CKey::encryptECIES" alt="" coords="641,70,828,100"/><area shape="rect" id="node40" href="../../d2/dd2/a01164.html#a66da242bba3bd8827b1b2171845aa67a" title="ripple::RandomNumbers\l::fill" alt="" coords="653,380,816,427"/><area shape="rect" id="node63" href="../../db/d51/a01144.html#a87634294fbf14c8ca02c95bb79ad081e" title="ripple::ProofOfWorkFactory\lImp::getProof" alt="" coords="644,450,825,496"/><area shape="rect" id="node65" href="../../db/d51/a01144.html#a182b29d4c9a73c3d5cc0f2a9d0302f97" title="ripple::ProofOfWorkFactory\lImp::ProofOfWorkFactoryImp" alt="" coords="637,519,832,566"/><area shape="rect" id="node67" href="../../d4/d0e/a01272.html#aa92b4ecc2a1c3c00d986a7d042c8be72" title="ripple::RippleAddress\l::setSeedRandom" alt="" coords="911,320,1057,367"/><area shape="rect" id="node88" href="../../d7/ded/a01009.html#a862ad4901433791b9bea86eb574b3aed" title="ripple::NetworkOPsImp\l::subServer" alt="" coords="656,588,813,635"/><area shape="rect" id="node11" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="1384,251,1517,298"/><area shape="rect" id="node13" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="1596,198,1721,228"/><area shape="rect" id="node21" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="1592,251,1725,298"/><area shape="rect" id="node31" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="1584,320,1733,367"/><area shape="rect" id="node15" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="1841,198,1919,228"/><area shape="rect" id="node17" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="2089,225,2140,254"/><area shape="rect" id="node19" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="2060,172,2169,201"/><area shape="rect" id="node23" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="1788,251,1972,298"/><area shape="rect" id="node25" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="1793,320,1967,367"/><area shape="rect" id="node27" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="2023,320,2207,367"/><area shape="rect" id="node29" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="2257,320,2441,367"/><area shape="rect" id="node36" href="../../d4/d0e/a01272.html#a545876acac69d3944ea3619afce8fb70" title="ripple::RippleAddress\l::accountPrivateEncrypt" alt="" coords="903,62,1065,108"/><area shape="rect" id="node38" href="../../de/d85/a01273.html#adddf405a090c12e1047af157091e7dda" title="ripple::RippleAddress\l_test::run" alt="" coords="1156,62,1303,108"/><area shape="rect" id="node42" href="../../db/d08/a01028.html#a00e2a2853c0e4bc687ef244498e85012" title="ripple::HashMaps::NonceHolder\l::NonceHolder" alt="" coords="880,494,1088,540"/><area shape="rect" id="node44" href="../../d2/db1/a01428.html#a2404856b303bf2f5c80fe6e88a326916" title="ripple::SNTPClientImp\l::resolveComplete" alt="" coords="908,632,1060,679"/><area shape="rect" id="node56" href="../../de/df6/a01141.html#aa57bf68c4f40495817683c407aefad92" title="ripple::ProofOfWork\l::solve" alt="" coords="916,424,1052,471"/><area shape="rect" id="node46" href="../../d2/db1/a01428.html#ac7d50947e3f871780e978d22d165f5db" title="ripple::SNTPClientImp\l::doQuery" alt="" coords="1153,667,1305,714"/><area shape="rect" id="node48" href="../../d2/db1/a01428.html#a9b0fb742ef97afb0a652122a5155519f" title="ripple::SNTPClientImp\l::queryAll" alt="" coords="1375,702,1527,748"/><area shape="rect" id="node52" href="../../d2/db1/a01428.html#afa7f90cbed492d80d8a017212c345804" title="ripple::SNTPClientImp\l::timerEntry" alt="" coords="1375,632,1527,679"/><area shape="rect" id="node50" href="../../d2/db1/a01428.html#adc503957f83cec41ccbf501c528aea90" title="ripple::SNTPClientImp\l::init" alt="" coords="1583,702,1735,748"/><area shape="rect" id="node54" href="../../d2/db1/a01428.html#aff2aaade7c694ddf1aa57baadafa8ad7" title="ripple::SNTPClientImp\l::SNTPClientImp" alt="" coords="1583,632,1735,679"/><area shape="rect" id="node58" href="../../d3/ddc/a01142.html#ab63a8e175b40d55ea5fcec7acb3379de" title="ripple::ProofOfWork\l_test::run" alt="" coords="1161,598,1297,644"/><area shape="rect" id="node60" href="../../dc/d8c/a01297.html#a7e717030ea0eafe8ee38fcc708d0c5be" title="ripple::RPCHandler\l::doProofSolve" alt="" coords="1163,528,1296,575"/><area shape="rect" id="node69" href="../../df/d96/a01347.html#a8b34fe88feb28ef414568b1fd6e6b2a1" title="ripple::SerializedTransaction\l_test::run" alt="" coords="1136,390,1323,436"/><area shape="rect" id="node71" href="../../d4/d0e/a01272.html#af95471d1c7b56c3a12e695a339842e54" title="ripple::RippleAddress\l::createSeedRandom" alt="" coords="1156,459,1303,506"/><area shape="rect" id="node79" href="../../dc/d8c/a01297.html#aa8d06a22bd4b19b5ca86aaf30abf5801" title="ripple::RPCHandler\l::doValidationCreate" alt="" coords="1160,182,1299,228"/><area shape="rect" id="node82" href="../../dc/d8c/a01297.html#abdd26c4e121117c798f5a1229fe77979" title="ripple::RPCHandler\l::doWalletPropose" alt="" coords="1163,251,1296,298"/><area shape="rect" id="node85" href="../../dc/d8c/a01297.html#a94c663acd3d07543ad5ba1c7a53530b6" title="ripple::RPCHandler\l::doWalletSeed" alt="" coords="1163,320,1296,367"/><area shape="rect" id="node73" href="../../dc/dfa/a00894.html#a1c8442e7e94043576b9b839e39189eb6" title="ripple::LocalCredentials\l::nodeIdentityCreate" alt="" coords="1372,459,1529,506"/><area shape="rect" id="node75" href="../../dc/dfa/a00894.html#a3f803f7d2d37df82597ce86065bb98a4" title="ripple::LocalCredentials\l::start" alt="" coords="1580,459,1737,506"/><area shape="rect" id="node77" href="../../d0/d61/a00100.html#a0c3f15a3c50547ecb0a40f5824465774" title="ripple::ApplicationImp\l::setup" alt="" coords="1807,459,1953,506"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4230f5a3d0b479eea5e34523204a384c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::RandomNumbers::platformAddPerformanceMonitorEntropy </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d5/d4c/a02846_source.html#l00178">178</a> of file <a class="el" href="../../d5/d4c/a02846_source.html">RandomNumbers.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;{</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    <span class="comment">// VFALCO TODO Remove all this fancy stuff</span></div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;    <span class="keyword">struct</span></div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;    {</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;        <a class="code" href="../../db/d86/a02663.html#adec1df1b8b51cb32b77e5b86fff46471">std::int64_t</a> operator () ()<span class="keyword"> const</span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="keyword">        </span>{</div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;            <span class="keywordflow">return</span> time (<span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;        }</div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;    } GetTime;</div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;</div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    <span class="keyword">struct</span></div>
<div class="line"><a name="l00190"></a><span class="lineno">  190</span>&#160;    {</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;        <span class="keywordtype">void</span> operator () ()</div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;        {</div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;            <span class="keyword">struct</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;            {</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;                <span class="comment">// VFALCO TODO clean this up</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;                <a class="code" href="../../db/d86/a02663.html#adec1df1b8b51cb32b77e5b86fff46471">std::int64_t</a> operator () ()<span class="keyword"> const</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="keyword">                </span>{</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;                    <a class="code" href="../../db/d86/a02663.html#adec1df1b8b51cb32b77e5b86fff46471">std::int64_t</a> nCounter = 0;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="preprocessor">#if BEAST_WIN32</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="preprocessor"></span>                    QueryPerformanceCounter ((LARGE_INTEGER*)&amp;nCounter);</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="preprocessor"></span>                    timeval t;</div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;                    gettimeofday (&amp;t, <span class="keyword">nullptr</span>);</div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;                    nCounter = t.tv_sec * 1000000 + t.tv_usec;</div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="preprocessor"></span>                    <span class="keywordflow">return</span> nCounter;</div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;                }</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;            } GetPerformanceCounter;</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;            <span class="comment">// Seed with CPU performance counter</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;            <a class="code" href="../../db/d86/a02663.html#adec1df1b8b51cb32b77e5b86fff46471">std::int64_t</a> nCounter = GetPerformanceCounter ();</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;            RAND_add (&amp;nCounter, <span class="keyword">sizeof</span> (nCounter), 1.5);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;            memset (&amp;nCounter, 0, <span class="keyword">sizeof</span> (nCounter));</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;        }</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;    } RandAddSeed;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;    RandAddSeed ();</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;    <span class="comment">// This can take up to 2 seconds, so only do it every 10 minutes</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;    <span class="keyword">static</span> <a class="code" href="../../db/d86/a02663.html#adec1df1b8b51cb32b77e5b86fff46471">std::int64_t</a> nLastPerfmon;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;</div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keywordflow">if</span> (GetTime () &lt; nLastPerfmon + 10 * 60)</div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;    nLastPerfmon = GetTime ();</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="preprocessor">#if BEAST_WIN32</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="preprocessor"></span>    <span class="comment">// Don&#39;t need this on Linux, OpenSSL automatically uses /dev/urandom</span></div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;    <span class="comment">// Seed with the entire set of perfmon data</span></div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">char</span> pdata[250000];</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;    memset (pdata, 0, <span class="keyword">sizeof</span> (pdata));</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> nSize = <span class="keyword">sizeof</span> (pdata);</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keywordtype">long</span> ret = RegQueryValueExA (HKEY_PERFORMANCE_DATA, <span class="stringliteral">&quot;Global&quot;</span>, <span class="keyword">nullptr</span>, <span class="keyword">nullptr</span>, pdata, &amp;nSize);</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    RegCloseKey (HKEY_PERFORMANCE_DATA);</div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;    <span class="keywordflow">if</span> (ret == ERROR_SUCCESS)</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;    {</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;        RAND_add (pdata, nSize, nSize / 100.0);</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        memset (pdata, 0, nSize);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        <span class="comment">//printf(&quot;%s RandAddSeed() %d bytes\n&quot;, DateTimeStrFormat(&quot;%x %H:%M&quot;, GetTime()).c_str(), nSize);</span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    }</div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="preprocessor"></span>}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a420ef4f527a00904ef0c49aa4cb852eb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::RandomNumbers::m_initialized</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d7/d8a/a02830_source.html#l00087">87</a> of file <a class="el" href="../../d7/d8a/a02830_source.html">RandomNumbers.h</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d4c/a02846_source.html#l00062">fillBytes()</a>, and <a class="el" href="../../d5/d4c/a02846_source.html#l00050">initialize()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>rippled/src/ripple/types/api/<a class="el" href="../../d7/d8a/a02830_source.html">RandomNumbers.h</a></li>
<li>rippled/src/ripple/types/impl/<a class="el" href="../../d5/d4c/a02846_source.html">RandomNumbers.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d9/d9d/a03417.html">ripple</a></li><li class="navelem"><a class="el" href="../../d2/dd2/a01164.html">RandomNumbers</a></li>
    <li class="footer">Generated on Fri May 2 2014 05:29:09 for rippled by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
