<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>rippled: ripple::NodeStore::Database Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">rippled
   &#160;<span id="projectnumber">0.24.0-rc1</span>
   </div>
   <div id="projectbrief">Reference implementation of the Ripple Protocol</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('dd/dcb/a00375.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="../../dd/d9e/a08013.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ripple::NodeStore::Database Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d6/d1a/a02895_source.html">Database.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for ripple::NodeStore::Database:</div>
<div class="dyncontent">
<div class="center"><img src="../../d6/d4e/a08014.png" border="0" usemap="#ripple_1_1_node_store_1_1_database_inherit__map" alt="Inheritance graph"/></div>
<map name="ripple_1_1_node_store_1_1_database_inherit__map" id="ripple_1_1_node_store_1_1_database_inherit__map">
<area shape="rect" id="node3" href="../../d4/d13/a00377.html" title="ripple::NodeStore::\lDatabaseImp" alt="" coords="5,102,136,149"/></map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac0f74f1e8f9f06621f9f1e8fb572ca5c"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/a00375.html#ac0f74f1e8f9f06621f9f1e8fb572ca5c">~Database</a> ()=0</td></tr>
<tr class="separator:ac0f74f1e8f9f06621f9f1e8fb572ca5c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0aa67a0af48b998fa138e1e6298b5e00"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../d1/d88/a01578.html">beast::String</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/a00375.html#a0aa67a0af48b998fa138e1e6298b5e00">getName</a> () const =0</td></tr>
<tr class="separator:a0aa67a0af48b998fa138e1e6298b5e00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94726cd802a99e23c4d494a81d496063"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="../../d0/d43/a01020.html#a368f61027f0d1dd7d55451a91a2ae54d">NodeObject::pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/a00375.html#a94726cd802a99e23c4d494a81d496063">fetch</a> (<a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;<a class="el" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>)=0</td></tr>
<tr class="separator:a94726cd802a99e23c4d494a81d496063"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab11a6e82575ae2a38b8f2bba7a0b9f43"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/a00375.html#ab11a6e82575ae2a38b8f2bba7a0b9f43">asyncFetch</a> (<a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;<a class="el" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>, <a class="el" href="../../d0/d43/a01020.html#a368f61027f0d1dd7d55451a91a2ae54d">NodeObject::pointer</a> &amp;object)=0</td></tr>
<tr class="separator:ab11a6e82575ae2a38b8f2bba7a0b9f43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a539d10a0f85deee16c500f4e57fa9648"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/a00375.html#a539d10a0f85deee16c500f4e57fa9648">waitReads</a> ()=0</td></tr>
<tr class="separator:a539d10a0f85deee16c500f4e57fa9648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fb091e51bd36690e0652565a54802e9"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/a00375.html#a0fb091e51bd36690e0652565a54802e9">getDesiredAsyncReadCount</a> ()=0</td></tr>
<tr class="separator:a0fb091e51bd36690e0652565a54802e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeec6606bd5748584f4d36efe9134999f"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/a00375.html#aeec6606bd5748584f4d36efe9134999f">store</a> (<a class="el" href="../../d9/d9d/a03417.html#ad80549ab348d15a7256fe4182bed139f">NodeObjectType</a> type, <a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> ledgerIndex, <a class="el" href="../../d9/d9d/a03417.html#a1b87ba4732cf1725393e8dd60bf73b0c">Blob</a> &amp;data, <a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;<a class="el" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>)=0</td></tr>
<tr class="separator:aeec6606bd5748584f4d36efe9134999f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4629cc028c49b78e8e6e4f835f25ecab"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/a00375.html#a4629cc028c49b78e8e6e4f835f25ecab">visitAll</a> (<a class="el" href="../../dd/ddc/a01802.html">VisitCallback</a> &amp;callback)=0</td></tr>
<tr class="separator:a4629cc028c49b78e8e6e4f835f25ecab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae6e6ec3cb5ab7d104ccfce6a5c9a478e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/a00375.html#ae6e6ec3cb5ab7d104ccfce6a5c9a478e">import</a> (<a class="el" href="../../dd/dcb/a00375.html">Database</a> &amp;sourceDatabase)=0</td></tr>
<tr class="separator:ae6e6ec3cb5ab7d104ccfce6a5c9a478e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabb70be2c6ef7841f534ff9202326e46"><td class="memItemLeft" align="right" valign="top">virtual int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/a00375.html#aabb70be2c6ef7841f534ff9202326e46">getWriteLoad</a> ()=0</td></tr>
<tr class="separator:aabb70be2c6ef7841f534ff9202326e46"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a105cc1993a6e21fa10b5f35ec837ac89"><td class="memItemLeft" align="right" valign="top">virtual float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/a00375.html#a105cc1993a6e21fa10b5f35ec837ac89">getCacheHitRate</a> ()=0</td></tr>
<tr class="separator:a105cc1993a6e21fa10b5f35ec837ac89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81a8841ded0392b729e929efeddc58f6"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/a00375.html#a81a8841ded0392b729e929efeddc58f6">tune</a> (int size, int age)=0</td></tr>
<tr class="separator:a81a8841ded0392b729e929efeddc58f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40a0e5a30857e9ba3c7561748af31e29"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dcb/a00375.html#a40a0e5a30857e9ba3c7561748af31e29">sweep</a> ()=0</td></tr>
<tr class="separator:a40a0e5a30857e9ba3c7561748af31e29"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Persistency layer for <a class="el" href="../../d0/d43/a01020.html">NodeObject</a></p>
<p>A Node is a ledger object which is uniquely identified by a key, which is the 256-bit hash of the body of the node. The payload is a variable length block of serialized data.</p>
<p>All ledger data is stored as node objects and as such, needs to be persisted between launches. Furthermore, since the set of node objects will in general be larger than the amount of available memory, purged node objects which are later accessed must be retrieved from the node store.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="../../d0/d43/a01020.html">NodeObject</a> </dd></dl>

<p>Definition at line <a class="el" href="../../d6/d1a/a02895_source.html#l00039">39</a> of file <a class="el" href="../../d6/d1a/a02895_source.html">Database.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac0f74f1e8f9f06621f9f1e8fb572ca5c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ripple::NodeStore::Database::~Database </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destroy the node store. All pending operations are completed, pending writes flushed, and files closed before this returns. </p>

<p>Definition at line <a class="el" href="../../dd/d44/a02893_source.html#l00023">23</a> of file <a class="el" href="../../dd/d44/a02893_source.html">Database.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;{</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ab11a6e82575ae2a38b8f2bba7a0b9f43"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool ripple::NodeStore::Database::asyncFetch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;&#160;</td>
          <td class="paramname"><em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d43/a01020.html#a368f61027f0d1dd7d55451a91a2ae54d">NodeObject::pointer</a> &amp;&#160;</td>
          <td class="paramname"><em>object</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Fetch an object without waiting. If I/O is required to determine whether or not the object is present, <code>false</code> is returned. Otherwise, <code>true</code> is returned and <code>object</code> is set to refer to the object, or <code>nullptr</code> if the object is not present. If I/O is required, the I/O is scheduled.</p>
<dl class="section note"><dt>Note</dt><dd>This can be called concurrently. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hash</td><td>The key of the object to retrieve </td></tr>
    <tr><td class="paramname">object</td><td>The object retrieved </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Whether the operation completed </dd></dl>

<p>Implemented in <a class="el" href="../../d4/d13/a00377.html#ad5722779ebf33de1e2c7b4ff7c2a8ff9">ripple::NodeStore::DatabaseImp</a>.</p>

<p>Referenced by <a class="el" href="../../dd/da3/a03026_source.html#l00909">ripple::SHAMap::getNodeAsync()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/dcb/a00375_ab11a6e82575ae2a38b8f2bba7a0b9f43_icgraph.png" border="0" usemap="#dd/dcb/a00375_ab11a6e82575ae2a38b8f2bba7a0b9f43_icgraph" alt=""/></div>
<map name="dd/dcb/a00375_ab11a6e82575ae2a38b8f2bba7a0b9f43_icgraph" id="dd/dcb/a00375_ab11a6e82575ae2a38b8f2bba7a0b9f43_icgraph">
<area shape="rect" id="node3" href="../../d6/dfe/a01366.html#a1e6e846eeafeff5bb8ef776b8ce494d3" title="ripple::SHAMap::getNodeAsync" alt="" coords="208,48,416,77"/><area shape="rect" id="node5" href="../../d6/dfe/a01366.html#a3115ce394446e0e2dc1edacb3fa43bc2" title="ripple::SHAMap::getMissing\lNodes" alt="" coords="465,39,649,86"/><area shape="rect" id="node7" href="../../d6/dfe/a01366.html#a429e0c35495bd06580fb4d5456cef910" title="ripple::SHAMap::getNeeded\lHashes" alt="" coords="700,5,884,51"/><area shape="rect" id="node9" href="../../d2/dff/a01374.html#a5ba8e3ec0d8dca936347a2d58b235116" title="ripple::SHAMapSync\l_test::run" alt="" coords="720,74,864,121"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a94726cd802a99e23c4d494a81d496063"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../d0/d43/a01020.html#a368f61027f0d1dd7d55451a91a2ae54d">NodeObject::pointer</a> ripple::NodeStore::Database::fetch </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;&#160;</td>
          <td class="paramname"><em>hash</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Fetch an object. If the object is known to be not in the database, isn't found in the database during the fetch, or failed to load correctly during the fetch, <code>nullptr</code> is returned.</p>
<dl class="section note"><dt>Note</dt><dd>This can be called concurrently. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hash</td><td>The key of the object to retrieve. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The object, or nullptr if it couldn't be retrieved. </dd></dl>

<p>Implemented in <a class="el" href="../../d4/d13/a00377.html#a7c982add1792605104c38a25817274e6">ripple::NodeStore::DatabaseImp</a>.</p>

<p>Referenced by <a class="el" href="../../d8/dec/a03164_source.html#l00172">ripple::NodeStore::TestBase::fetchCopyOfBatch()</a>, <a class="el" href="../../db/d36/a03243_source.html#l01701">ripple::PeerImp::recvGetObjectByHash()</a>, and <a class="el" href="../../df/dfc/a02908_source.html#l00114">ripple::InboundLedger::tryLocal()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/dcb/a00375_a94726cd802a99e23c4d494a81d496063_icgraph.png" border="0" usemap="#dd/dcb/a00375_a94726cd802a99e23c4d494a81d496063_icgraph" alt=""/></div>
<map name="dd/dcb/a00375_a94726cd802a99e23c4d494a81d496063_icgraph" id="dd/dcb/a00375_a94726cd802a99e23c4d494a81d496063_icgraph">
<area shape="rect" id="node3" href="../../d4/dd4/a01659.html#a2f2ab288e77f0f05d7e3b02cc3c9976c" title="ripple::NodeStore::\lTestBase::fetchCopyOfBatch" alt="" coords="184,5,379,51"/><area shape="rect" id="node5" href="../../d9/d10/a01103.html#ac32d101c485f40d3b46812a10bda4271" title="ripple::PeerImp::recvGet\lObjectByHash" alt="" coords="200,74,363,121"/><area shape="rect" id="node29" href="../../dd/d85/a00702.html#af39eb750f0494e6110af054d5a00097f" title="ripple::InboundLedger\l::tryLocal" alt="" coords="208,173,355,219"/><area shape="rect" id="node7" href="../../d9/d10/a01103.html#a50e5197ee12f2fe9b978a9412902b981" title="ripple::PeerImp::process\lReadBuffer" alt="" coords="428,59,591,106"/><area shape="rect" id="node9" href="../../d9/d10/a01103.html#a4dad989e8b4f4c854726a235afb6fbad" title="ripple::PeerImp::handleReadBody" alt="" coords="641,65,857,95"/><area shape="rect" id="node11" href="../../d9/d10/a01103.html#afece44c809309a7730b9192c90065b52" title="ripple::PeerImp::startReadBody" alt="" coords="907,40,1112,69"/><area shape="rect" id="node13" href="../../d9/d10/a01103.html#a751486a781a8805e7ba9b9486110471c" title="ripple::PeerImp::handleRead\lHeader" alt="" coords="1160,27,1347,74"/><area shape="rect" id="node15" href="../../d9/d10/a01103.html#abeee024c8f7c8d235b9bb0239db9f4b2" title="ripple::PeerImp::startRead\lHeader" alt="" coords="1396,58,1569,105"/><area shape="rect" id="node18" href="../../d9/d10/a01103.html#ab770dbfe865c2c492fa66316997b40aa" title="ripple::PeerImp::handleStart" alt="" coords="1619,67,1803,96"/><area shape="rect" id="node20" href="../../d9/d10/a01103.html#abb7f376a3c0cc916f91137c4c2d9c486" title="ripple::PeerImp::accept" alt="" coords="2084,39,2241,68"/><area shape="rect" id="node24" href="../../d9/d10/a01103.html#afb359344939e364b1a9afdcc27a5a0f2" title="ripple::PeerImp::onConnect" alt="" coords="1851,92,2032,121"/><area shape="rect" id="node22" href="../../d9/d10/a01103.html#a2070ddba2d1ac7d2997a0e9b4f76d93f" title="ripple::PeerImp::start" alt="" coords="2293,65,2437,95"/><area shape="rect" id="node26" href="../../d9/d10/a01103.html#a586041b00bf2280463df543bafc86f65" title="ripple::PeerImp::connect" alt="" coords="2081,92,2244,121"/><area shape="rect" id="node31" href="../../dd/d85/a00702.html#adf5774b2251e6aece12ebf911fdd04b7" title="ripple::InboundLedger\l::checkLocal" alt="" coords="436,291,583,338"/><area shape="rect" id="node35" href="../../dd/d85/a00702.html#a291eb601240f81e131f7a232f3eeeb71" title="ripple::InboundLedger\l::init" alt="" coords="676,118,823,165"/><area shape="rect" id="node37" href="../../dd/d85/a00702.html#a9ea46b7b6bbb5f99a9120bbfbc70a64e" title="ripple::InboundLedger\l::trigger" alt="" coords="436,187,583,234"/><area shape="rect" id="node33" href="../../dd/d85/a00702.html#a3365d49eb8fb372a956f1ae208330b7f" title="ripple::InboundLedger\l::onTimer" alt="" coords="676,326,823,373"/><area shape="rect" id="node40" href="../../dd/d85/a00702.html#a4e8b358963095210ee909cd5328c58a9" title="ripple::InboundLedger\l::newPeer" alt="" coords="676,257,823,303"/><area shape="rect" id="node43" href="../../dd/d85/a00702.html#a0fcb919dd1a3c7f0e37525aee124ee7d" title="ripple::InboundLedger\l::runData" alt="" coords="676,187,823,234"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a105cc1993a6e21fa10b5f35ec837ac89"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual float ripple::NodeStore::Database::getCacheHitRate </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="../../d4/d13/a00377.html#a78da88ec849cba95d8e22f0b0cf15700">ripple::NodeStore::DatabaseImp</a>.</p>

<p>Referenced by <a class="el" href="../../dc/df1/a03261_source.html#l00026">ripple::RPCHandler::doGetCounts()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/dcb/a00375_a105cc1993a6e21fa10b5f35ec837ac89_icgraph.png" border="0" usemap="#dd/dcb/a00375_a105cc1993a6e21fa10b5f35ec837ac89_icgraph" alt=""/></div>
<map name="dd/dcb/a00375_a105cc1993a6e21fa10b5f35ec837ac89_icgraph" id="dd/dcb/a00375_a105cc1993a6e21fa10b5f35ec837ac89_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#ae33a4e196231d363db4fe43d05143dce" title="ripple::RPCHandler\l::doGetCounts" alt="" coords="241,109,375,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="425,109,559,155"/><area shape="rect" id="node7" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="616,39,749,86"/><area shape="rect" id="node17" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="608,109,757,155"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="620,179,745,208"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="812,5,985,51"/><area shape="rect" id="node15" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="807,74,991,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="1041,5,1225,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1276,5,1460,51"/><area shape="rect" id="node21" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="860,179,937,208"/><area shape="rect" id="node23" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1108,152,1159,181"/><area shape="rect" id="node25" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="1079,205,1188,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0fb091e51bd36690e0652565a54802e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int ripple::NodeStore::Database::getDesiredAsyncReadCount </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get the maximum number of async reads the node store prefers. </p>
<dl class="section return"><dt>Returns</dt><dd>The number of async reads preferred. </dd></dl>

<p>Implemented in <a class="el" href="../../d4/d13/a00377.html#a000797cd7a52957f7a2f049b658fcd64">ripple::NodeStore::DatabaseImp</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d7f/a03036_source.html#l00118">ripple::SHAMap::getMissingNodes()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/dcb/a00375_a0fb091e51bd36690e0652565a54802e9_icgraph.png" border="0" usemap="#dd/dcb/a00375_a0fb091e51bd36690e0652565a54802e9_icgraph" alt=""/></div>
<map name="dd/dcb/a00375_a0fb091e51bd36690e0652565a54802e9_icgraph" id="dd/dcb/a00375_a0fb091e51bd36690e0652565a54802e9_icgraph">
<area shape="rect" id="node3" href="../../d6/dfe/a01366.html#a3115ce394446e0e2dc1edacb3fa43bc2" title="ripple::SHAMap::getMissing\lNodes" alt="" coords="273,39,457,86"/><area shape="rect" id="node5" href="../../d6/dfe/a01366.html#a429e0c35495bd06580fb4d5456cef910" title="ripple::SHAMap::getNeeded\lHashes" alt="" coords="508,5,692,51"/><area shape="rect" id="node7" href="../../d2/dff/a01374.html#a5ba8e3ec0d8dca936347a2d58b235116" title="ripple::SHAMapSync\l_test::run" alt="" coords="528,74,672,121"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0aa67a0af48b998fa138e1e6298b5e00"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual <a class="el" href="../../d1/d88/a01578.html">beast::String</a> ripple::NodeStore::Database::getName </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Retrieve the name associated with this backend. This is used for diagnostics and may not reflect the actual path or paths used by the underlying backend. </p>

<p>Implemented in <a class="el" href="../../d4/d13/a00377.html#a739188dd07f503587346c5c90e278dba">ripple::NodeStore::DatabaseImp</a>.</p>

<p>Referenced by <a class="el" href="../../d9/da5/a02935_source.html#l01333">ripple::ApplicationImp::updateTables()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/dcb/a00375_a0aa67a0af48b998fa138e1e6298b5e00_icgraph.png" border="0" usemap="#dd/dcb/a00375_a0aa67a0af48b998fa138e1e6298b5e00_icgraph" alt=""/></div>
<map name="dd/dcb/a00375_a0aa67a0af48b998fa138e1e6298b5e00_icgraph" id="dd/dcb/a00375_a0aa67a0af48b998fa138e1e6298b5e00_icgraph">
<area shape="rect" id="node3" href="../../d0/d61/a00100.html#a21d31da2c753ce3e5c3ca5f48684648b" title="ripple::ApplicationImp\l::updateTables" alt="" coords="192,5,339,51"/><area shape="rect" id="node5" href="../../d0/d61/a00100.html#a0c3f15a3c50547ecb0a40f5824465774" title="ripple::ApplicationImp\l::setup" alt="" coords="387,5,533,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aabb70be2c6ef7841f534ff9202326e46"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual int ripple::NodeStore::Database::getWriteLoad </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Retrieve the estimated number of pending write operations. This is used for diagnostics. </p>

<p>Implemented in <a class="el" href="../../d4/d13/a00377.html#a6be1971563ede74beb771e6d598a6d25">ripple::NodeStore::DatabaseImp</a>.</p>

<p>Referenced by <a class="el" href="../../dc/df1/a03261_source.html#l00026">ripple::RPCHandler::doGetCounts()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/dcb/a00375_aabb70be2c6ef7841f534ff9202326e46_icgraph.png" border="0" usemap="#dd/dcb/a00375_aabb70be2c6ef7841f534ff9202326e46_icgraph" alt=""/></div>
<map name="dd/dcb/a00375_aabb70be2c6ef7841f534ff9202326e46_icgraph" id="dd/dcb/a00375_aabb70be2c6ef7841f534ff9202326e46_icgraph">
<area shape="rect" id="node3" href="../../dc/d8c/a01297.html#ae33a4e196231d363db4fe43d05143dce" title="ripple::RPCHandler\l::doGetCounts" alt="" coords="217,109,351,155"/><area shape="rect" id="node5" href="../../dc/d8c/a01297.html#a120877dbbbbb7b6fa1214d28480b728e" title="ripple::RPCHandler\l::doCommand" alt="" coords="401,109,535,155"/><area shape="rect" id="node7" href="../../dc/d8c/a01297.html#a1cd91f081ddb5435c1a768c2501e3ea4" title="ripple::RPCHandler\l::doRpcCommand" alt="" coords="592,39,725,86"/><area shape="rect" id="node17" href="../../da/d5e/a01852.html#ac90aaad2778619d5e2af96248465963d" title="ripple::WSConnection\l::invokeCommand" alt="" coords="584,109,733,155"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a3c77be68a5194379a6bffadc1ff283e7" title="ripple::startServer" alt="" coords="596,179,721,208"/><area shape="rect" id="node9" href="../../d6/d07/a01303.html#a7e0ce39f199a893ba0122aa6612c8f02" title="ripple::RPCServerHandler\l::processRequest" alt="" coords="788,5,961,51"/><area shape="rect" id="node15" href="../../d8/d38/a01299.html#a336553b822ce152d8da5b9888ef0b80d" title="ripple::RPCHTTPServerImp\l::processRequest" alt="" coords="783,74,967,121"/><area shape="rect" id="node11" href="../../d8/d38/a01299.html#ab146ddf2c60287acdc093f382f4839eb" title="ripple::RPCHTTPServerImp\l::processSession" alt="" coords="1017,5,1201,51"/><area shape="rect" id="node13" href="../../d8/d38/a01299.html#a19d94b89eb7a1c0a5f5185dabd6689c7" title="ripple::RPCHTTPServerImp\l::onRequest" alt="" coords="1252,5,1436,51"/><area shape="rect" id="node21" href="../../d9/d9d/a03417.html#a73f08af4dabdb8c1145b44e08e9407aa" title="ripple::run" alt="" coords="836,179,913,208"/><area shape="rect" id="node23" href="../../d1/d03/a02560.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1084,152,1135,181"/><area shape="rect" id="node25" href="../../d4/d87/a03436.html#a2dee4cfaee0b03b858a52104feed97a9" title="rocksdb::TEST" alt="" coords="1055,205,1164,235"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae6e6ec3cb5ab7d104ccfce6a5c9a478e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ripple::NodeStore::Database::import </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/dcb/a00375.html">Database</a> &amp;&#160;</td>
          <td class="paramname"><em>sourceDatabase</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Import objects from another database. </p>

<p>Implemented in <a class="el" href="../../d4/d13/a00377.html#a787eac34615f1b486e789da66d1ec16a">ripple::NodeStore::DatabaseImp</a>.</p>

<p>Referenced by <a class="el" href="../../d9/da5/a02935_source.html#l01333">ripple::ApplicationImp::updateTables()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/dcb/a00375_ae6e6ec3cb5ab7d104ccfce6a5c9a478e_icgraph.png" border="0" usemap="#dd/dcb/a00375_ae6e6ec3cb5ab7d104ccfce6a5c9a478e_icgraph" alt=""/></div>
<map name="dd/dcb/a00375_ae6e6ec3cb5ab7d104ccfce6a5c9a478e_icgraph" id="dd/dcb/a00375_ae6e6ec3cb5ab7d104ccfce6a5c9a478e_icgraph">
<area shape="rect" id="node3" href="../../d0/d61/a00100.html#a21d31da2c753ce3e5c3ca5f48684648b" title="ripple::ApplicationImp\l::updateTables" alt="" coords="184,5,331,51"/><area shape="rect" id="node5" href="../../d0/d61/a00100.html#a0c3f15a3c50547ecb0a40f5824465774" title="ripple::ApplicationImp\l::setup" alt="" coords="379,5,525,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aeec6606bd5748584f4d36efe9134999f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ripple::NodeStore::Database::store </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d9/d9d/a03417.html#ad80549ab348d15a7256fe4182bed139f">NodeObjectType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td>
          <td class="paramname"><em>ledgerIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d9d/a03417.html#a1b87ba4732cf1725393e8dd60bf73b0c">Blob</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;&#160;</td>
          <td class="paramname"><em>hash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Store the object.</p>
<p>The caller's Blob parameter is overwritten.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>The type of object. </td></tr>
    <tr><td class="paramname">ledgerIndex</td><td>The ledger in which the object appears. </td></tr>
    <tr><td class="paramname">data</td><td>The payload of the object. The caller's variable is overwritten. </td></tr>
    <tr><td class="paramname">hash</td><td>The 256-bit hash of the payload data.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>true</code> if the object was stored? </dd></dl>

<p>Implemented in <a class="el" href="../../d4/d13/a00377.html#a9c99ee6668c5b47c4e320971a18626e0">ripple::NodeStore::DatabaseImp</a>.</p>

<p>Referenced by <a class="el" href="../../dd/da3/a03026_source.html#l01103">ripple::SHAMap::flushDirty()</a>, <a class="el" href="../../d8/d23/a03038_source.html#l00087">ripple::AccountStateSF::gotNode()</a>, <a class="el" href="../../d8/d23/a03038_source.html#l00110">ripple::TransactionStateSF::gotNode()</a>, <a class="el" href="../../dd/d3f/a02912_source.html#l00558">ripple::Ledger::saveValidatedLedger()</a>, <a class="el" href="../../d8/dec/a03164_source.html#l00156">ripple::NodeStore::TestBase::storeBatch()</a>, <a class="el" href="../../df/dfc/a02908_source.html#l00763">ripple::InboundLedger::takeBase()</a>, and <a class="el" href="../../df/dfc/a02908_source.html#l00114">ripple::InboundLedger::tryLocal()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/dcb/a00375_aeec6606bd5748584f4d36efe9134999f_icgraph.png" border="0" usemap="#dd/dcb/a00375_aeec6606bd5748584f4d36efe9134999f_icgraph" alt=""/></div>
<map name="dd/dcb/a00375_aeec6606bd5748584f4d36efe9134999f_icgraph" id="dd/dcb/a00375_aeec6606bd5748584f4d36efe9134999f_icgraph">
<area shape="rect" id="node3" href="../../d6/dfe/a01366.html#ac6cf96fcb609794800a98a1a683409b8" title="ripple::SHAMap::flushDirty" alt="" coords="191,44,369,73"/><area shape="rect" id="node11" href="../../d4/de8/a00061.html#a2f2e2c7205f8c64274183718237eb93f" title="ripple::AccountStateSF\l::gotNode" alt="" coords="201,97,359,143"/><area shape="rect" id="node13" href="../../d6/d9a/a01710.html#ab9023b3567450a87a24fd987e1849baa" title="ripple::TransactionState\lSF::gotNode" alt="" coords="200,166,360,213"/><area shape="rect" id="node15" href="../../dd/d5f/a00825.html#ae53bf5480c98b36a234e01de0f437845" title="ripple::Ledger::saveValidated\lLedger" alt="" coords="185,235,375,282"/><area shape="rect" id="node22" href="../../d4/dd4/a01659.html#a50f8fd79e970626074538cf54ca8432f" title="ripple::NodeStore::\lTestBase::storeBatch" alt="" coords="205,305,355,351"/><area shape="rect" id="node24" href="../../dd/d85/a00702.html#aa9b0d7e617e5618283b3ec288fead9f3" title="ripple::InboundLedger\l::takeBase" alt="" coords="207,374,353,421"/><area shape="rect" id="node30" href="../../dd/d85/a00702.html#af39eb750f0494e6110af054d5a00097f" title="ripple::InboundLedger\l::tryLocal" alt="" coords="207,470,353,517"/><area shape="rect" id="node5" href="../../d7/d5f/a00831.html#a6ba19bf5453dc0ae0faf92362a4d18b9" title="ripple::LedgerConsensusImp\l::accept" alt="" coords="427,5,613,51"/><area shape="rect" id="node9" href="../../dd/d5f/a00825.html#a8dd03134fa7dd4588e66b2736d335389" title="ripple::Ledger::Ledger" alt="" coords="447,75,593,104"/><area shape="rect" id="node7" href="../../d7/d5f/a00831.html#a5d2d8edb361ed4c7d18a944cf03a9b18" title="ripple::LedgerConsensusImp\l::beginAccept" alt="" coords="665,5,852,51"/><area shape="rect" id="node17" href="../../dd/d5f/a00825.html#a84fb9cd4200c6cc8ae48bc9f0279f731" title="ripple::Ledger::pendSave\lValidated" alt="" coords="676,222,841,269"/><area shape="rect" id="node19" href="../../dd/d5f/a00825.html#a4ce86b946061155e228c9ea08f9d5bc9" title="ripple::Ledger::saveValidated\lLedgerAsync" alt="" coords="425,253,615,299"/><area shape="rect" id="node26" href="../../dd/d85/a00702.html#a80d8b140f40327d7fc808f0663128479" title="ripple::InboundLedger\l::processData" alt="" coords="447,357,593,403"/><area shape="rect" id="node28" href="../../dd/d85/a00702.html#a0fcb919dd1a3c7f0e37525aee124ee7d" title="ripple::InboundLedger\l::runData" alt="" coords="685,357,832,403"/><area shape="rect" id="node32" href="../../dd/d85/a00702.html#adf5774b2251e6aece12ebf911fdd04b7" title="ripple::InboundLedger\l::checkLocal" alt="" coords="447,495,593,542"/><area shape="rect" id="node36" href="../../dd/d85/a00702.html#a291eb601240f81e131f7a232f3eeeb71" title="ripple::InboundLedger\l::init" alt="" coords="685,565,832,611"/><area shape="rect" id="node38" href="../../dd/d85/a00702.html#a9ea46b7b6bbb5f99a9120bbfbc70a64e" title="ripple::InboundLedger\l::trigger" alt="" coords="447,426,593,473"/><area shape="rect" id="node34" href="../../dd/d85/a00702.html#a3365d49eb8fb372a956f1ae208330b7f" title="ripple::InboundLedger\l::onTimer" alt="" coords="685,495,832,542"/><area shape="rect" id="node41" href="../../dd/d85/a00702.html#a4e8b358963095210ee909cd5328c58a9" title="ripple::InboundLedger\l::newPeer" alt="" coords="685,426,832,473"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a40a0e5a30857e9ba3c7561748af31e29"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ripple::NodeStore::Database::sweep </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="../../d4/d13/a00377.html#a46cd4cab7f3ec8f5cacd8b612d5613ab">ripple::NodeStore::DatabaseImp</a>.</p>

<p>Referenced by <a class="el" href="../../d9/da5/a02935_source.html#l01004">ripple::ApplicationImp::doSweep()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/dcb/a00375_a40a0e5a30857e9ba3c7561748af31e29_icgraph.png" border="0" usemap="#dd/dcb/a00375_a40a0e5a30857e9ba3c7561748af31e29_icgraph" alt=""/></div>
<map name="dd/dcb/a00375_a40a0e5a30857e9ba3c7561748af31e29_icgraph" id="dd/dcb/a00375_a40a0e5a30857e9ba3c7561748af31e29_icgraph">
<area shape="rect" id="node3" href="../../d0/d61/a00100.html#a36c07d12a41729d4e595e6ebab1b2a2e" title="ripple::ApplicationImp\l::doSweep" alt="" coords="184,5,331,51"/><area shape="rect" id="node5" href="../../d0/d61/a00100.html#a7bb2c406b46c6f545d4d4cc28129af1c" title="ripple::ApplicationImp\l::onDeadlineTimer" alt="" coords="379,5,525,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a81a8841ded0392b729e929efeddc58f6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ripple::NodeStore::Database::tune </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>age</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implemented in <a class="el" href="../../d4/d13/a00377.html#a3acbbadb58ac0e077a0450e48a081d00">ripple::NodeStore::DatabaseImp</a>.</p>

</div>
</div>
<a class="anchor" id="a4629cc028c49b78e8e6e4f835f25ecab"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ripple::NodeStore::Database::visitAll </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/ddc/a01802.html">VisitCallback</a> &amp;&#160;</td>
          <td class="paramname"><em>callback</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Visit every object in the database This is usually called during import.</p>
<dl class="section note"><dt>Note</dt><dd>This routine will not be called concurrently with itself or other methods. </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="../../dd/dcb/a00375.html#ae6e6ec3cb5ab7d104ccfce6a5c9a478e">import</a> </dd></dl>

<p>Implemented in <a class="el" href="../../d4/d13/a00377.html#a3d5319ac00e1a914cd292ca4a3f8ef98">ripple::NodeStore::DatabaseImp</a>.</p>

</div>
</div>
<a class="anchor" id="a539d10a0f85deee16c500f4e57fa9648"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void ripple::NodeStore::Database::waitReads </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Wait for all currently pending async reads to complete. </p>

<p>Implemented in <a class="el" href="../../d4/d13/a00377.html#a31e5ec3465c6063a2b4f1014ae6286ae">ripple::NodeStore::DatabaseImp</a>.</p>

<p>Referenced by <a class="el" href="../../d5/d7f/a03036_source.html#l00118">ripple::SHAMap::getMissingNodes()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/dcb/a00375_a539d10a0f85deee16c500f4e57fa9648_icgraph.png" border="0" usemap="#dd/dcb/a00375_a539d10a0f85deee16c500f4e57fa9648_icgraph" alt=""/></div>
<map name="dd/dcb/a00375_a539d10a0f85deee16c500f4e57fa9648_icgraph" id="dd/dcb/a00375_a539d10a0f85deee16c500f4e57fa9648_icgraph">
<area shape="rect" id="node3" href="../../d6/dfe/a01366.html#a3115ce394446e0e2dc1edacb3fa43bc2" title="ripple::SHAMap::getMissing\lNodes" alt="" coords="204,39,388,86"/><area shape="rect" id="node5" href="../../d6/dfe/a01366.html#a429e0c35495bd06580fb4d5456cef910" title="ripple::SHAMap::getNeeded\lHashes" alt="" coords="439,5,623,51"/><area shape="rect" id="node7" href="../../d2/dff/a01374.html#a5ba8e3ec0d8dca936347a2d58b235116" title="ripple::SHAMapSync\l_test::run" alt="" coords="459,74,603,121"/></map>
</div>
</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>rippled/src/ripple_core/nodestore/api/<a class="el" href="../../d6/d1a/a02895_source.html">Database.h</a></li>
<li>rippled/src/ripple_core/nodestore/impl/<a class="el" href="../../dd/d44/a02893_source.html">Database.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d9/d9d/a03417.html">ripple</a></li><li class="navelem"><a class="el" href="../../d9/d2c/a03421.html">NodeStore</a></li><li class="navelem"><a class="el" href="../../dd/dcb/a00375.html">Database</a></li>
    <li class="footer">Generated on Fri May 2 2014 05:29:17 for rippled by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
