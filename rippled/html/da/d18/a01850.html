<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>rippled: rocksdb::log::Writer Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">rippled
   &#160;<span id="projectnumber">0.24.0-rc1</span>
   </div>
   <div id="projectbrief">Reference implementation of the Ripple Protocol</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('da/d18/a01850.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d3/d63/a09053.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">rocksdb::log::Writer Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../d0/dea/a02585_source.html">log_writer.h</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for rocksdb::log::Writer:</div>
<div class="dyncontent">
<div class="center"><img src="../../d3/d8b/a09054.png" border="0" usemap="#rocksdb_1_1log_1_1_writer_coll__map" alt="Collaboration graph"/></div>
<map name="rocksdb_1_1log_1_1_writer_coll__map" id="rocksdb_1_1log_1_1_writer_coll__map">
<area shape="rect" id="node4" href="../../d9/d75/a01843.html" title="rocksdb::WritableFile" alt="" coords="16,5,160,35"/></map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa962e7e89be5bf09b39e7d563c05d825"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d18/a01850.html#aa962e7e89be5bf09b39e7d563c05d825">Writer</a> (unique_ptr&lt; <a class="el" href="../../d9/d75/a01843.html">WritableFile</a> &gt; &amp;&amp;dest)</td></tr>
<tr class="separator:aa962e7e89be5bf09b39e7d563c05d825"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad77d0f650621bfa4e2dc8bff60dad766"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d18/a01850.html#ad77d0f650621bfa4e2dc8bff60dad766">~Writer</a> ()</td></tr>
<tr class="separator:ad77d0f650621bfa4e2dc8bff60dad766"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38f817406010aa11b3e9ece52425cae2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/db9/a01552.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d18/a01850.html#a38f817406010aa11b3e9ece52425cae2">AddRecord</a> (const <a class="el" href="../../de/daf/a01417.html">Slice</a> &amp;slice)</td></tr>
<tr class="separator:a38f817406010aa11b3e9ece52425cae2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac5ee3a7c71e142996f54c2f9716131c5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d75/a01843.html">WritableFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d18/a01850.html#ac5ee3a7c71e142996f54c2f9716131c5">file</a> ()</td></tr>
<tr class="separator:ac5ee3a7c71e142996f54c2f9716131c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a73d20bd9c70b31fe9502e096b93ae1"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="../../d9/d75/a01843.html">WritableFile</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d18/a01850.html#a8a73d20bd9c70b31fe9502e096b93ae1">file</a> () const </td></tr>
<tr class="separator:a8a73d20bd9c70b31fe9502e096b93ae1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:aa1a71db57537317c5621593b04750216"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/db9/a01552.html">Status</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d18/a01850.html#aa1a71db57537317c5621593b04750216">EmitPhysicalRecord</a> (<a class="el" href="../../db/db5/a03468.html#a74f7335ef3445af14b9a167b2ba0864e">RecordType</a> type, const char *ptr, size_t length)</td></tr>
<tr class="separator:aa1a71db57537317c5621593b04750216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac670e444d03a0249c3e64ab66cc0befa"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d18/a01850.html#ac670e444d03a0249c3e64ab66cc0befa">Writer</a> (const <a class="el" href="../../da/d18/a01850.html">Writer</a> &amp;)</td></tr>
<tr class="separator:ac670e444d03a0249c3e64ab66cc0befa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b9f7a1f5334b8a94d591e96cd1ad321"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d18/a01850.html#a4b9f7a1f5334b8a94d591e96cd1ad321">operator=</a> (const <a class="el" href="../../da/d18/a01850.html">Writer</a> &amp;)</td></tr>
<tr class="separator:a4b9f7a1f5334b8a94d591e96cd1ad321"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a0fc64a644886110fefcb4149847b3020"><td class="memItemLeft" align="right" valign="top">unique_ptr&lt; <a class="el" href="../../d9/d75/a01843.html">WritableFile</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d18/a01850.html#a0fc64a644886110fefcb4149847b3020">dest_</a></td></tr>
<tr class="separator:a0fc64a644886110fefcb4149847b3020"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a65515614111e757ff8aad78de7eb6c75"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d18/a01850.html#a65515614111e757ff8aad78de7eb6c75">block_offset_</a></td></tr>
<tr class="separator:a65515614111e757ff8aad78de7eb6c75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f5fde2f35f980ca9640bc58545576b5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../da/d18/a01850.html#a7f5fde2f35f980ca9640bc58545576b5">type_crc_</a> [<a class="el" href="../../db/db5/a03468.html#ae8d976aa45c281e56e8938e282c6dd4b">kMaxRecordType</a>+1]</td></tr>
<tr class="separator:a7f5fde2f35f980ca9640bc58545576b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="../../d0/dea/a02585_source.html#l00025">25</a> of file <a class="el" href="../../d0/dea/a02585_source.html">log_writer.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa962e7e89be5bf09b39e7d563c05d825"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rocksdb::log::Writer::Writer </td>
          <td>(</td>
          <td class="paramtype">unique_ptr&lt; <a class="el" href="../../d9/d75/a01843.html">WritableFile</a> &gt; &amp;&amp;&#160;</td>
          <td class="paramname"><em>dest</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/d28/a02584_source.html#l00020">20</a> of file <a class="el" href="../../dc/d28/a02584_source.html">log_writer.cc</a>.</p>

<p>References <a class="el" href="../../d7/d66/a02580_source.html#l00028">rocksdb::log::kMaxRecordType</a>, <a class="el" href="../../d0/dea/a02585_source.html#l00045">type_crc_</a>, and <a class="el" href="../../de/d3e/a02727_source.html#l00023">rocksdb::crc32c::Value()</a>.</p>
<div class="fragment"><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;    : <a class="code" href="../../da/d18/a01850.html#a0fc64a644886110fefcb4149847b3020">dest_</a>(std::move(dest)),</div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;      <a class="code" href="../../da/d18/a01850.html#a65515614111e757ff8aad78de7eb6c75">block_offset_</a>(0) {</div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;  <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt;= <a class="code" href="../../db/db5/a03468.html#ae8d976aa45c281e56e8938e282c6dd4b">kMaxRecordType</a>; i++) {</div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;    <span class="keywordtype">char</span> t = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(i);</div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;    <a class="code" href="../../da/d18/a01850.html#a7f5fde2f35f980ca9640bc58545576b5">type_crc_</a>[i] = <a class="code" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9">crc32c::Value</a>(&amp;t, 1);</div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;  }</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d18/a01850_aa962e7e89be5bf09b39e7d563c05d825_cgraph.png" border="0" usemap="#da/d18/a01850_aa962e7e89be5bf09b39e7d563c05d825_cgraph" alt=""/></div>
<map name="da/d18/a01850_aa962e7e89be5bf09b39e7d563c05d825_cgraph" id="da/d18/a01850_aa962e7e89be5bf09b39e7d563c05d825_cgraph">
<area shape="rect" id="node3" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="191,83,345,112"/><area shape="rect" id="node5" href="../../d7/db0/a03467.html#aba0a720f8204028aa9b0f78f969d5f97" title="rocksdb::crc32c::Extend" alt="" coords="396,83,559,112"/><area shape="rect" id="node7" href="../../d7/db0/a03467.html#a174fe9c8cf3cb558b7accfdc10c6c04c" title="rocksdb::crc32c::CRC32" alt="" coords="609,83,775,112"/><area shape="rect" id="node9" href="../../d7/db0/a03467.html#aeb8537c518a4a8ac7e1d8f8ac1c6bb63" title="rocksdb::crc32c::Choose\l_CRC32" alt="" coords="824,74,992,121"/><area shape="rect" id="node11" href="../../d7/db0/a03467.html#ab6bf1f9041f7859fe1aae6312f650115" title="rocksdb::crc32c::Fast\l_CRC32" alt="" coords="1053,14,1203,61"/><area shape="rect" id="node19" href="../../d7/db0/a03467.html#aabbb4470a0a8566fff676e40a5c3a491" title="rocksdb::crc32c::Slow\l_CRC32" alt="" coords="1264,74,1416,121"/><area shape="rect" id="node24" href="../../d7/db0/a03467.html#a6abc7c8ed18979f0e12fcfb6460f9285" title="rocksdb::crc32c::isSSE42" alt="" coords="1041,135,1215,164"/><area shape="rect" id="node13" href="../../d7/db0/a03467.html#aa5eeccea7be6cc99acab7223cc1c7baf" title="rocksdb::crc32c::LE\l_LOAD64" alt="" coords="1271,5,1409,51"/><area shape="rect" id="node15" href="../../d4/d87/a03436.html#a0bb1082c7c473bb0c6614963a14fed62" title="rocksdb::DecodeFixed64" alt="" coords="1465,16,1631,45"/><area shape="rect" id="node17" href="../../d4/d87/a03436.html#a5eb46c01bbc65cc301b2648e655dbe15" title="rocksdb::DecodeFixed32" alt="" coords="1681,48,1847,77"/><area shape="rect" id="node21" href="../../d7/db0/a03467.html#a72b216c9d4dfeeaea89e2410eec06ff9" title="rocksdb::crc32c::LE\l_LOAD32" alt="" coords="1479,70,1617,117"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad77d0f650621bfa4e2dc8bff60dad766"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">rocksdb::log::Writer::~Writer </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/d28/a02584_source.html#l00029">29</a> of file <a class="el" href="../../dc/d28/a02584_source.html">log_writer.cc</a>.</p>
<div class="fragment"><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;                {</div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac670e444d03a0249c3e64ab66cc0befa"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">rocksdb::log::Writer::Writer </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d18/a01850.html">Writer</a> &amp;&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a38f817406010aa11b3e9ece52425cae2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/db9/a01552.html">Status</a> rocksdb::log::Writer::AddRecord </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../de/daf/a01417.html">Slice</a> &amp;&#160;</td>
          <td class="paramname"><em>slice</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/d28/a02584_source.html#l00032">32</a> of file <a class="el" href="../../dc/d28/a02584_source.html">log_writer.cc</a>.</p>

<p>References <a class="el" href="../../d0/dea/a02585_source.html#l00040">block_offset_</a>, <a class="el" href="../../dd/d75/a02639_source.html#l00046">rocksdb::Slice::data()</a>, <a class="el" href="../../d0/dea/a02585_source.html#l00039">dest_</a>, <a class="el" href="../../dc/d28/a02584_source.html#l00080">EmitPhysicalRecord()</a>, <a class="el" href="../../d7/d66/a02580_source.html#l00030">rocksdb::log::kBlockSize</a>, <a class="el" href="../../d7/d66/a02580_source.html#l00024">rocksdb::log::kFirstType</a>, <a class="el" href="../../d7/d66/a02580_source.html#l00021">rocksdb::log::kFullType</a>, <a class="el" href="../../d7/d66/a02580_source.html#l00033">rocksdb::log::kHeaderSize</a>, <a class="el" href="../../d7/d66/a02580_source.html#l00026">rocksdb::log::kLastType</a>, <a class="el" href="../../d7/d66/a02580_source.html#l00025">rocksdb::log::kMiddleType</a>, <a class="el" href="../../d5/d96/a02642_source.html#l00062">rocksdb::Status::ok()</a>, and <a class="el" href="../../dd/d75/a02639_source.html#l00049">rocksdb::Slice::size()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d44/a02564_source.html#l00363">rocksdb::DBImpl::NewDB()</a>, <a class="el" href="../../dc/d15/a02583_source.html#l00146">rocksdb::log::LogTest::Write()</a>, and <a class="el" href="../../d6/dfc/a02612_source.html#l01819">rocksdb::VersionSet::WriteSnapshot()</a>.</p>
<div class="fragment"><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;                                           {</div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;  <span class="keyword">const</span> <span class="keywordtype">char</span>* ptr = slice.data();</div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  <span class="keywordtype">size_t</span> left = slice.size();</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;</div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;  <span class="comment">// Fragment the record if necessary and emit it.  Note that if slice</span></div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;  <span class="comment">// is empty, we still want to iterate once to emit a single</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;  <span class="comment">// zero-length record</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;  <a class="code" href="../../d9/d2c/a03421.html#af127c2e4fc73b5d35647147ef45b350c">Status</a> s;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;  <span class="keywordtype">bool</span> begin = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;  <span class="keywordflow">do</span> {</div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">int</span> leftover = <a class="code" href="../../db/db5/a03468.html#a00b1380129c937b835cf7c34f4ed6531">kBlockSize</a> - <a class="code" href="../../da/d18/a01850.html#a65515614111e757ff8aad78de7eb6c75">block_offset_</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;    assert(leftover &gt;= 0);</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    <span class="keywordflow">if</span> (leftover &lt; <a class="code" href="../../db/db5/a03468.html#a65e367282121a27e00230acb234dd19a">kHeaderSize</a>) {</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;      <span class="comment">// Switch to a new block</span></div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;      <span class="keywordflow">if</span> (leftover &gt; 0) {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;        <span class="comment">// Fill the trailer (literal below relies on kHeaderSize being 7)</span></div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;        assert(<a class="code" href="../../db/db5/a03468.html#a65e367282121a27e00230acb234dd19a">kHeaderSize</a> == 7);</div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;        <a class="code" href="../../da/d18/a01850.html#a0fc64a644886110fefcb4149847b3020">dest_</a>-&gt;Append(Slice(<span class="stringliteral">&quot;\x00\x00\x00\x00\x00\x00&quot;</span>, leftover));</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;      }</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      block_offset_ = 0;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    }</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;    <span class="comment">// Invariant: we never leave &lt; kHeaderSize bytes in a block.</span></div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;    assert(<a class="code" href="../../db/db5/a03468.html#a00b1380129c937b835cf7c34f4ed6531">kBlockSize</a> - block_offset_ - <a class="code" href="../../db/db5/a03468.html#a65e367282121a27e00230acb234dd19a">kHeaderSize</a> &gt;= 0);</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> avail = <a class="code" href="../../db/db5/a03468.html#a00b1380129c937b835cf7c34f4ed6531">kBlockSize</a> - block_offset_ - <a class="code" href="../../db/db5/a03468.html#a65e367282121a27e00230acb234dd19a">kHeaderSize</a>;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">size_t</span> fragment_length = (left &lt; avail) ? left : avail;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;    <a class="code" href="../../db/db5/a03468.html#a74f7335ef3445af14b9a167b2ba0864e">RecordType</a> type;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keyword">const</span> <span class="keywordtype">bool</span> end = (left == fragment_length);</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;    <span class="keywordflow">if</span> (begin &amp;&amp; end) {</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;      type = <a class="code" href="../../db/db5/a03468.html#a74f7335ef3445af14b9a167b2ba0864ea4a067f062290a0fd7e25735dd89bd48d">kFullType</a>;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (begin) {</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;      type = <a class="code" href="../../db/db5/a03468.html#a74f7335ef3445af14b9a167b2ba0864eaa148b9f10d68a7147f5e5493f1011d21">kFirstType</a>;</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (end) {</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;      type = <a class="code" href="../../db/db5/a03468.html#a74f7335ef3445af14b9a167b2ba0864eaabd98fd2948fd5ade3a3a2a533a9b024">kLastType</a>;</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;    } <span class="keywordflow">else</span> {</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;      type = <a class="code" href="../../db/db5/a03468.html#a74f7335ef3445af14b9a167b2ba0864ea8e212001f35e68b4e85318949b76f9d7">kMiddleType</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;    }</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    s = <a class="code" href="../../da/d18/a01850.html#aa1a71db57537317c5621593b04750216">EmitPhysicalRecord</a>(type, ptr, fragment_length);</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;    ptr += fragment_length;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    left -= fragment_length;</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    begin = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  } <span class="keywordflow">while</span> (s.ok() &amp;&amp; left &gt; 0);</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  <span class="keywordflow">return</span> s;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d18/a01850_a38f817406010aa11b3e9ece52425cae2_cgraph.png" border="0" usemap="#da/d18/a01850_a38f817406010aa11b3e9ece52425cae2_cgraph" alt=""/></div>
<map name="da/d18/a01850_a38f817406010aa11b3e9ece52425cae2_cgraph" id="da/d18/a01850_a38f817406010aa11b3e9ece52425cae2_cgraph">
<area shape="rect" id="node3" href="../../de/daf/a01417.html#abed770f35075076510897c3fbbc10923" title="rocksdb::Slice::data" alt="" coords="195,121,333,151"/><area shape="rect" id="node5" href="../../da/d18/a01850.html#aa1a71db57537317c5621593b04750216" title="rocksdb::log::Writer\l::EmitPhysicalRecord" alt="" coords="189,174,339,221"/><area shape="rect" id="node33" href="../../d0/db9/a01552.html#a63cba37f62403ccc2f3e8b0b8ee04425" title="rocksdb::Status::ok" alt="" coords="403,243,539,272"/><area shape="rect" id="node36" href="../../de/daf/a01417.html#aeb3a4a3ede98a163cc3796ef0d4a759d" title="rocksdb::Slice::size" alt="" coords="196,295,332,324"/><area shape="rect" id="node7" href="../../d7/db0/a03467.html#aba0a720f8204028aa9b0f78f969d5f97" title="rocksdb::crc32c::Extend" alt="" coords="389,83,552,112"/><area shape="rect" id="node29" href="../../d7/db0/a03467.html#a878557cbe7e1259455691fa1eb7b2743" title="rocksdb::crc32c::Mask" alt="" coords="393,136,548,165"/><area shape="rect" id="node31" href="../../d4/d87/a03436.html#aabc7ce45ae48e15b24a6756f9b4fd694" title="rocksdb::EncodeFixed32" alt="" coords="388,189,553,219"/><area shape="rect" id="node9" href="../../d7/db0/a03467.html#a174fe9c8cf3cb558b7accfdc10c6c04c" title="rocksdb::crc32c::CRC32" alt="" coords="604,83,769,112"/><area shape="rect" id="node11" href="../../d7/db0/a03467.html#aeb8537c518a4a8ac7e1d8f8ac1c6bb63" title="rocksdb::crc32c::Choose\l_CRC32" alt="" coords="819,74,987,121"/><area shape="rect" id="node13" href="../../d7/db0/a03467.html#ab6bf1f9041f7859fe1aae6312f650115" title="rocksdb::crc32c::Fast\l_CRC32" alt="" coords="1048,14,1197,61"/><area shape="rect" id="node21" href="../../d7/db0/a03467.html#aabbb4470a0a8566fff676e40a5c3a491" title="rocksdb::crc32c::Slow\l_CRC32" alt="" coords="1259,74,1411,121"/><area shape="rect" id="node26" href="../../d7/db0/a03467.html#a6abc7c8ed18979f0e12fcfb6460f9285" title="rocksdb::crc32c::isSSE42" alt="" coords="1036,135,1209,164"/><area shape="rect" id="node15" href="../../d7/db0/a03467.html#aa5eeccea7be6cc99acab7223cc1c7baf" title="rocksdb::crc32c::LE\l_LOAD64" alt="" coords="1265,5,1404,51"/><area shape="rect" id="node17" href="../../d4/d87/a03436.html#a0bb1082c7c473bb0c6614963a14fed62" title="rocksdb::DecodeFixed64" alt="" coords="1460,16,1625,45"/><area shape="rect" id="node19" href="../../d4/d87/a03436.html#a5eb46c01bbc65cc301b2648e655dbe15" title="rocksdb::DecodeFixed32" alt="" coords="1676,48,1841,77"/><area shape="rect" id="node23" href="../../d7/db0/a03467.html#a72b216c9d4dfeeaea89e2410eec06ff9" title="rocksdb::crc32c::LE\l_LOAD32" alt="" coords="1473,70,1612,117"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d18/a01850_a38f817406010aa11b3e9ece52425cae2_icgraph.png" border="0" usemap="#da/d18/a01850_a38f817406010aa11b3e9ece52425cae2_icgraph" alt=""/></div>
<map name="da/d18/a01850_a38f817406010aa11b3e9ece52425cae2_icgraph" id="da/d18/a01850_a38f817406010aa11b3e9ece52425cae2_icgraph">
<area shape="rect" id="node3" href="../../dd/df5/a00386.html#adca3cc37d179c0402363d4cae6529d72" title="rocksdb::DBImpl::NewDB" alt="" coords="191,896,364,925"/><area shape="rect" id="node84" href="../../d0/ddf/a00918.html#aa0b722fb0da16a3fc99003e367c14c27" title="rocksdb::log::LogTest\l::Write" alt="" coords="204,978,351,1025"/><area shape="rect" id="node92" href="../../d1/d42/a01800.html#ab1e1ece4fbaa4098f0e08154f773cb61" title="rocksdb::VersionSet\l::WriteSnapshot" alt="" coords="208,1089,347,1135"/><area shape="rect" id="node5" href="../../dd/df5/a00386.html#afe079cf353957e6c79ed794cbc0bb9fc" title="rocksdb::DBImpl::Recover" alt="" coords="415,663,591,692"/><area shape="rect" id="node7" href="../../d8/ddd/a00380.html#a898ece06bdc8a5ec59e5996a01f2650d" title="rocksdb::DB::Open" alt="" coords="673,632,807,661"/><area shape="rect" id="node9" href="../../d4/d87/a03436.html#a397a8fe5f365d028536a4f82449726b9" title="rocksdb::BM_LogAndApply" alt="" coords="907,1277,1085,1307"/><area shape="rect" id="node13" href="../../d4/d27/a00392.html#ac1f3d9d21c81bd7381627456ed8f06b4" title="rocksdb::DBWithTTL\l::DBWithTTL" alt="" coords="924,562,1068,609"/><area shape="rect" id="node15" href="../../d6/da8/a02693.html#a217dbf8b442f20279ea00b898af96f52" title="main" alt="" coords="971,632,1021,661"/><area shape="rect" id="node17" href="../../da/dee/a00383.html#aa25b54342133aea90459685d5f58ee2d" title="rocksdb::DBConstructor\l::NewDB" alt="" coords="915,423,1077,470"/><area shape="rect" id="node23" href="../../d8/d64/a00181.html#ab8387daed213810058d1fc9541bdaacc" title="rocksdb::Benchmark\l::Open" alt="" coords="925,685,1067,731"/><area shape="rect" id="node27" href="../../d3/daa/a01577.html#abd8a7f61f0b14b85acd87a4d77a6e394" title="rocksdb::StressTest\l::Open" alt="" coords="927,754,1065,801"/><area shape="rect" id="node33" href="../../d0/d88/a01231.html#a1cf658812203ec463aa4bd1a688434cb" title="rocksdb::ReduceLevelTest\l::OpenDB" alt="" coords="907,823,1085,870"/><area shape="rect" id="node35" href="../../d4/d87/a03436.html#ae1d0f9b5886776b75ab26edd57c52741" title="rocksdb::OpenDb" alt="" coords="935,1224,1057,1253"/><area shape="rect" id="node45" href="../../d0/d61/a01130.html#af98a7496147d77913015c51780f766bc" title="rocksdb::PrefixTest\l::OpenDb" alt="" coords="928,962,1064,1009"/><area shape="rect" id="node47" href="../../de/d9d/a00813.html#a1e30a763620671ecdcdb1abc079b0167" title="rocksdb::LDBCommand\l::OpenDB" alt="" coords="915,893,1077,939"/><area shape="rect" id="node53" href="../../d4/d87/a03436.html#a6cef9e517390b068bbabfa5267621060" title="rocksdb::OpenNormalDb" alt="" coords="1189,72,1355,101"/><area shape="rect" id="node56" href="../../db/d95/a00391.html#a9f9969a19cf328935234d867f6f17b0b" title="rocksdb::DBTest::PureReopen" alt="" coords="896,1032,1096,1061"/><area shape="rect" id="node58" href="../../d0/dc7/a01402.html#a8f0e4e467e3e1df811a9583150902c9f" title="rocksdb::SimpleTableDBTest\l::PureReopen" alt="" coords="900,1085,1092,1131"/><area shape="rect" id="node60" href="../../de/d16/a01228.html#a4602503c6a2659926aaa2dcf47e789df" title="Constructors. " alt="" coords="927,5,1065,51"/><area shape="rect" id="node62" href="../../de/de8/a00405.html#a7edc59b996abfcb8ca20815e17079e44" title="rocksdb::DeleteFileTest\l::ReopenDB" alt="" coords="916,125,1076,171"/><area shape="rect" id="node66" href="../../d4/d87/a03436.html#a0b1de5b83de45a9d933c398b7cde23a7" title="rocksdb::TableReaderBenchmark" alt="" coords="888,195,1104,224"/><area shape="rect" id="node70" href="../../d4/d87/a03436.html#a8ba93bfa1ae44c10535930930b4e30b6" title="rocksdb::TEST" alt="" coords="941,248,1051,277"/><area shape="rect" id="node72" href="../../d9/d48/a00345.html#ad31d70372891633ef7d3ccafe5540d63" title="rocksdb::CorruptionTest\l::TryReopen" alt="" coords="915,301,1077,347"/><area shape="rect" id="node76" href="../../db/d95/a00391.html#aec8d2ea7e19d5417cf47fa3565d3bd67" title="rocksdb::DBTest::TryReopen" alt="" coords="900,371,1092,400"/><area shape="rect" id="node82" href="../../d0/dc7/a01402.html#a4b0084a45075e30aca7dca07fc7c5ab4" title="rocksdb::SimpleTableDBTest\l::TryReopen" alt="" coords="900,493,1092,539"/><area shape="rect" id="node11" href="../../d9/de7/a02572.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1247,1281,1297,1311"/><area shape="rect" id="node19" href="../../da/dee/a00383.html#a8cdb390521098e2a5f737561e9eb1134" title="rocksdb::DBConstructor\l::DBConstructor" alt="" coords="1191,525,1353,571"/><area shape="rect" id="node21" href="../../da/dee/a00383.html#ae9772754567f1b3c0ca7d5285a56ac6d" title="rocksdb::DBConstructor\l::FinishImpl" alt="" coords="1191,455,1353,502"/><area shape="rect" id="node25" href="../../d8/d64/a00181.html#a03997e3f4e60726e27f582cf684aa33a" title="rocksdb::Benchmark::Run" alt="" coords="1185,693,1359,723"/><area shape="rect" id="node29" href="../../d3/daa/a01577.html#aeac9f55bde5a11da0fcc2c88465de0c6" title="rocksdb::StressTest\l::Reopen" alt="" coords="1203,807,1341,854"/><area shape="rect" id="node31" href="../../d3/daa/a01577.html#af7e726bf27e216787e7c331834ec6075" title="rocksdb::StressTest::Run" alt="" coords="1187,755,1357,784"/><area shape="rect" id="node37" href="../../d4/d87/a03436.html#af1858c0090bf0030df9887905454e091" title="rocksdb::ProfileKeyComparison" alt="" coords="1169,1159,1375,1188"/><area shape="rect" id="node39" href="../../da/df3/a01581.html#af0dad875d53811db3382d7ab0ad93b01" title="rocksdb::StringAppendOperator\lTest::SetOpenDbFunction" alt="" coords="1171,1211,1373,1258"/><area shape="rect" id="node43" href="../../d4/d87/a03436.html#aafdfbf71b796b87dd60a624b2de3938c" title="rocksdb::TEST" alt="" coords="1217,1105,1327,1135"/><area shape="rect" id="node41" href="../../dc/d6a/a02779.html#a1fa3253ca11014c1b01923a1674ff19c" title="main" alt="" coords="1440,647,1491,676"/><area shape="rect" id="node49" href="../../d0/d58/a01230.html#af2eb900c9cab82e8dffb16d90d070ae1" title="rocksdb::ReduceDBLevelsCommand\l::DoCommand" alt="" coords="1153,994,1391,1041"/><area shape="rect" id="node51" href="../../de/d9d/a00813.html#ab355fd20f7ef62b0cb2e673a6a2d9bec" title="rocksdb::LDBCommand::Run" alt="" coords="1175,901,1369,931"/><area shape="rect" id="node64" href="../../de/de8/a00405.html#a933dd568c54ab3647b4d3abd944f4db6" title="rocksdb::DeleteFileTest\l::DeleteFileTest" alt="" coords="1192,125,1352,171"/><area shape="rect" id="node68" href="../../db/d84/a02686.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1247,195,1297,224"/><area shape="rect" id="node74" href="../../d9/d48/a00345.html#a2a4568d536e0fb60278635f6f27078df" title="rocksdb::CorruptionTest\l::Reopen" alt="" coords="1191,247,1353,294"/><area shape="rect" id="node78" href="../../db/d95/a00391.html#a21ea2025701f28a3c295db6a7e9bb881" title="rocksdb::DBTest::ChangeCompact\lOptions" alt="" coords="1159,317,1385,363"/><area shape="rect" id="node80" href="../../db/d95/a00391.html#ada9d4dceac67de38a2d6b39b1f4b42ba" title="rocksdb::DBTest::Destroy\lAndReopen" alt="" coords="1185,386,1359,433"/><area shape="rect" id="node86" href="../../d0/ddf/a00918.html#a300b98b782923d395fd162601c5273d4" title="rocksdb::log::LogTest\l::WriteInitialOffsetLog" alt="" coords="428,978,577,1025"/><area shape="rect" id="node88" href="../../d0/ddf/a00918.html#a9214c65a9609b8dead5640c80d44d3fe" title="rocksdb::log::LogTest\l::CheckInitialOffsetRecord" alt="" coords="652,938,828,985"/><area shape="rect" id="node90" href="../../d0/ddf/a00918.html#aabb9e723514342bcd2b572efbefe980f" title="rocksdb::log::LogTest\l::CheckOffsetPastEndReturns\lNoRecords" alt="" coords="640,1008,840,1072"/><area shape="rect" id="node94" href="../../d1/d42/a01800.html#a8d4bdcc8a079afc6fcac4f19fbaf1d50" title="rocksdb::VersionSet\l::LogAndApply" alt="" coords="671,1211,809,1258"/><area shape="rect" id="node97" href="../../d7/dd4/a00968.html#ac91fdc0526a34fee8369c19f92223514" title="rocksdb::MemTableList\l::InstallMemtableFlushResults" alt="" coords="897,1330,1095,1377"/><area shape="rect" id="node101" href="../../d1/d42/a01800.html#a788a71e004c7a132a2fea2a82eedccd6" title="rocksdb::VersionSet\l::ReduceNumberOfLevels" alt="" coords="909,1154,1083,1201"/><area shape="rect" id="node99" href="../../dd/df5/a00386.html#a3f1443d5437c4f0e98d7b0eb2839ef2e" title="rocksdb::DBImpl::FlushMem\lTableToOutputFile" alt="" coords="1177,1334,1367,1381"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa1a71db57537317c5621593b04750216"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/db9/a01552.html">Status</a> rocksdb::log::Writer::EmitPhysicalRecord </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/db5/a03468.html#a74f7335ef3445af14b9a167b2ba0864e">RecordType</a>&#160;</td>
          <td class="paramname"><em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>ptr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>length</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../dc/d28/a02584_source.html#l00080">80</a> of file <a class="el" href="../../dc/d28/a02584_source.html">log_writer.cc</a>.</p>

<p>References <a class="el" href="../../d0/dea/a02585_source.html#l00040">block_offset_</a>, <a class="el" href="../../d0/dea/a02585_source.html#l00039">dest_</a>, <a class="el" href="../../df/d84/a02722_source.html#l00016">rocksdb::EncodeFixed32()</a>, <a class="el" href="../../d6/d95/a02726_source.html#l00350">rocksdb::crc32c::Extend()</a>, <a class="el" href="../../d7/d66/a02580_source.html#l00030">rocksdb::log::kBlockSize</a>, <a class="el" href="../../d7/d66/a02580_source.html#l00033">rocksdb::log::kHeaderSize</a>, <a class="el" href="../../de/d3e/a02727_source.html#l00034">rocksdb::crc32c::Mask()</a>, <a class="el" href="../../d5/d96/a02642_source.html#l00062">rocksdb::Status::ok()</a>, and <a class="el" href="../../d0/dea/a02585_source.html#l00045">type_crc_</a>.</p>

<p>Referenced by <a class="el" href="../../dc/d28/a02584_source.html#l00032">AddRecord()</a>.</p>
<div class="fragment"><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;                                                                         {</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;  assert(n &lt;= 0xffff);  <span class="comment">// Must fit in two bytes</span></div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  assert(<a class="code" href="../../da/d18/a01850.html#a65515614111e757ff8aad78de7eb6c75">block_offset_</a> + <a class="code" href="../../db/db5/a03468.html#a65e367282121a27e00230acb234dd19a">kHeaderSize</a> + n &lt;= <a class="code" href="../../db/db5/a03468.html#a00b1380129c937b835cf7c34f4ed6531">kBlockSize</a>);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="comment">// Format the header</span></div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <span class="keywordtype">char</span> buf[<a class="code" href="../../db/db5/a03468.html#a65e367282121a27e00230acb234dd19a">kHeaderSize</a>];</div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;  buf[4] = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(n &amp; 0xff);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  buf[5] = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(n &gt;&gt; 8);</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  buf[6] = <span class="keyword">static_cast&lt;</span><span class="keywordtype">char</span><span class="keyword">&gt;</span>(t);</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;  <span class="comment">// Compute the crc of the record type and the payload.</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;  <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> crc = <a class="code" href="../../d7/db0/a03467.html#aba0a720f8204028aa9b0f78f969d5f97">crc32c::Extend</a>(<a class="code" href="../../da/d18/a01850.html#a7f5fde2f35f980ca9640bc58545576b5">type_crc_</a>[t], ptr, n);</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;  crc = <a class="code" href="../../d7/db0/a03467.html#a878557cbe7e1259455691fa1eb7b2743">crc32c::Mask</a>(crc);                 <span class="comment">// Adjust for storage</span></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  <a class="code" href="../../d4/d87/a03436.html#aabc7ce45ae48e15b24a6756f9b4fd694">EncodeFixed32</a>(buf, crc);</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  <span class="comment">// Write the header and the payload</span></div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;  <a class="code" href="../../d9/d2c/a03421.html#af127c2e4fc73b5d35647147ef45b350c">Status</a> s = <a class="code" href="../../da/d18/a01850.html#a0fc64a644886110fefcb4149847b3020">dest_</a>-&gt;Append(Slice(buf, <a class="code" href="../../db/db5/a03468.html#a65e367282121a27e00230acb234dd19a">kHeaderSize</a>));</div>
<div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;  <span class="keywordflow">if</span> (s.ok()) {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    s = <a class="code" href="../../da/d18/a01850.html#a0fc64a644886110fefcb4149847b3020">dest_</a>-&gt;Append(Slice(ptr, n));</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">if</span> (s.ok()) {</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;      s = <a class="code" href="../../da/d18/a01850.html#a0fc64a644886110fefcb4149847b3020">dest_</a>-&gt;Flush();</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    }</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;  }</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;  <a class="code" href="../../da/d18/a01850.html#a65515614111e757ff8aad78de7eb6c75">block_offset_</a> += <a class="code" href="../../db/db5/a03468.html#a65e367282121a27e00230acb234dd19a">kHeaderSize</a> + n;</div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;  <span class="keywordflow">return</span> s;</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d18/a01850_aa1a71db57537317c5621593b04750216_cgraph.png" border="0" usemap="#da/d18/a01850_aa1a71db57537317c5621593b04750216_cgraph" alt=""/></div>
<map name="da/d18/a01850_aa1a71db57537317c5621593b04750216_cgraph" id="da/d18/a01850_aa1a71db57537317c5621593b04750216_cgraph">
<area shape="rect" id="node3" href="../../d4/d87/a03436.html#aabc7ce45ae48e15b24a6756f9b4fd694" title="rocksdb::EncodeFixed32" alt="" coords="204,29,369,59"/><area shape="rect" id="node5" href="../../d7/db0/a03467.html#aba0a720f8204028aa9b0f78f969d5f97" title="rocksdb::crc32c::Extend" alt="" coords="205,83,368,112"/><area shape="rect" id="node27" href="../../d7/db0/a03467.html#a878557cbe7e1259455691fa1eb7b2743" title="rocksdb::crc32c::Mask" alt="" coords="209,136,364,165"/><area shape="rect" id="node29" href="../../d0/db9/a01552.html#a63cba37f62403ccc2f3e8b0b8ee04425" title="rocksdb::Status::ok" alt="" coords="219,189,355,219"/><area shape="rect" id="node7" href="../../d7/db0/a03467.html#a174fe9c8cf3cb558b7accfdc10c6c04c" title="rocksdb::crc32c::CRC32" alt="" coords="420,83,585,112"/><area shape="rect" id="node9" href="../../d7/db0/a03467.html#aeb8537c518a4a8ac7e1d8f8ac1c6bb63" title="rocksdb::crc32c::Choose\l_CRC32" alt="" coords="635,74,803,121"/><area shape="rect" id="node11" href="../../d7/db0/a03467.html#ab6bf1f9041f7859fe1aae6312f650115" title="rocksdb::crc32c::Fast\l_CRC32" alt="" coords="864,14,1013,61"/><area shape="rect" id="node19" href="../../d7/db0/a03467.html#aabbb4470a0a8566fff676e40a5c3a491" title="rocksdb::crc32c::Slow\l_CRC32" alt="" coords="1075,74,1227,121"/><area shape="rect" id="node24" href="../../d7/db0/a03467.html#a6abc7c8ed18979f0e12fcfb6460f9285" title="rocksdb::crc32c::isSSE42" alt="" coords="852,135,1025,164"/><area shape="rect" id="node13" href="../../d7/db0/a03467.html#aa5eeccea7be6cc99acab7223cc1c7baf" title="rocksdb::crc32c::LE\l_LOAD64" alt="" coords="1081,5,1220,51"/><area shape="rect" id="node15" href="../../d4/d87/a03436.html#a0bb1082c7c473bb0c6614963a14fed62" title="rocksdb::DecodeFixed64" alt="" coords="1276,16,1441,45"/><area shape="rect" id="node17" href="../../d4/d87/a03436.html#a5eb46c01bbc65cc301b2648e655dbe15" title="rocksdb::DecodeFixed32" alt="" coords="1492,48,1657,77"/><area shape="rect" id="node21" href="../../d7/db0/a03467.html#a72b216c9d4dfeeaea89e2410eec06ff9" title="rocksdb::crc32c::LE\l_LOAD32" alt="" coords="1289,70,1428,117"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d18/a01850_aa1a71db57537317c5621593b04750216_icgraph.png" border="0" usemap="#da/d18/a01850_aa1a71db57537317c5621593b04750216_icgraph" alt=""/></div>
<map name="da/d18/a01850_aa1a71db57537317c5621593b04750216_icgraph" id="da/d18/a01850_aa1a71db57537317c5621593b04750216_icgraph">
<area shape="rect" id="node3" href="../../da/d18/a01850.html#a38f817406010aa11b3e9ece52425cae2" title="rocksdb::log::Writer\l::AddRecord" alt="" coords="203,1230,339,1277"/><area shape="rect" id="node5" href="../../dd/df5/a00386.html#adca3cc37d179c0402363d4cae6529d72" title="rocksdb::DBImpl::NewDB" alt="" coords="388,1052,561,1081"/><area shape="rect" id="node84" href="../../d0/ddf/a00918.html#aa0b722fb0da16a3fc99003e367c14c27" title="rocksdb::log::LogTest\l::Write" alt="" coords="401,1299,548,1346"/><area shape="rect" id="node92" href="../../d1/d42/a01800.html#ab1e1ece4fbaa4098f0e08154f773cb61" title="rocksdb::VersionSet\l::WriteSnapshot" alt="" coords="405,1230,544,1277"/><area shape="rect" id="node7" href="../../dd/df5/a00386.html#afe079cf353957e6c79ed794cbc0bb9fc" title="rocksdb::DBImpl::Recover" alt="" coords="612,800,788,829"/><area shape="rect" id="node9" href="../../d8/ddd/a00380.html#a898ece06bdc8a5ec59e5996a01f2650d" title="rocksdb::DB::Open" alt="" coords="871,643,1004,672"/><area shape="rect" id="node11" href="../../d4/d87/a03436.html#a397a8fe5f365d028536a4f82449726b9" title="rocksdb::BM_LogAndApply" alt="" coords="1104,1208,1283,1237"/><area shape="rect" id="node15" href="../../d4/d27/a00392.html#ac1f3d9d21c81bd7381627456ed8f06b4" title="rocksdb::DBWithTTL\l::DBWithTTL" alt="" coords="1121,634,1265,681"/><area shape="rect" id="node17" href="../../d6/da8/a02693.html#a217dbf8b442f20279ea00b898af96f52" title="main" alt="" coords="1168,704,1219,733"/><area shape="rect" id="node19" href="../../da/dee/a00383.html#aa25b54342133aea90459685d5f58ee2d" title="rocksdb::DBConstructor\l::NewDB" alt="" coords="1112,565,1275,611"/><area shape="rect" id="node25" href="../../d8/d64/a00181.html#ab8387daed213810058d1fc9541bdaacc" title="rocksdb::Benchmark\l::Open" alt="" coords="1123,757,1264,803"/><area shape="rect" id="node29" href="../../d3/daa/a01577.html#abd8a7f61f0b14b85acd87a4d77a6e394" title="rocksdb::StressTest\l::Open" alt="" coords="1124,826,1263,873"/><area shape="rect" id="node35" href="../../d0/d88/a01231.html#a1cf658812203ec463aa4bd1a688434cb" title="rocksdb::ReduceLevelTest\l::OpenDB" alt="" coords="1104,949,1283,995"/><area shape="rect" id="node37" href="../../d4/d87/a03436.html#ae1d0f9b5886776b75ab26edd57c52741" title="rocksdb::OpenDb" alt="" coords="1132,896,1255,925"/><area shape="rect" id="node47" href="../../d0/d61/a01130.html#af98a7496147d77913015c51780f766bc" title="rocksdb::PrefixTest\l::OpenDb" alt="" coords="1125,1138,1261,1185"/><area shape="rect" id="node49" href="../../de/d9d/a00813.html#a1e30a763620671ecdcdb1abc079b0167" title="rocksdb::LDBCommand\l::OpenDB" alt="" coords="1112,1069,1275,1115"/><area shape="rect" id="node55" href="../../d4/d87/a03436.html#a6cef9e517390b068bbabfa5267621060" title="rocksdb::OpenNormalDb" alt="" coords="1387,1051,1552,1080"/><area shape="rect" id="node58" href="../../db/d95/a00391.html#a9f9969a19cf328935234d867f6f17b0b" title="rocksdb::DBTest::PureReopen" alt="" coords="1093,5,1293,35"/><area shape="rect" id="node60" href="../../d0/dc7/a01402.html#a8f0e4e467e3e1df811a9583150902c9f" title="rocksdb::SimpleTableDBTest\l::PureReopen" alt="" coords="1097,58,1289,105"/><area shape="rect" id="node62" href="../../de/d16/a01228.html#a4602503c6a2659926aaa2dcf47e789df" title="Constructors. " alt="" coords="1124,127,1263,174"/><area shape="rect" id="node64" href="../../de/de8/a00405.html#a7edc59b996abfcb8ca20815e17079e44" title="rocksdb::DeleteFileTest\l::ReopenDB" alt="" coords="1113,197,1273,243"/><area shape="rect" id="node68" href="../../d4/d87/a03436.html#a0b1de5b83de45a9d933c398b7cde23a7" title="rocksdb::TableReaderBenchmark" alt="" coords="1085,320,1301,349"/><area shape="rect" id="node72" href="../../d4/d87/a03436.html#a8ba93bfa1ae44c10535930930b4e30b6" title="rocksdb::TEST" alt="" coords="1139,267,1248,296"/><area shape="rect" id="node74" href="../../d9/d48/a00345.html#ad31d70372891633ef7d3ccafe5540d63" title="rocksdb::CorruptionTest\l::TryReopen" alt="" coords="1112,373,1275,419"/><area shape="rect" id="node78" href="../../db/d95/a00391.html#aec8d2ea7e19d5417cf47fa3565d3bd67" title="rocksdb::DBTest::TryReopen" alt="" coords="1097,443,1289,472"/><area shape="rect" id="node82" href="../../d0/dc7/a01402.html#a4b0084a45075e30aca7dca07fc7c5ab4" title="rocksdb::SimpleTableDBTest\l::TryReopen" alt="" coords="1097,495,1289,542"/><area shape="rect" id="node13" href="../../d9/de7/a02572.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1444,1208,1495,1237"/><area shape="rect" id="node21" href="../../da/dee/a00383.html#a8cdb390521098e2a5f737561e9eb1134" title="rocksdb::DBConstructor\l::DBConstructor" alt="" coords="1388,607,1551,654"/><area shape="rect" id="node23" href="../../da/dee/a00383.html#ae9772754567f1b3c0ca7d5285a56ac6d" title="rocksdb::DBConstructor\l::FinishImpl" alt="" coords="1388,538,1551,585"/><area shape="rect" id="node27" href="../../d8/d64/a00181.html#a03997e3f4e60726e27f582cf684aa33a" title="rocksdb::Benchmark::Run" alt="" coords="1383,699,1556,728"/><area shape="rect" id="node31" href="../../d3/daa/a01577.html#aeac9f55bde5a11da0fcc2c88465de0c6" title="rocksdb::StressTest\l::Reopen" alt="" coords="1400,805,1539,851"/><area shape="rect" id="node33" href="../../d3/daa/a01577.html#af7e726bf27e216787e7c331834ec6075" title="rocksdb::StressTest::Run" alt="" coords="1384,752,1555,781"/><area shape="rect" id="node39" href="../../d4/d87/a03436.html#af1858c0090bf0030df9887905454e091" title="rocksdb::ProfileKeyComparison" alt="" coords="1367,875,1572,904"/><area shape="rect" id="node41" href="../../da/df3/a01581.html#af0dad875d53811db3382d7ab0ad93b01" title="rocksdb::StringAppendOperator\lTest::SetOpenDbFunction" alt="" coords="1368,981,1571,1027"/><area shape="rect" id="node45" href="../../d4/d87/a03436.html#aafdfbf71b796b87dd60a624b2de3938c" title="rocksdb::TEST" alt="" coords="1415,928,1524,957"/><area shape="rect" id="node43" href="../../dc/d6a/a02779.html#a1fa3253ca11014c1b01923a1674ff19c" title="main" alt="" coords="1637,1020,1688,1049"/><area shape="rect" id="node51" href="../../d0/d58/a01230.html#af2eb900c9cab82e8dffb16d90d070ae1" title="rocksdb::ReduceDBLevelsCommand\l::DoCommand" alt="" coords="1351,1261,1588,1307"/><area shape="rect" id="node53" href="../../de/d9d/a00813.html#ab355fd20f7ef62b0cb2e673a6a2d9bec" title="rocksdb::LDBCommand::Run" alt="" coords="1372,1104,1567,1133"/><area shape="rect" id="node66" href="../../de/de8/a00405.html#a933dd568c54ab3647b4d3abd944f4db6" title="rocksdb::DeleteFileTest\l::DeleteFileTest" alt="" coords="1389,197,1549,243"/><area shape="rect" id="node70" href="../../db/d84/a02686.html#a3c04138a5bfe5d72780bb7e82a18e627" title="main" alt="" coords="1444,320,1495,349"/><area shape="rect" id="node76" href="../../d9/d48/a00345.html#a2a4568d536e0fb60278635f6f27078df" title="rocksdb::CorruptionTest\l::Reopen" alt="" coords="1388,373,1551,419"/><area shape="rect" id="node80" href="../../db/d95/a00391.html#a21ea2025701f28a3c295db6a7e9bb881" title="rocksdb::DBTest::ChangeCompact\lOptions" alt="" coords="1356,442,1583,489"/><area shape="rect" id="node86" href="../../d0/ddf/a00918.html#a300b98b782923d395fd162601c5273d4" title="rocksdb::log::LogTest\l::WriteInitialOffsetLog" alt="" coords="625,1299,775,1346"/><area shape="rect" id="node88" href="../../d0/ddf/a00918.html#a9214c65a9609b8dead5640c80d44d3fe" title="rocksdb::log::LogTest\l::CheckInitialOffsetRecord" alt="" coords="849,1299,1025,1346"/><area shape="rect" id="node90" href="../../d0/ddf/a00918.html#aabb9e723514342bcd2b572efbefe980f" title="rocksdb::log::LogTest\l::CheckOffsetPastEndReturns\lNoRecords" alt="" coords="837,1369,1037,1433"/><area shape="rect" id="node94" href="../../d1/d42/a01800.html#a8d4bdcc8a079afc6fcac4f19fbaf1d50" title="rocksdb::VersionSet\l::LogAndApply" alt="" coords="868,1230,1007,1277"/><area shape="rect" id="node97" href="../../d7/dd4/a00968.html#ac91fdc0526a34fee8369c19f92223514" title="rocksdb::MemTableList\l::InstallMemtableFlushResults" alt="" coords="1095,1330,1292,1377"/><area shape="rect" id="node101" href="../../d1/d42/a01800.html#a788a71e004c7a132a2fea2a82eedccd6" title="rocksdb::VersionSet\l::ReduceNumberOfLevels" alt="" coords="1107,1261,1280,1307"/><area shape="rect" id="node99" href="../../dd/df5/a00386.html#a3f1443d5437c4f0e98d7b0eb2839ef2e" title="rocksdb::DBImpl::FlushMem\lTableToOutputFile" alt="" coords="1375,1330,1564,1377"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac5ee3a7c71e142996f54c2f9716131c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d75/a01843.html">WritableFile</a>* rocksdb::log::Writer::file </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/dea/a02585_source.html#l00035">35</a> of file <a class="el" href="../../d0/dea/a02585_source.html">log_writer.h</a>.</p>

<p>References <a class="el" href="../../d0/dea/a02585_source.html#l00039">dest_</a>.</p>

<p>Referenced by <a class="el" href="../../dc/d15/a02583_source.html#l00108">rocksdb::log::LogTest::dest_contents()</a>.</p>
<div class="fragment"><div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../da/d18/a01850.html#a0fc64a644886110fefcb4149847b3020">dest_</a>.get(); }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../da/d18/a01850_ac5ee3a7c71e142996f54c2f9716131c5_icgraph.png" border="0" usemap="#da/d18/a01850_ac5ee3a7c71e142996f54c2f9716131c5_icgraph" alt=""/></div>
<map name="da/d18/a01850_ac5ee3a7c71e142996f54c2f9716131c5_icgraph" id="da/d18/a01850_ac5ee3a7c71e142996f54c2f9716131c5_icgraph">
<area shape="rect" id="node3" href="../../d0/ddf/a00918.html#a450cc297b3a1f7998a9a75c4feae3ee5" title="rocksdb::log::LogTest\l::dest_contents" alt="" coords="191,229,337,275"/><area shape="rect" id="node5" href="../../d0/ddf/a00918.html#a9214c65a9609b8dead5640c80d44d3fe" title="rocksdb::log::LogTest\l::CheckInitialOffsetRecord" alt="" coords="388,5,564,51"/><area shape="rect" id="node7" href="../../d0/ddf/a00918.html#aabb9e723514342bcd2b572efbefe980f" title="rocksdb::log::LogTest\l::CheckOffsetPastEndReturns\lNoRecords" alt="" coords="613,156,813,220"/><area shape="rect" id="node9" href="../../d0/ddf/a00918.html#a038992cb7c0e048fdcc530bc3ce85f05" title="rocksdb::log::LogTest\l::FixChecksum" alt="" coords="403,125,549,171"/><area shape="rect" id="node11" href="../../d0/ddf/a00918.html#aabe2b404e8a2e8b689a10e96d680e839" title="rocksdb::log::LogTest\l::IncrementByte" alt="" coords="403,194,549,241"/><area shape="rect" id="node13" href="../../d0/ddf/a00918.html#a6a583f72c240c96d3ea87a0093f4fc73" title="rocksdb::log::LogTest\l::reset_source_contents" alt="" coords="395,471,557,518"/><area shape="rect" id="node17" href="../../d0/ddf/a00918.html#a58870d0eb09ab8d020065837b0172539" title="rocksdb::log::LogTest\l::SetByte" alt="" coords="403,333,549,379"/><area shape="rect" id="node19" href="../../d0/ddf/a00918.html#ac6e6a6b7193ed73522ae920f02faef5b" title="rocksdb::log::LogTest\l::ShrinkSize" alt="" coords="403,402,549,449"/><area shape="rect" id="node21" href="../../d0/ddf/a00918.html#a96c28e4ba4b78df54c1c0950e5726875" title="rocksdb::log::LogTest\l::WrittenBytes" alt="" coords="403,263,549,310"/><area shape="rect" id="node15" href="../../d0/ddf/a00918.html#a3208a1c304cca8485d89dcb181349206" title="rocksdb::log::LogTest\l::Read" alt="" coords="640,471,787,518"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8a73d20bd9c70b31fe9502e096b93ae1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="../../d9/d75/a01843.html">WritableFile</a>* rocksdb::log::Writer::file </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/dea/a02585_source.html#l00036">36</a> of file <a class="el" href="../../d0/dea/a02585_source.html">log_writer.h</a>.</p>

<p>References <a class="el" href="../../d0/dea/a02585_source.html#l00039">dest_</a>.</p>
<div class="fragment"><div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;{ <span class="keywordflow">return</span> <a class="code" href="../../da/d18/a01850.html#a0fc64a644886110fefcb4149847b3020">dest_</a>.get(); }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a4b9f7a1f5334b8a94d591e96cd1ad321"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void rocksdb::log::Writer::operator= </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../da/d18/a01850.html">Writer</a> &amp;&#160;</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a65515614111e757ff8aad78de7eb6c75"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int rocksdb::log::Writer::block_offset_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/dea/a02585_source.html#l00040">40</a> of file <a class="el" href="../../d0/dea/a02585_source.html">log_writer.h</a>.</p>

<p>Referenced by <a class="el" href="../../dc/d28/a02584_source.html#l00032">AddRecord()</a>, and <a class="el" href="../../dc/d28/a02584_source.html#l00080">EmitPhysicalRecord()</a>.</p>

</div>
</div>
<a class="anchor" id="a0fc64a644886110fefcb4149847b3020"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unique_ptr&lt;<a class="el" href="../../d9/d75/a01843.html">WritableFile</a>&gt; rocksdb::log::Writer::dest_</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/dea/a02585_source.html#l00039">39</a> of file <a class="el" href="../../d0/dea/a02585_source.html">log_writer.h</a>.</p>

<p>Referenced by <a class="el" href="../../dc/d28/a02584_source.html#l00032">AddRecord()</a>, <a class="el" href="../../dc/d28/a02584_source.html#l00080">EmitPhysicalRecord()</a>, and <a class="el" href="../../d0/dea/a02585_source.html#l00035">file()</a>.</p>

</div>
</div>
<a class="anchor" id="a7f5fde2f35f980ca9640bc58545576b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">uint32_t</a> rocksdb::log::Writer::type_crc_[<a class="el" href="../../db/db5/a03468.html#ae8d976aa45c281e56e8938e282c6dd4b">kMaxRecordType</a>+1]</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../d0/dea/a02585_source.html#l00045">45</a> of file <a class="el" href="../../d0/dea/a02585_source.html">log_writer.h</a>.</p>

<p>Referenced by <a class="el" href="../../dc/d28/a02584_source.html#l00080">EmitPhysicalRecord()</a>, and <a class="el" href="../../dc/d28/a02584_source.html#l00020">Writer()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>rippled/src/ripple/rocksdb/rocksdb/db/<a class="el" href="../../d0/dea/a02585_source.html">log_writer.h</a></li>
<li>rippled/src/ripple/rocksdb/rocksdb/db/<a class="el" href="../../dc/d28/a02584_source.html">log_writer.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d4/d87/a03436.html">rocksdb</a></li><li class="navelem"><a class="el" href="../../db/db5/a03468.html">log</a></li><li class="navelem"><a class="el" href="../../da/d18/a01850.html">Writer</a></li>
    <li class="footer">Generated on Fri May 2 2014 05:29:24 for rippled by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
