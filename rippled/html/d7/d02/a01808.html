<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>rippled: beast::WaitableEvent Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">rippled
   &#160;<span id="projectnumber">0.24.0-rc1</span>
   </div>
   <div id="projectbrief">Reference implementation of the Ripple Protocol</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d7/d02/a01808.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d3/d61/a06163.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">beast::WaitableEvent Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="../../db/d7a/a02105_source.html">WaitableEvent.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for beast::WaitableEvent:</div>
<div class="dyncontent">
<div class="center"><img src="../../dc/d55/a06164.png" border="0" usemap="#beast_1_1_waitable_event_inherit__map" alt="Inheritance graph"/></div>
<map name="beast_1_1_waitable_event_inherit__map" id="beast_1_1_waitable_event_inherit__map">
<area shape="rect" id="node2" href="../../d1/d04/a01744.html" title="beast::Uncopyable" alt="" coords="13,5,144,35"/></map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for beast::WaitableEvent:</div>
<div class="dyncontent">
<div class="center"><img src="../../de/d38/a06165.png" border="0" usemap="#beast_1_1_waitable_event_coll__map" alt="Collaboration graph"/></div>
<map name="beast_1_1_waitable_event_coll__map" id="beast_1_1_waitable_event_coll__map">
<area shape="rect" id="node2" href="../../d1/d04/a01744.html" title="beast::Uncopyable" alt="" coords="13,5,144,35"/></map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aa6efede926a4fd4cbc98d00290efda80"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d02/a01808.html#aa6efede926a4fd4cbc98d00290efda80">WaitableEvent</a> (bool <a class="el" href="../../d7/d02/a01808.html#ab5cb6cde3c040545f2e0ce563f41df96">manualReset</a>=false, bool initiallySignaled=false)</td></tr>
<tr class="separator:aa6efede926a4fd4cbc98d00290efda80"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acf125096d91d78ad7fc592a492804240"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d02/a01808.html#acf125096d91d78ad7fc592a492804240">~WaitableEvent</a> ()</td></tr>
<tr class="separator:acf125096d91d78ad7fc592a492804240"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a534ad45cb1fb86f6544356d78a0367e5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d02/a01808.html#a534ad45cb1fb86f6544356d78a0367e5">signal</a> () const </td></tr>
<tr class="separator:a534ad45cb1fb86f6544356d78a0367e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb68c1e7efe4d132343e20c428dae99e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d02/a01808.html#acb68c1e7efe4d132343e20c428dae99e">reset</a> () const </td></tr>
<tr class="separator:acb68c1e7efe4d132343e20c428dae99e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader"></div></td></tr>
<tr class="memitem:a7022947723f14cd7b7778bce315cb852"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d02/a01808.html#a7022947723f14cd7b7778bce315cb852">wait</a> () const </td></tr>
<tr class="separator:a7022947723f14cd7b7778bce315cb852"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0fc9ca0707ff3eeef456dfabee6a5136"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d02/a01808.html#a0fc9ca0707ff3eeef456dfabee6a5136">wait</a> (int timeOutMilliseconds) const </td></tr>
<tr class="separator:a0fc9ca0707ff3eeef456dfabee6a5136"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a2f611c967b785043471ae97e4fbdb624"><td class="memItemLeft" align="right" valign="top">pthread_cond_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d02/a01808.html#a2f611c967b785043471ae97e4fbdb624">condition</a></td></tr>
<tr class="separator:a2f611c967b785043471ae97e4fbdb624"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af470df3df8e5e825fec466d753cf5895"><td class="memItemLeft" align="right" valign="top">pthread_mutex_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d02/a01808.html#af470df3df8e5e825fec466d753cf5895">mutex</a></td></tr>
<tr class="separator:af470df3df8e5e825fec466d753cf5895"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4558cdd90d26b5c6240e3ab305f05312"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d02/a01808.html#a4558cdd90d26b5c6240e3ab305f05312">triggered</a></td></tr>
<tr class="separator:a4558cdd90d26b5c6240e3ab305f05312"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5cb6cde3c040545f2e0ce563f41df96"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/d02/a01808.html#ab5cb6cde3c040545f2e0ce563f41df96">manualReset</a></td></tr>
<tr class="separator:ab5cb6cde3c040545f2e0ce563f41df96"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pro_methods_a01744"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_a01744')"><img src="../../closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="../../d1/d04/a01744.html">beast::Uncopyable</a></td></tr>
<tr class="memitem:a4661bf5ef8d2cf3887b4fab72247d77b inherit pro_methods_a01744"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/a01744.html#a4661bf5ef8d2cf3887b4fab72247d77b">Uncopyable</a> ()</td></tr>
<tr class="separator:a4661bf5ef8d2cf3887b4fab72247d77b inherit pro_methods_a01744"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94ae4991f36ebcd34f47281cc2fdf689 inherit pro_methods_a01744"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d1/d04/a01744.html#a94ae4991f36ebcd34f47281cc2fdf689">~Uncopyable</a> ()</td></tr>
<tr class="separator:a94ae4991f36ebcd34f47281cc2fdf689 inherit pro_methods_a01744"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Allows threads to wait for events triggered by other threads. A thread can call <a class="el" href="../../d7/d02/a01808.html#a7022947723f14cd7b7778bce315cb852">wait()</a> on a <a class="el" href="../../d7/d02/a01808.html">WaitableEvent</a>, and this will suspend the calling thread until another thread wakes it up by calling the <a class="el" href="../../d7/d02/a01808.html#a534ad45cb1fb86f6544356d78a0367e5">signal()</a> method. </p>

<p>Definition at line <a class="el" href="../../db/d7a/a02105_source.html#l00041">41</a> of file <a class="el" href="../../db/d7a/a02105_source.html">WaitableEvent.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="aa6efede926a4fd4cbc98d00290efda80"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">beast::WaitableEvent::WaitableEvent </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>manualReset</em> = <code>false</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>initiallySignaled</em> = <code>false</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">explicit</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Creates a <a class="el" href="../../d7/d02/a01808.html">WaitableEvent</a> object.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">manualReset</td><td>If this is false, the event will be reset automatically when the <a class="el" href="../../d7/d02/a01808.html#a7022947723f14cd7b7778bce315cb852">wait()</a> method is called. If manualReset is true, then once the event is signalled, the only way to reset it will be by calling the <a class="el" href="../../d7/d02/a01808.html#acb68c1e7efe4d132343e20c428dae99e">reset()</a> method.</td></tr>
    <tr><td class="paramname">initiallySignaled</td><td>If this is true then the event will be signaled when the constructor returns. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="../../db/ddd/a02089_source.html#l00076">76</a> of file <a class="el" href="../../db/ddd/a02089_source.html">WaitableEvent.cpp</a>.</p>

<p>References <a class="el" href="../../db/d7a/a02105_source.html#l00115">condition</a>, <a class="el" href="../../db/d7a/a02105_source.html#l00116">mutex</a>, and <a class="el" href="../../db/ddd/a02089_source.html#l00151">signal()</a>.</p>
<div class="fragment"><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    : <a class="code" href="../../d7/d02/a01808.html#a4558cdd90d26b5c6240e3ab305f05312">triggered</a> (<span class="keyword">false</span>), <a class="code" href="../../d7/d02/a01808.html#ab5cb6cde3c040545f2e0ce563f41df96">manualReset</a> (useManualReset)</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;{</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    pthread_cond_init (&amp;<a class="code" href="../../d7/d02/a01808.html#a2f611c967b785043471ae97e4fbdb624">condition</a>, 0);</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    pthread_mutexattr_t atts;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;    pthread_mutexattr_init (&amp;atts);</div>
<div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;<span class="preprocessor">   #if ! BEAST_ANDROID</span></div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;<span class="preprocessor"></span>    pthread_mutexattr_setprotocol (&amp;atts, PTHREAD_PRIO_INHERIT);</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="preprocessor">   #endif</span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="preprocessor"></span>    pthread_mutex_init (&amp;<a class="code" href="../../d7/d02/a01808.html#af470df3df8e5e825fec466d753cf5895">mutex</a>, &amp;atts);</div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;</div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <span class="keywordflow">if</span> (initiallySignaled)</div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;        <a class="code" href="../../d7/d02/a01808.html#a534ad45cb1fb86f6544356d78a0367e5">signal</a> ();</div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d02/a01808_aa6efede926a4fd4cbc98d00290efda80_cgraph.png" border="0" usemap="#d7/d02/a01808_aa6efede926a4fd4cbc98d00290efda80_cgraph" alt=""/></div>
<map name="d7/d02/a01808_aa6efede926a4fd4cbc98d00290efda80_cgraph" id="d7/d02/a01808_aa6efede926a4fd4cbc98d00290efda80_cgraph">
<area shape="rect" id="node3" href="../../d7/d02/a01808.html#a534ad45cb1fb86f6544356d78a0367e5" title="beast::WaitableEvent\l::signal" alt="" coords="200,5,347,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acf125096d91d78ad7fc592a492804240"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">beast::WaitableEvent::~WaitableEvent </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destructor.</p>
<p>If other threads are waiting on this object when it gets deleted, this can cause nasty errors, so be careful! </p>

<p>Definition at line <a class="el" href="../../db/ddd/a02089_source.html#l00092">92</a> of file <a class="el" href="../../db/ddd/a02089_source.html">WaitableEvent.cpp</a>.</p>

<p>References <a class="el" href="../../db/d7a/a02105_source.html#l00115">condition</a>, and <a class="el" href="../../db/d7a/a02105_source.html#l00116">mutex</a>.</p>
<div class="fragment"><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;{</div>
<div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;    pthread_cond_destroy (&amp;<a class="code" href="../../d7/d02/a01808.html#a2f611c967b785043471ae97e4fbdb624">condition</a>);</div>
<div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;    pthread_mutex_destroy (&amp;<a class="code" href="../../d7/d02/a01808.html#af470df3df8e5e825fec466d753cf5895">mutex</a>);</div>
<div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="acb68c1e7efe4d132343e20c428dae99e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void beast::WaitableEvent::reset </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Resets the event to an unsignalled state.</p>
<p>If it's not already signalled, this does nothing. </p>

<p>Definition at line <a class="el" href="../../db/ddd/a02089_source.html#l00159">159</a> of file <a class="el" href="../../db/ddd/a02089_source.html">WaitableEvent.cpp</a>.</p>

<p>References <a class="el" href="../../db/d7a/a02105_source.html#l00116">mutex</a>, and <a class="el" href="../../db/d7a/a02105_source.html#l00117">triggered</a>.</p>

<p>Referenced by <a class="el" href="../../d7/d26/a02162_source.html#l00102">beast::asio::HTTPClientType::add()</a>, and <a class="el" href="../../d4/dad/a02407_source.html#l00103">ripple::ResolverAsioImpl::start()</a>.</p>
<div class="fragment"><div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;{</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;    pthread_mutex_lock (&amp;<a class="code" href="../../d7/d02/a01808.html#af470df3df8e5e825fec466d753cf5895">mutex</a>);</div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;    <a class="code" href="../../d7/d02/a01808.html#a4558cdd90d26b5c6240e3ab305f05312">triggered</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;    pthread_mutex_unlock (&amp;<a class="code" href="../../d7/d02/a01808.html#af470df3df8e5e825fec466d753cf5895">mutex</a>);</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d02/a01808_acb68c1e7efe4d132343e20c428dae99e_icgraph.png" border="0" usemap="#d7/d02/a01808_acb68c1e7efe4d132343e20c428dae99e_icgraph" alt=""/></div>
<map name="d7/d02/a01808_acb68c1e7efe4d132343e20c428dae99e_icgraph" id="d7/d02/a01808_acb68c1e7efe4d132343e20c428dae99e_icgraph">
<area shape="rect" id="node3" href="../../d3/db4/a00684.html#a052f8dda37ec70d4c446c8d3d01ae4c3" title="beast::asio::HTTPClientType::add" alt="" coords="200,13,421,43"/><area shape="rect" id="node7" href="../../dc/d83/a01254.html#ab4008af87b955e920bf4d25a4f4aca54" title="ripple::ResolverAsioImpl\l::start" alt="" coords="229,66,392,113"/><area shape="rect" id="node5" href="../../d2/d1f/a01361.html#aaedf159a9068e518f06d8cbe49afab3c" title="beast::asio::HTTPClientType\l::Session::Session" alt="" coords="469,5,661,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a534ad45cb1fb86f6544356d78a0367e5"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void beast::WaitableEvent::signal </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Wakes up any threads that are currently waiting on this object.</p>
<p>If <a class="el" href="../../d7/d02/a01808.html#a534ad45cb1fb86f6544356d78a0367e5">signal()</a> is called when nothing is waiting, the next thread to call <a class="el" href="../../d7/d02/a01808.html#a7022947723f14cd7b7778bce315cb852">wait()</a> will return immediately and reset the signal.</p>
<p>If the <a class="el" href="../../d7/d02/a01808.html">WaitableEvent</a> is manual reset, all current and future threads that wait upon this object will be woken, until <a class="el" href="../../d7/d02/a01808.html#acb68c1e7efe4d132343e20c428dae99e">reset()</a> is explicitly called.</p>
<p>If the <a class="el" href="../../d7/d02/a01808.html">WaitableEvent</a> is automatic reset, and one or more threads is waiting upon the object, then one of them will be woken up. If no threads are currently waiting, then the next thread to call <a class="el" href="../../d7/d02/a01808.html#a7022947723f14cd7b7778bce315cb852">wait()</a> will be woken up. As soon as a thread is woken, the signal is automatically reset.</p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="../../d7/d02/a01808.html#a7022947723f14cd7b7778bce315cb852">wait</a>, <a class="el" href="../../d7/d02/a01808.html#acb68c1e7efe4d132343e20c428dae99e">reset</a> </dd></dl>

<p>Definition at line <a class="el" href="../../db/ddd/a02089_source.html#l00151">151</a> of file <a class="el" href="../../db/ddd/a02089_source.html">WaitableEvent.cpp</a>.</p>

<p>References <a class="el" href="../../db/d7a/a02105_source.html#l00115">condition</a>, <a class="el" href="../../db/d7a/a02105_source.html#l00116">mutex</a>, and <a class="el" href="../../db/d7a/a02105_source.html#l00117">triggered</a>.</p>

<p>Referenced by <a class="el" href="../../d4/dad/a02407_source.html#l00092">ripple::ResolverAsioImpl::asyncHandlersComplete()</a>, <a class="el" href="../../d8/d5f/a02216_source.html#l00297">beast::asio::TestPeerType&lt; Logic, Details &gt;::do_listen()</a>, <a class="el" href="../../d8/d5f/a02216_source.html#l00344">beast::asio::TestPeerType&lt; Logic, Details &gt;::finished()</a>, <a class="el" href="../../d7/db5/a02088_source.html#l00266">beast::Thread::notify()</a>, <a class="el" href="../../d7/d26/a02162_source.html#l00110">beast::asio::HTTPClientType::remove()</a>, <a class="el" href="../../d6/d07/a02430_source.html#l00222">ripple::HTTP::ServerImpl::run()</a>, <a class="el" href="../../d3/d1e/a02093_source.html#l00379">beast::ServiceQueueBase::Waiter::signal()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l00976">ripple::ApplicationImp::signalStop()</a>, <a class="el" href="../../d7/db5/a02088_source.html#l00115">beast::Thread::startThread()</a>, <a class="el" href="../../d2/d31/a02087_source.html#l00067">beast::Stoppable::stopped()</a>, and <a class="el" href="../../db/ddd/a02089_source.html#l00076">WaitableEvent()</a>.</p>
<div class="fragment"><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;{</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    pthread_mutex_lock (&amp;<a class="code" href="../../d7/d02/a01808.html#af470df3df8e5e825fec466d753cf5895">mutex</a>);</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;    <a class="code" href="../../d7/d02/a01808.html#a4558cdd90d26b5c6240e3ab305f05312">triggered</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    pthread_cond_broadcast (&amp;<a class="code" href="../../d7/d02/a01808.html#a2f611c967b785043471ae97e4fbdb624">condition</a>);</div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;    pthread_mutex_unlock (&amp;<a class="code" href="../../d7/d02/a01808.html#af470df3df8e5e825fec466d753cf5895">mutex</a>);</div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d02/a01808_a534ad45cb1fb86f6544356d78a0367e5_icgraph.png" border="0" usemap="#d7/d02/a01808_a534ad45cb1fb86f6544356d78a0367e5_icgraph" alt=""/></div>
<map name="d7/d02/a01808_a534ad45cb1fb86f6544356d78a0367e5_icgraph" id="d7/d02/a01808_a534ad45cb1fb86f6544356d78a0367e5_icgraph">
<area shape="rect" id="node3" href="../../dc/d83/a01254.html#a45177bd46687c8b7423eec3e07573650" title="ripple::ResolverAsioImpl\l::asyncHandlersComplete" alt="" coords="211,5,384,51"/><area shape="rect" id="node5" href="../../d5/d83/a01680.html#a67c0009cfa53c3d05a14f4b661560b29" title="beast::asio::TestPeerType\l::do_listen" alt="" coords="209,74,385,121"/><area shape="rect" id="node11" href="../../d5/d83/a01680.html#a61fcdb2a792a0f631b53994dba7a5aee" title="beast::asio::TestPeerType\l::finished" alt="" coords="209,203,385,250"/><area shape="rect" id="node24" href="../../d6/d53/a01688.html#ab34cbf5c85d21da0cd3c324a7ea14461" title="beast::Thread::notify" alt="" coords="227,692,368,721"/><area shape="rect" id="node44" href="../../d3/db4/a00684.html#a5aab508c963bf82a0f2e088921723bb1" title="beast::asio::HTTPClientType\l::remove" alt="" coords="201,953,393,999"/><area shape="rect" id="node48" href="../../d7/dc4/a01354.html#a70be2ec01495236328fda839a226b08f" title="ripple::HTTP::ServerImpl::run" alt="" coords="201,1023,393,1052"/><area shape="rect" id="node50" href="../../de/d3c/a01809.html#a6497737035c8b878772c34c0d369d2b8" title="beast::ServiceQueueBase\l::Waiter::signal" alt="" coords="211,1075,384,1122"/><area shape="rect" id="node56" href="../../d0/d61/a00100.html#a219972ed13821f54c6e9717716ae956e" title="ripple::ApplicationImp\l::signalStop" alt="" coords="224,1145,371,1191"/><area shape="rect" id="node58" href="../../d6/d53/a01688.html#a2a338a7d7297324717aabdc9fad34ec8" title="beast::Thread::startThread" alt="" coords="209,1785,385,1815"/><area shape="rect" id="node97" href="../../d2/d49/a01561.html#a32a3f86c14a870b4c8eefa77f9989a5e" title="beast::Stoppable::stopped" alt="" coords="211,2204,384,2233"/><area shape="rect" id="node103" href="../../d7/d02/a01808.html#aa6efede926a4fd4cbc98d00290efda80" title="beast::WaitableEvent\l::WaitableEvent" alt="" coords="224,2257,371,2303"/><area shape="rect" id="node7" href="../../d5/d83/a01680.html#a4a6d6954bdd6ae6a6cea730f7844df7a" title="beast::asio::TestPeerType\l::run_sync_server" alt="" coords="459,43,635,90"/><area shape="rect" id="node9" href="../../d5/d83/a01680.html#ab1d62a9bbcbd3bcbcd05bdc61a721203" title="beast::asio::TestPeerType\l::run_async_server" alt="" coords="699,103,875,150"/><area shape="rect" id="node14" href="../../d5/d83/a01680.html#a0bffdde3a58bcba0890b6bbe411a254d" title="beast::asio::TestPeerType\l::on_accept" alt="" coords="459,163,635,210"/><area shape="rect" id="node18" href="../../d5/d83/a01680.html#a8c58b10261c9b1edb26a495d6c188294" title="beast::asio::TestPeerType\l::run_sync_client" alt="" coords="459,233,635,279"/><area shape="rect" id="node20" href="../../d5/d83/a01680.html#a1de1a4c453f21390c7b83cdb09f3b4e4" title="beast::asio::TestPeerType\l::on_deadline" alt="" coords="459,302,635,349"/><area shape="rect" id="node22" href="../../d5/d83/a01680.html#a391464241bea9f972254a2f057276ffd" title="beast::asio::TestPeerType\l::start" alt="" coords="699,739,875,786"/><area shape="rect" id="node26" href="../../dc/d36/a00925.html#a560bbdb3ba9d4e1928a4c8edf6bfc26a" title="beast::DeadlineTimer\l::Manager::activate" alt="" coords="473,371,620,418"/><area shape="rect" id="node28" href="../../dc/d36/a00925.html#a9f2663050aca909ed724dbd7149e00d0" title="beast::DeadlineTimer\l::Manager::deactivate" alt="" coords="473,441,620,487"/><area shape="rect" id="node30" href="../../d1/dea/a00829.html#a754722a8833fb4a620552480e33dfedb" title="ripple::LedgerCleanerImp\l::doClean" alt="" coords="464,510,629,557"/><area shape="rect" id="node32" href="../../da/d36/a01482.html#a5b001f86671e448bc7aa32a3611318ef" title="ripple::SqliteDatabase\l::doHook" alt="" coords="472,579,621,626"/><area shape="rect" id="node34" href="../../d1/dea/a00829.html#ad3f9fc3675bb127de4a2165d0a477e2b" title="ripple::LedgerCleanerImp\l::onStop" alt="" coords="464,649,629,695"/><area shape="rect" id="node36" href="../../d7/db1/a01837.html#a2afc6c18a9d33106d9e40dcaa0984c1d" title="beast::Workers::setNumber\lOfThreads" alt="" coords="456,718,637,765"/><area shape="rect" id="node38" href="../../d6/d53/a01688.html#a0f091046cfb7079b343c1e02f462cc94" title="beast::Thread::stopThread" alt="" coords="460,788,633,817"/><area shape="rect" id="node40" href="../../d6/d53/a01688.html#a814e9f39a40ad66e2c66f2873d39b70c" title="beast::Thread::stopThread\lAsync" alt="" coords="460,841,633,887"/><area shape="rect" id="node42" href="../../dc/d36/a00925.html#a6bc107b810f05040352c0d6ba6c3b839" title="beast::DeadlineTimer\l::Manager::~Manager" alt="" coords="473,910,620,957"/><area shape="rect" id="node46" href="../../d2/d1f/a01361.html#a149dc6fa9901ed7aa14755bb24714ef6" title="beast::asio::HTTPClientType\l::Session::~Session" alt="" coords="451,979,643,1026"/><area shape="rect" id="node52" href="../../df/d10/a01357.html#a3c10f294ceb943aa4c4923a799eb97fc" title="beast::ServiceQueueBase\l::enqueue" alt="" coords="460,1049,633,1095"/><area shape="rect" id="node54" href="../../df/d10/a01357.html#aeb9d25b5c5807ca7a4a4cb61892da849" title="beast::ServiceQueueBase\l::stop" alt="" coords="460,1118,633,1165"/><area shape="rect" id="node60" href="../../d9/dd6/a00272.html#a8c7c8f34a62175d09903d55820eeee62" title="ripple::PeerFinder\l::CheckerImp::CheckerImp" alt="" coords="457,1238,636,1285"/><area shape="rect" id="node62" href="../../dd/dbb/a00330.html#aff8b5ed9bae25b10c3caa16c9e6a3a73" title="beast::ServiceQueue\l_timing_test::Consumer\l::Consumer" alt="" coords="467,1308,627,1372"/><area shape="rect" id="node64" href="../../dc/d36/a00925.html#a11ce086e7abda8c267cf85b6a41142e3" title="beast::DeadlineTimer\l::Manager::Manager" alt="" coords="473,1395,620,1442"/><area shape="rect" id="node66" href="../../d0/df0/a00934.html#ab492fefab3e9263241ed17171df09d1f" title="ripple::Resource::Manager\lImp::ManagerImp" alt="" coords="460,1465,633,1511"/><area shape="rect" id="node68" href="../../d8/d19/a00935.html#a8c5130feba687b99a947af4d0d4a2c1d" title="ripple::SiteFiles::\lManagerImp::onStart" alt="" coords="475,1534,619,1581"/><area shape="rect" id="node70" href="../../d1/dea/a00829.html#a62ddb82f5bfaa3cc3e192d872d554a4c" title="ripple::LedgerCleanerImp\l::onStart" alt="" coords="464,1603,629,1650"/><area shape="rect" id="node72" href="../../d2/db1/a01428.html#a395ea88d62436092014253918469a403" title="ripple::SNTPClientImp\l::onStart" alt="" coords="471,1673,623,1719"/><area shape="rect" id="node74" href="../../d0/de2/a00892.html#a03002dbd990c5e3e3ceb0728821d5c2a" title="ripple::LoadManagerImp\l::onStart" alt="" coords="467,1742,627,1789"/><area shape="rect" id="node76" href="../../d0/d5b/a00933.html#aac0d3119175569e8e1bcd9608ab04c72" title="ripple::PeerFinder\l::ManagerImp::onStart" alt="" coords="471,1811,623,1858"/><area shape="rect" id="node78" href="../../dc/d2b/a00936.html#ac9a2738b106c0434f17967319c6ce787" title="ripple::Validators\l::ManagerImp::onStart" alt="" coords="471,1881,623,1927"/><area shape="rect" id="node80" href="../../d7/dc4/a01354.html#a97411680a378ace49d935a4e690e6d94" title="ripple::HTTP::ServerImpl\l::ServerImpl" alt="" coords="464,1950,629,1997"/><area shape="rect" id="node82" href="../../d9/d79/a01360.html#aba0c51714c01859e28b16e14174f2ab6" title="ripple::IoServicePool\l::ServiceThread::ServiceThread" alt="" coords="444,2019,649,2066"/><area shape="rect" id="node84" href="../../dc/d4b/a01359.html#a0fefc53e6bd1629ac0e9d36f49165cec" title="beast::ServiceQueue\l_test::ServiceThread\l::ServiceThread" alt="" coords="475,2089,619,2153"/><area shape="rect" id="node86" href="../../da/d36/a01482.html#a608847f962755c6a98c4b0e72ef6c2ef" title="ripple::SqliteDatabase\l::SqliteDatabase" alt="" coords="472,2177,621,2223"/><area shape="rect" id="node88" href="../../d9/d79/a01360.html#a53380feec08fa5d5db74e52ef5d37263" title="ripple::IoServicePool\l::ServiceThread::start" alt="" coords="473,2246,620,2293"/><area shape="rect" id="node91" href="../../d0/dab/a00735.html#a4747cc9db6605cb03510c55dd0680071" title="beast::asio::HTTPClient\l_test::IoServiceThread\l::start" alt="" coords="465,2316,628,2380"/><area shape="rect" id="node93" href="../../d6/d53/a01688.html#a9f9c2a7e0f2dfb671c69d0cb264f0e23" title="beast::Thread::startThread" alt="" coords="459,2404,635,2433"/><area shape="rect" id="node95" href="../../db/df3/a01836.html#a19113d41be0d01dc9cd322c305f36587" title="beast::Workers::Worker\l::Worker" alt="" coords="467,2457,627,2503"/><area shape="rect" id="node99" href="../../d9/db3/a01064.html#a8b12e6a7e9b089480735592140bf5732" title="ripple::OverlayImpl\l::check_stopped" alt="" coords="481,2526,612,2573"/><area shape="rect" id="node101" href="../../d9/d00/a00784.html#ad06cbbc8ba098656e424cca4eb7cb87a" title="ripple::JobQueueImp\l::checkStopped" alt="" coords="476,2595,617,2642"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7022947723f14cd7b7778bce315cb852"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool beast::WaitableEvent::wait </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Suspends the calling thread until the event has been signalled.</p>
<p>This will wait until the object's <a class="el" href="../../d7/d02/a01808.html#a534ad45cb1fb86f6544356d78a0367e5">signal()</a> method is called by another thread, or until the timeout expires.</p>
<p>After the event has been signalled, this method will return true and if manualReset was set to false in the <a class="el" href="../../d7/d02/a01808.html">WaitableEvent</a>'s constructor, then the event will be reset.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">timeOutMilliseconds</td><td>the maximum time to wait, in milliseconds. A negative value will cause it to wait forever.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true if the object has been signalled, false if the timeout expires first. </dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="../../d7/d02/a01808.html#a534ad45cb1fb86f6544356d78a0367e5">signal</a>, <a class="el" href="../../d7/d02/a01808.html#acb68c1e7efe4d132343e20c428dae99e">reset</a> </dd></dl>

<p>Definition at line <a class="el" href="../../db/ddd/a02089_source.html#l00098">98</a> of file <a class="el" href="../../db/ddd/a02089_source.html">WaitableEvent.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../d8/d5f/a02216_source.html#l00126">beast::asio::TestPeerType&lt; Logic, Details &gt;::join()</a>, <a class="el" href="../../d3/dc5/a02306_source.html#l00099">beast::Workers::pauseAllThreadsAndWait()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l00902">ripple::ApplicationImp::run()</a>, <a class="el" href="../../d8/d5f/a02216_source.html#l00092">beast::asio::TestPeerType&lt; Logic, Details &gt;::start()</a>, <a class="el" href="../../d6/d07/a02430_source.html#l00063">ripple::HTTP::ServerImpl::stop()</a>, <a class="el" href="../../d4/dad/a02407_source.html#l00128">ripple::ResolverAsioImpl::stop()</a>, <a class="el" href="../../d2/d31/a02087_source.html#l00115">beast::Stoppable::stopRecursive()</a>, <a class="el" href="../../d7/db5/a02088_source.html#l00086">beast::Thread::threadEntryPoint()</a>, <a class="el" href="../../d7/d26/a02162_source.html#l00095">beast::asio::HTTPClientType::wait()</a>, <a class="el" href="../../d7/db5/a02088_source.html#l00261">beast::Thread::wait()</a>, and <a class="el" href="../../d3/d1e/a02093_source.html#l00377">beast::ServiceQueueBase::Waiter::wait()</a>.</p>
<div class="fragment"><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;{</div>
<div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/d02/a01808.html#a7022947723f14cd7b7778bce315cb852">wait</a> (-1);</div>
<div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/d02/a01808_a7022947723f14cd7b7778bce315cb852_icgraph.png" border="0" usemap="#d7/d02/a01808_a7022947723f14cd7b7778bce315cb852_icgraph" alt=""/></div>
<map name="d7/d02/a01808_a7022947723f14cd7b7778bce315cb852_icgraph" id="d7/d02/a01808_a7022947723f14cd7b7778bce315cb852_icgraph">
<area shape="rect" id="node3" href="../../d5/d83/a01680.html#a4bb3aded6f9552f027ec9218c1a6ff55" title="beast::asio::TestPeerType\l::join" alt="" coords="219,6,395,53"/><area shape="rect" id="node7" href="../../d7/db1/a01837.html#a3ee6b9b2365d9436d68494b54d1b4dda" title="beast::Workers::pauseAll\lThreadsAndWait" alt="" coords="223,173,391,219"/><area shape="rect" id="node15" href="../../d0/d61/a00100.html#adfadeaa99292dadc83781c1077b4b4a2" title="ripple::ApplicationImp::run" alt="" coords="965,296,1139,325"/><area shape="rect" id="node17" href="../../d5/d83/a01680.html#a391464241bea9f972254a2f057276ffd" title="beast::asio::TestPeerType\l::start" alt="" coords="219,85,395,131"/><area shape="rect" id="node20" href="../../d7/dc4/a01354.html#a69a7deed82ebc0ca3cc63c5343b15539" title="ripple::HTTP::ServerImpl\l::stop" alt="" coords="224,297,389,343"/><area shape="rect" id="node22" href="../../dc/d83/a01254.html#ae50e2f71f6af061006d2c2f1ce08b57c" title="ripple::ResolverAsioImpl\l::stop" alt="" coords="225,366,388,413"/><area shape="rect" id="node24" href="../../d2/d49/a01561.html#a325eeaa284feba49453af91271ec5d1f" title="beast::Stoppable::stopRecursive" alt="" coords="201,436,412,465"/><area shape="rect" id="node31" href="../../d6/d53/a01688.html#af176c81c721f87d04c841e85b747db71" title="beast::Thread::threadEntry\lPoint" alt="" coords="219,489,395,535"/><area shape="rect" id="node33" href="../../d3/db4/a00684.html#aa46fbdf72349e181c4d3ec78b27c88ba" title="beast::asio::HTTPClientType\l::wait" alt="" coords="211,558,403,605"/><area shape="rect" id="node37" href="../../d6/d53/a01688.html#a0203536ea9f728cdfe390df131927463" title="beast::Thread::wait" alt="" coords="240,628,373,657"/><area shape="rect" id="node47" href="../../de/d3c/a01809.html#ac5c3f1123afdbb39e3cccd9f34a74e11" title="beast::ServiceQueueBase\l::Waiter::wait" alt="" coords="220,711,393,758"/><area shape="rect" id="node5" href="../../d3/de1/a01111.html#a7bbb2df309564e336b1c323967292ad4" title="beast::asio::PeerTest::run" alt="" coords="472,5,645,35"/><area shape="rect" id="node9" href="../../d7/db1/a01837.html#aff524be09270276f1991a99b8885b977" title="beast::Workers::~Workers" alt="" coords="471,59,647,88"/><area shape="rect" id="node11" href="../../db/d09/a01838.html#a3158e17158af7b7fc92456c9628fe12c" title="beast::Workers_test\l::testThreads" alt="" coords="489,111,628,158"/><area shape="rect" id="node13" href="../../d9/d00/a00784.html#aa3f7da1dd9d41217b775a80432b38d87" title="ripple::JobQueueImp\l::shutdown" alt="" coords="488,181,629,227"/><area shape="rect" id="node26" href="../../d9/dda/a01289.html#af7e7a261649f15c40ef66abc9d0717fe" title="beast::RootStoppable\l::stop" alt="" coords="485,378,632,425"/><area shape="rect" id="node28" href="../../d0/d61/a00100.html#a0ae9af7de7b70e3fb36cce25f3de2175" title="ripple::ApplicationImp\l::doStop" alt="" coords="731,347,877,394"/><area shape="rect" id="node35" href="../../d3/db4/a00684.html#a4c70f5684ff29ded4f83e1e172a56673" title="beast::asio::HTTPClientType\l::~HTTPClientType" alt="" coords="463,462,655,509"/><area shape="rect" id="node39" href="../../da/d36/a01482.html#a60b969459170972a622585edfc6c6dba" title="ripple::SqliteDatabase::run" alt="" coords="471,532,647,561"/><area shape="rect" id="node41" href="../../dc/d36/a00925.html#ac4a1a3ee001cf5bc2a37bc6de7a794f5" title="beast::DeadlineTimer\l::Manager::run" alt="" coords="485,585,632,631"/><area shape="rect" id="node43" href="../../d0/df0/a00934.html#aa7347699a72054f278d014e3be4ad85e" title="ripple::Resource::Manager\lImp::run" alt="" coords="472,654,645,701"/><area shape="rect" id="node45" href="../../d1/dea/a00829.html#a6eff0ca87db1f583b2a401bc4f119990" title="ripple::LedgerCleanerImp::run" alt="" coords="463,724,655,753"/><area shape="rect" id="node49" href="../../df/d10/a01357.html#acd661f5567ed48993a846e7b1bffea1f" title="beast::ServiceQueueBase\l::wait" alt="" coords="472,777,645,823"/><area shape="rect" id="node51" href="../../df/d10/a01357.html#a148554491d572b78c92350af8aa6efbb" title="beast::ServiceQueueBase::run" alt="" coords="704,745,904,775"/><area shape="rect" id="node57" href="../../df/d10/a01357.html#a50386883188f064900ca74f38846f55c" title="beast::ServiceQueueBase\l::run_one" alt="" coords="717,817,891,863"/><area shape="rect" id="node53" href="../../de/d5c/a01358.html#a966223dd55ee6a99be6d45ce181026ba" title="beast::ServiceQueueType::run" alt="" coords="953,707,1151,736"/><area shape="rect" id="node55" href="../../d8/d19/a00935.html#ab6a4b7be79b230882200debdeef5c20a" title="ripple::SiteFiles::\lManagerImp::run" alt="" coords="1225,693,1345,739"/><area shape="rect" id="node59" href="../../de/d5c/a01358.html#a1f4c6b8e063ce56f3d0302e32006cc8f" title="beast::ServiceQueueType\l::run_one" alt="" coords="965,826,1139,873"/><area shape="rect" id="node61" href="../../dc/d4b/a01359.html#a3bdc081754347091367cd9cdc435f7c2" title="beast::ServiceQueue\l_test::ServiceThread::run" alt="" coords="1201,762,1369,809"/><area shape="rect" id="node63" href="../../d0/d5b/a00933.html#a917354deda0578521ebc56109f8f7d7f" title="ripple::PeerFinder\l::ManagerImp::run" alt="" coords="1221,831,1349,878"/><area shape="rect" id="node65" href="../../dc/d2b/a00936.html#abe2f0e8721d1ebedf583b72450d9bb1a" title="ripple::Validators\l::ManagerImp::run" alt="" coords="1221,901,1349,947"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0fc9ca0707ff3eeef456dfabee6a5136"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool beast::WaitableEvent::wait </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>timeOutMilliseconds</em>)</td><td></td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/ddd/a02089_source.html#l00103">103</a> of file <a class="el" href="../../db/ddd/a02089_source.html">WaitableEvent.cpp</a>.</p>

<p>References <a class="el" href="../../db/d7a/a02105_source.html#l00115">condition</a>, <a class="el" href="../../db/d7a/a02105_source.html#l00118">manualReset</a>, <a class="el" href="../../db/d7a/a02105_source.html#l00116">mutex</a>, and <a class="el" href="../../db/d7a/a02105_source.html#l00117">triggered</a>.</p>
<div class="fragment"><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;{</div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    pthread_mutex_lock (&amp;<a class="code" href="../../d7/d02/a01808.html#af470df3df8e5e825fec466d753cf5895">mutex</a>);</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <span class="keywordflow">if</span> (! <a class="code" href="../../d7/d02/a01808.html#a4558cdd90d26b5c6240e3ab305f05312">triggered</a>)</div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;    {</div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;        <span class="keywordflow">if</span> (timeOutMillisecs &lt; 0)</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        {</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;            <span class="keywordflow">do</span></div>
<div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;            {</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;                pthread_cond_wait (&amp;<a class="code" href="../../d7/d02/a01808.html#a2f611c967b785043471ae97e4fbdb624">condition</a>, &amp;<a class="code" href="../../d7/d02/a01808.html#af470df3df8e5e825fec466d753cf5895">mutex</a>);</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            }</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;            <span class="keywordflow">while</span> (! <a class="code" href="../../d7/d02/a01808.html#a4558cdd90d26b5c6240e3ab305f05312">triggered</a>);</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;        }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;        {</div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;            <span class="keyword">struct </span>timeval now;</div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;            gettimeofday (&amp;now, 0);</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;            <span class="keyword">struct </span>timespec time;</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;            time.tv_sec  = now.tv_sec  + (timeOutMillisecs / 1000);</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;            time.tv_nsec = (now.tv_usec + ((timeOutMillisecs % 1000) * 1000)) * 1000;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;            <span class="keywordflow">if</span> (time.tv_nsec &gt;= 1000000000)</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;            {</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;                time.tv_nsec -= 1000000000;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;                time.tv_sec++;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;            }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;            <span class="keywordflow">do</span></div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;            {</div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;                <span class="keywordflow">if</span> (pthread_cond_timedwait (&amp;<a class="code" href="../../d7/d02/a01808.html#a2f611c967b785043471ae97e4fbdb624">condition</a>, &amp;<a class="code" href="../../d7/d02/a01808.html#af470df3df8e5e825fec466d753cf5895">mutex</a>, &amp;time) == ETIMEDOUT)</div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;                {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;                    pthread_mutex_unlock (&amp;<a class="code" href="../../d7/d02/a01808.html#af470df3df8e5e825fec466d753cf5895">mutex</a>);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;                    <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;                }</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;            }</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;            <span class="keywordflow">while</span> (! <a class="code" href="../../d7/d02/a01808.html#a4558cdd90d26b5c6240e3ab305f05312">triggered</a>);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;        }</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;    }</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    <span class="keywordflow">if</span> (! <a class="code" href="../../d7/d02/a01808.html#ab5cb6cde3c040545f2e0ce563f41df96">manualReset</a>)</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <a class="code" href="../../d7/d02/a01808.html#a4558cdd90d26b5c6240e3ab305f05312">triggered</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    pthread_mutex_unlock (&amp;<a class="code" href="../../d7/d02/a01808.html#af470df3df8e5e825fec466d753cf5895">mutex</a>);</div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a2f611c967b785043471ae97e4fbdb624"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pthread_cond_t beast::WaitableEvent::condition</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d7a/a02105_source.html#l00115">115</a> of file <a class="el" href="../../db/d7a/a02105_source.html">WaitableEvent.h</a>.</p>

<p>Referenced by <a class="el" href="../../db/ddd/a02089_source.html#l00151">signal()</a>, <a class="el" href="../../db/ddd/a02089_source.html#l00103">wait()</a>, <a class="el" href="../../db/ddd/a02089_source.html#l00076">WaitableEvent()</a>, and <a class="el" href="../../db/ddd/a02089_source.html#l00092">~WaitableEvent()</a>.</p>

</div>
</div>
<a class="anchor" id="ab5cb6cde3c040545f2e0ce563f41df96"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool beast::WaitableEvent::manualReset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d7a/a02105_source.html#l00118">118</a> of file <a class="el" href="../../db/d7a/a02105_source.html">WaitableEvent.h</a>.</p>

<p>Referenced by <a class="el" href="../../db/ddd/a02089_source.html#l00103">wait()</a>.</p>

</div>
</div>
<a class="anchor" id="af470df3df8e5e825fec466d753cf5895"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">pthread_mutex_t beast::WaitableEvent::mutex</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d7a/a02105_source.html#l00116">116</a> of file <a class="el" href="../../db/d7a/a02105_source.html">WaitableEvent.h</a>.</p>

<p>Referenced by <a class="el" href="../../db/ddd/a02089_source.html#l00159">reset()</a>, <a class="el" href="../../db/ddd/a02089_source.html#l00151">signal()</a>, <a class="el" href="../../db/ddd/a02089_source.html#l00103">wait()</a>, <a class="el" href="../../db/ddd/a02089_source.html#l00076">WaitableEvent()</a>, and <a class="el" href="../../db/ddd/a02089_source.html#l00092">~WaitableEvent()</a>.</p>

</div>
</div>
<a class="anchor" id="a4558cdd90d26b5c6240e3ab305f05312"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool beast::WaitableEvent::triggered</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">mutable</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d7a/a02105_source.html#l00117">117</a> of file <a class="el" href="../../db/d7a/a02105_source.html">WaitableEvent.h</a>.</p>

<p>Referenced by <a class="el" href="../../db/ddd/a02089_source.html#l00159">reset()</a>, <a class="el" href="../../db/ddd/a02089_source.html#l00151">signal()</a>, and <a class="el" href="../../db/ddd/a02089_source.html#l00103">wait()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>rippled/src/beast/beast/threads/<a class="el" href="../../db/d7a/a02105_source.html">WaitableEvent.h</a></li>
<li>rippled/src/beast/beast/threads/impl/<a class="el" href="../../db/ddd/a02089_source.html">WaitableEvent.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d5/d83/a03337.html">beast</a></li><li class="navelem"><a class="el" href="../../d7/d02/a01808.html">WaitableEvent</a></li>
    <li class="footer">Generated on Fri May 2 2014 05:29:03 for rippled by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
