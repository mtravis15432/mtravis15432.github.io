<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.4"/>
<title>rippled: ripple::NetworkOPsImp Class Reference</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">rippled
   &#160;<span id="projectnumber">0.24.0-rc1</span>
   </div>
   <div id="projectbrief">Reference implementation of the Ripple Protocol</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.4 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../modules.html"><span>Modules</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="../../annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="../../classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="../../inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="../../functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('d7/ded/a01009.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(11)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(12)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-types">Private Types</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="../../d7/dbc/a07477.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ripple::NetworkOPsImp Class Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="dynheader">
Inheritance diagram for ripple::NetworkOPsImp:</div>
<div class="dyncontent">
<div class="center"><img src="../../dd/d74/a07478.png" border="0" usemap="#ripple_1_1_network_o_ps_imp_inherit__map" alt="Inheritance graph"/></div>
<map name="ripple_1_1_network_o_ps_imp_inherit__map" id="ripple_1_1_network_o_ps_imp_inherit__map">
<area shape="rect" id="node2" href="../../dd/dac/a01008.html" title="ripple::NetworkOPs" alt="" coords="407,5,543,35"/><area shape="rect" id="node4" href="../../d5/dd0/a01438.html" title="ripple::InfoSub::Source" alt="" coords="173,5,328,35"/><area shape="rect" id="node6" href="../../d2/d49/a01561.html" title="beast::Stoppable" alt="" coords="5,5,125,35"/><area shape="rect" id="node8" href="../../d2/da1/a00879.html" title="beast::DeadlineTimer\l::Listener" alt="" coords="401,58,548,105"/></map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<div class="dynheader">
Collaboration diagram for ripple::NetworkOPsImp:</div>
<div class="dyncontent">
<div class="center"><img src="../../db/d2e/a07479.png" border="0" usemap="#ripple_1_1_network_o_ps_imp_coll__map" alt="Collaboration graph"/></div>
<map name="ripple_1_1_network_o_ps_imp_coll__map" id="ripple_1_1_network_o_ps_imp_coll__map">
<area shape="rect" id="node2" href="../../dd/dac/a01008.html" title="ripple::NetworkOPs" alt="" coords="1964,399,2100,428"/><area shape="rect" id="node4" href="../../d5/dd0/a01438.html" title="ripple::InfoSub::Source" alt="" coords="1568,368,1723,397"/><area shape="rect" id="node6" href="../../d2/d49/a01561.html" title="beast::Stoppable" alt="" coords="1297,219,1417,248"/><area shape="rect" id="node14" href="../../dd/d56/a00274.html" title="beast::Stoppable::Child" alt="" coords="1567,263,1724,292"/><area shape="rect" id="node19" href="../../d9/dda/a01289.html" title="beast::RootStoppable" alt="" coords="1572,133,1719,163"/><area shape="rect" id="node117" href="../../d1/de6/a00837.html" title="ripple::LedgerMaster" alt="" coords="1769,329,1908,359"/><area shape="rect" id="node8" href="../../d7/d06/a00131.html" title="beast::Atomic\&lt; int \&gt;" alt="" coords="993,76,1135,105"/><area shape="rect" id="node10" href="../../d7/d02/a01808.html" title="beast::WaitableEvent" alt="" coords="212,255,359,284"/><area shape="rect" id="node87" href="../../d6/d53/a01688.html" title="beast::Thread" alt="" coords="672,365,773,395"/><area shape="rect" id="node12" href="../../d1/d04/a01744.html" title="beast::Uncopyable" alt="" coords="5,337,136,367"/><area shape="rect" id="node23" href="../../d2/d79/a00898.html" title="beast::LockFreeStack\l\&lt; Child \&gt;" alt="" coords="989,129,1139,175"/><area shape="rect" id="node26" href="../../d3/d08/a01018.html" title="beast::LockFreeStack\l\&lt; Element, Tag \&gt;::Node" alt="" coords="204,102,367,149"/><area shape="rect" id="node71" href="../../da/dbf/a00393.html" title="beast::DeadlineTimer" alt="" coords="1959,617,2105,647"/><area shape="rect" id="node93" href="../../d5/d69/a00878.html" title="beast::List\&lt; DeadlineTimer \&gt;" alt="" coords="409,424,599,453"/><area shape="rect" id="node96" href="../../d4/def/a00359.html" title="beast::CriticalSection" alt="" coords="431,188,577,217"/><area shape="rect" id="node99" href="../../d9/d40/a01387.html" title="beast::SharedObject" alt="" coords="215,492,356,521"/><area shape="rect" id="node29" href="../../d7/d06/a00131.html" title="beast::Atomic\&lt; beast\l::LockFreeStack::Node * \&gt;" alt="" coords="633,110,812,157"/><area shape="rect" id="node33" href="../../d2/da1/a00879.html" title="beast::DeadlineTimer\l::Listener" alt="" coords="1572,430,1719,477"/><area shape="rect" id="node37" href="../../dd/d55/a01638.html" title="ripple::TaggedCache\l\&lt; ripple::uint256, Blob \&gt;" alt="" coords="1952,827,2112,874"/><area shape="rect" id="node39" href="../../d2/dee/a00049.html" title="beast::abstract_clock\l\&lt; Duration \&gt;" alt="" coords="1572,814,1719,861"/><area shape="rect" id="node41" title="STL class. " alt="" coords="1605,884,1685,913"/><area shape="rect" id="node43" title="STL class. " alt="" coords="1295,875,1420,922"/><area shape="rect" id="node45" href="../../d5/dc8/a01541.html" title="ripple::TaggedCache\l\&lt; Key, T, Hash, KeyEqual,\l Mutex \&gt;::Stats" alt="" coords="1556,937,1735,1001"/><area shape="rect" id="node47" href="../../d4/d2f/a00582.html" title="beast::insight::Gauge" alt="" coords="1284,949,1431,979"/><area shape="rect" id="node49" href="../../d0/d4a/a00147.html" title="beast::insight::Base" alt="" coords="995,977,1133,1007"/><area shape="rect" id="node51" href="../../d0/d5c/a00668.html" title="beast::insight::Hook" alt="" coords="1288,1003,1427,1032"/><area shape="rect" id="node54" href="../../df/d0c/a00788.html" title="beast::Journal" alt="" coords="1593,761,1697,791"/><area shape="rect" id="node56" href="../../df/d84/a01408.html" title="beast::Journal::Sink" alt="" coords="995,756,1133,785"/><area shape="rect" id="node58" href="../../d4/d2c/a01575.html" title="beast::Journal::Stream" alt="" coords="1280,800,1435,829"/><area shape="rect" id="node63" href="../../d7/d41/a00532.html" title="ripple::FeeVote" alt="" coords="1591,1025,1700,1055"/><area shape="rect" id="node67" href="../../d0/d4e/a01741.html" title="ripple::uint256" alt="" coords="1595,1079,1696,1108"/><area shape="rect" id="node69" href="../../d7/d9a/a00152.html" title="base_uint256" alt="" coords="1308,1079,1407,1108"/><area shape="rect" id="node73" href="../../d3/d50/a00882.html" title="List\&lt;DeadlineTimer\&gt;\l::Node" alt="" coords="1575,587,1716,634"/><area shape="rect" id="node75" href="../../d3/d50/a00882.html" title="beast::detail::ListNode\l\&lt; T, Tag \&gt;" alt="" coords="1281,587,1433,634"/><area shape="rect" id="node79" href="../../d0/d36/a01388.html" title="beast::SharedPtr\&lt; beast\l::SharedSingleton\&lt; beast\l::DeadlineTimer::Manager \&gt; \&gt;" alt="" coords="1548,500,1743,564"/><area shape="rect" id="node81" href="../../d0/d95/a01389.html" title="beast::SharedSingleton\l\&lt; beast::DeadlineTimer\l::Manager \&gt;" alt="" coords="1279,441,1436,505"/><area shape="rect" id="node83" href="../../dc/d36/a00925.html" title="beast::DeadlineTimer\l::Manager" alt="" coords="991,357,1137,403"/><area shape="rect" id="node106" href="../../d0/d95/a01389.html" title="beast::SharedSingleton\l\&lt; Object \&gt;" alt="" coords="644,483,801,530"/><area shape="rect" id="node102" href="../../d6/db3/a00130.html" title="beast::AtExitMemberHook\l\&lt; beast::SharedSingleton \&gt;" alt="" coords="973,475,1155,522"/><area shape="rect" id="node104" href="../../d9/d47/a00129.html" title="beast::AtExitHook" alt="" coords="659,553,787,583"/><area shape="rect" id="node110" href="../../d7/dbf/a01239.html" title="beast::RelativeTime" alt="" coords="1576,708,1715,737"/><area shape="rect" id="node115" href="../../da/dd6/a00896.html" title="ripple::LocalTxs" alt="" coords="1588,1148,1703,1177"/></map>
<center><span class="legend">[<a target="top" href="../../graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a7596fd47ef88c16ceff507fe0d891540"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a7596fd47ef88c16ceff507fe0d891540">Fault</a> { <a class="el" href="../../d7/ded/a01009.html#a7596fd47ef88c16ceff507fe0d891540a0b426fd766aa62ce7e5680c40f11aa2d">IO_ERROR</a> = 1, 
<a class="el" href="../../d7/ded/a01009.html#a7596fd47ef88c16ceff507fe0d891540aba9d516bbd89432a01c0665564eb7323">NO_NETWORK</a> = 2
 }</td></tr>
<tr class="separator:a7596fd47ef88c16ceff507fe0d891540"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bae1af7937b339e3e7a4706807582a8"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d1/d58/a02731.html#a3af771e282b88e6dca0215c6c890ae75">std::function</a>&lt; void(<a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a>, <br class="typebreak"/>
<a class="el" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0">TER</a>)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a2bae1af7937b339e3e7a4706807582a8">stCallback</a></td></tr>
<tr class="separator:a2bae1af7937b339e3e7a4706807582a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aee8097055c243f4c6ea3ee300c2a0647"><td class="memItemLeft" align="right" valign="top">typedef std::tuple<br class="typebreak"/>
&lt; std::string, std::string, <br class="typebreak"/>
<a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#aee8097055c243f4c6ea3ee300c2a0647">txnMetaLedgerType</a></td></tr>
<tr class="separator:aee8097055c243f4c6ea3ee300c2a0647"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_types_a01008"><td colspan="2" onclick="javascript:toggleInherit('pub_types_a01008')"><img src="../../closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="../../dd/dac/a01008.html">ripple::NetworkOPs</a></td></tr>
<tr class="memitem:a93310428ce0b402c3b6e07aa11a740b3 inherit pub_types_a01008"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dac/a01008.html#a93310428ce0b402c3b6e07aa11a740b3">Fault</a> { <a class="el" href="../../dd/dac/a01008.html#a93310428ce0b402c3b6e07aa11a740b3a0b75de54ddca4efba69f04ffce4ad762">IO_ERROR</a> = 1, 
<a class="el" href="../../dd/dac/a01008.html#a93310428ce0b402c3b6e07aa11a740b3a36c3bf94e27d250af62936523c7ac183">NO_NETWORK</a> = 2
 }</td></tr>
<tr class="separator:a93310428ce0b402c3b6e07aa11a740b3 inherit pub_types_a01008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad4d535e9319927b90f0da38cd67940aa inherit pub_types_a01008"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aa">OperatingMode</a> { <br/>
&#160;&#160;<a class="el" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaa342db1d1189a8475f5a81bb5c62b81c6">omDISCONNECTED</a> = 0, 
<a class="el" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaa8bc5065cbfcab22cf30b012231f25106">omCONNECTED</a> = 1, 
<a class="el" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaacef3f23406b4e678986eb3be3a7ccfd9">omSYNCING</a> = 2, 
<a class="el" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaae419906cda8f51387b7c8ea5e06b897b">omTRACKING</a> = 3, 
<br/>
&#160;&#160;<a class="el" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaafaf756912385746855189063c6bd422d">omFULL</a> = 4
<br/>
 }</td></tr>
<tr class="separator:ad4d535e9319927b90f0da38cd67940aa inherit pub_types_a01008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aef70f7989bc81d06bc57491af390b691 inherit pub_types_a01008"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d2/dee/a00049.html">beast::abstract_clock</a><br class="typebreak"/>
&lt; std::chrono::seconds &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dac/a01008.html#aef70f7989bc81d06bc57491af390b691">clock_type</a></td></tr>
<tr class="separator:aef70f7989bc81d06bc57491af390b691 inherit pub_types_a01008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adbb477955e5958d0f783a08e05429590 inherit pub_types_a01008"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d9/d9d/a03417.html#a1382c24eaaf3ee6a51a5b64d8ad5706c">ripple::unordered_map</a><br class="typebreak"/>
&lt; <a class="el" href="../../db/d86/a02663.html#aaa5d1cd013383c889537491c3cfd9aad">std::uint64_t</a>, <a class="el" href="../../d4/deb/a00710.html#a345e6e3a78fe4c7a1b65eb400b2c04f4">InfoSub::wptr</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dac/a01008.html#adbb477955e5958d0f783a08e05429590">SubMapType</a></td></tr>
<tr class="separator:adbb477955e5958d0f783a08e05429590 inherit pub_types_a01008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97cb5289294377f2192b6422df35d19d inherit pub_types_a01008"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d1/d58/a02731.html#a3af771e282b88e6dca0215c6c890ae75">std::function</a>&lt; void(<a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a>, <br class="typebreak"/>
<a class="el" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0">TER</a>)&gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dac/a01008.html#a97cb5289294377f2192b6422df35d19d">stCallback</a></td></tr>
<tr class="separator:a97cb5289294377f2192b6422df35d19d inherit pub_types_a01008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a860372ac395d235fa4c7e5cc975991f0 inherit pub_types_a01008"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d9/d9d/a03417.html#a1382c24eaaf3ee6a51a5b64d8ad5706c">ripple::unordered_map</a><br class="typebreak"/>
&lt; <a class="el" href="../../df/d2e/a01737.html">uint160</a>, std::list<br class="typebreak"/>
&lt; <a class="el" href="../../df/de8/a00839.html#a0ec96481e000fcb8d977f684d600b86b">LedgerProposal::pointer</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dac/a01008.html#a860372ac395d235fa4c7e5cc975991f0">Proposals</a></td></tr>
<tr class="separator:a860372ac395d235fa4c7e5cc975991f0 inherit pub_types_a01008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a329cb19d8bd42b93f6b0f7b215e08947 inherit pub_types_a01008"><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; std::pair<br class="typebreak"/>
&lt; <a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a>, <br class="typebreak"/>
<a class="el" href="../../d1/da7/a01709.html#aa6169f45f954da1eae3fd72dd45f5849">TransactionMetaSet::pointer</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dac/a01008.html#a329cb19d8bd42b93f6b0f7b215e08947">AccountTxs</a></td></tr>
<tr class="separator:a329cb19d8bd42b93f6b0f7b215e08947 inherit pub_types_a01008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6ff11d31fb7da052cf593fd450d52781 inherit pub_types_a01008"><td class="memItemLeft" align="right" valign="top">typedef std::vector&lt; std::pair<br class="typebreak"/>
&lt; <a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a>, <br class="typebreak"/>
<a class="el" href="../../d1/da7/a01709.html#aa6169f45f954da1eae3fd72dd45f5849">TransactionMetaSet::pointer</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dac/a01008.html#a6ff11d31fb7da052cf593fd450d52781">TxsAccount</a></td></tr>
<tr class="separator:a6ff11d31fb7da052cf593fd450d52781 inherit pub_types_a01008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10a8001e7a607fd7b70a7ff5b2d170f1 inherit pub_types_a01008"><td class="memItemLeft" align="right" valign="top">typedef std::tuple<br class="typebreak"/>
&lt; std::string, std::string, <br class="typebreak"/>
<a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dac/a01008.html#a10a8001e7a607fd7b70a7ff5b2d170f1">txnMetaLedgerType</a></td></tr>
<tr class="separator:a10a8001e7a607fd7b70a7ff5b2d170f1 inherit pub_types_a01008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6463f84de392af5f394c14f5ee01af57 inherit pub_types_a01008"><td class="memItemLeft" align="right" valign="top">typedef std::vector<br class="typebreak"/>
&lt; <a class="el" href="../../dd/dac/a01008.html#a10a8001e7a607fd7b70a7ff5b2d170f1">txnMetaLedgerType</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dac/a01008.html#a6463f84de392af5f394c14f5ee01af57">MetaTxsList</a></td></tr>
<tr class="separator:a6463f84de392af5f394c14f5ee01af57 inherit pub_types_a01008"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a5190461bc971aebc39b162d99c3e221b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a5190461bc971aebc39b162d99c3e221b">NetworkOPsImp</a> (<a class="el" href="../../dd/dac/a01008.html#aef70f7989bc81d06bc57491af390b691">clock_type</a> &amp;clock, <a class="el" href="../../d1/de6/a00837.html">LedgerMaster</a> &amp;ledgerMaster, <a class="el" href="../../d2/d49/a01561.html#acb0fcc07d95f38f05243ead46986ecd2">Stoppable</a> &amp;parent, <a class="el" href="../../df/d0c/a00788.html">beast::Journal</a> journal)</td></tr>
<tr class="separator:a5190461bc971aebc39b162d99c3e221b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57ecfe1cf2de56e788ddc82fb55b4dca"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a57ecfe1cf2de56e788ddc82fb55b4dca">~NetworkOPsImp</a> ()</td></tr>
<tr class="separator:a57ecfe1cf2de56e788ddc82fb55b4dca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07e5590900394e5b3642496533890cef"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef">getNetworkTimeNC</a> ()</td></tr>
<tr class="separator:a07e5590900394e5b3642496533890cef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67d834a967ca92edbfa11ba6aefbdf53"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a67d834a967ca92edbfa11ba6aefbdf53">getCloseTimeNC</a> ()</td></tr>
<tr class="separator:a67d834a967ca92edbfa11ba6aefbdf53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3879c24bdde3bda994b0ff43eecd52b1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a3879c24bdde3bda994b0ff43eecd52b1">getValidationTimeNC</a> ()</td></tr>
<tr class="separator:a3879c24bdde3bda994b0ff43eecd52b1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87ab0c0c15759955f19f5b64c463bc5d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a87ab0c0c15759955f19f5b64c463bc5d">closeTimeOffset</a> (int)</td></tr>
<tr class="separator:a87ab0c0c15759955f19f5b64c463bc5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bd8befae57d65b27880a6c11b903c5a"><td class="memItemLeft" align="right" valign="top">boost::posix_time::ptime&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a">getNetworkTimePT</a> ()</td></tr>
<tr class="separator:a4bd8befae57d65b27880a6c11b903c5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbf3e3af9d6da6200f8e888e24951d93"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#acbf3e3af9d6da6200f8e888e24951d93">getLedgerID</a> (<a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;<a class="el" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>)</td></tr>
<tr class="separator:acbf3e3af9d6da6200f8e888e24951d93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d9fd57ef6b6e176bb232ed6ca693b3c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a7d9fd57ef6b6e176bb232ed6ca693b3c">getCurrentLedgerID</a> ()</td></tr>
<tr class="separator:a7d9fd57ef6b6e176bb232ed6ca693b3c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87c19bdbebe47f0ec13e776d899ca4f4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aa">OperatingMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a87c19bdbebe47f0ec13e776d899ca4f4">getOperatingMode</a> ()</td></tr>
<tr class="separator:a87c19bdbebe47f0ec13e776d899ca4f4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a847ed5fa0e85b662ac0a3c7c5e236c9f"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f">strOperatingMode</a> ()</td></tr>
<tr class="separator:a847ed5fa0e85b662ac0a3c7c5e236c9f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec6ae911b1a26de68fa443c9b55b5727"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#aec6ae911b1a26de68fa443c9b55b5727">getClosedLedger</a> ()</td></tr>
<tr class="separator:aec6ae911b1a26de68fa443c9b55b5727"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7553efb859bf5c3c7650c348cd1358c1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a7553efb859bf5c3c7650c348cd1358c1">getValidatedLedger</a> ()</td></tr>
<tr class="separator:a7553efb859bf5c3c7650c348cd1358c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0579facd11b78a1040058f91443a5957"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a0579facd11b78a1040058f91443a5957">getPublishedLedger</a> ()</td></tr>
<tr class="separator:a0579facd11b78a1040058f91443a5957"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1d38e7abeef58b5139ebf297c381d55"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#aa1d38e7abeef58b5139ebf297c381d55">getCurrentLedger</a> ()</td></tr>
<tr class="separator:aa1d38e7abeef58b5139ebf297c381d55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b1dec73068ce2b92e883cd76c4edffc"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a8b1dec73068ce2b92e883cd76c4edffc">getLedgerByHash</a> (<a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;<a class="el" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>)</td></tr>
<tr class="separator:a8b1dec73068ce2b92e883cd76c4edffc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f1f7a943b74ee0bda617e0ccca8ef0a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a9f1f7a943b74ee0bda617e0ccca8ef0a">getLedgerBySeq</a> (const <a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> seq)</td></tr>
<tr class="separator:a9f1f7a943b74ee0bda617e0ccca8ef0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae19e61f66c1c7a6598f7f28bb835b140"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#ae19e61f66c1c7a6598f7f28bb835b140">missingNodeInLedger</a> (const <a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> seq)</td></tr>
<tr class="separator:ae19e61f66c1c7a6598f7f28bb835b140"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26fd5a440d7052ca3b75769b41d2ba2c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d4e/a01741.html">uint256</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a26fd5a440d7052ca3b75769b41d2ba2c">getClosedLedgerHash</a> ()</td></tr>
<tr class="separator:a26fd5a440d7052ca3b75769b41d2ba2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a562c499ba1464e3e4a28113d8d5e98e8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a562c499ba1464e3e4a28113d8d5e98e8">haveLedgerRange</a> (<a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> from, <a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> to)</td></tr>
<tr class="separator:a562c499ba1464e3e4a28113d8d5e98e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a734ad201c61554459b5bb61b749d36ef"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a734ad201c61554459b5bb61b749d36ef">haveLedger</a> (<a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> seq)</td></tr>
<tr class="separator:a734ad201c61554459b5bb61b749d36ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1222f54df3b075656ccbe44849d1b3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#af1222f54df3b075656ccbe44849d1b3f">getValidatedSeq</a> ()</td></tr>
<tr class="separator:af1222f54df3b075656ccbe44849d1b3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38a0c652d21eacfc6dd3d9661070edd3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a38a0c652d21eacfc6dd3d9661070edd3">isValidated</a> (<a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> seq)</td></tr>
<tr class="separator:a38a0c652d21eacfc6dd3d9661070edd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76723218e1187ba31c42cfe976acfffe"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a76723218e1187ba31c42cfe976acfffe">isValidated</a> (<a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> seq, <a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;<a class="el" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>)</td></tr>
<tr class="separator:a76723218e1187ba31c42cfe976acfffe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4faff51264e4e78dcb275e2bfbf4be94"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a4faff51264e4e78dcb275e2bfbf4be94">isValidated</a> (<a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a> l)</td></tr>
<tr class="separator:a4faff51264e4e78dcb275e2bfbf4be94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97de6032017da8a531bd1cf3700b41a7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a97de6032017da8a531bd1cf3700b41a7">getValidatedRange</a> (<a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> &amp;minVal, <a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> &amp;maxVal)</td></tr>
<tr class="separator:a97de6032017da8a531bd1cf3700b41a7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba38888860b0ec69b57ff8051c1cd466"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#aba38888860b0ec69b57ff8051c1cd466">getFullValidatedRange</a> (<a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> &amp;minVal, <a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> &amp;maxVal)</td></tr>
<tr class="separator:aba38888860b0ec69b57ff8051c1cd466"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a287221a8c7fc917776a4e884038f1794"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d6c/a01349.html#a7e0a3cc2f01beeb07e2852ad4eb7b9dc">SerializedValidation::ref</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a287221a8c7fc917776a4e884038f1794">getLastValidation</a> ()</td></tr>
<tr class="separator:a287221a8c7fc917776a4e884038f1794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a10254a60596aa1ccff32b06c6989b604"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a10254a60596aa1ccff32b06c6989b604">setLastValidation</a> (<a class="el" href="../../de/d6c/a01349.html#a7e0a3cc2f01beeb07e2852ad4eb7b9dc">SerializedValidation::ref</a> v)</td></tr>
<tr class="separator:a10254a60596aa1ccff32b06c6989b604"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25005201414a5486284d8423b1fa4833"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d54/a01344.html#abf05184c020b05e80bdf996c9bee96eb">SLE::pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a25005201414a5486284d8423b1fa4833">getSLE</a> (<a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> lpLedger, <a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;uHash)</td></tr>
<tr class="separator:a25005201414a5486284d8423b1fa4833"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6332c64416f5a96a6911e3b13f05679e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d54/a01344.html#abf05184c020b05e80bdf996c9bee96eb">SLE::pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a6332c64416f5a96a6911e3b13f05679e">getSLEi</a> (<a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> lpLedger, <a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;uHash)</td></tr>
<tr class="separator:a6332c64416f5a96a6911e3b13f05679e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f19b2ae693aa2f460a5d48f3faa2218"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a1f19b2ae693aa2f460a5d48f3faa2218">submitTransaction</a> (<a class="el" href="../../da/d96/a00782.html">Job</a> &amp;, <a class="el" href="../../d9/de4/a01346.html#a19013480d962d1dd24d7fd022fea003e">SerializedTransaction::pointer</a>, <a class="el" href="../../d7/ded/a01009.html#a2bae1af7937b339e3e7a4706807582a8">stCallback</a> callback=<a class="el" href="../../d7/ded/a01009.html#a2bae1af7937b339e3e7a4706807582a8">stCallback</a>())</td></tr>
<tr class="separator:a1f19b2ae693aa2f460a5d48f3faa2218"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a20ac0a06c2870e5d087e35f7dd2f768c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a20ac0a06c2870e5d087e35f7dd2f768c">submitTransactionSync</a> (<a class="el" href="../../de/d05/a01702.html#aee6c2c42c0fac409f288bb915574ff4e">Transaction::ref</a> tpTrans, bool bAdmin, bool bLocal, bool bFailHard, bool bSubmit)</td></tr>
<tr class="separator:a20ac0a06c2870e5d087e35f7dd2f768c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11a18d9eca593baddb2e72566c053800"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a11a18d9eca593baddb2e72566c053800">runTransactionQueue</a> ()</td></tr>
<tr class="separator:a11a18d9eca593baddb2e72566c053800"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab21222cb8f90aebe766d622a9b02cc3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#aab21222cb8f90aebe766d622a9b02cc3">processTransactionCb</a> (<a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a>, bool bAdmin, bool bLocal, bool bFailHard, <a class="el" href="../../d7/ded/a01009.html#a2bae1af7937b339e3e7a4706807582a8">stCallback</a>)</td></tr>
<tr class="separator:aab21222cb8f90aebe766d622a9b02cc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26cb95fc4e1b658987421bd28c051516"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a26cb95fc4e1b658987421bd28c051516">processTransaction</a> (<a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a> transaction, bool bAdmin, bool bLocal, bool bFailHard)</td></tr>
<tr class="separator:a26cb95fc4e1b658987421bd28c051516"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaf5313789b76e16cc0f99605e8f0c81"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#abaf5313789b76e16cc0f99605e8f0c81">processTransactionCbVoid</a> (<a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a> p, bool bAdmin, bool bLocal, bool bFailHard, <a class="el" href="../../d7/ded/a01009.html#a2bae1af7937b339e3e7a4706807582a8">stCallback</a> cb)</td></tr>
<tr class="separator:abaf5313789b76e16cc0f99605e8f0c81"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8867cd6f33ce47eeb63841edc9680729"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a8867cd6f33ce47eeb63841edc9680729">findTransactionByID</a> (<a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;transactionID)</td></tr>
<tr class="separator:a8867cd6f33ce47eeb63841edc9680729"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f440a216300729ba2bd6cd2c6cdcc41"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a7f440a216300729ba2bd6cd2c6cdcc41">findTransactionsByDestination</a> (std::list&lt; <a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a> &gt; &amp;, const <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &amp;destinationAccount, <a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> startLedgerSeq, <a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> endLedgerSeq, int maxTransactions)</td></tr>
<tr class="separator:a7f440a216300729ba2bd6cd2c6cdcc41"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe5aa6210ab8c901a3575a16832f9d01"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d73/a00060.html#ae2f1e61c8154ae51d99ebf48fd417f57">AccountState::pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#afe5aa6210ab8c901a3575a16832f9d01">getAccountState</a> (<a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a> lrLedger, const <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &amp;accountID)</td></tr>
<tr class="separator:afe5aa6210ab8c901a3575a16832f9d01"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e46dc676f9eb2f7d2c95e3eacd3033e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dc/d54/a01344.html#abf05184c020b05e80bdf996c9bee96eb">SLE::pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a9e46dc676f9eb2f7d2c95e3eacd3033e">getGenerator</a> (<a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a> lrLedger, const <a class="el" href="../../df/d2e/a01737.html">uint160</a> &amp;uGeneratorID)</td></tr>
<tr class="separator:a9e46dc676f9eb2f7d2c95e3eacd3033e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9da1b9b7d383885b75c44d52db58fded"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d51/a01603.html">STVector256</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a9da1b9b7d383885b75c44d52db58fded">getDirNodeInfo</a> (<a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a> lrLedger, <a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;uRootIndex, <a class="el" href="../../db/d86/a02663.html#aaa5d1cd013383c889537491c3cfd9aad">std::uint64_t</a> &amp;uNodePrevious, <a class="el" href="../../db/d86/a02663.html#aaa5d1cd013383c889537491c3cfd9aad">std::uint64_t</a> &amp;uNodeNext)</td></tr>
<tr class="separator:a9da1b9b7d383885b75c44d52db58fded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac57548110e534b71418d3eb1cf2a2994"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#ac57548110e534b71418d3eb1cf2a2994">getOwnerInfo</a> (<a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> lpLedger, const <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &amp;naAccount)</td></tr>
<tr class="separator:ac57548110e534b71418d3eb1cf2a2994"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcd0f5c06951e3eb74ba81f2006d6216"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#adcd0f5c06951e3eb74ba81f2006d6216">getBookPage</a> (<a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> lpLedger, const <a class="el" href="../../df/d2e/a01737.html">uint160</a> &amp;uTakerPaysCurrencyID, const <a class="el" href="../../df/d2e/a01737.html">uint160</a> &amp;uTakerPaysIssuerID, const <a class="el" href="../../df/d2e/a01737.html">uint160</a> &amp;uTakerGetsCurrencyID, const <a class="el" href="../../df/d2e/a01737.html">uint160</a> &amp;uTakerGetsIssuerID, const <a class="el" href="../../df/d2e/a01737.html">uint160</a> &amp;uTakerID, const bool bProof, const unsigned int iLimit, const <a class="el" href="../../d6/d27/a01781.html">Json::Value</a> &amp;jvMarker, <a class="el" href="../../d6/d27/a01781.html">Json::Value</a> &amp;jvResult)</td></tr>
<tr class="separator:adcd0f5c06951e3eb74ba81f2006d6216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a148e1e8d0c5128ee48e0206cdeb5e2a0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a148e1e8d0c5128ee48e0206cdeb5e2a0">processTrustedProposal</a> (<a class="el" href="../../df/de8/a00839.html#a0ec96481e000fcb8d977f684d600b86b">LedgerProposal::pointer</a> proposal, boost::shared_ptr&lt; protocol::TMProposeSet &gt; set, <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> nodePublic, <a class="el" href="../../d0/d4e/a01741.html">uint256</a> checkLedger, bool sigGood)</td></tr>
<tr class="separator:a148e1e8d0c5128ee48e0206cdeb5e2a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabc81718f21ddab68da0df51e7b9803a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d0c/a01368.html">SHAMapAddNode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#aabc81718f21ddab68da0df51e7b9803a">gotTXData</a> (const boost::shared_ptr&lt; <a class="el" href="../../d5/d17/a01098.html">Peer</a> &gt; &amp;peer, <a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;<a class="el" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>, const std::list&lt; <a class="el" href="../../df/d0b/a01372.html">SHAMapNode</a> &gt; &amp;nodeIDs, const std::list&lt; <a class="el" href="../../d9/d9d/a03417.html#a1b87ba4732cf1725393e8dd60bf73b0c">Blob</a> &gt; &amp;nodeData)</td></tr>
<tr class="separator:aabc81718f21ddab68da0df51e7b9803a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefd56f27d9f1c729d604adee94861224"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#aefd56f27d9f1c729d604adee94861224">recvValidation</a> (<a class="el" href="../../de/d6c/a01349.html#a7e0a3cc2f01beeb07e2852ad4eb7b9dc">SerializedValidation::ref</a> val, const std::string &amp;source)</td></tr>
<tr class="separator:aefd56f27d9f1c729d604adee94861224"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75b4f3b666bdcbb73cbe35991557cf98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a75b4f3b666bdcbb73cbe35991557cf98">takePosition</a> (int seq, <a class="el" href="../../d6/dfe/a01366.html#a585bf78e9ec9fa02084eb73db874939c">SHAMap::ref</a> position)</td></tr>
<tr class="separator:a75b4f3b666bdcbb73cbe35991557cf98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7fc7ee8501f9d95df97583cabf3b4771"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/dfe/a01366.html#a863e0d49cf8941071ae4a0b0e4d44eca">SHAMap::pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a7fc7ee8501f9d95df97583cabf3b4771">getTXMap</a> (<a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;<a class="el" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>)</td></tr>
<tr class="separator:a7fc7ee8501f9d95df97583cabf3b4771"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a541e94a8026bc791398269cb50ad8e68"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a541e94a8026bc791398269cb50ad8e68">hasTXSet</a> (const boost::shared_ptr&lt; <a class="el" href="../../d5/d17/a01098.html">Peer</a> &gt; &amp;peer, <a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;set, protocol::TxSetStatus status)</td></tr>
<tr class="separator:a541e94a8026bc791398269cb50ad8e68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aff24b82af590d1db837231ad0125eee4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#aff24b82af590d1db837231ad0125eee4">mapComplete</a> (<a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;<a class="el" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>, <a class="el" href="../../d6/dfe/a01366.html#a585bf78e9ec9fa02084eb73db874939c">SHAMap::ref</a> map)</td></tr>
<tr class="separator:aff24b82af590d1db837231ad0125eee4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adce04a090daf42f13e79a24e0814e4e1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#adce04a090daf42f13e79a24e0814e4e1">stillNeedTXSet</a> (<a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;<a class="el" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>)</td></tr>
<tr class="separator:adce04a090daf42f13e79a24e0814e4e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba8325861d32ab9cab76bac7c211cba6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#aba8325861d32ab9cab76bac7c211cba6">makeFetchPack</a> (<a class="el" href="../../da/d96/a00782.html">Job</a> &amp;, boost::weak_ptr&lt; <a class="el" href="../../d5/d17/a01098.html">Peer</a> &gt; peer, boost::shared_ptr&lt; protocol::TMGetObjectByHash &gt; request, <a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> wantLedger, <a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> <a class="el" href="../../d7/ded/a01009.html#a734ad201c61554459b5bb61b749d36ef">haveLedger</a>, <a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> uUptime)</td></tr>
<tr class="separator:aba8325861d32ab9cab76bac7c211cba6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a668898843d1bd446f4c0ec6901d0ab14"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a668898843d1bd446f4c0ec6901d0ab14">shouldFetchPack</a> (<a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> seq)</td></tr>
<tr class="separator:a668898843d1bd446f4c0ec6901d0ab14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aadffcf3fce596d566d6bebaa98000f93"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#aadffcf3fce596d566d6bebaa98000f93">gotFetchPack</a> (bool progress, <a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> seq)</td></tr>
<tr class="separator:aadffcf3fce596d566d6bebaa98000f93"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5eb6349ad521102a4ea09ec90b5797de"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a5eb6349ad521102a4ea09ec90b5797de">addFetchPack</a> (<a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;<a class="el" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>, boost::shared_ptr&lt; <a class="el" href="../../d9/d9d/a03417.html#a1b87ba4732cf1725393e8dd60bf73b0c">Blob</a> &gt; &amp;data)</td></tr>
<tr class="separator:a5eb6349ad521102a4ea09ec90b5797de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae854f872a246fb8e8c7949ae552b38f1"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#ae854f872a246fb8e8c7949ae552b38f1">getFetchPack</a> (<a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;<a class="el" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>, <a class="el" href="../../d9/d9d/a03417.html#a1b87ba4732cf1725393e8dd60bf73b0c">Blob</a> &amp;data)</td></tr>
<tr class="separator:ae854f872a246fb8e8c7949ae552b38f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a784d6624cfe72b3bba31a6d50553b44a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a784d6624cfe72b3bba31a6d50553b44a">getFetchSize</a> ()</td></tr>
<tr class="separator:a784d6624cfe72b3bba31a6d50553b44a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53d1db0e69a3063d0a6fa58e0404c8ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a53d1db0e69a3063d0a6fa58e0404c8ed">sweepFetchPack</a> ()</td></tr>
<tr class="separator:a53d1db0e69a3063d0a6fa58e0404c8ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03e21ff22be1d31dbe08f81deb590ece"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a03e21ff22be1d31dbe08f81deb590ece">switchLastClosedLedger</a> (<a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> newLedger, bool duringConsensus)</td></tr>
<tr class="separator:a03e21ff22be1d31dbe08f81deb590ece"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad72f54405ed9b8219022e8c2b7796c98"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#ad72f54405ed9b8219022e8c2b7796c98">checkLastClosedLedger</a> (const <a class="el" href="../../de/de6/a01063.html#ab31ecd9bdd548883e13ef848725264ab">Overlay::PeerSequence</a> &amp;, <a class="el" href="../../d0/d4e/a01741.html">uint256</a> &amp;networkClosed)</td></tr>
<tr class="separator:ad72f54405ed9b8219022e8c2b7796c98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a714120f440d54c69a4a39e803f9d1a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a0a714120f440d54c69a4a39e803f9d1a">beginConsensus</a> (<a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;networkClosed, <a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> closingLedger)</td></tr>
<tr class="separator:a0a714120f440d54c69a4a39e803f9d1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a3776d980baee062b961c0195bc43be"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a6a3776d980baee062b961c0195bc43be">tryStartConsensus</a> ()</td></tr>
<tr class="separator:a6a3776d980baee062b961c0195bc43be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21cb288b0f1ae6e64dd7f73cc8d66b8e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a21cb288b0f1ae6e64dd7f73cc8d66b8e">endConsensus</a> (bool correctLCL)</td></tr>
<tr class="separator:a21cb288b0f1ae6e64dd7f73cc8d66b8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a31de822fcc36dc8f7f288d6702786746"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a31de822fcc36dc8f7f288d6702786746">setStandAlone</a> ()</td></tr>
<tr class="separator:a31de822fcc36dc8f7f288d6702786746"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeebdd50174206918ffeb8bb6eab81db9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#aeebdd50174206918ffeb8bb6eab81db9">setStateTimer</a> ()</td></tr>
<tr class="separator:aeebdd50174206918ffeb8bb6eab81db9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb6ed8669cd2cb9d2e73a56fda7a4369"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#adb6ed8669cd2cb9d2e73a56fda7a4369">newLCL</a> (int proposers, int convergeTime, <a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;ledgerHash)</td></tr>
<tr class="separator:adb6ed8669cd2cb9d2e73a56fda7a4369"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a824afaed1787a65ff2273d320eefc299"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a824afaed1787a65ff2273d320eefc299">needNetworkLedger</a> ()</td></tr>
<tr class="separator:a824afaed1787a65ff2273d320eefc299"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a08d1779d5bb2a06bdbaeabdac2ba3ed8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a08d1779d5bb2a06bdbaeabdac2ba3ed8">clearNeedNetworkLedger</a> ()</td></tr>
<tr class="separator:a08d1779d5bb2a06bdbaeabdac2ba3ed8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a633b71e3a7c523f2c7af59e13979de34"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a633b71e3a7c523f2c7af59e13979de34">isNeedNetworkLedger</a> ()</td></tr>
<tr class="separator:a633b71e3a7c523f2c7af59e13979de34"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fc31e0a3e26d6fc5e0c847c10ef911a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a1fc31e0a3e26d6fc5e0c847c10ef911a">isFull</a> ()</td></tr>
<tr class="separator:a1fc31e0a3e26d6fc5e0c847c10ef911a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad3232c880a1f46468b4f7c8da4516be4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#ad3232c880a1f46468b4f7c8da4516be4">setProposing</a> (bool p, bool v)</td></tr>
<tr class="separator:ad3232c880a1f46468b4f7c8da4516be4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6eb53cae5ac19efd8a5eafe72f3927d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#ad6eb53cae5ac19efd8a5eafe72f3927d">isProposing</a> ()</td></tr>
<tr class="separator:ad6eb53cae5ac19efd8a5eafe72f3927d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a327c7e661ab387a7399e361bec2a333f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a327c7e661ab387a7399e361bec2a333f">isValidating</a> ()</td></tr>
<tr class="separator:a327c7e661ab387a7399e361bec2a333f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af28631070e723398925187eb25bd0b28"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#af28631070e723398925187eb25bd0b28">isFeatureBlocked</a> ()</td></tr>
<tr class="separator:af28631070e723398925187eb25bd0b28"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5fce17a1dc4061675f0eff7c7d3f6f55"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a5fce17a1dc4061675f0eff7c7d3f6f55">setFeatureBlocked</a> ()</td></tr>
<tr class="separator:a5fce17a1dc4061675f0eff7c7d3f6f55"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f084e481032cbda8f923ff3dcc3e0b5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a6f084e481032cbda8f923ff3dcc3e0b5">consensusViewChange</a> ()</td></tr>
<tr class="separator:a6f084e481032cbda8f923ff3dcc3e0b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abdde224cfc7141d0eace3b9d2158b741"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#abdde224cfc7141d0eace3b9d2158b741">getPreviousProposers</a> ()</td></tr>
<tr class="separator:abdde224cfc7141d0eace3b9d2158b741"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ff2ddd9c5ebf0747b936eb92a566f68"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a8ff2ddd9c5ebf0747b936eb92a566f68">getPreviousConvergeTime</a> ()</td></tr>
<tr class="separator:a8ff2ddd9c5ebf0747b936eb92a566f68"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aebf1c7b3285e3eb5032233bf110d8ba0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#aebf1c7b3285e3eb5032233bf110d8ba0">getLastCloseTime</a> ()</td></tr>
<tr class="separator:aebf1c7b3285e3eb5032233bf110d8ba0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe3e399b206271e9e2fa60cd91825f1f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#afe3e399b206271e9e2fa60cd91825f1f">setLastCloseTime</a> (<a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> t)</td></tr>
<tr class="separator:afe3e399b206271e9e2fa60cd91825f1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad2d4354eee753820855b898b80d51cea"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#ad2d4354eee753820855b898b80d51cea">getConsensusInfo</a> ()</td></tr>
<tr class="separator:ad2d4354eee753820855b898b80d51cea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a356932367043b41df75358206d0b5b36"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a356932367043b41df75358206d0b5b36">getServerInfo</a> (bool human, bool admin)</td></tr>
<tr class="separator:a356932367043b41df75358206d0b5b36"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9d05582df1098bebc063132a3c0cf730"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a9d05582df1098bebc063132a3c0cf730">clearLedgerFetch</a> ()</td></tr>
<tr class="separator:a9d05582df1098bebc063132a3c0cf730"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a50ed100dcdeeca70debe6d39bbba8d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a4a50ed100dcdeeca70debe6d39bbba8d">getLedgerFetchInfo</a> ()</td></tr>
<tr class="separator:a4a50ed100dcdeeca70debe6d39bbba8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba0a801a4063f8d34e523e1537765cad"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#aba0a801a4063f8d34e523e1537765cad">acceptLedger</a> ()</td></tr>
<tr class="separator:aba0a801a4063f8d34e523e1537765cad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8fa8b98457f1ab20a5872596dec5a491"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d9d/a03417.html#a1382c24eaaf3ee6a51a5b64d8ad5706c">ripple::unordered_map</a>&lt; <a class="el" href="../../df/d2e/a01737.html">uint160</a>, <br class="typebreak"/>
std::list<br class="typebreak"/>
&lt; <a class="el" href="../../df/de8/a00839.html#a0ec96481e000fcb8d977f684d600b86b">LedgerProposal::pointer</a> &gt; &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a8fa8b98457f1ab20a5872596dec5a491">peekStoredProposals</a> ()</td></tr>
<tr class="separator:a8fa8b98457f1ab20a5872596dec5a491"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f335c9702b1020e07700e26ae9237cf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a9f335c9702b1020e07700e26ae9237cf">storeProposal</a> (<a class="el" href="../../df/de8/a00839.html#add6440940c08aea0de0a90ce4f5c701e">LedgerProposal::ref</a> proposal, const <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &amp;peerPublic)</td></tr>
<tr class="separator:a9f335c9702b1020e07700e26ae9237cf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27090d36556b8665cbd908efa99e2a05"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d4e/a01741.html">uint256</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a27090d36556b8665cbd908efa99e2a05">getConsensusLCL</a> ()</td></tr>
<tr class="separator:a27090d36556b8665cbd908efa99e2a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72a7f13b9a1836688253dbc468378f47"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a72a7f13b9a1836688253dbc468378f47">reportFeeChange</a> ()</td></tr>
<tr class="separator:a72a7f13b9a1836688253dbc468378f47"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33fe49cb4a3e3692c185ad646ebe942c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a33fe49cb4a3e3692c185ad646ebe942c">updateLocalTx</a> (<a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a> newValidLedger) override</td></tr>
<tr class="separator:a33fe49cb4a3e3692c185ad646ebe942c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af5dbdb9d540e650ee83b593be700ffeb"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#af5dbdb9d540e650ee83b593be700ffeb">addLocalTx</a> (<a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a> openLedger, <a class="el" href="../../d9/de4/a01346.html#a24c9aa93fed382b9abfa1ed699ff26d6">SerializedTransaction::ref</a> txn) override</td></tr>
<tr class="separator:af5dbdb9d540e650ee83b593be700ffeb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a337e835812ea1950edbfe3ebb0947667"><td class="memItemLeft" align="right" valign="top">std::size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a337e835812ea1950edbfe3ebb0947667">getLocalTxCount</a> () override</td></tr>
<tr class="separator:a337e835812ea1950edbfe3ebb0947667"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7a4453eeb692f0bc2dc5a73a83e2dd54"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a7a4453eeb692f0bc2dc5a73a83e2dd54">transactionsSQL</a> (std::string selection, const <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &amp;account, <a class="el" href="../../db/d86/a02663.html#ab1967d8591af1a4e48c37fd2b0f184d0">std::int32_t</a> minLedger, <a class="el" href="../../db/d86/a02663.html#ab1967d8591af1a4e48c37fd2b0f184d0">std::int32_t</a> maxLedger, bool descending, <a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> offset, int limit, bool binary, bool count, bool bAdmin)</td></tr>
<tr class="separator:a7a4453eeb692f0bc2dc5a73a83e2dd54"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6e1ccf9676c6b1c9277aa9b7bc3b5021"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair<br class="typebreak"/>
&lt; <a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a>, <br class="typebreak"/>
<a class="el" href="../../d1/da7/a01709.html#aa6169f45f954da1eae3fd72dd45f5849">TransactionMetaSet::pointer</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a6e1ccf9676c6b1c9277aa9b7bc3b5021">getAccountTxs</a> (const <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &amp;account, <a class="el" href="../../db/d86/a02663.html#ab1967d8591af1a4e48c37fd2b0f184d0">std::int32_t</a> minLedger, <a class="el" href="../../db/d86/a02663.html#ab1967d8591af1a4e48c37fd2b0f184d0">std::int32_t</a> maxLedger, bool descending, <a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> offset, int limit, bool bAdmin)</td></tr>
<tr class="separator:a6e1ccf9676c6b1c9277aa9b7bc3b5021"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a13e73e2120834b3a178cd047cefa7067"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::pair<br class="typebreak"/>
&lt; <a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a>, <br class="typebreak"/>
<a class="el" href="../../d1/da7/a01709.html#aa6169f45f954da1eae3fd72dd45f5849">TransactionMetaSet::pointer</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a13e73e2120834b3a178cd047cefa7067">getTxsAccount</a> (const <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &amp;account, <a class="el" href="../../db/d86/a02663.html#ab1967d8591af1a4e48c37fd2b0f184d0">std::int32_t</a> minLedger, <a class="el" href="../../db/d86/a02663.html#ab1967d8591af1a4e48c37fd2b0f184d0">std::int32_t</a> maxLedger, bool forward, <a class="el" href="../../d6/d27/a01781.html">Json::Value</a> &amp;token, int limit, bool bAdmin)</td></tr>
<tr class="separator:a13e73e2120834b3a178cd047cefa7067"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a57e12101d21717265329ff076bf5dcf1"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d7/ded/a01009.html#aee8097055c243f4c6ea3ee300c2a0647">txnMetaLedgerType</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a57e12101d21717265329ff076bf5dcf1">getAccountTxsB</a> (const <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &amp;account, <a class="el" href="../../db/d86/a02663.html#ab1967d8591af1a4e48c37fd2b0f184d0">std::int32_t</a> minLedger, <a class="el" href="../../db/d86/a02663.html#ab1967d8591af1a4e48c37fd2b0f184d0">std::int32_t</a> maxLedger, bool descending, <a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> offset, int limit, bool bAdmin)</td></tr>
<tr class="separator:a57e12101d21717265329ff076bf5dcf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25a2f3c20be6cab016d0c6e4f98119a3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d7/ded/a01009.html#aee8097055c243f4c6ea3ee300c2a0647">txnMetaLedgerType</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a25a2f3c20be6cab016d0c6e4f98119a3">getTxsAccountB</a> (const <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &amp;account, <a class="el" href="../../db/d86/a02663.html#ab1967d8591af1a4e48c37fd2b0f184d0">std::int32_t</a> minLedger, <a class="el" href="../../db/d86/a02663.html#ab1967d8591af1a4e48c37fd2b0f184d0">std::int32_t</a> maxLedger, bool forward, <a class="el" href="../../d6/d27/a01781.html">Json::Value</a> &amp;token, int limit, bool bAdmin)</td></tr>
<tr class="separator:a25a2f3c20be6cab016d0c6e4f98119a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca2c756f6ff15282af04d5305d56148d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#aca2c756f6ff15282af04d5305d56148d">getLedgerAffectedAccounts</a> (<a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> ledgerSeq)</td></tr>
<tr class="separator:aca2c756f6ff15282af04d5305d56148d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78a85046176bd8a4c348f02a501b14bf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a78a85046176bd8a4c348f02a501b14bf">pubLedger</a> (<a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a> lpAccepted)</td></tr>
<tr class="separator:a78a85046176bd8a4c348f02a501b14bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac395f76cb28cb933beab05c4d10d91e9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#ac395f76cb28cb933beab05c4d10d91e9">pubProposedTransaction</a> (<a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a> lpCurrent, <a class="el" href="../../d9/de4/a01346.html#a24c9aa93fed382b9abfa1ed699ff26d6">SerializedTransaction::ref</a> stTxn, <a class="el" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0">TER</a> terResult)</td></tr>
<tr class="separator:ac395f76cb28cb933beab05c4d10d91e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6376e001f86aec3bb254e6ad2199087f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a6376e001f86aec3bb254e6ad2199087f">subAccount</a> (<a class="el" href="../../d4/deb/a00710.html#af7ad8994c674d6ffe9be7039f7e9645b">InfoSub::ref</a> ispListener, const boost::unordered_set&lt; <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &gt; &amp;vnaAccountIDs, <a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> uLedgerIndex, bool rt)</td></tr>
<tr class="separator:a6376e001f86aec3bb254e6ad2199087f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3ec4429a0972525171c2cc98b73aa74e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a3ec4429a0972525171c2cc98b73aa74e">unsubAccount</a> (<a class="el" href="../../db/d86/a02663.html#aaa5d1cd013383c889537491c3cfd9aad">std::uint64_t</a> uListener, const boost::unordered_set&lt; <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &gt; &amp;vnaAccountIDs, bool rt)</td></tr>
<tr class="separator:a3ec4429a0972525171c2cc98b73aa74e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1857e0f82ca0c44b30004d3e8018827e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a1857e0f82ca0c44b30004d3e8018827e">subLedger</a> (<a class="el" href="../../d4/deb/a00710.html#af7ad8994c674d6ffe9be7039f7e9645b">InfoSub::ref</a> ispListener, <a class="el" href="../../d6/d27/a01781.html">Json::Value</a> &amp;jvResult)</td></tr>
<tr class="separator:a1857e0f82ca0c44b30004d3e8018827e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac30539c1636a84cf3c3b3a8f84f6e493"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#ac30539c1636a84cf3c3b3a8f84f6e493">unsubLedger</a> (<a class="el" href="../../db/d86/a02663.html#aaa5d1cd013383c889537491c3cfd9aad">std::uint64_t</a> uListener)</td></tr>
<tr class="separator:ac30539c1636a84cf3c3b3a8f84f6e493"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a862ad4901433791b9bea86eb574b3aed"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a862ad4901433791b9bea86eb574b3aed">subServer</a> (<a class="el" href="../../d4/deb/a00710.html#af7ad8994c674d6ffe9be7039f7e9645b">InfoSub::ref</a> ispListener, <a class="el" href="../../d6/d27/a01781.html">Json::Value</a> &amp;jvResult)</td></tr>
<tr class="separator:a862ad4901433791b9bea86eb574b3aed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8aa864369639ef3647892ac5f31c287e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a8aa864369639ef3647892ac5f31c287e">unsubServer</a> (<a class="el" href="../../db/d86/a02663.html#aaa5d1cd013383c889537491c3cfd9aad">std::uint64_t</a> uListener)</td></tr>
<tr class="separator:a8aa864369639ef3647892ac5f31c287e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae5e8ddc772b7e4a49493da0437028596"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#ae5e8ddc772b7e4a49493da0437028596">subBook</a> (<a class="el" href="../../d4/deb/a00710.html#af7ad8994c674d6ffe9be7039f7e9645b">InfoSub::ref</a> ispListener, <a class="el" href="../../d9/d9d/a03417.html#aae81fe197fcabf93844fa04d16d99c0c">RippleCurrency</a> const &amp;currencyPays, <a class="el" href="../../d9/d9d/a03417.html#aae81fe197fcabf93844fa04d16d99c0c">RippleCurrency</a> const &amp;currencyGets, <a class="el" href="../../d9/d9d/a03417.html#af6ceb67b67fea965b4a6d61712883794">RippleIssuer</a> const &amp;issuerPays, <a class="el" href="../../d9/d9d/a03417.html#af6ceb67b67fea965b4a6d61712883794">RippleIssuer</a> const &amp;issuerGets)</td></tr>
<tr class="separator:ae5e8ddc772b7e4a49493da0437028596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae87eecb15c1948bf34667120cf583a66"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#ae87eecb15c1948bf34667120cf583a66">unsubBook</a> (<a class="el" href="../../db/d86/a02663.html#aaa5d1cd013383c889537491c3cfd9aad">std::uint64_t</a> uListener, <a class="el" href="../../d9/d9d/a03417.html#aae81fe197fcabf93844fa04d16d99c0c">RippleCurrency</a> const &amp;currencyPays, <a class="el" href="../../d9/d9d/a03417.html#aae81fe197fcabf93844fa04d16d99c0c">RippleCurrency</a> const &amp;currencyGets, <a class="el" href="../../d9/d9d/a03417.html#af6ceb67b67fea965b4a6d61712883794">RippleIssuer</a> const &amp;issuerPays, <a class="el" href="../../d9/d9d/a03417.html#af6ceb67b67fea965b4a6d61712883794">RippleIssuer</a> const &amp;issuerGets)</td></tr>
<tr class="separator:ae87eecb15c1948bf34667120cf583a66"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2a68008a4f8c8539dca35f260625f13"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#aa2a68008a4f8c8539dca35f260625f13">subTransactions</a> (<a class="el" href="../../d4/deb/a00710.html#af7ad8994c674d6ffe9be7039f7e9645b">InfoSub::ref</a> ispListener)</td></tr>
<tr class="separator:aa2a68008a4f8c8539dca35f260625f13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa8b1f0db8506560c626dc6cff0bf5757"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#aa8b1f0db8506560c626dc6cff0bf5757">unsubTransactions</a> (<a class="el" href="../../db/d86/a02663.html#aaa5d1cd013383c889537491c3cfd9aad">std::uint64_t</a> uListener)</td></tr>
<tr class="separator:aa8b1f0db8506560c626dc6cff0bf5757"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3bc8a0fafc39d184f934832713c04965"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a3bc8a0fafc39d184f934832713c04965">subRTTransactions</a> (<a class="el" href="../../d4/deb/a00710.html#af7ad8994c674d6ffe9be7039f7e9645b">InfoSub::ref</a> ispListener)</td></tr>
<tr class="separator:a3bc8a0fafc39d184f934832713c04965"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa11fdb3c73a1712fdc0756acd577e525"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#aa11fdb3c73a1712fdc0756acd577e525">unsubRTTransactions</a> (<a class="el" href="../../db/d86/a02663.html#aaa5d1cd013383c889537491c3cfd9aad">std::uint64_t</a> uListener)</td></tr>
<tr class="separator:aa11fdb3c73a1712fdc0756acd577e525"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa54c323f2b401d104144796613c7d092"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/deb/a00710.html#a15ba6fd94d60310cdf80362345b5d07b">InfoSub::pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#aa54c323f2b401d104144796613c7d092">findRpcSub</a> (const std::string &amp;strUrl)</td></tr>
<tr class="separator:aa54c323f2b401d104144796613c7d092"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1cd2204666c1b5f7e591d7f9564b1f7f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d4/deb/a00710.html#a15ba6fd94d60310cdf80362345b5d07b">InfoSub::pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a1cd2204666c1b5f7e591d7f9564b1f7f">addRpcSub</a> (const std::string &amp;strUrl, <a class="el" href="../../d4/deb/a00710.html#af7ad8994c674d6ffe9be7039f7e9645b">InfoSub::ref</a> rspEntry)</td></tr>
<tr class="separator:a1cd2204666c1b5f7e591d7f9564b1f7f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e0aaf97b475815224f2a33d7d50f81a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a4e0aaf97b475815224f2a33d7d50f81a">onStop</a> ()</td></tr>
<tr class="separator:a4e0aaf97b475815224f2a33d7d50f81a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_a01008"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_a01008')"><img src="../../closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="../../dd/dac/a01008.html">ripple::NetworkOPs</a></td></tr>
<tr class="memitem:a65933756ffd13a7fdc85751086918089 inherit pub_methods_a01008"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dac/a01008.html#a65933756ffd13a7fdc85751086918089">~NetworkOPs</a> ()=0</td></tr>
<tr class="separator:a65933756ffd13a7fdc85751086918089 inherit pub_methods_a01008"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-types"></a>
Private Types</h2></td></tr>
<tr class="memitem:a478968e066d7dbbbb96c4645251eb49b"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d9/d9d/a03417.html#a1382c24eaaf3ee6a51a5b64d8ad5706c">ripple::unordered_map</a><br class="typebreak"/>
&lt; <a class="el" href="../../df/d2e/a01737.html">uint160</a>, <a class="el" href="../../dd/dac/a01008.html#adbb477955e5958d0f783a08e05429590">SubMapType</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a478968e066d7dbbbb96c4645251eb49b">SubInfoMapType</a></td></tr>
<tr class="separator:a478968e066d7dbbbb96c4645251eb49b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a25bafe689ef12ec8d504446d8429f5c5"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d9/d9d/a03417.html#a1382c24eaaf3ee6a51a5b64d8ad5706c">ripple::unordered_map</a><br class="typebreak"/>
&lt; <a class="el" href="../../df/d2e/a01737.html">uint160</a>, <a class="el" href="../../dd/dac/a01008.html#adbb477955e5958d0f783a08e05429590">SubMapType</a> &gt;<br class="typebreak"/>
::iterator&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a25bafe689ef12ec8d504446d8429f5c5">SubInfoMapIterator</a></td></tr>
<tr class="separator:a25bafe689ef12ec8d504446d8429f5c5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a720e9f21ca635002223496cff1e4f053"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d9/d9d/a03417.html#a1382c24eaaf3ee6a51a5b64d8ad5706c">ripple::unordered_map</a><br class="typebreak"/>
&lt; std::string, <br class="typebreak"/>
<a class="el" href="../../d4/deb/a00710.html#a15ba6fd94d60310cdf80362345b5d07b">InfoSub::pointer</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a720e9f21ca635002223496cff1e4f053">subRpcMapType</a></td></tr>
<tr class="separator:a720e9f21ca635002223496cff1e4f053"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ac5889b81868911d8291ba362c64a15"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="../../d9/d9d/a03417.html#abf55a274ab90a3ca5b8dc903a401ad93">RippleRecursiveMutex</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a4ac5889b81868911d8291ba362c64a15">LockType</a></td></tr>
<tr class="separator:a4ac5889b81868911d8291ba362c64a15"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a936ed96d8cb48a7a818e292345032bd3"><td class="memItemLeft" align="right" valign="top">typedef std::lock_guard&lt; <a class="el" href="../../d7/ded/a01009.html#a4ac5889b81868911d8291ba362c64a15">LockType</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a936ed96d8cb48a7a818e292345032bd3">ScopedLockType</a></td></tr>
<tr class="separator:a936ed96d8cb48a7a818e292345032bd3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a0d6bcbe95c3e423d83d68599fd34a637"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a0d6bcbe95c3e423d83d68599fd34a637">setHeartbeatTimer</a> ()</td></tr>
<tr class="separator:a0d6bcbe95c3e423d83d68599fd34a637"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a312a6368f14118216b064f292349db31"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a312a6368f14118216b064f292349db31">setClusterTimer</a> ()</td></tr>
<tr class="separator:a312a6368f14118216b064f292349db31"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab8272588ee692e125af4d7841af32618"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#ab8272588ee692e125af4d7841af32618">onDeadlineTimer</a> (<a class="el" href="../../da/dbf/a00393.html">beast::DeadlineTimer</a> &amp;timer)</td></tr>
<tr class="separator:ab8272588ee692e125af4d7841af32618"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb95084185570756c8a39ba0e32fb3ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#adb95084185570756c8a39ba0e32fb3ed">processHeartbeatTimer</a> ()</td></tr>
<tr class="separator:adb95084185570756c8a39ba0e32fb3ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01173fbae7b2fe63dc7028120fb55862"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a01173fbae7b2fe63dc7028120fb55862">processClusterTimer</a> ()</td></tr>
<tr class="separator:a01173fbae7b2fe63dc7028120fb55862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0c56ed3ad69785bf57409e453f434f40"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40">setMode</a> (<a class="el" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aa">OperatingMode</a>)</td></tr>
<tr class="separator:a0c56ed3ad69785bf57409e453f434f40"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acd0b0453a98534dad9cfd1a0fa6bf780"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#acd0b0453a98534dad9cfd1a0fa6bf780">transJson</a> (const <a class="el" href="../../d9/de4/a01346.html">SerializedTransaction</a> &amp;stTxn, <a class="el" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0">TER</a> terResult, bool bValidated, <a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a> lpCurrent)</td></tr>
<tr class="separator:acd0b0453a98534dad9cfd1a0fa6bf780"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac929d58ce61af6b87922103bf3da3039"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#ac929d58ce61af6b87922103bf3da3039">haveConsensusObject</a> ()</td></tr>
<tr class="separator:ac929d58ce61af6b87922103bf3da3039"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a595104a945d82f7d5fd3ba7f1b5eeeb2"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a595104a945d82f7d5fd3ba7f1b5eeeb2">pubBootstrapAccountInfo</a> (<a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a> lpAccepted, const <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &amp;naAccountID)</td></tr>
<tr class="separator:a595104a945d82f7d5fd3ba7f1b5eeeb2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99f74527e0ad0e6550d3ba503644722e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a99f74527e0ad0e6550d3ba503644722e">pubValidatedTransaction</a> (<a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a> alAccepted, const <a class="el" href="../../d4/d6d/a00055.html">AcceptedLedgerTx</a> &amp;alTransaction)</td></tr>
<tr class="separator:a99f74527e0ad0e6550d3ba503644722e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a810aca64ae42518e2e6506fbc8ba4569"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a810aca64ae42518e2e6506fbc8ba4569">pubAccountTransaction</a> (<a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a> lpCurrent, const <a class="el" href="../../d4/d6d/a00055.html">AcceptedLedgerTx</a> &amp;alTransaction, bool isAccepted)</td></tr>
<tr class="separator:a810aca64ae42518e2e6506fbc8ba4569"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a768673e1643af3147b10b4d99aca8caf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a768673e1643af3147b10b4d99aca8caf">pubServer</a> ()</td></tr>
<tr class="separator:a768673e1643af3147b10b4d99aca8caf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a16d6bf23805417dc49d22e96c7c74731"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dac/a01008.html#aef70f7989bc81d06bc57491af390b691">clock_type</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a16d6bf23805417dc49d22e96c7c74731">m_clock</a></td></tr>
<tr class="separator:a16d6bf23805417dc49d22e96c7c74731"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a536fdf13287895a338f05b765e96d9e3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../df/d0c/a00788.html">beast::Journal</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a></td></tr>
<tr class="separator:a536fdf13287895a338f05b765e96d9e3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a344b77de546f45ee7102a7c774690be7"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../da/dd6/a00896.html">LocalTxs</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a344b77de546f45ee7102a7c774690be7">m_localTX</a></td></tr>
<tr class="separator:a344b77de546f45ee7102a7c774690be7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a70737bfb801df45b5e15965b33570104"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="../../d7/d41/a00532.html">FeeVote</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a70737bfb801df45b5e15965b33570104">m_feeVote</a></td></tr>
<tr class="separator:a70737bfb801df45b5e15965b33570104"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28e64f295f2eca1f91a5a11239352071"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/ded/a01009.html#a4ac5889b81868911d8291ba362c64a15">LockType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a28e64f295f2eca1f91a5a11239352071">mLock</a></td></tr>
<tr class="separator:a28e64f295f2eca1f91a5a11239352071"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26340c144ee827737e934e0b769bd812"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aa">OperatingMode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a></td></tr>
<tr class="separator:a26340c144ee827737e934e0b769bd812"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47ec6c8f5fcf5adae37a33884645924d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a47ec6c8f5fcf5adae37a33884645924d">mNeedNetworkLedger</a></td></tr>
<tr class="separator:a47ec6c8f5fcf5adae37a33884645924d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83d0181caae154387781bb0bcf3c4bf9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a83d0181caae154387781bb0bcf3c4bf9">mProposing</a></td></tr>
<tr class="separator:a83d0181caae154387781bb0bcf3c4bf9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e59597ec8206a1b89bd319946acc929"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a2e59597ec8206a1b89bd319946acc929">mValidating</a></td></tr>
<tr class="separator:a2e59597ec8206a1b89bd319946acc929"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a492366ff8770557052effe9758495427"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a492366ff8770557052effe9758495427">mFeatureBlocked</a></td></tr>
<tr class="separator:a492366ff8770557052effe9758495427"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a34d887b9dcb04769bc88cc04ebefe999"><td class="memItemLeft" align="right" valign="top">boost::posix_time::ptime&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a34d887b9dcb04769bc88cc04ebefe999">mConnectTime</a></td></tr>
<tr class="separator:a34d887b9dcb04769bc88cc04ebefe999"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac104b6edd5abf8dd78fd53143a3258d5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/dbf/a00393.html">beast::DeadlineTimer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#ac104b6edd5abf8dd78fd53143a3258d5">m_heartbeatTimer</a></td></tr>
<tr class="separator:ac104b6edd5abf8dd78fd53143a3258d5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a60648a56c0b87aac12e9cf2d03706a82"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../da/dbf/a00393.html">beast::DeadlineTimer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a60648a56c0b87aac12e9cf2d03706a82">m_clusterTimer</a></td></tr>
<tr class="separator:a60648a56c0b87aac12e9cf2d03706a82"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a73106e37e972a1eebe7661a912353bd4"><td class="memItemLeft" align="right" valign="top">boost::shared_ptr<br class="typebreak"/>
&lt; <a class="el" href="../../d9/daf/a00830.html">LedgerConsensus</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a></td></tr>
<tr class="separator:a73106e37e972a1eebe7661a912353bd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1d4bb7577a8035481eaaffafb4ae0861"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/d9d/a03417.html#a1382c24eaaf3ee6a51a5b64d8ad5706c">ripple::unordered_map</a>&lt; <a class="el" href="../../df/d2e/a01737.html">uint160</a>, <br class="typebreak"/>
std::list<br class="typebreak"/>
&lt; <a class="el" href="../../df/de8/a00839.html#a0ec96481e000fcb8d977f684d600b86b">LedgerProposal::pointer</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a1d4bb7577a8035481eaaffafb4ae0861">mStoredProposals</a></td></tr>
<tr class="separator:a1d4bb7577a8035481eaaffafb4ae0861"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab1a4107ba17db9dc8be0f98d3ad895a"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d1/de6/a00837.html">LedgerMaster</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a></td></tr>
<tr class="separator:aab1a4107ba17db9dc8be0f98d3ad895a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a94b29121ae586a6b7354a80f8d088c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d85/a00702.html#af0d96e0cff791d52c85cbe4b8a16a71b">InboundLedger::pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a9a94b29121ae586a6b7354a80f8d088c">mAcquiringLedger</a></td></tr>
<tr class="separator:a9a94b29121ae586a6b7354a80f8d088c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa32b30d4b133c9bddc5ec08a1e747df6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#aa32b30d4b133c9bddc5ec08a1e747df6">mCloseTimeOffset</a></td></tr>
<tr class="separator:aa32b30d4b133c9bddc5ec08a1e747df6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b5d139cf2208caba068486e449b66e8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a8b5d139cf2208caba068486e449b66e8">mLastCloseProposers</a></td></tr>
<tr class="separator:a8b5d139cf2208caba068486e449b66e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acc1ce0bf9b0be24aad76ce27dd270a1a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#acc1ce0bf9b0be24aad76ce27dd270a1a">mLastCloseConvergeTime</a></td></tr>
<tr class="separator:acc1ce0bf9b0be24aad76ce27dd270a1a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0d79bcd905a8104f521b3e071b67a903"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d0/d4e/a01741.html">uint256</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a0d79bcd905a8104f521b3e071b67a903">mLastCloseHash</a></td></tr>
<tr class="separator:a0d79bcd905a8104f521b3e071b67a903"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fd523c6f3b57b16302105c070f7d029"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a1fd523c6f3b57b16302105c070f7d029">mLastCloseTime</a></td></tr>
<tr class="separator:a1fd523c6f3b57b16302105c070f7d029"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9997a23348101f70cd4d97ebdbc1015b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a9997a23348101f70cd4d97ebdbc1015b">mLastValidationTime</a></td></tr>
<tr class="separator:a9997a23348101f70cd4d97ebdbc1015b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:add3af110179d9191d3792b6b5088a8e5"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../de/d6c/a01349.html#a2e641fe3da3300cc7172c04c3a54d977">SerializedValidation::pointer</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#add3af110179d9191d3792b6b5088a8e5">mLastValidation</a></td></tr>
<tr class="separator:add3af110179d9191d3792b6b5088a8e5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26cb1d76498df9d9f76024bedbfe2262"><td class="memItemLeft" align="right" valign="top">std::map&lt; <a class="el" href="../../d0/d4e/a01741.html">uint256</a>, std::pair<br class="typebreak"/>
&lt; int, <a class="el" href="../../d6/dfe/a01366.html#a863e0d49cf8941071ae4a0b0e4d44eca">SHAMap::pointer</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a26cb1d76498df9d9f76024bedbfe2262">mRecentPositions</a></td></tr>
<tr class="separator:a26cb1d76498df9d9f76024bedbfe2262"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a556fe55601cc1f11f8b60223bbe5039e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/ded/a01009.html#a478968e066d7dbbbb96c4645251eb49b">SubInfoMapType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a556fe55601cc1f11f8b60223bbe5039e">mSubAccount</a></td></tr>
<tr class="separator:a556fe55601cc1f11f8b60223bbe5039e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad592cfabec0a6bd2674d4652887fe5dd"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/ded/a01009.html#a478968e066d7dbbbb96c4645251eb49b">SubInfoMapType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#ad592cfabec0a6bd2674d4652887fe5dd">mSubRTAccount</a></td></tr>
<tr class="separator:ad592cfabec0a6bd2674d4652887fe5dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0bd49a0f6d4f847723f09a5b9d57cd9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/ded/a01009.html#a720e9f21ca635002223496cff1e4f053">subRpcMapType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#af0bd49a0f6d4f847723f09a5b9d57cd9">mRpcSubMap</a></td></tr>
<tr class="separator:af0bd49a0f6d4f847723f09a5b9d57cd9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27e373e93311db99455cd6a8da160943"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dac/a01008.html#adbb477955e5958d0f783a08e05429590">SubMapType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a27e373e93311db99455cd6a8da160943">mSubLedger</a></td></tr>
<tr class="separator:a27e373e93311db99455cd6a8da160943"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2b73d96e9174171dcb29db4155314f3f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dac/a01008.html#adbb477955e5958d0f783a08e05429590">SubMapType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a2b73d96e9174171dcb29db4155314f3f">mSubServer</a></td></tr>
<tr class="separator:a2b73d96e9174171dcb29db4155314f3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae13616c7a9ed41edc86fe19cfe6f56d8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dac/a01008.html#adbb477955e5958d0f783a08e05429590">SubMapType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#ae13616c7a9ed41edc86fe19cfe6f56d8">mSubTransactions</a></td></tr>
<tr class="separator:ae13616c7a9ed41edc86fe19cfe6f56d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada363c60dd7cec7aa003b9e45d582a2f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/dac/a01008.html#adbb477955e5958d0f783a08e05429590">SubMapType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#ada363c60dd7cec7aa003b9e45d582a2f">mSubRTTransactions</a></td></tr>
<tr class="separator:ada363c60dd7cec7aa003b9e45d582a2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a504786cda9d676e308f54fe40f7d6d83"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d55/a01638.html">TaggedCache</a>&lt; <a class="el" href="../../d0/d4e/a01741.html">uint256</a>, <a class="el" href="../../d9/d9d/a03417.html#a1b87ba4732cf1725393e8dd60bf73b0c">Blob</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a504786cda9d676e308f54fe40f7d6d83">mFetchPack</a></td></tr>
<tr class="separator:a504786cda9d676e308f54fe40f7d6d83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb8697514ba427ff0c66285944f83705"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#acb8697514ba427ff0c66285944f83705">mFetchSeq</a></td></tr>
<tr class="separator:acb8697514ba427ff0c66285944f83705"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a11e5f635db454f56725e6f902e4c1ca8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a11e5f635db454f56725e6f902e4c1ca8">mLastLoadBase</a></td></tr>
<tr class="separator:a11e5f635db454f56725e6f902e4c1ca8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a106784c971d5ac80e561380723e3ce80"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d7/ded/a01009.html#a106784c971d5ac80e561380723e3ce80">mLastLoadFactor</a></td></tr>
<tr class="separator:a106784c971d5ac80e561380723e3ce80"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_static_methods_a01008"><td colspan="2" onclick="javascript:toggleInherit('pub_static_methods_a01008')"><img src="../../closed.png" alt="-"/>&#160;Static Public Member Functions inherited from <a class="el" href="../../dd/dac/a01008.html">ripple::NetworkOPs</a></td></tr>
<tr class="memitem:ae69d2c94838c580738d34dfef2403552 inherit pub_static_methods_a01008"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="../../dd/dac/a01008.html">NetworkOPs</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dac/a01008.html#ae69d2c94838c580738d34dfef2403552">New</a> (<a class="el" href="../../dd/dac/a01008.html#aef70f7989bc81d06bc57491af390b691">clock_type</a> &amp;clock, <a class="el" href="../../d1/de6/a00837.html">LedgerMaster</a> &amp;ledgerMaster, <a class="el" href="../../d2/d49/a01561.html#acb0fcc07d95f38f05243ead46986ecd2">Stoppable</a> &amp;parent, <a class="el" href="../../df/d0c/a00788.html">beast::Journal</a> journal)</td></tr>
<tr class="separator:ae69d2c94838c580738d34dfef2403552 inherit pub_static_methods_a01008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_methods_a01008"><td colspan="2" onclick="javascript:toggleInherit('pro_methods_a01008')"><img src="../../closed.png" alt="-"/>&#160;Protected Member Functions inherited from <a class="el" href="../../dd/dac/a01008.html">ripple::NetworkOPs</a></td></tr>
<tr class="memitem:a0b77aa7d91266c865e5cdd95d9a094f2 inherit pro_methods_a01008"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../dd/dac/a01008.html#a0b77aa7d91266c865e5cdd95d9a094f2">NetworkOPs</a> (<a class="el" href="../../d2/d49/a01561.html#acb0fcc07d95f38f05243ead46986ecd2">Stoppable</a> &amp;parent)</td></tr>
<tr class="separator:a0b77aa7d91266c865e5cdd95d9a094f2 inherit pro_methods_a01008"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_a01561"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_a01561')"><img src="../../closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="../../d2/d49/a01561.html">beast::Stoppable</a></td></tr>
<tr class="memitem:af4e7ab358a26f9e77609119f56b6324d inherit pro_attribs_a01561"><td class="memItemLeft" align="right" valign="top">char const *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d49/a01561.html#af4e7ab358a26f9e77609119f56b6324d">m_name</a></td></tr>
<tr class="separator:af4e7ab358a26f9e77609119f56b6324d inherit pro_attribs_a01561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa65f6d0b79ef60e895f49ff1e3e572e inherit pro_attribs_a01561"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d9/dda/a01289.html">RootStoppable</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d49/a01561.html#afa65f6d0b79ef60e895f49ff1e3e572e">m_root</a></td></tr>
<tr class="separator:afa65f6d0b79ef60e895f49ff1e3e572e inherit pro_attribs_a01561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bf935d3fb8d634a65993d18951e5c8c inherit pro_attribs_a01561"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../dd/d56/a00274.html">Child</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d49/a01561.html#a8bf935d3fb8d634a65993d18951e5c8c">m_child</a></td></tr>
<tr class="separator:a8bf935d3fb8d634a65993d18951e5c8c inherit pro_attribs_a01561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d15d9b53bec924ba390e76fb775b45c inherit pro_attribs_a01561"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d06/a00131.html">Atomic</a>&lt; int &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d49/a01561.html#a4d15d9b53bec924ba390e76fb775b45c">m_started</a></td></tr>
<tr class="separator:a4d15d9b53bec924ba390e76fb775b45c inherit pro_attribs_a01561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d8958b95e49ca71456dc06ce6117bd7 inherit pro_attribs_a01561"><td class="memItemLeft" align="right" valign="top">bool volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d49/a01561.html#a4d8958b95e49ca71456dc06ce6117bd7">m_stopped</a></td></tr>
<tr class="separator:a4d8958b95e49ca71456dc06ce6117bd7 inherit pro_attribs_a01561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a456aaf3dae4f448e8a6ad889deb19e85 inherit pro_attribs_a01561"><td class="memItemLeft" align="right" valign="top">bool volatile&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d49/a01561.html#a456aaf3dae4f448e8a6ad889deb19e85">m_childrenStopped</a></td></tr>
<tr class="separator:a456aaf3dae4f448e8a6ad889deb19e85 inherit pro_attribs_a01561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a58b644e5741df3061537d39c9a1022c8 inherit pro_attribs_a01561"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d2/d49/a01561.html#a229376a5eb68401604f3c83112b65ea6">Children</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d49/a01561.html#a58b644e5741df3061537d39c9a1022c8">m_children</a></td></tr>
<tr class="separator:a58b644e5741df3061537d39c9a1022c8 inherit pro_attribs_a01561"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e94f76b666ad08e057a8b6a7c7dbe0c inherit pro_attribs_a01561"><td class="memItemLeft" align="right" valign="top"><a class="el" href="../../d7/d02/a01808.html">WaitableEvent</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="../../d2/d49/a01561.html#a7e94f76b666ad08e057a8b6a7c7dbe0c">m_stoppedEvent</a></td></tr>
<tr class="separator:a7e94f76b666ad08e057a8b6a7c7dbe0c inherit pro_attribs_a01561"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock">
<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00033">33</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>
</div><h2 class="groupheader">Member Typedef Documentation</h2>
<a class="anchor" id="a4ac5889b81868911d8291ba362c64a15"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d9/d9d/a03417.html#abf55a274ab90a3ca5b8dc903a401ad93">RippleRecursiveMutex</a> <a class="el" href="../../d7/ded/a01009.html#a4ac5889b81868911d8291ba362c64a15">ripple::NetworkOPsImp::LockType</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00458">458</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a936ed96d8cb48a7a818e292345032bd3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::lock_guard&lt;<a class="el" href="../../d7/ded/a01009.html#a4ac5889b81868911d8291ba362c64a15">LockType</a>&gt; <a class="el" href="../../d7/ded/a01009.html#a936ed96d8cb48a7a818e292345032bd3">ripple::NetworkOPsImp::ScopedLockType</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00459">459</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a2bae1af7937b339e3e7a4706807582a8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d1/d58/a02731.html#a3af771e282b88e6dca0215c6c890ae75">std::function</a>&lt;void (<a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a>, <a class="el" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0">TER</a>)&gt; <a class="el" href="../../d7/ded/a01009.html#a2bae1af7937b339e3e7a4706807582a8">ripple::NetworkOPsImp::stCallback</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00164">164</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a25bafe689ef12ec8d504446d8429f5c5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d9/d9d/a03417.html#a1382c24eaaf3ee6a51a5b64d8ad5706c">ripple::unordered_map</a>&lt;<a class="el" href="../../df/d2e/a01737.html">uint160</a>, <a class="el" href="../../dd/dac/a01008.html#adbb477955e5958d0f783a08e05429590">SubMapType</a>&gt;::iterator <a class="el" href="../../d7/ded/a01009.html#a25bafe689ef12ec8d504446d8429f5c5">ripple::NetworkOPsImp::SubInfoMapIterator</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00453">453</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a478968e066d7dbbbb96c4645251eb49b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d9/d9d/a03417.html#a1382c24eaaf3ee6a51a5b64d8ad5706c">ripple::unordered_map</a>&lt;<a class="el" href="../../df/d2e/a01737.html">uint160</a>, <a class="el" href="../../dd/dac/a01008.html#adbb477955e5958d0f783a08e05429590">SubMapType</a>&gt; <a class="el" href="../../d7/ded/a01009.html#a478968e066d7dbbbb96c4645251eb49b">ripple::NetworkOPsImp::SubInfoMapType</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00452">452</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a720e9f21ca635002223496cff1e4f053"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="../../d9/d9d/a03417.html#a1382c24eaaf3ee6a51a5b64d8ad5706c">ripple::unordered_map</a>&lt;std::string, <a class="el" href="../../d4/deb/a00710.html#a15ba6fd94d60310cdf80362345b5d07b">InfoSub::pointer</a>&gt; <a class="el" href="../../d7/ded/a01009.html#a720e9f21ca635002223496cff1e4f053">ripple::NetworkOPsImp::subRpcMapType</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00455">455</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aee8097055c243f4c6ea3ee300c2a0647"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef std::tuple&lt;std::string, std::string, <a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&gt; <a class="el" href="../../d7/ded/a01009.html#aee8097055c243f4c6ea3ee300c2a0647">ripple::NetworkOPsImp::txnMetaLedgerType</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00367">367</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Enumeration Documentation</h2>
<a class="anchor" id="a7596fd47ef88c16ceff507fe0d891540"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="../../d7/ded/a01009.html#a7596fd47ef88c16ceff507fe0d891540">ripple::NetworkOPsImp::Fault</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><em><a class="anchor" id="a7596fd47ef88c16ceff507fe0d891540a0b426fd766aa62ce7e5680c40f11aa2d"></a>IO_ERROR</em>&nbsp;</td><td class="fielddoc">
</td></tr>
<tr><td class="fieldname"><em><a class="anchor" id="a7596fd47ef88c16ceff507fe0d891540aba9d516bbd89432a01c0665564eb7323"></a>NO_NETWORK</em>&nbsp;</td><td class="fielddoc">
</td></tr>
</table>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00039">39</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    {</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;        <span class="comment">// exceptions these functions can throw</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a7596fd47ef88c16ceff507fe0d891540a0b426fd766aa62ce7e5680c40f11aa2d">IO_ERROR</a>    = 1,</div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a7596fd47ef88c16ceff507fe0d891540aba9d516bbd89432a01c0665564eb7323">NO_NETWORK</a>  = 2,</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    };</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a5190461bc971aebc39b162d99c3e221b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ripple::NetworkOPsImp::NetworkOPsImp </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/dac/a01008.html#aef70f7989bc81d06bc57491af390b691">clock_type</a> &amp;&#160;</td>
          <td class="paramname"><em>clock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d1/de6/a00837.html">LedgerMaster</a> &amp;&#160;</td>
          <td class="paramname"><em>ledgerMaster</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d2/d49/a01561.html#acb0fcc07d95f38f05243ead46986ecd2">Stoppable</a> &amp;&#160;</td>
          <td class="paramname"><em>parent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../df/d0c/a00788.html">beast::Journal</a>&#160;</td>
          <td class="paramname"><em>journal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00049">49</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;        : <a class="code" href="../../dd/dac/a01008.html#a0b77aa7d91266c865e5cdd95d9a094f2">NetworkOPs</a> (parent)</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;        , <a class="code" href="../../d7/ded/a01009.html#a16d6bf23805417dc49d22e96c7c74731">m_clock</a> (clock)</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;        , <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a> (journal)</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;        , <a class="code" href="../../d7/ded/a01009.html#a344b77de546f45ee7102a7c774690be7">m_localTX</a> (<a class="code" href="../../da/dd6/a00896.html#a8d675f34dbdabf64541fff7cc859484a">LocalTxs::New</a> ())</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;        , <a class="code" href="../../d7/ded/a01009.html#a70737bfb801df45b5e15965b33570104">m_feeVote</a> (<a class="code" href="../../d9/d9d/a03417.html#a0df0c9d23fe232e08e5941d5cfb8a9c7">make_FeeVote</a>(10, 20 * <a class="code" href="../../d2/db9/a01926.html#a13bcc9c1d614718ed647f28013089f5e">SYSTEM_CURRENCY_PARTS</a>,</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;            5 * <a class="code" href="../../d2/db9/a01926.html#a13bcc9c1d614718ed647f28013089f5e">SYSTEM_CURRENCY_PARTS</a>, LogPartition::getJournal &lt;FeeVoteLog&gt;()))</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;        , <a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> (<a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaa342db1d1189a8475f5a81bb5c62b81c6">omDISCONNECTED</a>)</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;        , <a class="code" href="../../d7/ded/a01009.html#a47ec6c8f5fcf5adae37a33884645924d">mNeedNetworkLedger</a> (<span class="keyword">false</span>)</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;        , <a class="code" href="../../d7/ded/a01009.html#a83d0181caae154387781bb0bcf3c4bf9">mProposing</a> (<span class="keyword">false</span>)</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;        , <a class="code" href="../../d7/ded/a01009.html#a2e59597ec8206a1b89bd319946acc929">mValidating</a> (<span class="keyword">false</span>)</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;        , <a class="code" href="../../d7/ded/a01009.html#a492366ff8770557052effe9758495427">mFeatureBlocked</a> (<span class="keyword">false</span>)</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;        , <a class="code" href="../../d7/ded/a01009.html#ac104b6edd5abf8dd78fd53143a3258d5">m_heartbeatTimer</a> (<span class="keyword">this</span>)</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;        , <a class="code" href="../../d7/ded/a01009.html#a60648a56c0b87aac12e9cf2d03706a82">m_clusterTimer</a> (<span class="keyword">this</span>)</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;        , <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a> (ledgerMaster)</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;        , <a class="code" href="../../d7/ded/a01009.html#aa32b30d4b133c9bddc5ec08a1e747df6">mCloseTimeOffset</a> (0)</div>
<div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;        , <a class="code" href="../../d7/ded/a01009.html#a8b5d139cf2208caba068486e449b66e8">mLastCloseProposers</a> (0)</div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;        , <a class="code" href="../../d7/ded/a01009.html#acc1ce0bf9b0be24aad76ce27dd270a1a">mLastCloseConvergeTime</a> (1000 * <a class="code" href="../../da/dad/a02928.html#abcbd68e697f1d5c36f2dc4c7deca5aaa">LEDGER_IDLE_INTERVAL</a>)</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;        , <a class="code" href="../../d7/ded/a01009.html#a1fd523c6f3b57b16302105c070f7d029">mLastCloseTime</a> (0)</div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;        , <a class="code" href="../../d7/ded/a01009.html#a9997a23348101f70cd4d97ebdbc1015b">mLastValidationTime</a> (0)</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;        , <a class="code" href="../../d7/ded/a01009.html#a504786cda9d676e308f54fe40f7d6d83">mFetchPack</a> (<span class="stringliteral">&quot;FetchPack&quot;</span>, 65536, 45, clock,</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;            LogPartition::getJournal &lt;TaggedCacheLog&gt; ())</div>
<div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;        , <a class="code" href="../../d7/ded/a01009.html#acb8697514ba427ff0c66285944f83705">mFetchSeq</a> (0)</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;        , <a class="code" href="../../d7/ded/a01009.html#a11e5f635db454f56725e6f902e4c1ca8">mLastLoadBase</a> (256)</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;        , <a class="code" href="../../d7/ded/a01009.html#a106784c971d5ac80e561380723e3ce80">mLastLoadFactor</a> (256)</div>
<div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;    {</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a57ecfe1cf2de56e788ddc82fb55b4dca"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">ripple::NetworkOPsImp::~NetworkOPsImp </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00078">78</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    {</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="aba0a801a4063f8d34e523e1537765cad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> ripple::NetworkOPsImp::acceptLedger </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a704309dea2e57a15a3301a02537fb2ae">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02717">2717</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l01449">beginConsensus()</a>, <a class="el" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39">ripple::LedgerMaster::getClosedLedger()</a>, <a class="el" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8">ripple::LedgerMaster::getCurrentLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00476">mConsensus</a>.</p>
<div class="fragment"><div class="line"><a name="l02718"></a><span class="lineno"> 2718</span>&#160;{</div>
<div class="line"><a name="l02719"></a><span class="lineno"> 2719</span>&#160;    <span class="comment">// accept the current transaction tree, return the new ledger&#39;s sequence</span></div>
<div class="line"><a name="l02720"></a><span class="lineno"> 2720</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a0a714120f440d54c69a4a39e803f9d1a">beginConsensus</a> (<a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39">getClosedLedger</a> ()-&gt;getHash (), <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8">getCurrentLedger</a> ());</div>
<div class="line"><a name="l02721"></a><span class="lineno"> 2721</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a>-&gt;simulate ();</div>
<div class="line"><a name="l02722"></a><span class="lineno"> 2722</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8">getCurrentLedger</a> ()-&gt;getLedgerSeq ();</div>
<div class="line"><a name="l02723"></a><span class="lineno"> 2723</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_aba0a801a4063f8d34e523e1537765cad_cgraph.png" border="0" usemap="#d7/ded/a01009_aba0a801a4063f8d34e523e1537765cad_cgraph" alt=""/></div>
<map name="d7/ded/a01009_aba0a801a4063f8d34e523e1537765cad_cgraph" id="d7/ded/a01009_aba0a801a4063f8d34e523e1537765cad_cgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a0a714120f440d54c69a4a39e803f9d1a" title="ripple::NetworkOPsImp\l::beginConsensus" alt="" coords="215,203,372,250"/><area shape="rect" id="node58" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="455,263,593,310"/><area shape="rect" id="node62" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8" title="ripple::LedgerMaster\l::getCurrentLedger" alt="" coords="455,333,593,379"/><area shape="rect" id="node5" href="../../d1/de6/a00837.html#a71a21a539d63be51cada4d3c4e4c4030" title="ripple::LedgerMaster\l::getLedgerByHash" alt="" coords="455,71,593,118"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40" title="ripple::NetworkOPsImp\l::setMode" alt="" coords="445,141,603,187"/><area shape="rect" id="node60" href="../../d9/d9d/a03417.html#a3a7635ac808de39b7ba85e823182f93c" title="ripple::make_LedgerConsensus" alt="" coords="421,211,627,240"/><area shape="rect" id="node9" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="912,53,1013,83"/><area shape="rect" id="node13" href="../../d4/d87/a03436.html#a437c68f3299fa632d4a1694059fd6ddb" title="rocksdb::Log" alt="" coords="707,243,803,272"/><area shape="rect" id="node15" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f" title="ripple::NetworkOPsImp\l::strOperatingMode" alt="" coords="884,106,1041,153"/><area shape="rect" id="node17" href="../../d7/ded/a01009.html#a768673e1643af3147b10b4d99aca8caf" title="ripple::NetworkOPsImp\l::pubServer" alt="" coords="676,173,833,219"/><area shape="rect" id="node11" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="1097,45,1273,91"/><area shape="rect" id="node21" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb" title="ripple::Application\l::getFeeTrack" alt="" coords="900,298,1025,345"/><area shape="rect" id="node23" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0" title="ripple::LoadFeeTrack\l::getLoadBase" alt="" coords="891,367,1035,414"/><area shape="rect" id="node25" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac" title="ripple::LoadFeeTrack\l::getLoadFactor" alt="" coords="891,175,1035,222"/><area shape="rect" id="node27" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="885,245,1040,275"/><area shape="rect" id="node29" href="../../d7/def/a00521.html#a2ef4a2ce13a341171f01f414f4fdd765" title="Json::FastWriter::writeValue" alt="" coords="1092,245,1279,275"/><area shape="rect" id="node31" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="1363,5,1501,35"/><area shape="rect" id="node33" href="../../d6/d27/a01781.html#a5b7da48b163bcec63b1424f1608b7da6" title="Json::Value::asCString" alt="" coords="1353,59,1511,88"/><area shape="rect" id="node35" href="../../d6/d27/a01781.html#a33434ed1c0217a34d04c95fa5342fd37" title="Json::Value::asDouble" alt="" coords="1355,112,1509,141"/><area shape="rect" id="node37" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="1368,165,1496,195"/><area shape="rect" id="node39" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="1363,219,1501,248"/><area shape="rect" id="node41" href="../../d6/d27/a01781.html#a30fa08af88f2d0a038b22ba9f4e88b2a" title="Return a list of the member names. " alt="" coords="1329,272,1535,301"/><area shape="rect" id="node43" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="1371,325,1493,355"/><area shape="rect" id="node45" href="../../d6/d27/a01781.html#a695ef31fad36b4712918b3ff80158479" title="Json::Value::type" alt="" coords="1371,379,1493,408"/><area shape="rect" id="node47" href="../../d2/dd6/a03414.html#aa0c8235a4a5c6599da5d3332743db8ac" title="Json::valueToQuotedString" alt="" coords="1343,432,1521,461"/><area shape="rect" id="node54" href="../../d2/dd6/a03414.html#a5d3eba6789f9a9c1ab563ff8b4a5090f" title="Json::valueToString" alt="" coords="1363,485,1501,515"/><area shape="rect" id="node49" href="../../d2/dd6/a03414.html#aa11b210ff98a4f4dd4e2df19260f8c3a" title="Json::containsControlCharacter" alt="" coords="1585,432,1791,461"/><area shape="rect" id="node51" href="../../d2/dd6/a03414.html#a0381e631737f51331065a388f4f59197" title="Json::isControlCharacter" alt="" coords="1841,407,2007,436"/><area shape="rect" id="node56" href="../../d2/dd6/a03414.html#a0c9ecf21515ffa8092201ad908609dc7" title="Json::uintToString" alt="" coords="1624,485,1752,515"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5eb6349ad521102a4ea09ec90b5797de"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::addFetchPack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;&#160;</td>
          <td class="paramname"><em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::shared_ptr&lt; <a class="el" href="../../d9/d9d/a03417.html#a1b87ba4732cf1725393e8dd60bf73b0c">Blob</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a0d90cad3c80e3c51bf800e772e1f29bb">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l03265">3265</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../de/d76/a02417_source.html#l00296">ripple::TaggedCache&lt; Key, T, Hash, KeyEqual, Mutex &gt;::canonicalize()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00505">mFetchPack</a>.</p>
<div class="fragment"><div class="line"><a name="l03266"></a><span class="lineno"> 3266</span>&#160;{</div>
<div class="line"><a name="l03267"></a><span class="lineno"> 3267</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a504786cda9d676e308f54fe40f7d6d83">mFetchPack</a>.<a class="code" href="../../dd/d55/a01638.html#a6b9d410c1a62349ee3452f4d66c6c751">canonicalize</a> (<a class="code" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>, data);</div>
<div class="line"><a name="l03268"></a><span class="lineno"> 3268</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a5eb6349ad521102a4ea09ec90b5797de_cgraph.png" border="0" usemap="#d7/ded/a01009_a5eb6349ad521102a4ea09ec90b5797de_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a5eb6349ad521102a4ea09ec90b5797de_cgraph" id="d7/ded/a01009_a5eb6349ad521102a4ea09ec90b5797de_cgraph">
<area shape="rect" id="node3" href="../../dd/d55/a01638.html#a6b9d410c1a62349ee3452f4d66c6c751" title="ripple::TaggedCache\l::canonicalize" alt="" coords="215,5,356,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af5dbdb9d540e650ee83b593be700ffeb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::addLocalTx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a>&#160;</td>
          <td class="paramname"><em>openLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/de4/a01346.html#a24c9aa93fed382b9abfa1ed699ff26d6">SerializedTransaction::ref</a>&#160;</td>
          <td class="paramname"><em>txn</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a21f086117140e2eca8b246c152345d26">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00342">342</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00463">m_localTX</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00921">processTransactionCb()</a>.</p>
<div class="fragment"><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    {</div>
<div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a344b77de546f45ee7102a7c774690be7">m_localTX</a>-&gt;push_back (openLedger-&gt;getLedgerSeq(), txn);</div>
<div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_af5dbdb9d540e650ee83b593be700ffeb_icgraph.png" border="0" usemap="#d7/ded/a01009_af5dbdb9d540e650ee83b593be700ffeb_icgraph" alt=""/></div>
<map name="d7/ded/a01009_af5dbdb9d540e650ee83b593be700ffeb_icgraph" id="d7/ded/a01009_af5dbdb9d540e650ee83b593be700ffeb_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#aab21222cb8f90aebe766d622a9b02cc3" title="ripple::NetworkOPsImp\l::processTransactionCb" alt="" coords="215,39,375,86"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a26cb95fc4e1b658987421bd28c051516" title="ripple::NetworkOPsImp\l::processTransaction" alt="" coords="439,5,596,51"/><area shape="rect" id="node9" href="../../d7/ded/a01009.html#abaf5313789b76e16cc0f99605e8f0c81" title="ripple::NetworkOPsImp\l::processTransactionCbVoid" alt="" coords="424,74,611,121"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#a20ac0a06c2870e5d087e35f7dd2f768c" title="ripple::NetworkOPsImp\l::submitTransactionSync" alt="" coords="660,5,825,51"/><area shape="rect" id="node11" href="../../d7/ded/a01009.html#a1f19b2ae693aa2f460a5d48f3faa2218" title="ripple::NetworkOPsImp\l::submitTransaction" alt="" coords="664,74,821,121"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1cd2204666c1b5f7e591d7f9564b1f7f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/deb/a00710.html#a15ba6fd94d60310cdf80362345b5d07b">InfoSub::pointer</a> ripple::NetworkOPsImp::addRpcSub </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>strUrl</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/deb/a00710.html#af7ad8994c674d6ffe9be7039f7e9645b">InfoSub::ref</a>&#160;</td>
          <td class="paramname"><em>rspEntry</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../d5/dd0/a01438.html#afcc1eb3ab3ef8b82b6a7b161df619ff3">ripple::InfoSub::Source</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02841">2841</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00467">mLock</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00498">mRpcSubMap</a>.</p>
<div class="fragment"><div class="line"><a name="l02842"></a><span class="lineno"> 2842</span>&#160;{</div>
<div class="line"><a name="l02843"></a><span class="lineno"> 2843</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a936ed96d8cb48a7a818e292345032bd3">ScopedLockType</a> sl (<a class="code" href="../../d7/ded/a01009.html#a28e64f295f2eca1f91a5a11239352071">mLock</a>);</div>
<div class="line"><a name="l02844"></a><span class="lineno"> 2844</span>&#160;</div>
<div class="line"><a name="l02845"></a><span class="lineno"> 2845</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#af0bd49a0f6d4f847723f09a5b9d57cd9">mRpcSubMap</a>.emplace (strUrl, rspEntry);</div>
<div class="line"><a name="l02846"></a><span class="lineno"> 2846</span>&#160;</div>
<div class="line"><a name="l02847"></a><span class="lineno"> 2847</span>&#160;    <span class="keywordflow">return</span> rspEntry;</div>
<div class="line"><a name="l02848"></a><span class="lineno"> 2848</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0a714120f440d54c69a4a39e803f9d1a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int ripple::NetworkOPsImp::beginConsensus </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;&#160;</td>
          <td class="paramname"><em>networkClosed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>&#160;</td>
          <td class="paramname"><em>closingLedger</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01449">1449</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../dd/d07/a02132_source.html#l00244">beast::Journal::debug</a>, <a class="el" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39">ripple::LedgerMaster::getClosedLedger()</a>, <a class="el" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8">ripple::LedgerMaster::getCurrentLedger()</a>, <a class="el" href="../../d1/de6/a00837.html#a71a21a539d63be51cada4d3c4e4c4030">ripple::LedgerMaster::getLedgerByHash()</a>, <a class="el" href="../../dd/d07/a02132_source.html#l00245">beast::Journal::info</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00450">m_clock</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00465">m_feeVote</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00463">m_localTX</a>, <a class="el" href="../../d4/d57/a02882_source.html#l01949">ripple::make_LedgerConsensus()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00476">mConsensus</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00469">mMode</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00079">ripple::NetworkOPs::omFULL</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00078">ripple::NetworkOPs::omTRACKING</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01717">setMode()</a>, and <a class="el" href="../../dd/d07/a02132_source.html#l00246">beast::Journal::warning</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02717">acceptLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01483">haveConsensusObject()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01233">tryStartConsensus()</a>.</p>
<div class="fragment"><div class="line"><a name="l01450"></a><span class="lineno"> 1450</span>&#160;{</div>
<div class="line"><a name="l01451"></a><span class="lineno"> 1451</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;Consensus time for ledger &quot;</span> &lt;&lt; closingLedger-&gt;getLedgerSeq ();</div>
<div class="line"><a name="l01452"></a><span class="lineno"> 1452</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot; LCL is &quot;</span> &lt;&lt; closingLedger-&gt;getParentHash ();</div>
<div class="line"><a name="l01453"></a><span class="lineno"> 1453</span>&#160;</div>
<div class="line"><a name="l01454"></a><span class="lineno"> 1454</span>&#160;    <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> prevLedger = <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#a71a21a539d63be51cada4d3c4e4c4030">getLedgerByHash</a> (closingLedger-&gt;getParentHash ());</div>
<div class="line"><a name="l01455"></a><span class="lineno"> 1455</span>&#160;</div>
<div class="line"><a name="l01456"></a><span class="lineno"> 1456</span>&#160;    <span class="keywordflow">if</span> (!prevLedger)</div>
<div class="line"><a name="l01457"></a><span class="lineno"> 1457</span>&#160;    {</div>
<div class="line"><a name="l01458"></a><span class="lineno"> 1458</span>&#160;        <span class="comment">// this shouldn&#39;t happen unless we jump ledgers</span></div>
<div class="line"><a name="l01459"></a><span class="lineno"> 1459</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaafaf756912385746855189063c6bd422d">omFULL</a>)</div>
<div class="line"><a name="l01460"></a><span class="lineno"> 1460</span>&#160;        {</div>
<div class="line"><a name="l01461"></a><span class="lineno"> 1461</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a876412c0a487a7a8840b1556cc04cb57">warning</a> &lt;&lt; <span class="stringliteral">&quot;Don&#39;t have LCL, going to tracking&quot;</span>;</div>
<div class="line"><a name="l01462"></a><span class="lineno"> 1462</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40">setMode</a> (<a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaae419906cda8f51387b7c8ea5e06b897b">omTRACKING</a>);</div>
<div class="line"><a name="l01463"></a><span class="lineno"> 1463</span>&#160;        }</div>
<div class="line"><a name="l01464"></a><span class="lineno"> 1464</span>&#160;</div>
<div class="line"><a name="l01465"></a><span class="lineno"> 1465</span>&#160;        <span class="keywordflow">return</span> 3;</div>
<div class="line"><a name="l01466"></a><span class="lineno"> 1466</span>&#160;    }</div>
<div class="line"><a name="l01467"></a><span class="lineno"> 1467</span>&#160;</div>
<div class="line"><a name="l01468"></a><span class="lineno"> 1468</span>&#160;    assert (prevLedger-&gt;getHash () == closingLedger-&gt;getParentHash ());</div>
<div class="line"><a name="l01469"></a><span class="lineno"> 1469</span>&#160;    assert (closingLedger-&gt;getParentHash () == <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39">getClosedLedger</a> ()-&gt;getHash ());</div>
<div class="line"><a name="l01470"></a><span class="lineno"> 1470</span>&#160;</div>
<div class="line"><a name="l01471"></a><span class="lineno"> 1471</span>&#160;    <span class="comment">// Create a consensus object to get consensus on this ledger</span></div>
<div class="line"><a name="l01472"></a><span class="lineno"> 1472</span>&#160;    assert (!<a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a>);</div>
<div class="line"><a name="l01473"></a><span class="lineno"> 1473</span>&#160;    prevLedger-&gt;setImmutable ();</div>
<div class="line"><a name="l01474"></a><span class="lineno"> 1474</span>&#160;</div>
<div class="line"><a name="l01475"></a><span class="lineno"> 1475</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a> = <a class="code" href="../../d9/d9d/a03417.html#a3a7635ac808de39b7ba85e823182f93c">make_LedgerConsensus</a> (<a class="code" href="../../d7/ded/a01009.html#a16d6bf23805417dc49d22e96c7c74731">m_clock</a>, *<a class="code" href="../../d7/ded/a01009.html#a344b77de546f45ee7102a7c774690be7">m_localTX</a>, networkClosed,</div>
<div class="line"><a name="l01476"></a><span class="lineno"> 1476</span>&#160;        prevLedger, <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8">getCurrentLedger</a> ()-&gt;getCloseTimeNC (),</div>
<div class="line"><a name="l01477"></a><span class="lineno"> 1477</span>&#160;            *<a class="code" href="../../d7/ded/a01009.html#a70737bfb801df45b5e15965b33570104">m_feeVote</a>);</div>
<div class="line"><a name="l01478"></a><span class="lineno"> 1478</span>&#160;</div>
<div class="line"><a name="l01479"></a><span class="lineno"> 1479</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#aed264b891ebfe8df4c5b6b2231786491">debug</a> &lt;&lt; <span class="stringliteral">&quot;Initiating consensus engine&quot;</span>;</div>
<div class="line"><a name="l01480"></a><span class="lineno"> 1480</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a>-&gt;startup ();</div>
<div class="line"><a name="l01481"></a><span class="lineno"> 1481</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a0a714120f440d54c69a4a39e803f9d1a_cgraph.png" border="0" usemap="#d7/ded/a01009_a0a714120f440d54c69a4a39e803f9d1a_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a0a714120f440d54c69a4a39e803f9d1a_cgraph" id="d7/ded/a01009_a0a714120f440d54c69a4a39e803f9d1a_cgraph">
<area shape="rect" id="node3" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="247,5,385,51"/><area shape="rect" id="node5" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8" title="ripple::LedgerMaster\l::getCurrentLedger" alt="" coords="247,74,385,121"/><area shape="rect" id="node7" href="../../d1/de6/a00837.html#a71a21a539d63be51cada4d3c4e4c4030" title="ripple::LedgerMaster\l::getLedgerByHash" alt="" coords="247,143,385,190"/><area shape="rect" id="node9" href="../../d9/d9d/a03417.html#a3a7635ac808de39b7ba85e823182f93c" title="ripple::make_LedgerConsensus" alt="" coords="213,213,419,243"/><area shape="rect" id="node11" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40" title="ripple::NetworkOPsImp\l::setMode" alt="" coords="237,266,395,313"/><area shape="rect" id="node13" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="704,179,805,208"/><area shape="rect" id="node17" href="../../d4/d87/a03436.html#a437c68f3299fa632d4a1694059fd6ddb" title="rocksdb::Log" alt="" coords="499,368,595,397"/><area shape="rect" id="node19" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f" title="ripple::NetworkOPsImp\l::strOperatingMode" alt="" coords="676,231,833,278"/><area shape="rect" id="node21" href="../../d7/ded/a01009.html#a768673e1643af3147b10b4d99aca8caf" title="ripple::NetworkOPsImp\l::pubServer" alt="" coords="468,298,625,345"/><area shape="rect" id="node15" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="889,170,1065,217"/><area shape="rect" id="node25" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb" title="ripple::Application\l::getFeeTrack" alt="" coords="692,423,817,470"/><area shape="rect" id="node27" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0" title="ripple::LoadFeeTrack\l::getLoadBase" alt="" coords="683,493,827,539"/><area shape="rect" id="node29" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac" title="ripple::LoadFeeTrack\l::getLoadFactor" alt="" coords="683,301,827,347"/><area shape="rect" id="node31" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="677,371,832,400"/><area shape="rect" id="node33" href="../../d7/def/a00521.html#a2ef4a2ce13a341171f01f414f4fdd765" title="Json::FastWriter::writeValue" alt="" coords="884,371,1071,400"/><area shape="rect" id="node35" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="1155,131,1293,160"/><area shape="rect" id="node37" href="../../d6/d27/a01781.html#a5b7da48b163bcec63b1424f1608b7da6" title="Json::Value::asCString" alt="" coords="1145,184,1303,213"/><area shape="rect" id="node39" href="../../d6/d27/a01781.html#a33434ed1c0217a34d04c95fa5342fd37" title="Json::Value::asDouble" alt="" coords="1147,237,1301,267"/><area shape="rect" id="node41" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="1160,291,1288,320"/><area shape="rect" id="node43" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="1155,344,1293,373"/><area shape="rect" id="node45" href="../../d6/d27/a01781.html#a30fa08af88f2d0a038b22ba9f4e88b2a" title="Return a list of the member names. " alt="" coords="1121,397,1327,427"/><area shape="rect" id="node47" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="1163,451,1285,480"/><area shape="rect" id="node49" href="../../d6/d27/a01781.html#a695ef31fad36b4712918b3ff80158479" title="Json::Value::type" alt="" coords="1163,504,1285,533"/><area shape="rect" id="node51" href="../../d2/dd6/a03414.html#aa0c8235a4a5c6599da5d3332743db8ac" title="Json::valueToQuotedString" alt="" coords="1135,557,1313,587"/><area shape="rect" id="node58" href="../../d2/dd6/a03414.html#a5d3eba6789f9a9c1ab563ff8b4a5090f" title="Json::valueToString" alt="" coords="1155,611,1293,640"/><area shape="rect" id="node53" href="../../d2/dd6/a03414.html#aa11b210ff98a4f4dd4e2df19260f8c3a" title="Json::containsControlCharacter" alt="" coords="1377,557,1583,587"/><area shape="rect" id="node55" href="../../d2/dd6/a03414.html#a0381e631737f51331065a388f4f59197" title="Json::isControlCharacter" alt="" coords="1633,532,1799,561"/><area shape="rect" id="node60" href="../../d2/dd6/a03414.html#a0c9ecf21515ffa8092201ad908609dc7" title="Json::uintToString" alt="" coords="1416,611,1544,640"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a0a714120f440d54c69a4a39e803f9d1a_icgraph.png" border="0" usemap="#d7/ded/a01009_a0a714120f440d54c69a4a39e803f9d1a_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a0a714120f440d54c69a4a39e803f9d1a_icgraph" id="d7/ded/a01009_a0a714120f440d54c69a4a39e803f9d1a_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#aba0a801a4063f8d34e523e1537765cad" title="ripple::NetworkOPsImp\l::acceptLedger" alt="" coords="215,83,372,130"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#ac929d58ce61af6b87922103bf3da3039" title="ripple::NetworkOPsImp\l::haveConsensusObject" alt="" coords="424,143,587,190"/><area shape="rect" id="node15" href="../../d7/ded/a01009.html#a6a3776d980baee062b961c0195bc43be" title="ripple::NetworkOPsImp\l::tryStartConsensus" alt="" coords="215,203,372,250"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#a27090d36556b8665cbd908efa99e2a05" title="ripple::NetworkOPsImp\l::getConsensusLCL" alt="" coords="644,5,801,51"/><area shape="rect" id="node9" href="../../d7/ded/a01009.html#a148e1e8d0c5128ee48e0206cdeb5e2a0" title="ripple::NetworkOPsImp\l::processTrustedProposal" alt="" coords="637,74,808,121"/><area shape="rect" id="node11" href="../../d7/ded/a01009.html#a7fc7ee8501f9d95df97583cabf3b4771" title="ripple::NetworkOPsImp\l::getTXMap" alt="" coords="644,143,801,190"/><area shape="rect" id="node13" href="../../d7/ded/a01009.html#aff24b82af590d1db837231ad0125eee4" title="ripple::NetworkOPsImp\l::mapComplete" alt="" coords="644,213,801,259"/><area shape="rect" id="node17" href="../../d7/ded/a01009.html#adb95084185570756c8a39ba0e32fb3ed" title="ripple::NetworkOPsImp\l::processHeartbeatTimer" alt="" coords="423,247,588,294"/><area shape="rect" id="node19" href="../../d7/ded/a01009.html#ab8272588ee692e125af4d7841af32618" title="ripple::NetworkOPsImp\l::onDeadlineTimer" alt="" coords="644,282,801,329"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad72f54405ed9b8219022e8c2b7796c98"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::checkLastClosedLedger </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../de/de6/a01063.html#ab31ecd9bdd548883e13ef848725264ab">Overlay::PeerSequence</a> &amp;&#160;</td>
          <td class="paramname"><em>peerList</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> &amp;&#160;</td>
          <td class="paramname"><em>networkClosed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01268">1268</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00277">clearNeedNetworkLedger()</a>, <a class="el" href="../../dd/d07/a02132_source.html#l00244">beast::Journal::debug</a>, <a class="el" href="../../d8/d86/a00703.html#aa8378c07e914d43964d816ee1ac8d1dd">ripple::InboundLedgers::dropLedger()</a>, <a class="el" href="../../dd/d07/a02132_source.html#l00247">beast::Journal::error</a>, <a class="el" href="../../dc/d86/a02909_source.html#l00045">ripple::InboundLedger::fcCONSENSUS</a>, <a class="el" href="../../d8/d86/a00703.html#a6f59efd378b35314541b4d5c76cd905a">ripple::InboundLedgers::findCreate()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39">ripple::LedgerMaster::getClosedLedger()</a>, <a class="el" href="../../d3/dac/a01777.html#abc7c7eb0126fa15e409f282c515dae85">ripple::Validations::getCurrentValidations()</a>, <a class="el" href="../../da/d74/a00099.html#a6d349a4ada03689eae062c0399762dad">ripple::Application::getInboundLedgers()</a>, <a class="el" href="../../d1/de6/a00837.html#a71a21a539d63be51cada4d3c4e4c4030">ripple::LedgerMaster::getLedgerByHash()</a>, <a class="el" href="../../da/d74/a00099.html#ac95c5f6db4db8575632193495189a702">ripple::Application::getLocalCredentials()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00109">ripple::RippleAddress::getNodeID()</a>, <a class="el" href="../../df/d93/a02947_source.html#l00035">ripple::LocalCredentials::getNodePublic()</a>, <a class="el" href="../../da/d74/a00099.html#a4f3da0257883c463e0a561d7ba793dd4">ripple::Application::getValidations()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01204">ripple::ValidationCount::highNodeUsing</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01204">ripple::ValidationCount::highValidation</a>, <a class="el" href="../../dd/d07/a02132_source.html#l00245">beast::Journal::info</a>, <a class="el" href="../../dd/dfa/a02824_source.html#l00147">ripple::base_uint&lt; BITS &gt;::isNonZero()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00481">mAcquiringLedger</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00469">mMode</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01203">ripple::ValidationCount::nodesUsing</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00076">ripple::NetworkOPs::omCONNECTED</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00079">ripple::NetworkOPs::omFULL</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00078">ripple::NetworkOPs::omTRACKING</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01717">setMode()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01422">switchLastClosedLedger()</a>, <a class="el" href="../../dd/d07/a02132_source.html#l00243">beast::Journal::trace</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01203">ripple::ValidationCount::trustedValidations</a>, and <a class="el" href="../../dd/d07/a02132_source.html#l00246">beast::Journal::warning</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l01483">haveConsensusObject()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01233">tryStartConsensus()</a>.</p>
<div class="fragment"><div class="line"><a name="l01269"></a><span class="lineno"> 1269</span>&#160;{</div>
<div class="line"><a name="l01270"></a><span class="lineno"> 1270</span>&#160;    <span class="comment">// Returns true if there&#39;s an *abnormal* ledger issue, normal changing in TRACKING mode should return false</span></div>
<div class="line"><a name="l01271"></a><span class="lineno"> 1271</span>&#160;    <span class="comment">// Do we have sufficient validations for our last closed ledger? Or do sufficient nodes</span></div>
<div class="line"><a name="l01272"></a><span class="lineno"> 1272</span>&#160;    <span class="comment">// agree? And do we have no better ledger available?</span></div>
<div class="line"><a name="l01273"></a><span class="lineno"> 1273</span>&#160;    <span class="comment">// If so, we are either tracking or full.</span></div>
<div class="line"><a name="l01274"></a><span class="lineno"> 1274</span>&#160;</div>
<div class="line"><a name="l01275"></a><span class="lineno"> 1275</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;NetworkOPsImp::checkLastClosedLedger&quot;</span>;</div>
<div class="line"><a name="l01276"></a><span class="lineno"> 1276</span>&#160;</div>
<div class="line"><a name="l01277"></a><span class="lineno"> 1277</span>&#160;    <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> ourClosed = <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39">getClosedLedger</a> ();</div>
<div class="line"><a name="l01278"></a><span class="lineno"> 1278</span>&#160;</div>
<div class="line"><a name="l01279"></a><span class="lineno"> 1279</span>&#160;    <span class="keywordflow">if</span> (!ourClosed)</div>
<div class="line"><a name="l01280"></a><span class="lineno"> 1280</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01281"></a><span class="lineno"> 1281</span>&#160;</div>
<div class="line"><a name="l01282"></a><span class="lineno"> 1282</span>&#160;    uint256 closedLedger = ourClosed-&gt;getHash ();</div>
<div class="line"><a name="l01283"></a><span class="lineno"> 1283</span>&#160;    uint256 prevClosedLedger = ourClosed-&gt;getParentHash ();</div>
<div class="line"><a name="l01284"></a><span class="lineno"> 1284</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;OurClosed:  &quot;</span> &lt;&lt; closedLedger;</div>
<div class="line"><a name="l01285"></a><span class="lineno"> 1285</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;PrevClosed: &quot;</span> &lt;&lt; prevClosedLedger;</div>
<div class="line"><a name="l01286"></a><span class="lineno"> 1286</span>&#160;</div>
<div class="line"><a name="l01287"></a><span class="lineno"> 1287</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#a1382c24eaaf3ee6a51a5b64d8ad5706c">ripple::unordered_map&lt;uint256, ValidationCount&gt;</a> ledgers;</div>
<div class="line"><a name="l01288"></a><span class="lineno"> 1288</span>&#160;    {</div>
<div class="line"><a name="l01289"></a><span class="lineno"> 1289</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a1382c24eaaf3ee6a51a5b64d8ad5706c">ripple::unordered_map&lt;uint256, currentValidationCount&gt;</a> current =</div>
<div class="line"><a name="l01290"></a><span class="lineno"> 1290</span>&#160;            <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a4f3da0257883c463e0a561d7ba793dd4">getValidations</a> ().<a class="code" href="../../d3/dac/a01777.html#abc7c7eb0126fa15e409f282c515dae85">getCurrentValidations</a> (closedLedger, prevClosedLedger);</div>
<div class="line"><a name="l01291"></a><span class="lineno"> 1291</span>&#160;        <span class="keyword">typedef</span> std::map&lt;uint256, currentValidationCount&gt;::value_type u256_cvc_pair;</div>
<div class="line"><a name="l01292"></a><span class="lineno"> 1292</span>&#160;        BOOST_FOREACH (<span class="keyword">const</span> u256_cvc_pair &amp; it, current)</div>
<div class="line"><a name="l01293"></a><span class="lineno"> 1293</span>&#160;        {</div>
<div class="line"><a name="l01294"></a><span class="lineno"> 1294</span>&#160;            ValidationCount&amp; vc = ledgers[it.first];</div>
<div class="line"><a name="l01295"></a><span class="lineno"> 1295</span>&#160;            vc.trustedValidations += it.second.first;</div>
<div class="line"><a name="l01296"></a><span class="lineno"> 1296</span>&#160;</div>
<div class="line"><a name="l01297"></a><span class="lineno"> 1297</span>&#160;            <span class="keywordflow">if</span> (it.second.second &gt; vc.highValidation)</div>
<div class="line"><a name="l01298"></a><span class="lineno"> 1298</span>&#160;                vc.highValidation = it.second.second;</div>
<div class="line"><a name="l01299"></a><span class="lineno"> 1299</span>&#160;        }</div>
<div class="line"><a name="l01300"></a><span class="lineno"> 1300</span>&#160;    }</div>
<div class="line"><a name="l01301"></a><span class="lineno"> 1301</span>&#160;</div>
<div class="line"><a name="l01302"></a><span class="lineno"> 1302</span>&#160;    ValidationCount&amp; ourVC = ledgers[closedLedger];</div>
<div class="line"><a name="l01303"></a><span class="lineno"> 1303</span>&#160;</div>
<div class="line"><a name="l01304"></a><span class="lineno"> 1304</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> &gt;= <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaae419906cda8f51387b7c8ea5e06b897b">omTRACKING</a>)</div>
<div class="line"><a name="l01305"></a><span class="lineno"> 1305</span>&#160;    {</div>
<div class="line"><a name="l01306"></a><span class="lineno"> 1306</span>&#160;        ++ourVC.nodesUsing;</div>
<div class="line"><a name="l01307"></a><span class="lineno"> 1307</span>&#160;        uint160 ourAddress = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#ac95c5f6db4db8575632193495189a702">getLocalCredentials</a> ().<a class="code" href="../../dc/dfa/a00894.html#af67a14f58bffac4bd931722ecbd316d9">getNodePublic</a> ().<a class="code" href="../../d4/d0e/a01272.html#abead041d13890ad9c8938c28f27f8ccd">getNodeID</a> ();</div>
<div class="line"><a name="l01308"></a><span class="lineno"> 1308</span>&#160;</div>
<div class="line"><a name="l01309"></a><span class="lineno"> 1309</span>&#160;        <span class="keywordflow">if</span> (ourAddress &gt; ourVC.highNodeUsing)</div>
<div class="line"><a name="l01310"></a><span class="lineno"> 1310</span>&#160;            ourVC.highNodeUsing = ourAddress;</div>
<div class="line"><a name="l01311"></a><span class="lineno"> 1311</span>&#160;    }</div>
<div class="line"><a name="l01312"></a><span class="lineno"> 1312</span>&#160;</div>
<div class="line"><a name="l01313"></a><span class="lineno"> 1313</span>&#160;    BOOST_FOREACH (<a class="code" href="../../d5/d17/a01098.html#a74554bf78a38b1c2c190b5b47c1955d4">Peer::ptr</a> <span class="keyword">const</span>&amp; peer, peerList)</div>
<div class="line"><a name="l01314"></a><span class="lineno"> 1314</span>&#160;    {</div>
<div class="line"><a name="l01315"></a><span class="lineno"> 1315</span>&#160;        uint256 peerLedger = peer-&gt;getClosedLedgerHash ();</div>
<div class="line"><a name="l01316"></a><span class="lineno"> 1316</span>&#160;</div>
<div class="line"><a name="l01317"></a><span class="lineno"> 1317</span>&#160;        <span class="keywordflow">if</span> (peerLedger.isNonZero ())</div>
<div class="line"><a name="l01318"></a><span class="lineno"> 1318</span>&#160;        {</div>
<div class="line"><a name="l01319"></a><span class="lineno"> 1319</span>&#160;            <span class="keywordflow">try</span></div>
<div class="line"><a name="l01320"></a><span class="lineno"> 1320</span>&#160;            {</div>
<div class="line"><a name="l01321"></a><span class="lineno"> 1321</span>&#160;                ValidationCount&amp; vc = ledgers[peerLedger];</div>
<div class="line"><a name="l01322"></a><span class="lineno"> 1322</span>&#160;</div>
<div class="line"><a name="l01323"></a><span class="lineno"> 1323</span>&#160;                <span class="keywordflow">if</span> ((vc.nodesUsing == 0) || (peer-&gt;getNodePublic ().getNodeID () &gt; vc.highNodeUsing))</div>
<div class="line"><a name="l01324"></a><span class="lineno"> 1324</span>&#160;                    vc.highNodeUsing = peer-&gt;getNodePublic ().getNodeID ();</div>
<div class="line"><a name="l01325"></a><span class="lineno"> 1325</span>&#160;</div>
<div class="line"><a name="l01326"></a><span class="lineno"> 1326</span>&#160;                ++vc.nodesUsing;</div>
<div class="line"><a name="l01327"></a><span class="lineno"> 1327</span>&#160;        }</div>
<div class="line"><a name="l01328"></a><span class="lineno"> 1328</span>&#160;        <span class="keywordflow">catch</span> (...)</div>
<div class="line"><a name="l01329"></a><span class="lineno"> 1329</span>&#160;        {</div>
<div class="line"><a name="l01330"></a><span class="lineno"> 1330</span>&#160;            <span class="comment">// Peer is likely not connected anymore</span></div>
<div class="line"><a name="l01331"></a><span class="lineno"> 1331</span>&#160;        }</div>
<div class="line"><a name="l01332"></a><span class="lineno"> 1332</span>&#160;        }</div>
<div class="line"><a name="l01333"></a><span class="lineno"> 1333</span>&#160;    }</div>
<div class="line"><a name="l01334"></a><span class="lineno"> 1334</span>&#160;</div>
<div class="line"><a name="l01335"></a><span class="lineno"> 1335</span>&#160;    ValidationCount bestVC = ledgers[closedLedger];</div>
<div class="line"><a name="l01336"></a><span class="lineno"> 1336</span>&#160;</div>
<div class="line"><a name="l01337"></a><span class="lineno"> 1337</span>&#160;    <span class="comment">// 3) Is there a network ledger we&#39;d like to switch to? If so, do we have it?</span></div>
<div class="line"><a name="l01338"></a><span class="lineno"> 1338</span>&#160;    <span class="keywordtype">bool</span> switchLedgers = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01339"></a><span class="lineno"> 1339</span>&#160;</div>
<div class="line"><a name="l01340"></a><span class="lineno"> 1340</span>&#160;    <span class="keywordflow">for</span> (<a class="code" href="../../d9/d9d/a03417.html#a1382c24eaaf3ee6a51a5b64d8ad5706c">ripple::unordered_map&lt;uint256, ValidationCount&gt;::iterator</a> it = ledgers.begin (), end = ledgers.end ();</div>
<div class="line"><a name="l01341"></a><span class="lineno"> 1341</span>&#160;            it != end; ++it)</div>
<div class="line"><a name="l01342"></a><span class="lineno"> 1342</span>&#160;    {</div>
<div class="line"><a name="l01343"></a><span class="lineno"> 1343</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#aed264b891ebfe8df4c5b6b2231786491">debug</a> &lt;&lt; <span class="stringliteral">&quot;L: &quot;</span> &lt;&lt; it-&gt;first &lt;&lt; <span class="stringliteral">&quot; t=&quot;</span> &lt;&lt; it-&gt;second.trustedValidations &lt;&lt;</div>
<div class="line"><a name="l01344"></a><span class="lineno"> 1344</span>&#160;                                       <span class="stringliteral">&quot;, n=&quot;</span> &lt;&lt; it-&gt;second.nodesUsing;</div>
<div class="line"><a name="l01345"></a><span class="lineno"> 1345</span>&#160;</div>
<div class="line"><a name="l01346"></a><span class="lineno"> 1346</span>&#160;        <span class="comment">// Temporary logging to make sure tiebreaking isn&#39;t broken</span></div>
<div class="line"><a name="l01347"></a><span class="lineno"> 1347</span>&#160;        <span class="keywordflow">if</span> (it-&gt;second.trustedValidations &gt; 0)</div>
<div class="line"><a name="l01348"></a><span class="lineno"> 1348</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;  TieBreakTV: &quot;</span> &lt;&lt; it-&gt;second.highValidation;</div>
<div class="line"><a name="l01349"></a><span class="lineno"> 1349</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01350"></a><span class="lineno"> 1350</span>&#160;        {</div>
<div class="line"><a name="l01351"></a><span class="lineno"> 1351</span>&#160;            <span class="keywordflow">if</span> (it-&gt;second.nodesUsing &gt; 0)</div>
<div class="line"><a name="l01352"></a><span class="lineno"> 1352</span>&#160;                <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;  TieBreakNU: &quot;</span> &lt;&lt; it-&gt;second.highNodeUsing;</div>
<div class="line"><a name="l01353"></a><span class="lineno"> 1353</span>&#160;        }</div>
<div class="line"><a name="l01354"></a><span class="lineno"> 1354</span>&#160;</div>
<div class="line"><a name="l01355"></a><span class="lineno"> 1355</span>&#160;        <span class="keywordflow">if</span> (it-&gt;second &gt; bestVC)</div>
<div class="line"><a name="l01356"></a><span class="lineno"> 1356</span>&#160;        {</div>
<div class="line"><a name="l01357"></a><span class="lineno"> 1357</span>&#160;            bestVC = it-&gt;second;</div>
<div class="line"><a name="l01358"></a><span class="lineno"> 1358</span>&#160;            closedLedger = it-&gt;first;</div>
<div class="line"><a name="l01359"></a><span class="lineno"> 1359</span>&#160;            switchLedgers = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01360"></a><span class="lineno"> 1360</span>&#160;        }</div>
<div class="line"><a name="l01361"></a><span class="lineno"> 1361</span>&#160;    }</div>
<div class="line"><a name="l01362"></a><span class="lineno"> 1362</span>&#160;</div>
<div class="line"><a name="l01363"></a><span class="lineno"> 1363</span>&#160;    <span class="keywordflow">if</span> (switchLedgers &amp;&amp; (closedLedger == prevClosedLedger))</div>
<div class="line"><a name="l01364"></a><span class="lineno"> 1364</span>&#160;    {</div>
<div class="line"><a name="l01365"></a><span class="lineno"> 1365</span>&#160;        <span class="comment">// don&#39;t switch to our own previous ledger</span></div>
<div class="line"><a name="l01366"></a><span class="lineno"> 1366</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;We won&#39;t switch to our own previous ledger&quot;</span>;</div>
<div class="line"><a name="l01367"></a><span class="lineno"> 1367</span>&#160;        networkClosed = ourClosed-&gt;getHash ();</div>
<div class="line"><a name="l01368"></a><span class="lineno"> 1368</span>&#160;        switchLedgers = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01369"></a><span class="lineno"> 1369</span>&#160;    }</div>
<div class="line"><a name="l01370"></a><span class="lineno"> 1370</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01371"></a><span class="lineno"> 1371</span>&#160;        networkClosed = closedLedger;</div>
<div class="line"><a name="l01372"></a><span class="lineno"> 1372</span>&#160;</div>
<div class="line"><a name="l01373"></a><span class="lineno"> 1373</span>&#160;    <span class="keywordflow">if</span> (!switchLedgers)</div>
<div class="line"><a name="l01374"></a><span class="lineno"> 1374</span>&#160;    {</div>
<div class="line"><a name="l01375"></a><span class="lineno"> 1375</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#a9a94b29121ae586a6b7354a80f8d088c">mAcquiringLedger</a>)</div>
<div class="line"><a name="l01376"></a><span class="lineno"> 1376</span>&#160;        {</div>
<div class="line"><a name="l01377"></a><span class="lineno"> 1377</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a9a94b29121ae586a6b7354a80f8d088c">mAcquiringLedger</a>-&gt;abort ();</div>
<div class="line"><a name="l01378"></a><span class="lineno"> 1378</span>&#160;            <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a6d349a4ada03689eae062c0399762dad">getInboundLedgers</a> ().<a class="code" href="../../d8/d86/a00703.html#aa8378c07e914d43964d816ee1ac8d1dd">dropLedger</a> (<a class="code" href="../../d7/ded/a01009.html#a9a94b29121ae586a6b7354a80f8d088c">mAcquiringLedger</a>-&gt;getHash ());</div>
<div class="line"><a name="l01379"></a><span class="lineno"> 1379</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a9a94b29121ae586a6b7354a80f8d088c">mAcquiringLedger</a>.reset ();</div>
<div class="line"><a name="l01380"></a><span class="lineno"> 1380</span>&#160;        }</div>
<div class="line"><a name="l01381"></a><span class="lineno"> 1381</span>&#160;</div>
<div class="line"><a name="l01382"></a><span class="lineno"> 1382</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01383"></a><span class="lineno"> 1383</span>&#160;    }</div>
<div class="line"><a name="l01384"></a><span class="lineno"> 1384</span>&#160;</div>
<div class="line"><a name="l01385"></a><span class="lineno"> 1385</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a876412c0a487a7a8840b1556cc04cb57">warning</a> &lt;&lt; <span class="stringliteral">&quot;We are not running on the consensus ledger&quot;</span>;</div>
<div class="line"><a name="l01386"></a><span class="lineno"> 1386</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;Our LCL: &quot;</span> &lt;&lt; ourClosed-&gt;getJson (0);</div>
<div class="line"><a name="l01387"></a><span class="lineno"> 1387</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;Net LCL &quot;</span> &lt;&lt; closedLedger;</div>
<div class="line"><a name="l01388"></a><span class="lineno"> 1388</span>&#160;</div>
<div class="line"><a name="l01389"></a><span class="lineno"> 1389</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaae419906cda8f51387b7c8ea5e06b897b">omTRACKING</a>) || (<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaafaf756912385746855189063c6bd422d">omFULL</a>))</div>
<div class="line"><a name="l01390"></a><span class="lineno"> 1390</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40">setMode</a> (<a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaa8bc5065cbfcab22cf30b012231f25106">omCONNECTED</a>);</div>
<div class="line"><a name="l01391"></a><span class="lineno"> 1391</span>&#160;</div>
<div class="line"><a name="l01392"></a><span class="lineno"> 1392</span>&#160;    <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> consensus = <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#a71a21a539d63be51cada4d3c4e4c4030">getLedgerByHash</a> (closedLedger);</div>
<div class="line"><a name="l01393"></a><span class="lineno"> 1393</span>&#160;</div>
<div class="line"><a name="l01394"></a><span class="lineno"> 1394</span>&#160;    <span class="keywordflow">if</span> (!consensus)</div>
<div class="line"><a name="l01395"></a><span class="lineno"> 1395</span>&#160;    {</div>
<div class="line"><a name="l01396"></a><span class="lineno"> 1396</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;Acquiring consensus ledger &quot;</span> &lt;&lt; closedLedger;</div>
<div class="line"><a name="l01397"></a><span class="lineno"> 1397</span>&#160;</div>
<div class="line"><a name="l01398"></a><span class="lineno"> 1398</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d7/ded/a01009.html#a9a94b29121ae586a6b7354a80f8d088c">mAcquiringLedger</a> || (<a class="code" href="../../d7/ded/a01009.html#a9a94b29121ae586a6b7354a80f8d088c">mAcquiringLedger</a>-&gt;getHash () != closedLedger))</div>
<div class="line"><a name="l01399"></a><span class="lineno"> 1399</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a9a94b29121ae586a6b7354a80f8d088c">mAcquiringLedger</a> = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a6d349a4ada03689eae062c0399762dad">getInboundLedgers</a> ().<a class="code" href="../../d8/d86/a00703.html#a6f59efd378b35314541b4d5c76cd905a">findCreate</a> (closedLedger, 0, <a class="code" href="../../dd/d85/a00702.html#a97d9eaf73e624a2b60dc5692bba9fc54ad60e5080ff3821bbb157013ebae7ac17">InboundLedger::fcCONSENSUS</a>);</div>
<div class="line"><a name="l01400"></a><span class="lineno"> 1400</span>&#160;</div>
<div class="line"><a name="l01401"></a><span class="lineno"> 1401</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d7/ded/a01009.html#a9a94b29121ae586a6b7354a80f8d088c">mAcquiringLedger</a> || <a class="code" href="../../d7/ded/a01009.html#a9a94b29121ae586a6b7354a80f8d088c">mAcquiringLedger</a>-&gt;isFailed ())</div>
<div class="line"><a name="l01402"></a><span class="lineno"> 1402</span>&#160;        {</div>
<div class="line"><a name="l01403"></a><span class="lineno"> 1403</span>&#160;            <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a6d349a4ada03689eae062c0399762dad">getInboundLedgers</a> ().<a class="code" href="../../d8/d86/a00703.html#aa8378c07e914d43964d816ee1ac8d1dd">dropLedger</a> (closedLedger);</div>
<div class="line"><a name="l01404"></a><span class="lineno"> 1404</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a754a7a96d490fbc7f53f69572b9c1514">error</a> &lt;&lt; <span class="stringliteral">&quot;Network ledger cannot be acquired&quot;</span>;</div>
<div class="line"><a name="l01405"></a><span class="lineno"> 1405</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01406"></a><span class="lineno"> 1406</span>&#160;        }</div>
<div class="line"><a name="l01407"></a><span class="lineno"> 1407</span>&#160;</div>
<div class="line"><a name="l01408"></a><span class="lineno"> 1408</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d7/ded/a01009.html#a9a94b29121ae586a6b7354a80f8d088c">mAcquiringLedger</a>-&gt;isComplete ())</div>
<div class="line"><a name="l01409"></a><span class="lineno"> 1409</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01410"></a><span class="lineno"> 1410</span>&#160;</div>
<div class="line"><a name="l01411"></a><span class="lineno"> 1411</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a08d1779d5bb2a06bdbaeabdac2ba3ed8">clearNeedNetworkLedger</a> ();</div>
<div class="line"><a name="l01412"></a><span class="lineno"> 1412</span>&#160;        consensus = <a class="code" href="../../d7/ded/a01009.html#a9a94b29121ae586a6b7354a80f8d088c">mAcquiringLedger</a>-&gt;getLedger ();</div>
<div class="line"><a name="l01413"></a><span class="lineno"> 1413</span>&#160;    }</div>
<div class="line"><a name="l01414"></a><span class="lineno"> 1414</span>&#160;</div>
<div class="line"><a name="l01415"></a><span class="lineno"> 1415</span>&#160;    <span class="comment">// FIXME: If this rewinds the ledger sequence, or has the same sequence, we should update the status on</span></div>
<div class="line"><a name="l01416"></a><span class="lineno"> 1416</span>&#160;    <span class="comment">// any stored transactions in the invalidated ledgers.</span></div>
<div class="line"><a name="l01417"></a><span class="lineno"> 1417</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a03e21ff22be1d31dbe08f81deb590ece">switchLastClosedLedger</a> (consensus, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01418"></a><span class="lineno"> 1418</span>&#160;</div>
<div class="line"><a name="l01419"></a><span class="lineno"> 1419</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01420"></a><span class="lineno"> 1420</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_ad72f54405ed9b8219022e8c2b7796c98_cgraph.png" border="0" usemap="#d7/ded/a01009_ad72f54405ed9b8219022e8c2b7796c98_cgraph" alt=""/></div>
<map name="d7/ded/a01009_ad72f54405ed9b8219022e8c2b7796c98_cgraph" id="d7/ded/a01009_ad72f54405ed9b8219022e8c2b7796c98_cgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a08d1779d5bb2a06bdbaeabdac2ba3ed8" title="ripple::NetworkOPsImp\l::clearNeedNetworkLedger" alt="" coords="447,573,623,619"/><area shape="rect" id="node5" href="../../d8/d86/a00703.html#aa8378c07e914d43964d816ee1ac8d1dd" title="ripple::InboundLedgers\l::dropLedger" alt="" coords="235,762,387,809"/><area shape="rect" id="node7" href="../../d8/d86/a00703.html#a6f59efd378b35314541b4d5c76cd905a" title="ripple::InboundLedgers\l::findCreate" alt="" coords="235,831,387,878"/><area shape="rect" id="node9" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="920,521,1021,551"/><area shape="rect" id="node13" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="241,901,380,947"/><area shape="rect" id="node15" href="../../d3/dac/a01777.html#abc7c7eb0126fa15e409f282c515dae85" title="ripple::Validations\l::getCurrentValidations" alt="" coords="233,970,388,1017"/><area shape="rect" id="node17" href="../../da/d74/a00099.html#a6d349a4ada03689eae062c0399762dad" title="ripple::Application\l::getInboundLedgers" alt="" coords="241,1039,380,1086"/><area shape="rect" id="node19" href="../../d1/de6/a00837.html#a71a21a539d63be51cada4d3c4e4c4030" title="ripple::LedgerMaster\l::getLedgerByHash" alt="" coords="241,1109,380,1155"/><area shape="rect" id="node21" href="../../da/d74/a00099.html#ac95c5f6db4db8575632193495189a702" title="ripple::Application\l::getLocalCredentials" alt="" coords="239,1178,383,1225"/><area shape="rect" id="node23" href="../../d4/d0e/a01272.html#abead041d13890ad9c8938c28f27f8ccd" title="ripple::RippleAddress\l::getNodeID" alt="" coords="237,1247,384,1294"/><area shape="rect" id="node27" href="../../dc/dfa/a00894.html#af67a14f58bffac4bd931722ecbd316d9" title="ripple::LocalCredentials\l::getNodePublic" alt="" coords="232,1317,389,1363"/><area shape="rect" id="node29" href="../../da/d74/a00099.html#a4f3da0257883c463e0a561d7ba793dd4" title="ripple::Application\l::getValidations" alt="" coords="248,1386,373,1433"/><area shape="rect" id="node31" href="../../d7/d9a/a00152.html#a3fa11a064a87fe4e970f00d661287dd2" title="ripple::base_uint::\lisNonZero" alt="" coords="248,1455,373,1502"/><area shape="rect" id="node35" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40" title="ripple::NetworkOPsImp\l::setMode" alt="" coords="456,411,613,458"/><area shape="rect" id="node78" href="../../d7/ded/a01009.html#a03e21ff22be1d31dbe08f81deb590ece" title="ripple::NetworkOPsImp\l::switchLastClosedLedger" alt="" coords="224,693,397,739"/><area shape="rect" id="node11" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="1105,513,1281,559"/><area shape="rect" id="node25" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="479,1256,591,1285"/><area shape="rect" id="node33" href="../../d7/d9a/a00152.html#a25e873c7d069c6c2d44655736f2b6c21" title="ripple::base_uint::\lisZero" alt="" coords="472,1455,597,1502"/><area shape="rect" id="node38" href="../../d4/d87/a03436.html#a437c68f3299fa632d4a1694059fd6ddb" title="rocksdb::Log" alt="" coords="709,299,805,328"/><area shape="rect" id="node40" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f" title="ripple::NetworkOPsImp\l::strOperatingMode" alt="" coords="892,437,1049,483"/><area shape="rect" id="node42" href="../../d7/ded/a01009.html#a768673e1643af3147b10b4d99aca8caf" title="ripple::NetworkOPsImp\l::pubServer" alt="" coords="679,351,836,398"/><area shape="rect" id="node46" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb" title="ripple::Application\l::getFeeTrack" alt="" coords="908,298,1033,345"/><area shape="rect" id="node48" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0" title="ripple::LoadFeeTrack\l::getLoadBase" alt="" coords="899,367,1043,414"/><area shape="rect" id="node50" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac" title="ripple::LoadFeeTrack\l::getLoadFactor" alt="" coords="899,175,1043,222"/><area shape="rect" id="node52" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="893,245,1048,275"/><area shape="rect" id="node54" href="../../d7/def/a00521.html#a2ef4a2ce13a341171f01f414f4fdd765" title="Json::FastWriter::writeValue" alt="" coords="1100,245,1287,275"/><area shape="rect" id="node56" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="1371,5,1509,35"/><area shape="rect" id="node58" href="../../d6/d27/a01781.html#a5b7da48b163bcec63b1424f1608b7da6" title="Json::Value::asCString" alt="" coords="1361,59,1519,88"/><area shape="rect" id="node60" href="../../d6/d27/a01781.html#a33434ed1c0217a34d04c95fa5342fd37" title="Json::Value::asDouble" alt="" coords="1363,112,1517,141"/><area shape="rect" id="node62" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="1376,165,1504,195"/><area shape="rect" id="node64" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="1371,219,1509,248"/><area shape="rect" id="node66" href="../../d6/d27/a01781.html#a30fa08af88f2d0a038b22ba9f4e88b2a" title="Return a list of the member names. " alt="" coords="1337,272,1543,301"/><area shape="rect" id="node68" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="1379,325,1501,355"/><area shape="rect" id="node70" href="../../d6/d27/a01781.html#a695ef31fad36b4712918b3ff80158479" title="Json::Value::type" alt="" coords="1379,379,1501,408"/><area shape="rect" id="node72" href="../../d2/dd6/a03414.html#aa0c8235a4a5c6599da5d3332743db8ac" title="Json::valueToQuotedString" alt="" coords="1351,432,1529,461"/><area shape="rect" id="node76" href="../../d2/dd6/a03414.html#a5d3eba6789f9a9c1ab563ff8b4a5090f" title="Json::valueToString" alt="" coords="1371,485,1509,515"/><area shape="rect" id="node74" href="../../d2/dd6/a03414.html#aa11b210ff98a4f4dd4e2df19260f8c3a" title="Json::containsControlCharacter" alt="" coords="1593,432,1799,461"/><area shape="rect" id="node81" href="../../d1/de6/a00837.html#af249e0b1768882343f37df9720aeb25d" title="ripple::LedgerMaster\l::switchLedgers" alt="" coords="465,815,604,862"/><area shape="rect" id="node84" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef" title="ripple::NetworkOPsImp\l::getNetworkTimeNC" alt="" coords="456,885,613,931"/><area shape="rect" id="node95" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="472,693,597,739"/><area shape="rect" id="node99" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="460,955,609,984"/><area shape="rect" id="node101" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee" title="ripple::Application\l::overlay" alt="" coords="472,1007,597,1054"/><area shape="rect" id="node103" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c" title="ripple::Overlay::foreach" alt="" coords="456,763,613,792"/><area shape="rect" id="node86" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7" title="ripple::iToSeconds" alt="" coords="692,893,823,923"/><area shape="rect" id="node90" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a" title="ripple::NetworkOPsImp\l::getNetworkTimePT" alt="" coords="679,823,836,870"/><area shape="rect" id="node88" href="../../d9/d9d/a03417.html#a00572ed03b233ecd42f36357a395c163" title="ripple::ptEpoch" alt="" coords="916,893,1025,923"/><area shape="rect" id="node93" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678" title="ripple::Application\l::getSystemTimeOffset" alt="" coords="892,823,1049,870"/><area shape="rect" id="node97" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="683,701,832,731"/><area shape="rect" id="node105" href="../../de/de6/a01063.html#a5b8ee783b77679fb2fad2543ab521a90" title="ripple::Overlay::getActive\lPeers" alt="" coords="673,754,841,801"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_ad72f54405ed9b8219022e8c2b7796c98_icgraph.png" border="0" usemap="#d7/ded/a01009_ad72f54405ed9b8219022e8c2b7796c98_icgraph" alt=""/></div>
<map name="d7/ded/a01009_ad72f54405ed9b8219022e8c2b7796c98_icgraph" id="d7/ded/a01009_ad72f54405ed9b8219022e8c2b7796c98_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#ac929d58ce61af6b87922103bf3da3039" title="ripple::NetworkOPsImp\l::haveConsensusObject" alt="" coords="435,143,597,190"/><area shape="rect" id="node13" href="../../d7/ded/a01009.html#a6a3776d980baee062b961c0195bc43be" title="ripple::NetworkOPsImp\l::tryStartConsensus" alt="" coords="225,203,383,250"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a27090d36556b8665cbd908efa99e2a05" title="ripple::NetworkOPsImp\l::getConsensusLCL" alt="" coords="655,5,812,51"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#a148e1e8d0c5128ee48e0206cdeb5e2a0" title="ripple::NetworkOPsImp\l::processTrustedProposal" alt="" coords="648,74,819,121"/><area shape="rect" id="node9" href="../../d7/ded/a01009.html#a7fc7ee8501f9d95df97583cabf3b4771" title="ripple::NetworkOPsImp\l::getTXMap" alt="" coords="655,143,812,190"/><area shape="rect" id="node11" href="../../d7/ded/a01009.html#aff24b82af590d1db837231ad0125eee4" title="ripple::NetworkOPsImp\l::mapComplete" alt="" coords="655,213,812,259"/><area shape="rect" id="node15" href="../../d7/ded/a01009.html#adb95084185570756c8a39ba0e32fb3ed" title="ripple::NetworkOPsImp\l::processHeartbeatTimer" alt="" coords="433,247,599,294"/><area shape="rect" id="node17" href="../../d7/ded/a01009.html#ab8272588ee692e125af4d7841af32618" title="ripple::NetworkOPsImp\l::onDeadlineTimer" alt="" coords="655,282,812,329"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9d05582df1098bebc063132a3c0cf730"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::clearLedgerFetch </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a7258b6ea09ba8e972747b57c0aab914c">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02321">2321</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d8/d86/a00703.html#a0dd139449bf0efa340edb0b3265032c6">ripple::InboundLedgers::clearFailures()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, and <a class="el" href="../../da/d74/a00099.html#a6d349a4ada03689eae062c0399762dad">ripple::Application::getInboundLedgers()</a>.</p>
<div class="fragment"><div class="line"><a name="l02322"></a><span class="lineno"> 2322</span>&#160;{</div>
<div class="line"><a name="l02323"></a><span class="lineno"> 2323</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a6d349a4ada03689eae062c0399762dad">getInboundLedgers</a>().<a class="code" href="../../d8/d86/a00703.html#a0dd139449bf0efa340edb0b3265032c6">clearFailures</a>();</div>
<div class="line"><a name="l02324"></a><span class="lineno"> 2324</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a9d05582df1098bebc063132a3c0cf730_cgraph.png" border="0" usemap="#d7/ded/a01009_a9d05582df1098bebc063132a3c0cf730_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a9d05582df1098bebc063132a3c0cf730_cgraph" id="d7/ded/a01009_a9d05582df1098bebc063132a3c0cf730_cgraph">
<area shape="rect" id="node3" href="../../d8/d86/a00703.html#a0dd139449bf0efa340edb0b3265032c6" title="ripple::InboundLedgers\l::clearFailures" alt="" coords="215,5,367,51"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="240,75,341,104"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#a6d349a4ada03689eae062c0399762dad" title="ripple::Application\l::getInboundLedgers" alt="" coords="221,127,360,174"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="417,66,593,113"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a08d1779d5bb2a06bdbaeabdac2ba3ed8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::clearNeedNetworkLedger </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a7ebeb2a8f947b729b0a8a1aba97d3b54">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00277">277</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00470">mNeedNetworkLedger</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l01268">checkLastClosedLedger()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01422">switchLastClosedLedger()</a>.</p>
<div class="fragment"><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;    {</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a47ec6c8f5fcf5adae37a33884645924d">mNeedNetworkLedger</a> = <span class="keyword">false</span>;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a08d1779d5bb2a06bdbaeabdac2ba3ed8_icgraph.png" border="0" usemap="#d7/ded/a01009_a08d1779d5bb2a06bdbaeabdac2ba3ed8_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a08d1779d5bb2a06bdbaeabdac2ba3ed8_icgraph" id="d7/ded/a01009_a08d1779d5bb2a06bdbaeabdac2ba3ed8_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#ad72f54405ed9b8219022e8c2b7796c98" title="ripple::NetworkOPsImp\l::checkLastClosedLedger" alt="" coords="453,174,624,221"/><area shape="rect" id="node22" href="../../d7/ded/a01009.html#a03e21ff22be1d31dbe08f81deb590ece" title="ripple::NetworkOPsImp\l::switchLastClosedLedger" alt="" coords="232,203,405,250"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#ac929d58ce61af6b87922103bf3da3039" title="ripple::NetworkOPsImp\l::haveConsensusObject" alt="" coords="883,143,1045,190"/><area shape="rect" id="node15" href="../../d7/ded/a01009.html#a6a3776d980baee062b961c0195bc43be" title="ripple::NetworkOPsImp\l::tryStartConsensus" alt="" coords="673,203,831,250"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#a27090d36556b8665cbd908efa99e2a05" title="ripple::NetworkOPsImp\l::getConsensusLCL" alt="" coords="1103,5,1260,51"/><area shape="rect" id="node9" href="../../d7/ded/a01009.html#a148e1e8d0c5128ee48e0206cdeb5e2a0" title="ripple::NetworkOPsImp\l::processTrustedProposal" alt="" coords="1096,74,1267,121"/><area shape="rect" id="node11" href="../../d7/ded/a01009.html#a7fc7ee8501f9d95df97583cabf3b4771" title="ripple::NetworkOPsImp\l::getTXMap" alt="" coords="1103,143,1260,190"/><area shape="rect" id="node13" href="../../d7/ded/a01009.html#aff24b82af590d1db837231ad0125eee4" title="ripple::NetworkOPsImp\l::mapComplete" alt="" coords="1103,213,1260,259"/><area shape="rect" id="node17" href="../../d7/ded/a01009.html#adb95084185570756c8a39ba0e32fb3ed" title="ripple::NetworkOPsImp\l::processHeartbeatTimer" alt="" coords="881,247,1047,294"/><area shape="rect" id="node19" href="../../d7/ded/a01009.html#ab8272588ee692e125af4d7841af32618" title="ripple::NetworkOPsImp\l::onDeadlineTimer" alt="" coords="1103,282,1260,329"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a87ab0c0c15759955f19f5b64c463bc5d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::closeTimeOffset </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>offset</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a78fe27eff8baba42055b84818aca27b2">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00692">692</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../dd/d07/a02132_source.html#l00245">beast::Journal::info</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00483">mCloseTimeOffset</a>.</p>
<div class="fragment"><div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;{</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;    <span class="comment">// take large offsets, ignore small offsets, push towards our wall time</span></div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;    <span class="keywordflow">if</span> (offset &gt; 1)</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#aa32b30d4b133c9bddc5ec08a1e747df6">mCloseTimeOffset</a> += (offset + 3) / 4;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (offset &lt; -1)</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#aa32b30d4b133c9bddc5ec08a1e747df6">mCloseTimeOffset</a> += (offset - 3) / 4;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#aa32b30d4b133c9bddc5ec08a1e747df6">mCloseTimeOffset</a> = (<a class="code" href="../../d7/ded/a01009.html#aa32b30d4b133c9bddc5ec08a1e747df6">mCloseTimeOffset</a> * 3) / 4;</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#aa32b30d4b133c9bddc5ec08a1e747df6">mCloseTimeOffset</a> != 0)</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;Close time offset now &quot;</span> &lt;&lt; <a class="code" href="../../d7/ded/a01009.html#aa32b30d4b133c9bddc5ec08a1e747df6">mCloseTimeOffset</a>;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6f084e481032cbda8f923ff3dcc3e0b5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::consensusViewChange </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a7223446b10496bd50e12272588996ab0">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01669">1669</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00469">mMode</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00076">ripple::NetworkOPs::omCONNECTED</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00079">ripple::NetworkOPs::omFULL</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00078">ripple::NetworkOPs::omTRACKING</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01717">setMode()</a>.</p>
<div class="fragment"><div class="line"><a name="l01670"></a><span class="lineno"> 1670</span>&#160;{</div>
<div class="line"><a name="l01671"></a><span class="lineno"> 1671</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaafaf756912385746855189063c6bd422d">omFULL</a>) || (<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaae419906cda8f51387b7c8ea5e06b897b">omTRACKING</a>))</div>
<div class="line"><a name="l01672"></a><span class="lineno"> 1672</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40">setMode</a> (<a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaa8bc5065cbfcab22cf30b012231f25106">omCONNECTED</a>);</div>
<div class="line"><a name="l01673"></a><span class="lineno"> 1673</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a6f084e481032cbda8f923ff3dcc3e0b5_cgraph.png" border="0" usemap="#d7/ded/a01009_a6f084e481032cbda8f923ff3dcc3e0b5_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a6f084e481032cbda8f923ff3dcc3e0b5_cgraph" id="d7/ded/a01009_a6f084e481032cbda8f923ff3dcc3e0b5_cgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40" title="ripple::NetworkOPsImp\l::setMode" alt="" coords="223,141,380,187"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="667,53,768,83"/><area shape="rect" id="node9" href="../../d4/d87/a03436.html#a437c68f3299fa632d4a1694059fd6ddb" title="rocksdb::Log" alt="" coords="461,243,557,272"/><area shape="rect" id="node11" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f" title="ripple::NetworkOPsImp\l::strOperatingMode" alt="" coords="639,106,796,153"/><area shape="rect" id="node13" href="../../d7/ded/a01009.html#a768673e1643af3147b10b4d99aca8caf" title="ripple::NetworkOPsImp\l::pubServer" alt="" coords="431,173,588,219"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="852,45,1028,91"/><area shape="rect" id="node17" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb" title="ripple::Application\l::getFeeTrack" alt="" coords="655,298,780,345"/><area shape="rect" id="node19" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0" title="ripple::LoadFeeTrack\l::getLoadBase" alt="" coords="645,367,789,414"/><area shape="rect" id="node21" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac" title="ripple::LoadFeeTrack\l::getLoadFactor" alt="" coords="645,175,789,222"/><area shape="rect" id="node23" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="640,245,795,275"/><area shape="rect" id="node25" href="../../d7/def/a00521.html#a2ef4a2ce13a341171f01f414f4fdd765" title="Json::FastWriter::writeValue" alt="" coords="847,245,1033,275"/><area shape="rect" id="node27" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="1117,5,1256,35"/><area shape="rect" id="node29" href="../../d6/d27/a01781.html#a5b7da48b163bcec63b1424f1608b7da6" title="Json::Value::asCString" alt="" coords="1108,59,1265,88"/><area shape="rect" id="node31" href="../../d6/d27/a01781.html#a33434ed1c0217a34d04c95fa5342fd37" title="Json::Value::asDouble" alt="" coords="1109,112,1264,141"/><area shape="rect" id="node33" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="1123,165,1251,195"/><area shape="rect" id="node35" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="1117,219,1256,248"/><area shape="rect" id="node37" href="../../d6/d27/a01781.html#a30fa08af88f2d0a038b22ba9f4e88b2a" title="Return a list of the member names. " alt="" coords="1084,272,1289,301"/><area shape="rect" id="node39" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="1125,325,1248,355"/><area shape="rect" id="node41" href="../../d6/d27/a01781.html#a695ef31fad36b4712918b3ff80158479" title="Json::Value::type" alt="" coords="1125,379,1248,408"/><area shape="rect" id="node43" href="../../d2/dd6/a03414.html#aa0c8235a4a5c6599da5d3332743db8ac" title="Json::valueToQuotedString" alt="" coords="1097,432,1276,461"/><area shape="rect" id="node50" href="../../d2/dd6/a03414.html#a5d3eba6789f9a9c1ab563ff8b4a5090f" title="Json::valueToString" alt="" coords="1117,485,1256,515"/><area shape="rect" id="node45" href="../../d2/dd6/a03414.html#aa11b210ff98a4f4dd4e2df19260f8c3a" title="Json::containsControlCharacter" alt="" coords="1340,432,1545,461"/><area shape="rect" id="node47" href="../../d2/dd6/a03414.html#a0381e631737f51331065a388f4f59197" title="Json::isControlCharacter" alt="" coords="1596,407,1761,436"/><area shape="rect" id="node52" href="../../d2/dd6/a03414.html#a0c9ecf21515ffa8092201ad908609dc7" title="Json::uintToString" alt="" coords="1379,485,1507,515"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a21cb288b0f1ae6e64dd7f73cc8d66b8e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::endConsensus </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>correctLCL</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a749bde2bf13ffaebc6475fd0d6b93576">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01651">1651</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../de/de6/a01063.html#a5b8ee783b77679fb2fad2543ab521a90">ripple::Overlay::getActivePeers()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39">ripple::LedgerMaster::getClosedLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00476">mConsensus</a>, <a class="el" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee">ripple::Application::overlay()</a>, and <a class="el" href="../../dd/d07/a02132_source.html#l00243">beast::Journal::trace</a>.</p>
<div class="fragment"><div class="line"><a name="l01652"></a><span class="lineno"> 1652</span>&#160;{</div>
<div class="line"><a name="l01653"></a><span class="lineno"> 1653</span>&#160;    uint256 deadLedger = <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39">getClosedLedger</a> ()-&gt;getParentHash ();</div>
<div class="line"><a name="l01654"></a><span class="lineno"> 1654</span>&#160;</div>
<div class="line"><a name="l01655"></a><span class="lineno"> 1655</span>&#160;    std::vector &lt;Peer::ptr&gt; peerList = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee">overlay</a> ().<a class="code" href="../../de/de6/a01063.html#a5b8ee783b77679fb2fad2543ab521a90">getActivePeers</a> ();</div>
<div class="line"><a name="l01656"></a><span class="lineno"> 1656</span>&#160;</div>
<div class="line"><a name="l01657"></a><span class="lineno"> 1657</span>&#160;    BOOST_FOREACH (<a class="code" href="../../d5/d17/a01098.html#a74554bf78a38b1c2c190b5b47c1955d4">Peer::ptr</a> <span class="keyword">const</span>&amp; it, peerList)</div>
<div class="line"><a name="l01658"></a><span class="lineno"> 1658</span>&#160;    {</div>
<div class="line"><a name="l01659"></a><span class="lineno"> 1659</span>&#160;        <span class="keywordflow">if</span> (it &amp;&amp; (it-&gt;getClosedLedgerHash () == deadLedger))</div>
<div class="line"><a name="l01660"></a><span class="lineno"> 1660</span>&#160;        {</div>
<div class="line"><a name="l01661"></a><span class="lineno"> 1661</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;Killing obsolete peer status&quot;</span>;</div>
<div class="line"><a name="l01662"></a><span class="lineno"> 1662</span>&#160;            it-&gt;cycleStatus ();</div>
<div class="line"><a name="l01663"></a><span class="lineno"> 1663</span>&#160;        }</div>
<div class="line"><a name="l01664"></a><span class="lineno"> 1664</span>&#160;    }</div>
<div class="line"><a name="l01665"></a><span class="lineno"> 1665</span>&#160;</div>
<div class="line"><a name="l01666"></a><span class="lineno"> 1666</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a> = boost::shared_ptr&lt;LedgerConsensus&gt; ();</div>
<div class="line"><a name="l01667"></a><span class="lineno"> 1667</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a21cb288b0f1ae6e64dd7f73cc8d66b8e_cgraph.png" border="0" usemap="#d7/ded/a01009_a21cb288b0f1ae6e64dd7f73cc8d66b8e_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a21cb288b0f1ae6e64dd7f73cc8d66b8e_cgraph" id="d7/ded/a01009_a21cb288b0f1ae6e64dd7f73cc8d66b8e_cgraph">
<area shape="rect" id="node3" href="../../de/de6/a01063.html#a5b8ee783b77679fb2fad2543ab521a90" title="ripple::Overlay::getActive\lPeers" alt="" coords="215,5,383,51"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="248,75,349,104"/><area shape="rect" id="node9" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="229,127,368,174"/><area shape="rect" id="node11" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee" title="ripple::Application\l::overlay" alt="" coords="236,197,361,243"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="433,66,609,113"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa54c323f2b401d104144796613c7d092"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d4/deb/a00710.html#a15ba6fd94d60310cdf80362345b5d07b">InfoSub::pointer</a> ripple::NetworkOPsImp::findRpcSub </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>strUrl</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../d5/dd0/a01438.html#ae81c1e618f3e4c666628a05ffdfe1b3d">ripple::InfoSub::Source</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02829">2829</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00467">mLock</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00498">mRpcSubMap</a>.</p>
<div class="fragment"><div class="line"><a name="l02830"></a><span class="lineno"> 2830</span>&#160;{</div>
<div class="line"><a name="l02831"></a><span class="lineno"> 2831</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a936ed96d8cb48a7a818e292345032bd3">ScopedLockType</a> sl (<a class="code" href="../../d7/ded/a01009.html#a28e64f295f2eca1f91a5a11239352071">mLock</a>);</div>
<div class="line"><a name="l02832"></a><span class="lineno"> 2832</span>&#160;</div>
<div class="line"><a name="l02833"></a><span class="lineno"> 2833</span>&#160;    subRpcMapType::iterator it = <a class="code" href="../../d7/ded/a01009.html#af0bd49a0f6d4f847723f09a5b9d57cd9">mRpcSubMap</a>.find (strUrl);</div>
<div class="line"><a name="l02834"></a><span class="lineno"> 2834</span>&#160;</div>
<div class="line"><a name="l02835"></a><span class="lineno"> 2835</span>&#160;    <span class="keywordflow">if</span> (it != <a class="code" href="../../d7/ded/a01009.html#af0bd49a0f6d4f847723f09a5b9d57cd9">mRpcSubMap</a>.end ())</div>
<div class="line"><a name="l02836"></a><span class="lineno"> 2836</span>&#160;        <span class="keywordflow">return</span> it-&gt;second;</div>
<div class="line"><a name="l02837"></a><span class="lineno"> 2837</span>&#160;</div>
<div class="line"><a name="l02838"></a><span class="lineno"> 2838</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d4/deb/a00710.html#a15ba6fd94d60310cdf80362345b5d07b">InfoSub::pointer</a> ();</div>
<div class="line"><a name="l02839"></a><span class="lineno"> 2839</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8867cd6f33ce47eeb63841edc9680729"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a> ripple::NetworkOPsImp::findTransactionByID </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;&#160;</td>
          <td class="paramname"><em>transactionID</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a225d66d8327aab50b0c930a134141187">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01045">1045</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d6/d2a/a03062_source.html#l00272">ripple::Transaction::load()</a>.</p>
<div class="fragment"><div class="line"><a name="l01046"></a><span class="lineno"> 1046</span>&#160;{</div>
<div class="line"><a name="l01047"></a><span class="lineno"> 1047</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../de/d05/a01702.html#a6b34e15909640abcd996da4b3ec60fe4">Transaction::load</a> (transactionID);</div>
<div class="line"><a name="l01048"></a><span class="lineno"> 1048</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a8867cd6f33ce47eeb63841edc9680729_cgraph.png" border="0" usemap="#d7/ded/a01009_a8867cd6f33ce47eeb63841edc9680729_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a8867cd6f33ce47eeb63841edc9680729_cgraph" id="d7/ded/a01009_a8867cd6f33ce47eeb63841edc9680729_cgraph">
<area shape="rect" id="node3" href="../../de/d05/a01702.html#a6b34e15909640abcd996da4b3ec60fe4" title="ripple::Transaction\l::load" alt="" coords="215,146,343,193"/><area shape="rect" id="node5" href="../../de/d05/a01702.html#a127e942da36e00fd47b4dac4f2dc581c" title="ripple::Transaction\l::transactionFromSQL" alt="" coords="393,146,543,193"/><area shape="rect" id="node7" href="../../da/d61/a01350.html#a462cbb304e3bcba2b4a78b8fee551265" title="ripple::Serializer\l::resize" alt="" coords="625,5,740,51"/><area shape="rect" id="node9" href="../../d5/db5/a00374.html#a5695e1a1b8e65383924a03d29c81a4f2" title="ripple::Database::getStr" alt="" coords="603,75,763,104"/><area shape="rect" id="node13" href="../../d5/db5/a00374.html#ad34864d60e84c7168a3b173097c27157" title="ripple::Database::getInt" alt="" coords="604,128,761,157"/><area shape="rect" id="node16" href="../../d5/db5/a00374.html#a654eaaef86fa7de1fa9a9d6c9f8d38a4" title="ripple::Database::getBinary" alt="" coords="593,181,772,211"/><area shape="rect" id="node19" href="../../da/d61/a01350.html#a32c26f7ab6d19e352751979c9d56eccd" title="ripple::Serializer\l::begin" alt="" coords="625,234,740,281"/><area shape="rect" id="node21" href="../../da/d61/a01350.html#a237280c7ca05aed5c750ec154a599547" title="ripple::Serializer\l::getLength" alt="" coords="625,303,740,350"/><area shape="rect" id="node11" href="../../d5/db5/a00374.html#a5b7ed864f9f854446470c987b37ebecc" title="ripple::Database::getCol\lNumber" alt="" coords="821,119,984,166"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7f440a216300729ba2bd6cd2c6cdcc41"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ripple::NetworkOPsImp::findTransactionsByDestination </td>
          <td>(</td>
          <td class="paramtype">std::list&lt; <a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>txns</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>destinationAccount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td>
          <td class="paramname"><em>startLedgerSeq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td>
          <td class="paramname"><em>endLedgerSeq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>maxTransactions</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a65ccf24ef86dac4313daa48db7439a8b">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01050">1050</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01053"></a><span class="lineno"> 1053</span>&#160;{</div>
<div class="line"><a name="l01054"></a><span class="lineno"> 1054</span>&#160;    <span class="comment">// WRITEME</span></div>
<div class="line"><a name="l01055"></a><span class="lineno"> 1055</span>&#160;    <span class="keywordflow">return</span> 0;</div>
<div class="line"><a name="l01056"></a><span class="lineno"> 1056</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="afe5aa6210ab8c901a3575a16832f9d01"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d73/a00060.html#ae2f1e61c8154ae51d99ebf48fd417f57">AccountState::pointer</a> ripple::NetworkOPsImp::getAccountState </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a>&#160;</td>
          <td class="paramname"><em>lrLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>accountID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#acb121b6ee80362d6525d8760a058cdb1">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01062">1062</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01063"></a><span class="lineno"> 1063</span>&#160;{</div>
<div class="line"><a name="l01064"></a><span class="lineno"> 1064</span>&#160;    <span class="keywordflow">return</span> lrLedger-&gt;getAccountState (accountID);</div>
<div class="line"><a name="l01065"></a><span class="lineno"> 1065</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6e1ccf9676c6b1c9277aa9b7bc3b5021"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::pair&lt; <a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a>, <a class="el" href="../../d1/da7/a01709.html#aa6169f45f954da1eae3fd72dd45f5849">TransactionMetaSet::pointer</a> &gt; &gt; ripple::NetworkOPsImp::getAccountTxs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>account</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#ab1967d8591af1a4e48c37fd2b0f184d0">std::int32_t</a>&#160;</td>
          <td class="paramname"><em>minLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#ab1967d8591af1a4e48c37fd2b0f184d0">std::int32_t</a>&#160;</td>
          <td class="paramname"><em>maxLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>descending</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bAdmin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a34d2f270a1069da492be676001393f20">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01811">1811</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../dd/d61/a03197_source.html#l00174">ripple::Serializer::begin()</a>, <a class="el" href="../../db/d44/a02564_source.html#l02479">db</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d7/d07/a02892_source.html#l00122">ripple::Database::getBigInt()</a>, <a class="el" href="../../d7/d07/a02892_source.html#l00092">ripple::Database::getBinary()</a>, <a class="el" href="../../dd/d61/a03197_source.html#l00129">ripple::Serializer::getData()</a>, <a class="el" href="../../d2/d4c/a02897_source.html#l00032">ripple::DatabaseCon::getDB()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00713">getLedgerBySeq()</a>, <a class="el" href="../../dd/d61/a03197_source.html#l00153">ripple::Serializer::getLength()</a>, <a class="el" href="../../da/d74/a00099.html#aed3322f9602bc688e68b14e8baff5440">ripple::Application::getTxnDB()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../de/d94/a02597_source.html#l00095">meta</a>, <a class="el" href="../../dd/d61/a03197_source.html#l00198">ripple::Serializer::resize()</a>, <a class="el" href="../../dc/d38/a02894_source.html#l00027">SQL_FOREACH</a>, <a class="el" href="../../d6/d2a/a03062_source.html#l00139">ripple::Transaction::transactionFromSQL()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01748">transactionsSQL()</a>, and <a class="el" href="../../dd/d07/a02132_source.html#l00246">beast::Journal::warning</a>.</p>
<div class="fragment"><div class="line"><a name="l01814"></a><span class="lineno"> 1814</span>&#160;{</div>
<div class="line"><a name="l01815"></a><span class="lineno"> 1815</span>&#160;    <span class="comment">// can be called with no locks</span></div>
<div class="line"><a name="l01816"></a><span class="lineno"> 1816</span>&#160;    std::vector&lt; std::pair&lt;Transaction::pointer, TransactionMetaSet::pointer&gt; &gt; ret;</div>
<div class="line"><a name="l01817"></a><span class="lineno"> 1817</span>&#160;</div>
<div class="line"><a name="l01818"></a><span class="lineno"> 1818</span>&#160;    std::string sql = <a class="code" href="../../d7/ded/a01009.html#a7a4453eeb692f0bc2dc5a73a83e2dd54">NetworkOPsImp::transactionsSQL</a> (<span class="stringliteral">&quot;AccountTransactions.LedgerSeq,Status,RawTxn,TxnMeta&quot;</span>, account,</div>
<div class="line"><a name="l01819"></a><span class="lineno"> 1819</span>&#160;                      minLedger, maxLedger, descending, offset, limit, <span class="keyword">false</span>, <span class="keyword">false</span>, bAdmin);</div>
<div class="line"><a name="l01820"></a><span class="lineno"> 1820</span>&#160;</div>
<div class="line"><a name="l01821"></a><span class="lineno"> 1821</span>&#160;    {</div>
<div class="line"><a name="l01822"></a><span class="lineno"> 1822</span>&#160;        Database* <a class="code" href="../../db/d44/a02564.html#a22e641d23ca36f47aa7b2b551bec1dc6">db</a> = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#aed3322f9602bc688e68b14e8baff5440">getTxnDB</a> ()-&gt;<a class="code" href="../../d6/db8/a00376.html#a9368476a90456c8f1256a53c239cc9a5">getDB</a> ();</div>
<div class="line"><a name="l01823"></a><span class="lineno"> 1823</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a5eca9d1139ddca4b45a44798b9d55329">DeprecatedScopedLock</a> sl (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getTxnDB ()-&gt;getDBLock ());</div>
<div class="line"><a name="l01824"></a><span class="lineno"> 1824</span>&#160;</div>
<div class="line"><a name="l01825"></a><span class="lineno"> 1825</span>&#160;        <a class="code" href="../../dc/d38/a02894.html#a51bb3e37b14d7bad19ab389e3a26a2ac">SQL_FOREACH</a> (db, sql)</div>
<div class="line"><a name="l01826"></a><span class="lineno"> 1826</span>&#160;        {</div>
<div class="line"><a name="l01827"></a><span class="lineno"> 1827</span>&#160;            <a class="code" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a> txn = <a class="code" href="../../de/d05/a01702.html#a127e942da36e00fd47b4dac4f2dc581c">Transaction::transactionFromSQL</a> (db, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01828"></a><span class="lineno"> 1828</span>&#160;</div>
<div class="line"><a name="l01829"></a><span class="lineno"> 1829</span>&#160;            Serializer rawMeta;</div>
<div class="line"><a name="l01830"></a><span class="lineno"> 1830</span>&#160;            <span class="keywordtype">int</span> metaSize = 2048;</div>
<div class="line"><a name="l01831"></a><span class="lineno"> 1831</span>&#160;            rawMeta.resize (metaSize);</div>
<div class="line"><a name="l01832"></a><span class="lineno"> 1832</span>&#160;            metaSize = db-&gt;getBinary (<span class="stringliteral">&quot;TxnMeta&quot;</span>, &amp;*rawMeta.begin (), rawMeta.getLength ());</div>
<div class="line"><a name="l01833"></a><span class="lineno"> 1833</span>&#160;</div>
<div class="line"><a name="l01834"></a><span class="lineno"> 1834</span>&#160;            <span class="keywordflow">if</span> (metaSize &gt; rawMeta.getLength ())</div>
<div class="line"><a name="l01835"></a><span class="lineno"> 1835</span>&#160;            {</div>
<div class="line"><a name="l01836"></a><span class="lineno"> 1836</span>&#160;                rawMeta.resize (metaSize);</div>
<div class="line"><a name="l01837"></a><span class="lineno"> 1837</span>&#160;                db-&gt;getBinary (<span class="stringliteral">&quot;TxnMeta&quot;</span>, &amp;*rawMeta.begin (), rawMeta.getLength ());</div>
<div class="line"><a name="l01838"></a><span class="lineno"> 1838</span>&#160;            }</div>
<div class="line"><a name="l01839"></a><span class="lineno"> 1839</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01840"></a><span class="lineno"> 1840</span>&#160;                rawMeta.resize (metaSize);</div>
<div class="line"><a name="l01841"></a><span class="lineno"> 1841</span>&#160;</div>
<div class="line"><a name="l01842"></a><span class="lineno"> 1842</span>&#160;            <span class="keywordflow">if</span> (rawMeta.getLength() == 0)</div>
<div class="line"><a name="l01843"></a><span class="lineno"> 1843</span>&#160;            { <span class="comment">// Work around a bug that could leave the metadata missing</span></div>
<div class="line"><a name="l01844"></a><span class="lineno"> 1844</span>&#160;                <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> seq = <span class="keyword">static_cast&lt;</span><a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a><span class="keyword">&gt;</span>(db-&gt;getBigInt(<span class="stringliteral">&quot;LedgerSeq&quot;</span>));</div>
<div class="line"><a name="l01845"></a><span class="lineno"> 1845</span>&#160;                <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a876412c0a487a7a8840b1556cc04cb57">warning</a> &lt;&lt; <span class="stringliteral">&quot;Recovering ledger &quot;</span> &lt;&lt; seq &lt;&lt; <span class="stringliteral">&quot;, txn &quot;</span> &lt;&lt; txn-&gt;getID();</div>
<div class="line"><a name="l01846"></a><span class="lineno"> 1846</span>&#160;                <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> ledger = <a class="code" href="../../d7/ded/a01009.html#a9f1f7a943b74ee0bda617e0ccca8ef0a">getLedgerBySeq</a>(seq);</div>
<div class="line"><a name="l01847"></a><span class="lineno"> 1847</span>&#160;                <span class="keywordflow">if</span> (ledger)</div>
<div class="line"><a name="l01848"></a><span class="lineno"> 1848</span>&#160;                    ledger-&gt;pendSaveValidated(<span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01849"></a><span class="lineno"> 1849</span>&#160;            }</div>
<div class="line"><a name="l01850"></a><span class="lineno"> 1850</span>&#160;</div>
<div class="line"><a name="l01851"></a><span class="lineno"> 1851</span>&#160;            <a class="code" href="../../d1/da7/a01709.html#aa6169f45f954da1eae3fd72dd45f5849">TransactionMetaSet::pointer</a> <a class="code" href="../../de/d94/a02597.html#a6b8f1f5fc8f36aa1678fff8fa5aecd0b">meta</a> = boost::make_shared&lt;TransactionMetaSet&gt; (txn-&gt;getID (), txn-&gt;getLedger (), rawMeta.getData ());</div>
<div class="line"><a name="l01852"></a><span class="lineno"> 1852</span>&#160;</div>
<div class="line"><a name="l01853"></a><span class="lineno"> 1853</span>&#160;            <span class="comment">// VFALCO NOTE Use emplace instead.</span></div>
<div class="line"><a name="l01854"></a><span class="lineno"> 1854</span>&#160;            ret.push_back (std::pair&lt;Transaction::ref, TransactionMetaSet::ref&gt; (txn, meta));</div>
<div class="line"><a name="l01855"></a><span class="lineno"> 1855</span>&#160;        }</div>
<div class="line"><a name="l01856"></a><span class="lineno"> 1856</span>&#160;    }</div>
<div class="line"><a name="l01857"></a><span class="lineno"> 1857</span>&#160;</div>
<div class="line"><a name="l01858"></a><span class="lineno"> 1858</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l01859"></a><span class="lineno"> 1859</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a6e1ccf9676c6b1c9277aa9b7bc3b5021_cgraph.png" border="0" usemap="#d7/ded/a01009_a6e1ccf9676c6b1c9277aa9b7bc3b5021_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a6e1ccf9676c6b1c9277aa9b7bc3b5021_cgraph" id="d7/ded/a01009_a6e1ccf9676c6b1c9277aa9b7bc3b5021_cgraph">
<area shape="rect" id="node3" href="../../da/d61/a01350.html#a32c26f7ab6d19e352751979c9d56eccd" title="ripple::Serializer\l::begin" alt="" coords="473,58,588,105"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="252,399,353,428"/><area shape="rect" id="node9" href="../../d5/db5/a00374.html#a76ed88c8f94b0c332d1d62bc844045ad" title="ripple::Database::getBigInt" alt="" coords="215,345,391,375"/><area shape="rect" id="node13" href="../../d5/db5/a00374.html#a654eaaef86fa7de1fa9a9d6c9f8d38a4" title="ripple::Database::getBinary" alt="" coords="441,5,620,35"/><area shape="rect" id="node16" href="../../da/d61/a01350.html#a937c91e12200c1df1e493ace106dd4d3" title="ripple::Serializer\l::getData" alt="" coords="245,451,360,498"/><area shape="rect" id="node18" href="../../d6/db8/a00376.html#a9368476a90456c8f1256a53c239cc9a5" title="ripple::DatabaseCon\l::getDB" alt="" coords="232,521,373,567"/><area shape="rect" id="node20" href="../../d7/ded/a01009.html#a9f1f7a943b74ee0bda617e0ccca8ef0a" title="ripple::NetworkOPsImp\l::getLedgerBySeq" alt="" coords="224,590,381,637"/><area shape="rect" id="node24" href="../../da/d61/a01350.html#a237280c7ca05aed5c750ec154a599547" title="ripple::Serializer\l::getLength" alt="" coords="473,234,588,281"/><area shape="rect" id="node26" href="../../da/d74/a00099.html#aed3322f9602bc688e68b14e8baff5440" title="ripple::Application\l::getTxnDB" alt="" coords="240,659,365,706"/><area shape="rect" id="node28" href="../../da/d61/a01350.html#a462cbb304e3bcba2b4a78b8fee551265" title="ripple::Serializer\l::resize" alt="" coords="473,303,588,350"/><area shape="rect" id="node30" href="../../de/d05/a01702.html#a127e942da36e00fd47b4dac4f2dc581c" title="ripple::Transaction\l::transactionFromSQL" alt="" coords="228,173,377,219"/><area shape="rect" id="node42" href="../../d7/ded/a01009.html#a7a4453eeb692f0bc2dc5a73a83e2dd54" title="ripple::NetworkOPsImp\l::transactionsSQL" alt="" coords="224,729,381,775"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="443,423,619,470"/><area shape="rect" id="node11" href="../../d5/db5/a00374.html#a5b7ed864f9f854446470c987b37ebecc" title="ripple::Database::getCol\lNumber" alt="" coords="669,146,832,193"/><area shape="rect" id="node22" href="../../d1/de6/a00837.html#a5a199229ff499451b63f07ae13f5690a" title="ripple::LedgerMaster\l::getLedgerBySeq" alt="" coords="461,590,600,637"/><area shape="rect" id="node33" href="../../d5/db5/a00374.html#a5695e1a1b8e65383924a03d29c81a4f2" title="ripple::Database::getStr" alt="" coords="451,128,611,157"/><area shape="rect" id="node36" href="../../d5/db5/a00374.html#ad34864d60e84c7168a3b173097c27157" title="ripple::Database::getInt" alt="" coords="452,181,609,211"/><area shape="rect" id="node44" href="../../d9/d9d/a03417.html#aa3091bec2c625018fadb6aefef12b9ff" title="ripple::min" alt="" coords="489,707,572,736"/><area shape="rect" id="node46" href="../../d4/d0e/a01272.html#a2a8201537b6969c0e186c9b1d889c52b" title="ripple::RippleAddress\l::humanAccountID" alt="" coords="457,759,604,806"/><area shape="rect" id="node48" href="../../d4/d87/a03436.html#a6f17c6df7ce20ec52aecef2475cd4158" title="rocksdb::if" alt="" coords="709,672,792,701"/><area shape="rect" id="node54" href="../../d9/d39/a00257.html#a18a7bfe8bbf61262472b03f1dfe5c887" title="ripple::CBase58Data\l::ToString" alt="" coords="680,794,821,841"/><area shape="rect" id="node76" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="677,863,824,910"/><area shape="rect" id="node96" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="677,725,824,771"/><area shape="rect" id="node50" href="../../da/d71/a00814.html#ab25c6d03dbcd6168b3ae3762dc98fd51" title="rocksdb::LDBCommandExecute\lResult::FAILED" alt="" coords="880,663,1091,710"/><area shape="rect" id="node52" href="../../da/d71/a00814.html#ae4210d600639c8c6ac04486ebc43c39b" title="rocksdb::LDBCommandExecute\lResult::LDBCommandExecuteResult" alt="" coords="1139,663,1379,710"/><area shape="rect" id="node56" href="../../d9/d7d/a00150.html#a085fa82e1453fd6e5460a0cd960b5816" title="ripple::Base58::encodeWith\lCheck" alt="" coords="895,794,1076,841"/><area shape="rect" id="node58" href="../../d9/d7d/a00150.html#ac6c6ad62e7ed916bfe1c652721d3fe26" title="ripple::Base58::encode" alt="" coords="1181,741,1336,771"/><area shape="rect" id="node74" href="../../d9/d7d/a00150.html#a24f49360e730224f1d16edb1b504e32a" title="ripple::Base58::getCurrent\lAlphabet" alt="" coords="1172,794,1345,841"/><area shape="rect" id="node60" href="../../d0/d87/a03399.html#addb402f22cc191c3dc7f4325bb6f684e" title="beast.util.Iter.first" alt="" coords="1457,804,1580,833"/><area shape="rect" id="node62" href="../../d9/d7d/a00150.html#a03b8b4e8a39fe06fe7e3a74f76cdf664" title="ripple::Base58::fourbyte\l_hash256" alt="" coords="1439,734,1599,781"/><area shape="rect" id="node70" href="../../d9/d7d/a00150.html#a126fe41b1f663aeb5826c2f44a2d9528" title="ripple::Base58::raw\l_encode" alt="" coords="1452,665,1585,711"/><area shape="rect" id="node64" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="1679,734,1804,781"/><area shape="rect" id="node68" href="../../d9/d9d/a03417.html#a4be54b895ff42f63b835266848abf9af" title="ripple::SHA256Hash" alt="" coords="1671,804,1812,833"/><area shape="rect" id="node66" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1880,773,2029,803"/><area shape="rect" id="node72" href="../../d7/d2f/a00258.html#af54502b0cc273266a8cc841100386645" title="ripple::CBigNum::getuint" alt="" coords="1659,673,1824,703"/><area shape="rect" id="node78" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="1188,863,1329,910"/><area shape="rect" id="node80" href="../../d9/d7d/a00150.html#a85c405829839e85edb721241fd8d4203" title="ripple::Base58::decodeWith\lCheck" alt="" coords="1428,859,1609,906"/><area shape="rect" id="node82" href="../../d9/d7d/a00150.html#a0c2d621faceac43aeb30f4797f03b12c" title="ripple::Base58::decode" alt="" coords="1664,911,1819,940"/><area shape="rect" id="node92" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="1668,857,1815,887"/><area shape="rect" id="node84" href="../../d9/dec/a00090.html#ac2a3456ebd59fd80270f618c64544ac9" title="ripple::Base58::Alphabet\l::chars" alt="" coords="1873,963,2036,1010"/><area shape="rect" id="node86" href="../../d7/d2f/a00258.html#a84e73d21fd76767976513f5bf1276215" title="ripple::CBigNum::getvch" alt="" coords="1872,857,2037,887"/><area shape="rect" id="node88" href="../../d7/d2f/a00258.html#a01d5357e9691e5d7743172afbc3cc85c" title="ripple::CBigNum::setuint" alt="" coords="1872,911,2037,940"/><area shape="rect" id="node90" href="../../d7/d2f/a00258.html#a80a1fa42fd2d87bedd0b3bf5180ed4ba" title="ripple::CBigNum::setulong" alt="" coords="2087,911,2260,940"/><area shape="rect" id="node98" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="929,733,1041,763"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a57e12101d21717265329ff076bf5dcf1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../d7/ded/a01009.html#aee8097055c243f4c6ea3ee300c2a0647">NetworkOPsImp::txnMetaLedgerType</a> &gt; ripple::NetworkOPsImp::getAccountTxsB </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>account</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#ab1967d8591af1a4e48c37fd2b0f184d0">std::int32_t</a>&#160;</td>
          <td class="paramname"><em>minLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#ab1967d8591af1a4e48c37fd2b0f184d0">std::int32_t</a>&#160;</td>
          <td class="paramname"><em>maxLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>descending</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bAdmin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a5a39c20a49be0126e067d88417773382">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01861">1861</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d44/a02564_source.html#l02479">db</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d7/d07/a02892_source.html#l00092">ripple::Database::getBinary()</a>, <a class="el" href="../../d2/d4c/a02897_source.html#l00032">ripple::DatabaseCon::getDB()</a>, <a class="el" href="../../d7/d07/a02892_source.html#l00056">ripple::Database::getInt()</a>, <a class="el" href="../../da/d74/a00099.html#aed3322f9602bc688e68b14e8baff5440">ripple::Application::getTxnDB()</a>, <a class="el" href="../../dc/d38/a02894_source.html#l00027">SQL_FOREACH</a>, <a class="el" href="../../d9/d4d/a02840_source.html#l00045">ripple::strHex()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01748">transactionsSQL()</a>.</p>
<div class="fragment"><div class="line"><a name="l01864"></a><span class="lineno"> 1864</span>&#160;{</div>
<div class="line"><a name="l01865"></a><span class="lineno"> 1865</span>&#160;    <span class="comment">// can be called with no locks</span></div>
<div class="line"><a name="l01866"></a><span class="lineno"> 1866</span>&#160;    std::vector&lt; txnMetaLedgerType&gt; ret;</div>
<div class="line"><a name="l01867"></a><span class="lineno"> 1867</span>&#160;</div>
<div class="line"><a name="l01868"></a><span class="lineno"> 1868</span>&#160;    std::string sql = <a class="code" href="../../d7/ded/a01009.html#a7a4453eeb692f0bc2dc5a73a83e2dd54">NetworkOPsImp::transactionsSQL</a> (<span class="stringliteral">&quot;AccountTransactions.LedgerSeq,Status,RawTxn,TxnMeta&quot;</span>, account,</div>
<div class="line"><a name="l01869"></a><span class="lineno"> 1869</span>&#160;                      minLedger, maxLedger, descending, offset, limit, <span class="keyword">true</span><span class="comment">/*binary*/</span>, <span class="keyword">false</span>, bAdmin);</div>
<div class="line"><a name="l01870"></a><span class="lineno"> 1870</span>&#160;</div>
<div class="line"><a name="l01871"></a><span class="lineno"> 1871</span>&#160;    {</div>
<div class="line"><a name="l01872"></a><span class="lineno"> 1872</span>&#160;        Database* <a class="code" href="../../db/d44/a02564.html#a22e641d23ca36f47aa7b2b551bec1dc6">db</a> = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#aed3322f9602bc688e68b14e8baff5440">getTxnDB</a> ()-&gt;<a class="code" href="../../d6/db8/a00376.html#a9368476a90456c8f1256a53c239cc9a5">getDB</a> ();</div>
<div class="line"><a name="l01873"></a><span class="lineno"> 1873</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a5eca9d1139ddca4b45a44798b9d55329">DeprecatedScopedLock</a> sl (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getTxnDB ()-&gt;getDBLock ());</div>
<div class="line"><a name="l01874"></a><span class="lineno"> 1874</span>&#160;</div>
<div class="line"><a name="l01875"></a><span class="lineno"> 1875</span>&#160;        <a class="code" href="../../dc/d38/a02894.html#a51bb3e37b14d7bad19ab389e3a26a2ac">SQL_FOREACH</a> (db, sql)</div>
<div class="line"><a name="l01876"></a><span class="lineno"> 1876</span>&#160;        {</div>
<div class="line"><a name="l01877"></a><span class="lineno"> 1877</span>&#160;            <span class="keywordtype">int</span> txnSize = 2048;</div>
<div class="line"><a name="l01878"></a><span class="lineno"> 1878</span>&#160;            <a class="code" href="../../d9/d9d/a03417.html#a1b87ba4732cf1725393e8dd60bf73b0c">Blob</a> rawTxn (txnSize);</div>
<div class="line"><a name="l01879"></a><span class="lineno"> 1879</span>&#160;            txnSize = db-&gt;getBinary (<span class="stringliteral">&quot;RawTxn&quot;</span>, &amp;rawTxn[0], rawTxn.size ());</div>
<div class="line"><a name="l01880"></a><span class="lineno"> 1880</span>&#160;</div>
<div class="line"><a name="l01881"></a><span class="lineno"> 1881</span>&#160;            <span class="keywordflow">if</span> (txnSize &gt; rawTxn.size ())</div>
<div class="line"><a name="l01882"></a><span class="lineno"> 1882</span>&#160;            {</div>
<div class="line"><a name="l01883"></a><span class="lineno"> 1883</span>&#160;                rawTxn.resize (txnSize);</div>
<div class="line"><a name="l01884"></a><span class="lineno"> 1884</span>&#160;                db-&gt;getBinary (<span class="stringliteral">&quot;RawTxn&quot;</span>, &amp;*rawTxn.begin (), rawTxn.size ());</div>
<div class="line"><a name="l01885"></a><span class="lineno"> 1885</span>&#160;            }</div>
<div class="line"><a name="l01886"></a><span class="lineno"> 1886</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01887"></a><span class="lineno"> 1887</span>&#160;                rawTxn.resize (txnSize);</div>
<div class="line"><a name="l01888"></a><span class="lineno"> 1888</span>&#160;</div>
<div class="line"><a name="l01889"></a><span class="lineno"> 1889</span>&#160;            <span class="keywordtype">int</span> metaSize = 2048;</div>
<div class="line"><a name="l01890"></a><span class="lineno"> 1890</span>&#160;            <a class="code" href="../../d9/d9d/a03417.html#a1b87ba4732cf1725393e8dd60bf73b0c">Blob</a> rawMeta (metaSize);</div>
<div class="line"><a name="l01891"></a><span class="lineno"> 1891</span>&#160;            metaSize = db-&gt;getBinary (<span class="stringliteral">&quot;TxnMeta&quot;</span>, &amp;rawMeta[0], rawMeta.size ());</div>
<div class="line"><a name="l01892"></a><span class="lineno"> 1892</span>&#160;</div>
<div class="line"><a name="l01893"></a><span class="lineno"> 1893</span>&#160;            <span class="keywordflow">if</span> (metaSize &gt; rawMeta.size ())</div>
<div class="line"><a name="l01894"></a><span class="lineno"> 1894</span>&#160;            {</div>
<div class="line"><a name="l01895"></a><span class="lineno"> 1895</span>&#160;                rawMeta.resize (metaSize);</div>
<div class="line"><a name="l01896"></a><span class="lineno"> 1896</span>&#160;                db-&gt;getBinary (<span class="stringliteral">&quot;TxnMeta&quot;</span>, &amp;*rawMeta.begin (), rawMeta.size ());</div>
<div class="line"><a name="l01897"></a><span class="lineno"> 1897</span>&#160;            }</div>
<div class="line"><a name="l01898"></a><span class="lineno"> 1898</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01899"></a><span class="lineno"> 1899</span>&#160;                rawMeta.resize (metaSize);</div>
<div class="line"><a name="l01900"></a><span class="lineno"> 1900</span>&#160;</div>
<div class="line"><a name="l01901"></a><span class="lineno"> 1901</span>&#160;            <span class="comment">// VFALCO TODO Change the container&#39;s type to be std::tuple so</span></div>
<div class="line"><a name="l01902"></a><span class="lineno"> 1902</span>&#160;            <span class="comment">//             we can use std::forward_as_tuple here</span></div>
<div class="line"><a name="l01903"></a><span class="lineno"> 1903</span>&#160;            <span class="comment">//</span></div>
<div class="line"><a name="l01904"></a><span class="lineno"> 1904</span>&#160;            ret.push_back (std::make_tuple (</div>
<div class="line"><a name="l01905"></a><span class="lineno"> 1905</span>&#160;                <a class="code" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073">strHex</a> (rawTxn), <a class="code" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073">strHex</a> (rawMeta), db-&gt;getInt (<span class="stringliteral">&quot;LedgerSeq&quot;</span>)));</div>
<div class="line"><a name="l01906"></a><span class="lineno"> 1906</span>&#160;        }</div>
<div class="line"><a name="l01907"></a><span class="lineno"> 1907</span>&#160;    }</div>
<div class="line"><a name="l01908"></a><span class="lineno"> 1908</span>&#160;</div>
<div class="line"><a name="l01909"></a><span class="lineno"> 1909</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l01910"></a><span class="lineno"> 1910</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a57e12101d21717265329ff076bf5dcf1_cgraph.png" border="0" usemap="#d7/ded/a01009_a57e12101d21717265329ff076bf5dcf1_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a57e12101d21717265329ff076bf5dcf1_cgraph" id="d7/ded/a01009_a57e12101d21717265329ff076bf5dcf1_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="253,13,355,43"/><area shape="rect" id="node7" href="../../d5/db5/a00374.html#a654eaaef86fa7de1fa9a9d6c9f8d38a4" title="ripple::Database::getBinary" alt="" coords="215,67,393,96"/><area shape="rect" id="node11" href="../../d6/db8/a00376.html#a9368476a90456c8f1256a53c239cc9a5" title="ripple::DatabaseCon\l::getDB" alt="" coords="233,119,375,166"/><area shape="rect" id="node13" href="../../d5/db5/a00374.html#ad34864d60e84c7168a3b173097c27157" title="ripple::Database::getInt" alt="" coords="225,189,383,219"/><area shape="rect" id="node16" href="../../da/d74/a00099.html#aed3322f9602bc688e68b14e8baff5440" title="ripple::Application\l::getTxnDB" alt="" coords="241,242,367,289"/><area shape="rect" id="node18" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073" title="ripple::strHex" alt="" coords="255,312,353,341"/><area shape="rect" id="node22" href="../../d7/ded/a01009.html#a7a4453eeb692f0bc2dc5a73a83e2dd54" title="ripple::NetworkOPsImp\l::transactionsSQL" alt="" coords="225,365,383,411"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="444,5,620,51"/><area shape="rect" id="node9" href="../../d5/db5/a00374.html#a5b7ed864f9f854446470c987b37ebecc" title="ripple::Database::getCol\lNumber" alt="" coords="451,127,613,174"/><area shape="rect" id="node20" href="../../d9/d9d/a03417.html#aca6318bcfeb25f74477566a7ddc06a63" title="ripple::charHex" alt="" coords="477,312,587,341"/><area shape="rect" id="node24" href="../../d9/d9d/a03417.html#aa3091bec2c625018fadb6aefef12b9ff" title="ripple::min" alt="" coords="491,435,573,464"/><area shape="rect" id="node26" href="../../d4/d0e/a01272.html#a2a8201537b6969c0e186c9b1d889c52b" title="ripple::RippleAddress\l::humanAccountID" alt="" coords="459,365,605,411"/><area shape="rect" id="node28" href="../../d4/d87/a03436.html#a6f17c6df7ce20ec52aecef2475cd4158" title="rocksdb::if" alt="" coords="701,261,784,291"/><area shape="rect" id="node34" href="../../d9/d39/a00257.html#a18a7bfe8bbf61262472b03f1dfe5c887" title="ripple::CBase58Data\l::ToString" alt="" coords="672,330,813,377"/><area shape="rect" id="node56" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="669,399,816,446"/><area shape="rect" id="node76" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="669,469,816,515"/><area shape="rect" id="node30" href="../../da/d71/a00814.html#ab25c6d03dbcd6168b3ae3762dc98fd51" title="rocksdb::LDBCommandExecute\lResult::FAILED" alt="" coords="864,238,1075,285"/><area shape="rect" id="node32" href="../../da/d71/a00814.html#ae4210d600639c8c6ac04486ebc43c39b" title="rocksdb::LDBCommandExecute\lResult::LDBCommandExecuteResult" alt="" coords="1123,227,1363,274"/><area shape="rect" id="node36" href="../../d9/d7d/a00150.html#a085fa82e1453fd6e5460a0cd960b5816" title="ripple::Base58::encodeWith\lCheck" alt="" coords="879,330,1060,377"/><area shape="rect" id="node38" href="../../d9/d7d/a00150.html#ac6c6ad62e7ed916bfe1c652721d3fe26" title="ripple::Base58::encode" alt="" coords="1165,297,1320,327"/><area shape="rect" id="node54" href="../../d9/d7d/a00150.html#a24f49360e730224f1d16edb1b504e32a" title="ripple::Base58::getCurrent\lAlphabet" alt="" coords="1156,350,1329,397"/><area shape="rect" id="node40" href="../../d0/d87/a03399.html#addb402f22cc191c3dc7f4325bb6f684e" title="beast.util.Iter.first" alt="" coords="1441,297,1564,327"/><area shape="rect" id="node42" href="../../d9/d7d/a00150.html#a03b8b4e8a39fe06fe7e3a74f76cdf664" title="ripple::Base58::fourbyte\l_hash256" alt="" coords="1423,350,1583,397"/><area shape="rect" id="node50" href="../../d9/d7d/a00150.html#a126fe41b1f663aeb5826c2f44a2d9528" title="ripple::Base58::raw\l_encode" alt="" coords="1436,227,1569,274"/><area shape="rect" id="node44" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="1663,305,1788,351"/><area shape="rect" id="node48" href="../../d9/d9d/a03417.html#a4be54b895ff42f63b835266848abf9af" title="ripple::SHA256Hash" alt="" coords="1655,375,1796,404"/><area shape="rect" id="node46" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1864,340,2013,369"/><area shape="rect" id="node52" href="../../d7/d2f/a00258.html#af54502b0cc273266a8cc841100386645" title="ripple::CBigNum::getuint" alt="" coords="1643,236,1808,265"/><area shape="rect" id="node58" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="1172,419,1313,466"/><area shape="rect" id="node60" href="../../d9/d7d/a00150.html#a85c405829839e85edb721241fd8d4203" title="ripple::Base58::decodeWith\lCheck" alt="" coords="1412,419,1593,466"/><area shape="rect" id="node62" href="../../d9/d7d/a00150.html#a0c2d621faceac43aeb30f4797f03b12c" title="ripple::Base58::decode" alt="" coords="1648,481,1803,511"/><area shape="rect" id="node72" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="1652,428,1799,457"/><area shape="rect" id="node64" href="../../d9/dec/a00090.html#ac2a3456ebd59fd80270f618c64544ac9" title="ripple::Base58::Alphabet\l::chars" alt="" coords="1857,473,2020,519"/><area shape="rect" id="node66" href="../../d7/d2f/a00258.html#a84e73d21fd76767976513f5bf1276215" title="ripple::CBigNum::getvch" alt="" coords="1856,543,2021,572"/><area shape="rect" id="node68" href="../../d7/d2f/a00258.html#a01d5357e9691e5d7743172afbc3cc85c" title="ripple::CBigNum::setuint" alt="" coords="1856,420,2021,449"/><area shape="rect" id="node70" href="../../d7/d2f/a00258.html#a80a1fa42fd2d87bedd0b3bf5180ed4ba" title="ripple::CBigNum::setulong" alt="" coords="2071,420,2244,449"/><area shape="rect" id="node78" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="913,477,1025,507"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adcd0f5c06951e3eb74ba81f2006d6216"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::getBookPage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>&#160;</td>
          <td class="paramname"><em>lpLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../df/d2e/a01737.html">uint160</a> &amp;&#160;</td>
          <td class="paramname"><em>uTakerPaysCurrencyID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../df/d2e/a01737.html">uint160</a> &amp;&#160;</td>
          <td class="paramname"><em>uTakerPaysIssuerID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../df/d2e/a01737.html">uint160</a> &amp;&#160;</td>
          <td class="paramname"><em>uTakerGetsCurrencyID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../df/d2e/a01737.html">uint160</a> &amp;&#160;</td>
          <td class="paramname"><em>uTakerGetsIssuerID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../df/d2e/a01737.html">uint160</a> &amp;&#160;</td>
          <td class="paramname"><em>uTakerID</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const bool&#160;</td>
          <td class="paramname"><em>bProof</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const unsigned int&#160;</td>
          <td class="paramname"><em>iLimit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d6/d27/a01781.html">Json::Value</a> &amp;&#160;</td>
          <td class="paramname"><em>jvMarker</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> &amp;&#160;</td>
          <td class="paramname"><em>jvResult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#aa6425494b52cece6f613d6209f838a75">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02855">2855</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d8/dd4/a03195_source.html#l00068">ACCOUNT_ONE</a>, <a class="el" href="../../d4/db9/a02918_source.html#l01278">ripple::LedgerEntrySet::accountHolds()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01298">Json::Value::append()</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00038">Json::arrayValue</a>, <a class="el" href="../../d8/dd4/a03195_source.html#l00621">ripple::STAmount::clear()</a>, <a class="el" href="../../d7/d49/a03187_source.html#l00125">ripple::RippleAddress::createHumanAccountID()</a>, <a class="el" href="../../da/dd3/a03198_source.html#l00220">ripple::STAmount::createHumanCurrency()</a>, <a class="el" href="../../d8/dd4/a03195_source.html#l00065">CURRENCY_ONE</a>, <a class="el" href="../../d4/db9/a02918_source.html#l00954">ripple::LedgerEntrySet::dirFirst()</a>, <a class="el" href="../../d4/db9/a02918_source.html#l00970">ripple::LedgerEntrySet::dirNext()</a>, <a class="el" href="../../da/dd3/a03198_source.html#l00920">ripple::STAmount::divide()</a>, <a class="el" href="../../d4/db9/a02918_source.html#l00136">ripple::LedgerEntrySet::entryCache()</a>, <a class="el" href="../../dd/d3f/a02912_source.html#l01670">ripple::Ledger::getBookBase()</a>, <a class="el" href="../../dd/d3f/a02912_source.html#l01473">ripple::Ledger::getQuality()</a>, <a class="el" href="../../dd/d3f/a02912_source.html#l01478">ripple::Ledger::getQualityNext()</a>, <a class="el" href="../../da/dd3/a03198_source.html#l00629">ripple::STAmount::getText()</a>, <a class="el" href="../../d0/d08/a03184_source.html#l00049">ripple::ltDIR_NODE</a>, <a class="el" href="../../d0/d08/a03184_source.html#l00062">ripple::ltOFFER</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../d5/dd8/a03083_source.html#l00031">ripple::min()</a>, <a class="el" href="../../da/dd3/a03198_source.html#l00963">ripple::STAmount::multiply()</a>, <a class="el" href="../../da/d4a/a03107_source.html#l00031">QUALITY_ONE</a>, <a class="el" href="../../d4/db9/a02918_source.html#l01166">ripple::LedgerEntrySet::rippleTransferRate()</a>, <a class="el" href="../../da/dd3/a03198_source.html#l01150">ripple::STAmount::setJson()</a>, <a class="el" href="../../da/dd3/a03198_source.html#l01055">ripple::STAmount::setRate()</a>, <a class="el" href="../../db/da5/a02919_source.html#l00027">ripple::tapNONE</a>, <a class="el" href="../../dd/d07/a02132_source.html#l00243">beast::Journal::trace</a>, <a class="el" href="../../de/d3e/a02727_source.html#l00023">rocksdb::crc32c::Value()</a>, and <a class="el" href="../../dd/d07/a02132_source.html#l00246">beast::Journal::warning</a>.</p>
<div class="fragment"><div class="line"><a name="l02856"></a><span class="lineno"> 2856</span>&#160;{ <span class="comment">// CAUTION: This is the old get book page logic</span></div>
<div class="line"><a name="l02857"></a><span class="lineno"> 2857</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>&amp;    jvOffers    = (jvResult[<span class="stringliteral">&quot;offers&quot;</span>] = <a class="code" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9">Json::Value</a> (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eadc8f264f36b55b063c78126b335415f4" title="array value (ordered list) ">Json::arrayValue</a>));</div>
<div class="line"><a name="l02858"></a><span class="lineno"> 2858</span>&#160;</div>
<div class="line"><a name="l02859"></a><span class="lineno"> 2859</span>&#160;    std::map&lt;uint160, STAmount&gt; umBalance;</div>
<div class="line"><a name="l02860"></a><span class="lineno"> 2860</span>&#160;    <span class="keyword">const</span> uint256   uBookBase   = <a class="code" href="../../dd/d5f/a00825.html#a75205d48fe6ecf924cfed352ce21fa0a">Ledger::getBookBase</a> (uTakerPaysCurrencyID, uTakerPaysIssuerID, uTakerGetsCurrencyID, uTakerGetsIssuerID);</div>
<div class="line"><a name="l02861"></a><span class="lineno"> 2861</span>&#160;    <span class="keyword">const</span> uint256   uBookEnd    = <a class="code" href="../../dd/d5f/a00825.html#a0e25065aad224c94b2f357268938d352">Ledger::getQualityNext</a> (uBookBase);</div>
<div class="line"><a name="l02862"></a><span class="lineno"> 2862</span>&#160;    uint256         uTipIndex   = uBookBase;</div>
<div class="line"><a name="l02863"></a><span class="lineno"> 2863</span>&#160;</div>
<div class="line"><a name="l02864"></a><span class="lineno"> 2864</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a>) </div>
<div class="line"><a name="l02865"></a><span class="lineno"> 2865</span>&#160;    {</div>
<div class="line"><a name="l02866"></a><span class="lineno"> 2866</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;getBookPage:&quot;</span> &lt;&lt;</div>
<div class="line"><a name="l02867"></a><span class="lineno"> 2867</span>&#160;            <span class="stringliteral">&quot; uTakerPaysCurrencyID=&quot;</span> &lt;&lt; </div>
<div class="line"><a name="l02868"></a><span class="lineno"> 2868</span>&#160;                <a class="code" href="../../d2/d41/a01493.html#aefb662aaabfc521cb4cdcdb715c7d4b8">STAmount::createHumanCurrency</a> (uTakerPaysCurrencyID) &lt;&lt;</div>
<div class="line"><a name="l02869"></a><span class="lineno"> 2869</span>&#160;            <span class="stringliteral">&quot; uTakerPaysIssuerID=&quot;</span> &lt;&lt;</div>
<div class="line"><a name="l02870"></a><span class="lineno"> 2870</span>&#160;                <a class="code" href="../../d4/d0e/a01272.html#a5e27ec0a3b2b853272958e1b522bfd59">RippleAddress::createHumanAccountID</a> (uTakerPaysIssuerID);</div>
<div class="line"><a name="l02871"></a><span class="lineno"> 2871</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;getBookPage:&quot;</span> &lt;&lt;</div>
<div class="line"><a name="l02872"></a><span class="lineno"> 2872</span>&#160;            <span class="stringliteral">&quot; uTakerGetsCurrencyID=&quot;</span> &lt;&lt; </div>
<div class="line"><a name="l02873"></a><span class="lineno"> 2873</span>&#160;                <a class="code" href="../../d2/d41/a01493.html#aefb662aaabfc521cb4cdcdb715c7d4b8">STAmount::createHumanCurrency</a> (uTakerGetsCurrencyID) &lt;&lt;</div>
<div class="line"><a name="l02874"></a><span class="lineno"> 2874</span>&#160;            <span class="stringliteral">&quot; uTakerGetsIssuerID=&quot;</span> &lt;&lt;</div>
<div class="line"><a name="l02875"></a><span class="lineno"> 2875</span>&#160;                <a class="code" href="../../d4/d0e/a01272.html#a5e27ec0a3b2b853272958e1b522bfd59">RippleAddress::createHumanAccountID</a> (uTakerGetsIssuerID);</div>
<div class="line"><a name="l02876"></a><span class="lineno"> 2876</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;getBookPage: uBookBase=&quot;</span> &lt;&lt; uBookBase;</div>
<div class="line"><a name="l02877"></a><span class="lineno"> 2877</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;getBookPage: uBookEnd=&quot;</span> &lt;&lt; uBookEnd;</div>
<div class="line"><a name="l02878"></a><span class="lineno"> 2878</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;getBookPage: uTipIndex=&quot;</span> &lt;&lt; uTipIndex;</div>
<div class="line"><a name="l02879"></a><span class="lineno"> 2879</span>&#160;    }</div>
<div class="line"><a name="l02880"></a><span class="lineno"> 2880</span>&#160;</div>
<div class="line"><a name="l02881"></a><span class="lineno"> 2881</span>&#160;    LedgerEntrySet  lesActive (lpLedger, <a class="code" href="../../d9/d9d/a03417.html#ae2a321a3f2099e098fdcc670a60c7a09af77cbea9706ce2ee7fdf5a85efbf70c5">tapNONE</a>, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02882"></a><span class="lineno"> 2882</span>&#160;</div>
<div class="line"><a name="l02883"></a><span class="lineno"> 2883</span>&#160;    <span class="keywordtype">bool</span>            bDone           = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02884"></a><span class="lineno"> 2884</span>&#160;    <span class="keywordtype">bool</span>            bDirectAdvance  = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02885"></a><span class="lineno"> 2885</span>&#160;</div>
<div class="line"><a name="l02886"></a><span class="lineno"> 2886</span>&#160;    <a class="code" href="../../dc/d54/a01344.html#abf05184c020b05e80bdf996c9bee96eb">SLE::pointer</a>    sleOfferDir;</div>
<div class="line"><a name="l02887"></a><span class="lineno"> 2887</span>&#160;    uint256         uOfferIndex;</div>
<div class="line"><a name="l02888"></a><span class="lineno"> 2888</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    uBookEntry;</div>
<div class="line"><a name="l02889"></a><span class="lineno"> 2889</span>&#160;    STAmount        saDirRate;</div>
<div class="line"><a name="l02890"></a><span class="lineno"> 2890</span>&#160;</div>
<div class="line"><a name="l02891"></a><span class="lineno"> 2891</span>&#160;    <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>    iLeft           = iLimit;</div>
<div class="line"><a name="l02892"></a><span class="lineno"> 2892</span>&#160;</div>
<div class="line"><a name="l02893"></a><span class="lineno"> 2893</span>&#160;    <span class="keywordflow">if</span> ((iLeft == 0) || (iLeft &gt; 300))</div>
<div class="line"><a name="l02894"></a><span class="lineno"> 2894</span>&#160;        iLeft = 300;</div>
<div class="line"><a name="l02895"></a><span class="lineno"> 2895</span>&#160;</div>
<div class="line"><a name="l02896"></a><span class="lineno"> 2896</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>  uTransferRate   = lesActive.rippleTransferRate (uTakerGetsIssuerID);</div>
<div class="line"><a name="l02897"></a><span class="lineno"> 2897</span>&#160;</div>
<div class="line"><a name="l02898"></a><span class="lineno"> 2898</span>&#160;    <span class="keywordflow">while</span> (!bDone &amp;&amp; (--iLeft &gt; 0))</div>
<div class="line"><a name="l02899"></a><span class="lineno"> 2899</span>&#160;    {</div>
<div class="line"><a name="l02900"></a><span class="lineno"> 2900</span>&#160;        <span class="keywordflow">if</span> (bDirectAdvance)</div>
<div class="line"><a name="l02901"></a><span class="lineno"> 2901</span>&#160;        {</div>
<div class="line"><a name="l02902"></a><span class="lineno"> 2902</span>&#160;            bDirectAdvance  = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02903"></a><span class="lineno"> 2903</span>&#160;</div>
<div class="line"><a name="l02904"></a><span class="lineno"> 2904</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;getBookPage: bDirectAdvance&quot;</span>;</div>
<div class="line"><a name="l02905"></a><span class="lineno"> 2905</span>&#160;</div>
<div class="line"><a name="l02906"></a><span class="lineno"> 2906</span>&#160;            sleOfferDir     = lesActive.entryCache (<a class="code" href="../../d8/dbb/a03480.html#ggaf6e0324b257fc9992b83ecf827c2a07ba1ca6f5da9e86f814af3d6f8b3631ebe8">ltDIR_NODE</a>, lpLedger-&gt;getNextLedgerIndex (uTipIndex, uBookEnd));</div>
<div class="line"><a name="l02907"></a><span class="lineno"> 2907</span>&#160;</div>
<div class="line"><a name="l02908"></a><span class="lineno"> 2908</span>&#160;            <span class="keywordflow">if</span> (!sleOfferDir)</div>
<div class="line"><a name="l02909"></a><span class="lineno"> 2909</span>&#160;            {</div>
<div class="line"><a name="l02910"></a><span class="lineno"> 2910</span>&#160;                <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;getBookPage: bDone&quot;</span>;</div>
<div class="line"><a name="l02911"></a><span class="lineno"> 2911</span>&#160;                bDone           = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02912"></a><span class="lineno"> 2912</span>&#160;            }</div>
<div class="line"><a name="l02913"></a><span class="lineno"> 2913</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02914"></a><span class="lineno"> 2914</span>&#160;            {</div>
<div class="line"><a name="l02915"></a><span class="lineno"> 2915</span>&#160;                uTipIndex       = sleOfferDir-&gt;getIndex ();</div>
<div class="line"><a name="l02916"></a><span class="lineno"> 2916</span>&#160;                saDirRate       = <a class="code" href="../../d2/d41/a01493.html#a05d8d9a9e3e2fa2f6f6ced24bed4d224">STAmount::setRate</a> (<a class="code" href="../../dd/d5f/a00825.html#ad8125a5566e9310f96db8d6d421e75d3">Ledger::getQuality</a> (uTipIndex));</div>
<div class="line"><a name="l02917"></a><span class="lineno"> 2917</span>&#160;</div>
<div class="line"><a name="l02918"></a><span class="lineno"> 2918</span>&#160;                lesActive.dirFirst (uTipIndex, sleOfferDir, uBookEntry, uOfferIndex);</div>
<div class="line"><a name="l02919"></a><span class="lineno"> 2919</span>&#160;</div>
<div class="line"><a name="l02920"></a><span class="lineno"> 2920</span>&#160;                <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;getBookPage:   uTipIndex=&quot;</span> &lt;&lt; uTipIndex;</div>
<div class="line"><a name="l02921"></a><span class="lineno"> 2921</span>&#160;                <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;getBookPage: uOfferIndex=&quot;</span> &lt;&lt; uOfferIndex;</div>
<div class="line"><a name="l02922"></a><span class="lineno"> 2922</span>&#160;            }</div>
<div class="line"><a name="l02923"></a><span class="lineno"> 2923</span>&#160;        }</div>
<div class="line"><a name="l02924"></a><span class="lineno"> 2924</span>&#160;</div>
<div class="line"><a name="l02925"></a><span class="lineno"> 2925</span>&#160;        <span class="keywordflow">if</span> (!bDone)</div>
<div class="line"><a name="l02926"></a><span class="lineno"> 2926</span>&#160;        {</div>
<div class="line"><a name="l02927"></a><span class="lineno"> 2927</span>&#160;            <a class="code" href="../../dc/d54/a01344.html#abf05184c020b05e80bdf996c9bee96eb">SLE::pointer</a>    sleOffer        = lesActive.entryCache (<a class="code" href="../../d8/dbb/a03480.html#ggaf6e0324b257fc9992b83ecf827c2a07ba8a24a7b08fcdd8a76109f80f056a176d">ltOFFER</a>, uOfferIndex);</div>
<div class="line"><a name="l02928"></a><span class="lineno"> 2928</span>&#160;</div>
<div class="line"><a name="l02929"></a><span class="lineno"> 2929</span>&#160;            <span class="keywordflow">if</span> (sleOffer)</div>
<div class="line"><a name="l02930"></a><span class="lineno"> 2930</span>&#160;            {</div>
<div class="line"><a name="l02931"></a><span class="lineno"> 2931</span>&#160;                <span class="keyword">const</span> uint160   uOfferOwnerID   = sleOffer-&gt;getFieldAccount160 (sfAccount);</div>
<div class="line"><a name="l02932"></a><span class="lineno"> 2932</span>&#160;                <span class="keyword">const</span> STAmount&amp; saTakerGets     = sleOffer-&gt;getFieldAmount (sfTakerGets);</div>
<div class="line"><a name="l02933"></a><span class="lineno"> 2933</span>&#160;                <span class="keyword">const</span> STAmount&amp; saTakerPays     = sleOffer-&gt;getFieldAmount (sfTakerPays);</div>
<div class="line"><a name="l02934"></a><span class="lineno"> 2934</span>&#160;                STAmount        saOwnerFunds;</div>
<div class="line"><a name="l02935"></a><span class="lineno"> 2935</span>&#160;</div>
<div class="line"><a name="l02936"></a><span class="lineno"> 2936</span>&#160;                <span class="keywordflow">if</span> (uTakerGetsIssuerID == uOfferOwnerID)</div>
<div class="line"><a name="l02937"></a><span class="lineno"> 2937</span>&#160;                {</div>
<div class="line"><a name="l02938"></a><span class="lineno"> 2938</span>&#160;                    <span class="comment">// If offer is selling issuer&#39;s own IOUs, it is fully funded.</span></div>
<div class="line"><a name="l02939"></a><span class="lineno"> 2939</span>&#160;                    saOwnerFunds    = saTakerGets;</div>
<div class="line"><a name="l02940"></a><span class="lineno"> 2940</span>&#160;                }</div>
<div class="line"><a name="l02941"></a><span class="lineno"> 2941</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l02942"></a><span class="lineno"> 2942</span>&#160;                {</div>
<div class="line"><a name="l02943"></a><span class="lineno"> 2943</span>&#160;                    std::map&lt;uint160, STAmount&gt;::const_iterator umBalanceEntry  = umBalance.find (uOfferOwnerID);</div>
<div class="line"><a name="l02944"></a><span class="lineno"> 2944</span>&#160;</div>
<div class="line"><a name="l02945"></a><span class="lineno"> 2945</span>&#160;                    <span class="keywordflow">if</span> (umBalanceEntry != umBalance.end ())</div>
<div class="line"><a name="l02946"></a><span class="lineno"> 2946</span>&#160;                    {</div>
<div class="line"><a name="l02947"></a><span class="lineno"> 2947</span>&#160;                        <span class="comment">// Found in running balance table.</span></div>
<div class="line"><a name="l02948"></a><span class="lineno"> 2948</span>&#160;</div>
<div class="line"><a name="l02949"></a><span class="lineno"> 2949</span>&#160;                        saOwnerFunds    = umBalanceEntry-&gt;second;</div>
<div class="line"><a name="l02950"></a><span class="lineno"> 2950</span>&#160;                        <span class="comment">// m_journal.info &lt;&lt; boost::str(boost::format(&quot;getBookPage: saOwnerFunds=%s (cached)&quot;) % saOwnerFunds.getFullText());</span></div>
<div class="line"><a name="l02951"></a><span class="lineno"> 2951</span>&#160;                    }</div>
<div class="line"><a name="l02952"></a><span class="lineno"> 2952</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02953"></a><span class="lineno"> 2953</span>&#160;                    {</div>
<div class="line"><a name="l02954"></a><span class="lineno"> 2954</span>&#160;                        <span class="comment">// Did not find balance in table.</span></div>
<div class="line"><a name="l02955"></a><span class="lineno"> 2955</span>&#160;</div>
<div class="line"><a name="l02956"></a><span class="lineno"> 2956</span>&#160;                        saOwnerFunds    = lesActive.accountHolds (uOfferOwnerID, uTakerGetsCurrencyID, uTakerGetsIssuerID);</div>
<div class="line"><a name="l02957"></a><span class="lineno"> 2957</span>&#160;</div>
<div class="line"><a name="l02958"></a><span class="lineno"> 2958</span>&#160;                        <span class="comment">// m_journal.info &lt;&lt; boost::str(boost::format(&quot;getBookPage: saOwnerFunds=%s (new)&quot;) % saOwnerFunds.getFullText());</span></div>
<div class="line"><a name="l02959"></a><span class="lineno"> 2959</span>&#160;                        <span class="keywordflow">if</span> (saOwnerFunds &lt; zero)</div>
<div class="line"><a name="l02960"></a><span class="lineno"> 2960</span>&#160;                        {</div>
<div class="line"><a name="l02961"></a><span class="lineno"> 2961</span>&#160;                            <span class="comment">// Treat negative funds as zero.</span></div>
<div class="line"><a name="l02962"></a><span class="lineno"> 2962</span>&#160;</div>
<div class="line"><a name="l02963"></a><span class="lineno"> 2963</span>&#160;                            saOwnerFunds.clear ();</div>
<div class="line"><a name="l02964"></a><span class="lineno"> 2964</span>&#160;                        }</div>
<div class="line"><a name="l02965"></a><span class="lineno"> 2965</span>&#160;                    }</div>
<div class="line"><a name="l02966"></a><span class="lineno"> 2966</span>&#160;                }</div>
<div class="line"><a name="l02967"></a><span class="lineno"> 2967</span>&#160;</div>
<div class="line"><a name="l02968"></a><span class="lineno"> 2968</span>&#160;                <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvOffer = sleOffer-&gt;getJson (0);</div>
<div class="line"><a name="l02969"></a><span class="lineno"> 2969</span>&#160;</div>
<div class="line"><a name="l02970"></a><span class="lineno"> 2970</span>&#160;                STAmount    saTakerGetsFunded;</div>
<div class="line"><a name="l02971"></a><span class="lineno"> 2971</span>&#160;                STAmount    saOwnerFundsLimit;</div>
<div class="line"><a name="l02972"></a><span class="lineno"> 2972</span>&#160;                <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> uOfferRate;</div>
<div class="line"><a name="l02973"></a><span class="lineno"> 2973</span>&#160;</div>
<div class="line"><a name="l02974"></a><span class="lineno"> 2974</span>&#160;</div>
<div class="line"><a name="l02975"></a><span class="lineno"> 2975</span>&#160;                <span class="keywordflow">if</span> (uTransferRate != <a class="code" href="../../da/d4a/a03107.html#a5efda0277380b020b74dfbf26ded15fe">QUALITY_ONE</a>                <span class="comment">// Have a tranfer fee.</span></div>
<div class="line"><a name="l02976"></a><span class="lineno"> 2976</span>&#160;                        &amp;&amp; uTakerID != uTakerGetsIssuerID           <span class="comment">// Not taking offers of own IOUs.</span></div>
<div class="line"><a name="l02977"></a><span class="lineno"> 2977</span>&#160;                        &amp;&amp; uTakerGetsIssuerID != uOfferOwnerID)     <span class="comment">// Offer owner not issuing ownfunds</span></div>
<div class="line"><a name="l02978"></a><span class="lineno"> 2978</span>&#160;                {</div>
<div class="line"><a name="l02979"></a><span class="lineno"> 2979</span>&#160;                    <span class="comment">// Need to charge a transfer fee to offer owner.</span></div>
<div class="line"><a name="l02980"></a><span class="lineno"> 2980</span>&#160;                    uOfferRate          = uTransferRate;</div>
<div class="line"><a name="l02981"></a><span class="lineno"> 2981</span>&#160;                    saOwnerFundsLimit   = <a class="code" href="../../d2/d41/a01493.html#a547cf5be1bf2fdd7f7cd4cc076d77196">STAmount::divide</a> (saOwnerFunds, STAmount (<a class="code" href="../../d8/dd4/a03195.html#aa47e551f32708d9a2bcf3d0eda6e75e4">CURRENCY_ONE</a>, <a class="code" href="../../d8/dd4/a03195.html#ad55eb3b0f8711599b73d311ac52eced0">ACCOUNT_ONE</a>, uOfferRate, -9));</div>
<div class="line"><a name="l02982"></a><span class="lineno"> 2982</span>&#160;                }</div>
<div class="line"><a name="l02983"></a><span class="lineno"> 2983</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l02984"></a><span class="lineno"> 2984</span>&#160;                {</div>
<div class="line"><a name="l02985"></a><span class="lineno"> 2985</span>&#160;                    uOfferRate          = <a class="code" href="../../da/d4a/a03107.html#a5efda0277380b020b74dfbf26ded15fe">QUALITY_ONE</a>;</div>
<div class="line"><a name="l02986"></a><span class="lineno"> 2986</span>&#160;                    saOwnerFundsLimit   = saOwnerFunds;</div>
<div class="line"><a name="l02987"></a><span class="lineno"> 2987</span>&#160;                }</div>
<div class="line"><a name="l02988"></a><span class="lineno"> 2988</span>&#160;</div>
<div class="line"><a name="l02989"></a><span class="lineno"> 2989</span>&#160;                <span class="keywordflow">if</span> (saOwnerFundsLimit &gt;= saTakerGets)</div>
<div class="line"><a name="l02990"></a><span class="lineno"> 2990</span>&#160;                {</div>
<div class="line"><a name="l02991"></a><span class="lineno"> 2991</span>&#160;                    <span class="comment">// Sufficient funds no shenanigans.</span></div>
<div class="line"><a name="l02992"></a><span class="lineno"> 2992</span>&#160;                    saTakerGetsFunded   = saTakerGets;</div>
<div class="line"><a name="l02993"></a><span class="lineno"> 2993</span>&#160;                }</div>
<div class="line"><a name="l02994"></a><span class="lineno"> 2994</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l02995"></a><span class="lineno"> 2995</span>&#160;                {</div>
<div class="line"><a name="l02996"></a><span class="lineno"> 2996</span>&#160;                    <span class="comment">// m_journal.info &lt;&lt; boost::str(boost::format(&quot;getBookPage:  saTakerGets=%s&quot;) % saTakerGets.getFullText());</span></div>
<div class="line"><a name="l02997"></a><span class="lineno"> 2997</span>&#160;                    <span class="comment">// m_journal.info &lt;&lt; boost::str(boost::format(&quot;getBookPage:  saTakerPays=%s&quot;) % saTakerPays.getFullText());</span></div>
<div class="line"><a name="l02998"></a><span class="lineno"> 2998</span>&#160;                    <span class="comment">// m_journal.info &lt;&lt; boost::str(boost::format(&quot;getBookPage: saOwnerFunds=%s&quot;) % saOwnerFunds.getFullText());</span></div>
<div class="line"><a name="l02999"></a><span class="lineno"> 2999</span>&#160;                    <span class="comment">// m_journal.info &lt;&lt; boost::str(boost::format(&quot;getBookPage:    saDirRate=%s&quot;) % saDirRate.getText());</span></div>
<div class="line"><a name="l03000"></a><span class="lineno"> 3000</span>&#160;                    <span class="comment">// m_journal.info &lt;&lt; boost::str(boost::format(&quot;getBookPage:     multiply=%s&quot;) % STAmount::multiply(saTakerGetsFunded, saDirRate).getFullText());</span></div>
<div class="line"><a name="l03001"></a><span class="lineno"> 3001</span>&#160;                    <span class="comment">// m_journal.info &lt;&lt; boost::str(boost::format(&quot;getBookPage:     multiply=%s&quot;) % STAmount::multiply(saTakerGetsFunded, saDirRate, saTakerPays).getFullText());</span></div>
<div class="line"><a name="l03002"></a><span class="lineno"> 3002</span>&#160;</div>
<div class="line"><a name="l03003"></a><span class="lineno"> 3003</span>&#160;                    <span class="comment">// Only provide, if not fully funded.</span></div>
<div class="line"><a name="l03004"></a><span class="lineno"> 3004</span>&#160;</div>
<div class="line"><a name="l03005"></a><span class="lineno"> 3005</span>&#160;                    saTakerGetsFunded   = saOwnerFundsLimit;</div>
<div class="line"><a name="l03006"></a><span class="lineno"> 3006</span>&#160;</div>
<div class="line"><a name="l03007"></a><span class="lineno"> 3007</span>&#160;                    saTakerGetsFunded.setJson (jvOffer[<span class="stringliteral">&quot;taker_gets_funded&quot;</span>]);</div>
<div class="line"><a name="l03008"></a><span class="lineno"> 3008</span>&#160;                    <a class="code" href="../../d9/d9d/a03417.html#aa3091bec2c625018fadb6aefef12b9ff">std::min</a> (saTakerPays, <a class="code" href="../../d2/d41/a01493.html#a12cf6e60ed96232c0595ebe39a7c65ac">STAmount::multiply</a> (saTakerGetsFunded, saDirRate, saTakerPays)).setJson (jvOffer[<span class="stringliteral">&quot;taker_pays_funded&quot;</span>]);</div>
<div class="line"><a name="l03009"></a><span class="lineno"> 3009</span>&#160;                }</div>
<div class="line"><a name="l03010"></a><span class="lineno"> 3010</span>&#160;</div>
<div class="line"><a name="l03011"></a><span class="lineno"> 3011</span>&#160;                STAmount saOwnerPays = (<a class="code" href="../../da/d4a/a03107.html#a5efda0277380b020b74dfbf26ded15fe">QUALITY_ONE</a> == uOfferRate)</div>
<div class="line"><a name="l03012"></a><span class="lineno"> 3012</span>&#160;                    ? saTakerGetsFunded</div>
<div class="line"><a name="l03013"></a><span class="lineno"> 3013</span>&#160;                    : <a class="code" href="../../d9/d9d/a03417.html#aa3091bec2c625018fadb6aefef12b9ff">std::min</a> (</div>
<div class="line"><a name="l03014"></a><span class="lineno"> 3014</span>&#160;                        saOwnerFunds, </div>
<div class="line"><a name="l03015"></a><span class="lineno"> 3015</span>&#160;                        <a class="code" href="../../d2/d41/a01493.html#a12cf6e60ed96232c0595ebe39a7c65ac">STAmount::multiply</a> (</div>
<div class="line"><a name="l03016"></a><span class="lineno"> 3016</span>&#160;                            saTakerGetsFunded,</div>
<div class="line"><a name="l03017"></a><span class="lineno"> 3017</span>&#160;                            STAmount (<a class="code" href="../../d8/dd4/a03195.html#aa47e551f32708d9a2bcf3d0eda6e75e4">CURRENCY_ONE</a>, <a class="code" href="../../d8/dd4/a03195.html#ad55eb3b0f8711599b73d311ac52eced0">ACCOUNT_ONE</a>, uOfferRate, -9)));</div>
<div class="line"><a name="l03018"></a><span class="lineno"> 3018</span>&#160;</div>
<div class="line"><a name="l03019"></a><span class="lineno"> 3019</span>&#160;                umBalance[uOfferOwnerID]    = saOwnerFunds - saOwnerPays;</div>
<div class="line"><a name="l03020"></a><span class="lineno"> 3020</span>&#160;</div>
<div class="line"><a name="l03021"></a><span class="lineno"> 3021</span>&#160;                <span class="keywordflow">if</span> (saOwnerFunds != zero || uOfferOwnerID == uTakerID)</div>
<div class="line"><a name="l03022"></a><span class="lineno"> 3022</span>&#160;                {</div>
<div class="line"><a name="l03023"></a><span class="lineno"> 3023</span>&#160;                    <span class="comment">// Only provide funded offers and offers of the taker.</span></div>
<div class="line"><a name="l03024"></a><span class="lineno"> 3024</span>&#160;                    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>&amp; jvOf   = jvOffers.<a class="code" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. ">append</a> (jvOffer);</div>
<div class="line"><a name="l03025"></a><span class="lineno"> 3025</span>&#160;                    jvOf[<span class="stringliteral">&quot;quality&quot;</span>]     = saDirRate.getText ();</div>
<div class="line"><a name="l03026"></a><span class="lineno"> 3026</span>&#160;                }</div>
<div class="line"><a name="l03027"></a><span class="lineno"> 3027</span>&#160;            }</div>
<div class="line"><a name="l03028"></a><span class="lineno"> 3028</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l03029"></a><span class="lineno"> 3029</span>&#160;            {</div>
<div class="line"><a name="l03030"></a><span class="lineno"> 3030</span>&#160;                <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a876412c0a487a7a8840b1556cc04cb57">warning</a> &lt;&lt; <span class="stringliteral">&quot;Missing offer&quot;</span>;</div>
<div class="line"><a name="l03031"></a><span class="lineno"> 3031</span>&#160;        }</div>
<div class="line"><a name="l03032"></a><span class="lineno"> 3032</span>&#160;</div>
<div class="line"><a name="l03033"></a><span class="lineno"> 3033</span>&#160;            <span class="keywordflow">if</span> (!lesActive.dirNext (uTipIndex, sleOfferDir, uBookEntry, uOfferIndex))</div>
<div class="line"><a name="l03034"></a><span class="lineno"> 3034</span>&#160;            {</div>
<div class="line"><a name="l03035"></a><span class="lineno"> 3035</span>&#160;                bDirectAdvance  = <span class="keyword">true</span>;</div>
<div class="line"><a name="l03036"></a><span class="lineno"> 3036</span>&#160;            }</div>
<div class="line"><a name="l03037"></a><span class="lineno"> 3037</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l03038"></a><span class="lineno"> 3038</span>&#160;            {</div>
<div class="line"><a name="l03039"></a><span class="lineno"> 3039</span>&#160;                <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;getBookPage: uOfferIndex=&quot;</span> &lt;&lt; uOfferIndex;</div>
<div class="line"><a name="l03040"></a><span class="lineno"> 3040</span>&#160;            }</div>
<div class="line"><a name="l03041"></a><span class="lineno"> 3041</span>&#160;        }</div>
<div class="line"><a name="l03042"></a><span class="lineno"> 3042</span>&#160;    }</div>
<div class="line"><a name="l03043"></a><span class="lineno"> 3043</span>&#160;</div>
<div class="line"><a name="l03044"></a><span class="lineno"> 3044</span>&#160;    <span class="comment">//  jvResult[&quot;marker&quot;]  = Json::Value(Json::arrayValue);</span></div>
<div class="line"><a name="l03045"></a><span class="lineno"> 3045</span>&#160;    <span class="comment">//  jvResult[&quot;nodes&quot;]   = Json::Value(Json::arrayValue);</span></div>
<div class="line"><a name="l03046"></a><span class="lineno"> 3046</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_adcd0f5c06951e3eb74ba81f2006d6216_cgraph.png" border="0" usemap="#d7/ded/a01009_adcd0f5c06951e3eb74ba81f2006d6216_cgraph" alt=""/></div>
<map name="d7/ded/a01009_adcd0f5c06951e3eb74ba81f2006d6216_cgraph" id="d7/ded/a01009_adcd0f5c06951e3eb74ba81f2006d6216_cgraph">
<area shape="rect" id="node3" href="../../d0/d08/a00832.html#ae4e35f7f501fdd92b8f488ce1237ab83" title="ripple::LedgerEntrySet\l::accountHolds" alt="" coords="236,231,385,278"/><area shape="rect" id="node5" href="../../d2/d41/a01493.html#ae1e71aef94d7a8d5730eb85804b710da" title="ripple::STAmount::clear" alt="" coords="724,5,881,35"/><area shape="rect" id="node7" href="../../d4/d0e/a01272.html#a5e27ec0a3b2b853272958e1b522bfd59" title="ripple::RippleAddress\l::createHumanAccountID" alt="" coords="951,574,1121,621"/><area shape="rect" id="node13" href="../../d0/d08/a00832.html#ad13594cf847a6c56ef479ee44ae3c329" title="ripple::LedgerEntrySet\l::entryCache" alt="" coords="728,402,877,449"/><area shape="rect" id="node27" href="../../d2/d41/a01493.html#a207b1e769e476310cc294e5a3d6d299f" title="ripple::STAmount::getText" alt="" coords="716,835,889,864"/><area shape="rect" id="node31" href="../../d2/d41/a01493.html#aefb662aaabfc521cb4cdcdb715c7d4b8" title="ripple::STAmount::create\lHumanCurrency" alt="" coords="953,879,1119,926"/><area shape="rect" id="node55" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. " alt="" coords="240,1319,381,1348"/><area shape="rect" id="node62" href="../../d0/d08/a00832.html#ab92759dab9e6a4662f677ce5c95c0451" title="ripple::LedgerEntrySet\l::dirFirst" alt="" coords="236,573,385,619"/><area shape="rect" id="node64" href="../../d0/d08/a00832.html#aba4c47da1bc84e37cc5c52f3797494e0" title="ripple::LedgerEntrySet\l::dirNext" alt="" coords="483,573,632,619"/><area shape="rect" id="node77" href="../../d2/d41/a01493.html#a547cf5be1bf2fdd7f7cd4cc076d77196" title="ripple::STAmount::divide" alt="" coords="228,1265,393,1295"/><area shape="rect" id="node90" href="../../dd/d5f/a00825.html#a75205d48fe6ecf924cfed352ce21fa0a" title="ripple::Ledger::getBookBase" alt="" coords="709,888,896,917"/><area shape="rect" id="node104" href="../../dd/d5f/a00825.html#ad8125a5566e9310f96db8d6d421e75d3" title="ripple::Ledger::getQuality" alt="" coords="953,1051,1119,1080"/><area shape="rect" id="node107" href="../../dd/d5f/a00825.html#a0e25065aad224c94b2f357268938d352" title="ripple::Ledger::getQualityNext" alt="" coords="213,1372,408,1401"/><area shape="rect" id="node110" href="../../d9/d9d/a03417.html#aa3091bec2c625018fadb6aefef12b9ff" title="ripple::min" alt="" coords="269,1425,352,1455"/><area shape="rect" id="node112" href="../../d2/d41/a01493.html#a12cf6e60ed96232c0595ebe39a7c65ac" title="ripple::STAmount::multiply" alt="" coords="223,1212,399,1241"/><area shape="rect" id="node124" href="../../d0/d08/a00832.html#a6ba791d34f583690720665440d1bc3ca" title="ripple::LedgerEntrySet\l::rippleTransferRate" alt="" coords="483,351,632,398"/><area shape="rect" id="node129" href="../../d2/d41/a01493.html#ae9e9a874227002f3c2893ba1eae1b4d2" title="ripple::STAmount::setJson" alt="" coords="469,779,645,808"/><area shape="rect" id="node134" href="../../d2/d41/a01493.html#a05d8d9a9e3e2fa2f6f6ced24bed4d224" title="ripple::STAmount::setRate" alt="" coords="223,1099,399,1128"/><area shape="rect" id="node137" href="../../d7/db0/a03467.html#a90a67ab6517f594a989c6cb4f3ff67f9" title="rocksdb::crc32c::Value" alt="" coords="233,1505,388,1535"/><area shape="rect" id="node15" href="../../dd/d5f/a00825.html#ab0ca75e1c5fa67568377f9962687cf90" title="ripple::Ledger::getAccount\lRootIndex" alt="" coords="716,181,889,227"/><area shape="rect" id="node25" href="../../d2/d41/a01493.html#acacb1c47b480b33d3d7fd6cd0d63cbed" title="ripple::STAmount::getFullText" alt="" coords="460,695,655,724"/><area shape="rect" id="node44" href="../../d0/d08/a00832.html#acdef4a4acda92a8c7eb5905f6429abcd" title="ripple::LedgerEntrySet\l::rippleHolds" alt="" coords="483,111,632,158"/><area shape="rect" id="node9" href="../../d4/d0e/a01272.html#a4d666ed35a56048234a86e53d129ad66" title="ripple::RippleAddress\l::createAccountID" alt="" coords="1179,690,1325,737"/><area shape="rect" id="node11" href="../../d4/d0e/a01272.html#a2a8201537b6969c0e186c9b1d889c52b" title="ripple::RippleAddress\l::humanAccountID" alt="" coords="1179,551,1325,598"/><area shape="rect" id="node17" href="../../da/d61/a01350.html#a10b908daaabf22ae052bfc7fd221157c" title="ripple::Serializer\l::add16" alt="" coords="979,457,1093,503"/><area shape="rect" id="node19" href="../../da/d61/a01350.html#a509771bf1109949d4bee7b71aecc3757" title="ripple::Serializer\l::add160" alt="" coords="1195,621,1309,667"/><area shape="rect" id="node23" href="../../da/d61/a01350.html#afc7187fd3c9e185d29a0ecf5500d0cdf" title="ripple::Serializer\l::getSHA512Half" alt="" coords="976,307,1096,354"/><area shape="rect" id="node21" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="1379,759,1525,788"/><area shape="rect" id="node29" href="../../d2/d41/a01493.html#a0f7eda3369139764c0dd4c6dc806a9d7" title="ripple::STAmount::getHuman\lCurrency" alt="" coords="708,765,897,811"/><area shape="rect" id="node33" href="../../d7/d9a/a00152.html#a25e873c7d069c6c2d44655736f2b6c21" title="ripple::base_uint::\lisZero" alt="" coords="1189,999,1315,1046"/><area shape="rect" id="node35" href="../../d7/d9a/a00152.html#ad19bda12f3725584ac179f2e091e30d7" title="ripple::base_uint::\lToString" alt="" coords="1189,810,1315,857"/><area shape="rect" id="node37" href="../../d7/d9a/a00152.html#a348c4019943a8b3a05f39f1efcb589c9" title="ripple::base_uint::\lGetHex" alt="" coords="1389,875,1515,922"/><area shape="rect" id="node40" href="../../d0/d85/a01352.html#a28779f2e8d8ceb7882acfb5534d70754" title="ripple::SerializerIterator\l::getRaw" alt="" coords="1175,879,1329,926"/><area shape="rect" id="node48" href="../../dd/d5f/a00825.html#a5fd86d78b17725e35684e77543e538d2" title="ripple::Ledger::getRipple\lStateIndex" alt="" coords="721,111,884,158"/><area shape="rect" id="node53" href="../../d2/d41/a01493.html#ad9cebdb647da68f740009f9cda4dbe83" title="ripple::STAmount::negate" alt="" coords="717,59,888,88"/><area shape="rect" id="node57" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="496,1479,619,1508"/><area shape="rect" id="node67" href="../../dd/d5f/a00825.html#a0d50fe89b5f50adf3cea06fdb94a03b5" title="ripple::Ledger::getDirNode\lIndex" alt="" coords="716,471,889,518"/><area shape="rect" id="node71" href="../../db/d51/a01603.html#ac1d1c102b952d362e77c419487110ec2" title="ripple::STVector256\l::peekValue" alt="" coords="735,541,871,587"/><area shape="rect" id="node73" href="../../d7/d9a/a00152.html#a174768646f7fe8d81f4a38f5ccf9e6f5" title="ripple::base_uint::zero" alt="" coords="728,611,877,640"/><area shape="rect" id="node79" href="../../d2/d41/a01493.html#abd4fd82bc6fbef164e509b1436722aea" title="ripple::STAmount::STAmount" alt="" coords="461,1212,653,1241"/><area shape="rect" id="node81" href="../../d9/d9d/a03417.html#a6a718ea1b5de0444d1c41e60dc800640" title="ripple::BN_add_word64" alt="" coords="479,1372,636,1401"/><area shape="rect" id="node83" href="../../d9/d9d/a03417.html#a3f8ae51567332338f0bc009416f7fb6c" title="ripple::BN_mul_word64" alt="" coords="479,1425,636,1455"/><area shape="rect" id="node85" href="../../d9/d9d/a03417.html#a6695464b272d36f5cf768f472395d2f7" title="ripple::BN_div_word64" alt="" coords="481,1265,633,1295"/><area shape="rect" id="node87" href="../../d7/d2f/a00258.html#aa953d5910038dd334c8ff41d856bc4dd" title="ripple::CBigNum::getuint64" alt="" coords="468,1319,647,1348"/><area shape="rect" id="node96" href="../../dd/d5f/a00825.html#a320888896e14c9ac9a91da0b113cad1a" title="ripple::Ledger::getQuality\lIndex" alt="" coords="953,754,1119,801"/><area shape="rect" id="node100" href="../../dd/d5f/a00825.html#a1734170f6cce15cb6cf85c18d3c2b754" title="ripple::Ledger::isValidBook" alt="" coords="948,965,1124,995"/><area shape="rect" id="node116" href="../../d2/d41/a01493.html#a70bbf21b0b886f5b8739293022a3c3e3" title="ripple::STAmount::getSNValue" alt="" coords="457,1039,657,1068"/><area shape="rect" id="node118" href="../../d7/d57/a01348.html#a79472b7634153a0478119634c9e82d7e" title="ripple::SerializedType\l::getFName" alt="" coords="484,1091,631,1138"/><area shape="rect" id="node139" href="../../d7/db0/a03467.html#aba0a720f8204028aa9b0f78f969d5f97" title="rocksdb::crc32c::Extend" alt="" coords="476,1532,639,1561"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aec6ae911b1a26de68fa443c9b55b5727"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> ripple::NetworkOPsImp::getClosedLedger </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#ad05280c2a39d4757801d02b8f960300a">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00096">96</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39">ripple::LedgerMaster::getClosedLedger()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02168">getServerInfo()</a>.</p>
<div class="fragment"><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    {</div>
<div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39">getClosedLedger</a> ();</div>
<div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_aec6ae911b1a26de68fa443c9b55b5727_cgraph.png" border="0" usemap="#d7/ded/a01009_aec6ae911b1a26de68fa443c9b55b5727_cgraph" alt=""/></div>
<map name="d7/ded/a01009_aec6ae911b1a26de68fa443c9b55b5727_cgraph" id="d7/ded/a01009_aec6ae911b1a26de68fa443c9b55b5727_cgraph">
<area shape="rect" id="node3" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="215,5,353,51"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_aec6ae911b1a26de68fa443c9b55b5727_icgraph.png" border="0" usemap="#d7/ded/a01009_aec6ae911b1a26de68fa443c9b55b5727_icgraph" alt=""/></div>
<map name="d7/ded/a01009_aec6ae911b1a26de68fa443c9b55b5727_icgraph" id="d7/ded/a01009_aec6ae911b1a26de68fa443c9b55b5727_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a356932367043b41df75358206d0b5b36" title="ripple::NetworkOPsImp\l::getServerInfo" alt="" coords="215,5,372,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a26fd5a440d7052ca3b75769b41d2ba2c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> ripple::NetworkOPsImp::getClosedLedgerHash </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#ae64b1cdb74a13158f113f7bd207f47e1">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00119">119</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39">ripple::LedgerMaster::getClosedLedger()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>.</p>
<div class="fragment"><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    {</div>
<div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39">getClosedLedger</a> ()-&gt;getHash ();</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a26fd5a440d7052ca3b75769b41d2ba2c_cgraph.png" border="0" usemap="#d7/ded/a01009_a26fd5a440d7052ca3b75769b41d2ba2c_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a26fd5a440d7052ca3b75769b41d2ba2c_cgraph" id="d7/ded/a01009_a26fd5a440d7052ca3b75769b41d2ba2c_cgraph">
<area shape="rect" id="node3" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="215,5,353,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a67d834a967ca92edbfa11ba6aefbdf53"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> ripple::NetworkOPsImp::getCloseTimeNC </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#aeeadbf915d62f00319ce782da0990567">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00676">676</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00661">getNetworkTimePT()</a>, <a class="el" href="../../d2/dd9/a02314_source.html#l00034">ripple::iToSeconds()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00483">mCloseTimeOffset</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02168">getServerInfo()</a>.</p>
<div class="fragment"><div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;{</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7">iToSeconds</a> (<a class="code" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a">getNetworkTimePT</a> () + boost::posix_time::seconds (<a class="code" href="../../d7/ded/a01009.html#aa32b30d4b133c9bddc5ec08a1e747df6">mCloseTimeOffset</a>));</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a67d834a967ca92edbfa11ba6aefbdf53_cgraph.png" border="0" usemap="#d7/ded/a01009_a67d834a967ca92edbfa11ba6aefbdf53_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a67d834a967ca92edbfa11ba6aefbdf53_cgraph" id="d7/ded/a01009_a67d834a967ca92edbfa11ba6aefbdf53_cgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a" title="ripple::NetworkOPsImp\l::getNetworkTimePT" alt="" coords="215,66,372,113"/><area shape="rect" id="node11" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7" title="ripple::iToSeconds" alt="" coords="228,136,359,165"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="451,13,552,43"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678" title="ripple::Application\l::getSystemTimeOffset" alt="" coords="423,66,580,113"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="631,5,807,51"/><area shape="rect" id="node13" href="../../d9/d9d/a03417.html#a00572ed03b233ecd42f36357a395c163" title="ripple::ptEpoch" alt="" coords="447,136,556,165"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a67d834a967ca92edbfa11ba6aefbdf53_icgraph.png" border="0" usemap="#d7/ded/a01009_a67d834a967ca92edbfa11ba6aefbdf53_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a67d834a967ca92edbfa11ba6aefbdf53_icgraph" id="d7/ded/a01009_a67d834a967ca92edbfa11ba6aefbdf53_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a356932367043b41df75358206d0b5b36" title="ripple::NetworkOPsImp\l::getServerInfo" alt="" coords="215,5,372,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad2d4354eee753820855b898b80d51cea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::NetworkOPsImp::getConsensusInfo </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a55b390329b7958248e50ad56c192281a">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02157">2157</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00476">mConsensus</a>, and <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>.</p>
<div class="fragment"><div class="line"><a name="l02158"></a><span class="lineno"> 2158</span>&#160;{</div>
<div class="line"><a name="l02159"></a><span class="lineno"> 2159</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a>)</div>
<div class="line"><a name="l02160"></a><span class="lineno"> 2160</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a>-&gt;getJson (<span class="keyword">true</span>);</div>
<div class="line"><a name="l02161"></a><span class="lineno"> 2161</span>&#160;</div>
<div class="line"><a name="l02162"></a><span class="lineno"> 2162</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> info = <a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>;</div>
<div class="line"><a name="l02163"></a><span class="lineno"> 2163</span>&#160;    info[<span class="stringliteral">&quot;consensus&quot;</span>] = <span class="stringliteral">&quot;none&quot;</span>;</div>
<div class="line"><a name="l02164"></a><span class="lineno"> 2164</span>&#160;    <span class="keywordflow">return</span> info;</div>
<div class="line"><a name="l02165"></a><span class="lineno"> 2165</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a27090d36556b8665cbd908efa99e2a05"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> ripple::NetworkOPsImp::getConsensusLCL </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#ac5abe2b74a0978c2cc6e035710d1df34">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01512">1512</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l01483">haveConsensusObject()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00476">mConsensus</a>.</p>
<div class="fragment"><div class="line"><a name="l01513"></a><span class="lineno"> 1513</span>&#160;{</div>
<div class="line"><a name="l01514"></a><span class="lineno"> 1514</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d7/ded/a01009.html#ac929d58ce61af6b87922103bf3da3039">haveConsensusObject</a> ())</div>
<div class="line"><a name="l01515"></a><span class="lineno"> 1515</span>&#160;        <span class="keywordflow">return</span> uint256 ();</div>
<div class="line"><a name="l01516"></a><span class="lineno"> 1516</span>&#160;</div>
<div class="line"><a name="l01517"></a><span class="lineno"> 1517</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a>-&gt;getLCL ();</div>
<div class="line"><a name="l01518"></a><span class="lineno"> 1518</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a27090d36556b8665cbd908efa99e2a05_cgraph.png" border="0" usemap="#d7/ded/a01009_a27090d36556b8665cbd908efa99e2a05_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a27090d36556b8665cbd908efa99e2a05_cgraph" id="d7/ded/a01009_a27090d36556b8665cbd908efa99e2a05_cgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#ac929d58ce61af6b87922103bf3da3039" title="ripple::NetworkOPsImp\l::haveConsensusObject" alt="" coords="213,1272,376,1319"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a6a3776d980baee062b961c0195bc43be" title="ripple::NetworkOPsImp\l::tryStartConsensus" alt="" coords="425,1154,583,1200"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#ad72f54405ed9b8219022e8c2b7796c98" title="ripple::NetworkOPsImp\l::checkLastClosedLedger" alt="" coords="632,598,803,644"/><area shape="rect" id="node15" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="1593,977,1695,1006"/><area shape="rect" id="node41" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40" title="ripple::NetworkOPsImp\l::setMode" alt="" coords="875,1218,1032,1264"/><area shape="rect" id="node91" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee" title="ripple::Application\l::overlay" alt="" coords="1131,667,1256,714"/><area shape="rect" id="node95" href="../../de/de6/a01063.html#a5b8ee783b77679fb2fad2543ab521a90" title="ripple::Overlay::getActive\lPeers" alt="" coords="1332,200,1500,247"/><area shape="rect" id="node101" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8" title="ripple::LedgerMaster\l::getCurrentLedger" alt="" coords="884,1350,1023,1396"/><area shape="rect" id="node103" href="../../d7/ded/a01009.html#a0a714120f440d54c69a4a39e803f9d1a" title="ripple::NetworkOPsImp\l::beginConsensus" alt="" coords="639,1239,796,1286"/><area shape="rect" id="node115" href="../../d7/ded/a01009.html#abdde224cfc7141d0eace3b9d2158b741" title="ripple::NetworkOPsImp\l::getPreviousProposers" alt="" coords="425,1511,583,1558"/><area shape="rect" id="node117" href="../../d1/de6/a00837.html#aa7961e4d96dba24b272e032d00b2e512" title="ripple::LedgerMaster\l::getMinValidations" alt="" coords="435,1580,573,1627"/><area shape="rect" id="node39" href="../../d7/d9a/a00152.html#a25e873c7d069c6c2d44655736f2b6c21" title="ripple::base_uint::\lisZero" alt="" coords="1131,882,1256,928"/><area shape="rect" id="node74" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef" title="ripple::NetworkOPsImp\l::getNetworkTimeNC" alt="" coords="1115,736,1272,783"/><area shape="rect" id="node9" href="../../d7/ded/a01009.html#a08d1779d5bb2a06bdbaeabdac2ba3ed8" title="ripple::NetworkOPsImp\l::clearNeedNetworkLedger" alt="" coords="1105,598,1281,644"/><area shape="rect" id="node11" href="../../d8/d86/a00703.html#aa8378c07e914d43964d816ee1ac8d1dd" title="ripple::InboundLedgers\l::dropLedger" alt="" coords="877,468,1029,515"/><area shape="rect" id="node13" href="../../d8/d86/a00703.html#a6f59efd378b35314541b4d5c76cd905a" title="ripple::InboundLedgers\l::findCreate" alt="" coords="877,658,1029,704"/><area shape="rect" id="node19" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="884,948,1023,995"/><area shape="rect" id="node21" href="../../d3/dac/a01777.html#abc7c7eb0126fa15e409f282c515dae85" title="ripple::Validations\l::getCurrentValidations" alt="" coords="876,122,1031,168"/><area shape="rect" id="node23" href="../../da/d74/a00099.html#a6d349a4ada03689eae062c0399762dad" title="ripple::Application\l::getInboundLedgers" alt="" coords="884,191,1023,238"/><area shape="rect" id="node25" href="../../d1/de6/a00837.html#a71a21a539d63be51cada4d3c4e4c4030" title="ripple::LedgerMaster\l::getLedgerByHash" alt="" coords="884,1018,1023,1064"/><area shape="rect" id="node27" href="../../da/d74/a00099.html#ac95c5f6db4db8575632193495189a702" title="ripple::Application\l::getLocalCredentials" alt="" coords="881,260,1025,307"/><area shape="rect" id="node29" href="../../d4/d0e/a01272.html#abead041d13890ad9c8938c28f27f8ccd" title="ripple::RippleAddress\l::getNodeID" alt="" coords="880,52,1027,99"/><area shape="rect" id="node33" href="../../dc/dfa/a00894.html#af67a14f58bffac4bd931722ecbd316d9" title="ripple::LocalCredentials\l::getNodePublic" alt="" coords="875,330,1032,376"/><area shape="rect" id="node35" href="../../da/d74/a00099.html#a4f3da0257883c463e0a561d7ba793dd4" title="ripple::Application\l::getValidations" alt="" coords="891,399,1016,446"/><area shape="rect" id="node37" href="../../d7/d9a/a00152.html#a3fa11a064a87fe4e970f00d661287dd2" title="ripple::base_uint::\lisNonZero" alt="" coords="891,828,1016,875"/><area shape="rect" id="node68" href="../../d7/ded/a01009.html#a03e21ff22be1d31dbe08f81deb590ece" title="ripple::NetworkOPsImp\l::switchLastClosedLedger" alt="" coords="867,538,1040,584"/><area shape="rect" id="node17" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="1788,968,1964,1015"/><area shape="rect" id="node31" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="1137,61,1249,90"/><area shape="rect" id="node44" href="../../d4/d87/a03436.html#a437c68f3299fa632d4a1694059fd6ddb" title="rocksdb::Log" alt="" coords="1145,1288,1241,1317"/><area shape="rect" id="node46" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f" title="ripple::NetworkOPsImp\l::strOperatingMode" alt="" coords="1337,1391,1495,1438"/><area shape="rect" id="node48" href="../../d7/ded/a01009.html#a768673e1643af3147b10b4d99aca8caf" title="ripple::NetworkOPsImp\l::pubServer" alt="" coords="1115,1218,1272,1264"/><area shape="rect" id="node52" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb" title="ripple::Application\l::getFeeTrack" alt="" coords="1353,1079,1479,1126"/><area shape="rect" id="node54" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0" title="ripple::LoadFeeTrack\l::getLoadBase" alt="" coords="1344,1148,1488,1195"/><area shape="rect" id="node56" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac" title="ripple::LoadFeeTrack\l::getLoadFactor" alt="" coords="1344,1218,1488,1264"/><area shape="rect" id="node58" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="1339,1338,1493,1368"/><area shape="rect" id="node60" href="../../d7/def/a00521.html#a2ef4a2ce13a341171f01f414f4fdd765" title="Json::FastWriter::writeValue" alt="" coords="1551,1338,1737,1368"/><area shape="rect" id="node62" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="1807,1285,1945,1314"/><area shape="rect" id="node64" href="../../d6/d27/a01781.html#a5b7da48b163bcec63b1424f1608b7da6" title="Json::Value::asCString" alt="" coords="1797,1338,1955,1368"/><area shape="rect" id="node66" href="../../d6/d27/a01781.html#a33434ed1c0217a34d04c95fa5342fd37" title="Json::Value::asDouble" alt="" coords="1799,1392,1953,1421"/><area shape="rect" id="node71" href="../../d1/de6/a00837.html#af249e0b1768882343f37df9720aeb25d" title="ripple::LedgerMaster\l::switchLedgers" alt="" coords="1124,478,1263,524"/><area shape="rect" id="node85" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="1131,355,1256,402"/><area shape="rect" id="node89" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="1119,425,1268,454"/><area shape="rect" id="node93" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c" title="ripple::Overlay::foreach" alt="" coords="1115,256,1272,285"/><area shape="rect" id="node76" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7" title="ripple::iToSeconds" alt="" coords="1351,494,1481,524"/><area shape="rect" id="node80" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a" title="ripple::NetworkOPsImp\l::getNetworkTimePT" alt="" coords="1337,736,1495,783"/><area shape="rect" id="node78" href="../../d9/d9d/a03417.html#a00572ed03b233ecd42f36357a395c163" title="ripple::ptEpoch" alt="" coords="1589,494,1699,524"/><area shape="rect" id="node83" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678" title="ripple::Application\l::getSystemTimeOffset" alt="" coords="1565,736,1723,783"/><area shape="rect" id="node87" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1341,364,1491,393"/><area shape="rect" id="node108" href="../../d9/d9d/a03417.html#a3a7635ac808de39b7ba85e823182f93c" title="ripple::make_LedgerConsensus" alt="" coords="851,1288,1056,1317"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa1d38e7abeef58b5139ebf297c381d55"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> ripple::NetworkOPsImp::getCurrentLedger </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#aa4a081f49bdf9ea42446691c34ceed79">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00108">108</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8">ripple::LedgerMaster::getCurrentLedger()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>.</p>
<div class="fragment"><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;    {</div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8">getCurrentLedger</a> ();</div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_aa1d38e7abeef58b5139ebf297c381d55_cgraph.png" border="0" usemap="#d7/ded/a01009_aa1d38e7abeef58b5139ebf297c381d55_cgraph" alt=""/></div>
<map name="d7/ded/a01009_aa1d38e7abeef58b5139ebf297c381d55_cgraph" id="d7/ded/a01009_aa1d38e7abeef58b5139ebf297c381d55_cgraph">
<area shape="rect" id="node3" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8" title="ripple::LedgerMaster\l::getCurrentLedger" alt="" coords="215,5,353,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7d9fd57ef6b6e176bb232ed6ca693b3c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> ripple::NetworkOPsImp::getCurrentLedgerID </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a09715bbe77ad8adb155444580383dc43">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00718">718</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8">ripple::LedgerMaster::getCurrentLedger()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>.</p>
<div class="fragment"><div class="line"><a name="l00719"></a><span class="lineno">  719</span>&#160;{</div>
<div class="line"><a name="l00720"></a><span class="lineno">  720</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8">getCurrentLedger</a> ()-&gt;getLedgerSeq ();</div>
<div class="line"><a name="l00721"></a><span class="lineno">  721</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a7d9fd57ef6b6e176bb232ed6ca693b3c_cgraph.png" border="0" usemap="#d7/ded/a01009_a7d9fd57ef6b6e176bb232ed6ca693b3c_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a7d9fd57ef6b6e176bb232ed6ca693b3c_cgraph" id="d7/ded/a01009_a7d9fd57ef6b6e176bb232ed6ca693b3c_cgraph">
<area shape="rect" id="node3" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8" title="ripple::LedgerMaster\l::getCurrentLedger" alt="" coords="215,5,353,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9da1b9b7d383885b75c44d52db58fded"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d51/a01603.html">STVector256</a> ripple::NetworkOPsImp::getDirNodeInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a>&#160;</td>
          <td class="paramname"><em>lrLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;&#160;</td>
          <td class="paramname"><em>uRootIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#aaa5d1cd013383c889537491c3cfd9aad">std::uint64_t</a> &amp;&#160;</td>
          <td class="paramname"><em>uNodePrevious</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#aaa5d1cd013383c889537491c3cfd9aad">std::uint64_t</a> &amp;&#160;</td>
          <td class="paramname"><em>uNodeNext</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a7f7a9b129afce5d094ef4ab4bab5c55d">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01080">1080</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../dd/d07/a02132_source.html#l00244">beast::Journal::debug</a>, <a class="el" href="../../dd/d07/a02132_source.html#l00245">beast::Journal::info</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../d9/d4d/a02840_source.html#l00045">ripple::strHex()</a>, <a class="el" href="../../dd/dfa/a02824_source.html#l00437">ripple::base_uint&lt; BITS &gt;::ToString()</a>, and <a class="el" href="../../dd/d07/a02132_source.html#l00243">beast::Journal::trace</a>.</p>
<div class="fragment"><div class="line"><a name="l01085"></a><span class="lineno"> 1085</span>&#160;{</div>
<div class="line"><a name="l01086"></a><span class="lineno"> 1086</span>&#160;    STVector256         svIndexes;</div>
<div class="line"><a name="l01087"></a><span class="lineno"> 1087</span>&#160;    <a class="code" href="../../dc/d54/a01344.html#abf05184c020b05e80bdf996c9bee96eb">SLE::pointer</a>        sleNode     = lrLedger-&gt;getDirNode (uNodeIndex);</div>
<div class="line"><a name="l01088"></a><span class="lineno"> 1088</span>&#160;</div>
<div class="line"><a name="l01089"></a><span class="lineno"> 1089</span>&#160;    <span class="keywordflow">if</span> (sleNode)</div>
<div class="line"><a name="l01090"></a><span class="lineno"> 1090</span>&#160;    {</div>
<div class="line"><a name="l01091"></a><span class="lineno"> 1091</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#aed264b891ebfe8df4c5b6b2231786491">debug</a> &lt;&lt; <span class="stringliteral">&quot;getDirNodeInfo: node index: &quot;</span> &lt;&lt; uNodeIndex.ToString ();</div>
<div class="line"><a name="l01092"></a><span class="lineno"> 1092</span>&#160;</div>
<div class="line"><a name="l01093"></a><span class="lineno"> 1093</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;getDirNodeInfo: first: &quot;</span> &lt;&lt; <a class="code" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073">strHex</a> (sleNode-&gt;getFieldU64 (sfIndexPrevious));</div>
<div class="line"><a name="l01094"></a><span class="lineno"> 1094</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;getDirNodeInfo:  last: &quot;</span> &lt;&lt; <a class="code" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073">strHex</a> (sleNode-&gt;getFieldU64 (sfIndexNext));</div>
<div class="line"><a name="l01095"></a><span class="lineno"> 1095</span>&#160;</div>
<div class="line"><a name="l01096"></a><span class="lineno"> 1096</span>&#160;        uNodePrevious   = sleNode-&gt;getFieldU64 (sfIndexPrevious);</div>
<div class="line"><a name="l01097"></a><span class="lineno"> 1097</span>&#160;        uNodeNext       = sleNode-&gt;getFieldU64 (sfIndexNext);</div>
<div class="line"><a name="l01098"></a><span class="lineno"> 1098</span>&#160;        svIndexes       = sleNode-&gt;getFieldV256 (sfIndexes);</div>
<div class="line"><a name="l01099"></a><span class="lineno"> 1099</span>&#160;</div>
<div class="line"><a name="l01100"></a><span class="lineno"> 1100</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;getDirNodeInfo: first: &quot;</span> &lt;&lt; <a class="code" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073">strHex</a> (uNodePrevious);</div>
<div class="line"><a name="l01101"></a><span class="lineno"> 1101</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;getDirNodeInfo:  last: &quot;</span> &lt;&lt; <a class="code" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073">strHex</a> (uNodeNext);</div>
<div class="line"><a name="l01102"></a><span class="lineno"> 1102</span>&#160;    }</div>
<div class="line"><a name="l01103"></a><span class="lineno"> 1103</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01104"></a><span class="lineno"> 1104</span>&#160;    {</div>
<div class="line"><a name="l01105"></a><span class="lineno"> 1105</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;getDirNodeInfo: node index: NOT FOUND: &quot;</span> &lt;&lt; uNodeIndex.ToString ();</div>
<div class="line"><a name="l01106"></a><span class="lineno"> 1106</span>&#160;</div>
<div class="line"><a name="l01107"></a><span class="lineno"> 1107</span>&#160;        uNodePrevious   = 0;</div>
<div class="line"><a name="l01108"></a><span class="lineno"> 1108</span>&#160;        uNodeNext       = 0;</div>
<div class="line"><a name="l01109"></a><span class="lineno"> 1109</span>&#160;    }</div>
<div class="line"><a name="l01110"></a><span class="lineno"> 1110</span>&#160;</div>
<div class="line"><a name="l01111"></a><span class="lineno"> 1111</span>&#160;    <span class="keywordflow">return</span> svIndexes;</div>
<div class="line"><a name="l01112"></a><span class="lineno"> 1112</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a9da1b9b7d383885b75c44d52db58fded_cgraph.png" border="0" usemap="#d7/ded/a01009_a9da1b9b7d383885b75c44d52db58fded_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a9da1b9b7d383885b75c44d52db58fded_cgraph" id="d7/ded/a01009_a9da1b9b7d383885b75c44d52db58fded_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073" title="ripple::strHex" alt="" coords="585,5,684,35"/><area shape="rect" id="node7" href="../../d7/d9a/a00152.html#ad19bda12f3725584ac179f2e091e30d7" title="ripple::base_uint::\lToString" alt="" coords="213,58,339,105"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#aca6318bcfeb25f74477566a7ddc06a63" title="ripple::charHex" alt="" coords="779,5,888,35"/><area shape="rect" id="node9" href="../../d7/d9a/a00152.html#a348c4019943a8b3a05f39f1efcb589c9" title="ripple::base_uint::\lGetHex" alt="" coords="387,58,512,105"/><area shape="rect" id="node11" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="572,58,697,105"/><area shape="rect" id="node15" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="560,128,709,157"/><area shape="rect" id="node13" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="759,67,908,96"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae854f872a246fb8e8c7949ae552b38f1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::getFetchPack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;&#160;</td>
          <td class="paramname"><em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d9d/a03417.html#a1b87ba4732cf1725393e8dd60bf73b0c">Blob</a> &amp;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a55f7add610b12e97a844985c73497f99">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l03270">3270</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../de/d76/a02417_source.html#l00256">ripple::TaggedCache&lt; Key, T, Hash, KeyEqual, Mutex &gt;::del()</a>, <a class="el" href="../../dc/ddd/a03196_source.html#l00342">ripple::Serializer::getSHA512Half()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00505">mFetchPack</a>, <a class="el" href="../../de/d76/a02417_source.html#l00407">ripple::TaggedCache&lt; Key, T, Hash, KeyEqual, Mutex &gt;::retrieve()</a>, and <a class="el" href="../../dd/d07/a02132_source.html#l00246">beast::Journal::warning</a>.</p>
<div class="fragment"><div class="line"><a name="l03271"></a><span class="lineno"> 3271</span>&#160;{</div>
<div class="line"><a name="l03272"></a><span class="lineno"> 3272</span>&#160;    <span class="keywordtype">bool</span> ret = <a class="code" href="../../d7/ded/a01009.html#a504786cda9d676e308f54fe40f7d6d83">mFetchPack</a>.<a class="code" href="../../dd/d55/a01638.html#a2e61f518bfa4db1818b19a04885e3f5f">retrieve</a> (<a class="code" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>, data);</div>
<div class="line"><a name="l03273"></a><span class="lineno"> 3273</span>&#160;</div>
<div class="line"><a name="l03274"></a><span class="lineno"> 3274</span>&#160;    <span class="keywordflow">if</span> (!ret)</div>
<div class="line"><a name="l03275"></a><span class="lineno"> 3275</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03276"></a><span class="lineno"> 3276</span>&#160;</div>
<div class="line"><a name="l03277"></a><span class="lineno"> 3277</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a504786cda9d676e308f54fe40f7d6d83">mFetchPack</a>.<a class="code" href="../../dd/d55/a01638.html#ad705bf378cd95b9a8a394c0dfb698e77">del</a> (<a class="code" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03278"></a><span class="lineno"> 3278</span>&#160;</div>
<div class="line"><a name="l03279"></a><span class="lineno"> 3279</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a> != <a class="code" href="../../da/d61/a01350.html#afc7187fd3c9e185d29a0ecf5500d0cdf">Serializer::getSHA512Half</a> (data))</div>
<div class="line"><a name="l03280"></a><span class="lineno"> 3280</span>&#160;    {</div>
<div class="line"><a name="l03281"></a><span class="lineno"> 3281</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a876412c0a487a7a8840b1556cc04cb57">warning</a> &lt;&lt; <span class="stringliteral">&quot;Bad entry in fetch pack&quot;</span>;</div>
<div class="line"><a name="l03282"></a><span class="lineno"> 3282</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03283"></a><span class="lineno"> 3283</span>&#160;    }</div>
<div class="line"><a name="l03284"></a><span class="lineno"> 3284</span>&#160;</div>
<div class="line"><a name="l03285"></a><span class="lineno"> 3285</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03286"></a><span class="lineno"> 3286</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_ae854f872a246fb8e8c7949ae552b38f1_cgraph.png" border="0" usemap="#d7/ded/a01009_ae854f872a246fb8e8c7949ae552b38f1_cgraph" alt=""/></div>
<map name="d7/ded/a01009_ae854f872a246fb8e8c7949ae552b38f1_cgraph" id="d7/ded/a01009_ae854f872a246fb8e8c7949ae552b38f1_cgraph">
<area shape="rect" id="node3" href="../../dd/d55/a01638.html#ad705bf378cd95b9a8a394c0dfb698e77" title="ripple::TaggedCache::del" alt="" coords="215,5,380,35"/><area shape="rect" id="node5" href="../../da/d61/a01350.html#afc7187fd3c9e185d29a0ecf5500d0cdf" title="ripple::Serializer\l::getSHA512Half" alt="" coords="237,58,357,105"/><area shape="rect" id="node9" href="../../dd/d55/a01638.html#a2e61f518bfa4db1818b19a04885e3f5f" title="ripple::TaggedCache\l::retrieve" alt="" coords="227,127,368,174"/><area shape="rect" id="node7" href="../../da/d61/a01350.html#ac7bf5cce451c952933b2750d902d848c" title="ripple::Serializer\l::size" alt="" coords="429,58,544,105"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a784d6624cfe72b3bba31a6d50553b44a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ripple::NetworkOPsImp::getFetchSize </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a4903a8e353fe7a2fda24bd314ff3af9a">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l03296">3296</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../de/d76/a02417_source.html#l00133">ripple::TaggedCache&lt; Key, T, Hash, KeyEqual, Mutex &gt;::getCacheSize()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00505">mFetchPack</a>.</p>
<div class="fragment"><div class="line"><a name="l03297"></a><span class="lineno"> 3297</span>&#160;{</div>
<div class="line"><a name="l03298"></a><span class="lineno"> 3298</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a504786cda9d676e308f54fe40f7d6d83">mFetchPack</a>.<a class="code" href="../../dd/d55/a01638.html#a9a369129f78f547618f34285496d93a5">getCacheSize</a> ();</div>
<div class="line"><a name="l03299"></a><span class="lineno"> 3299</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a784d6624cfe72b3bba31a6d50553b44a_cgraph.png" border="0" usemap="#d7/ded/a01009_a784d6624cfe72b3bba31a6d50553b44a_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a784d6624cfe72b3bba31a6d50553b44a_cgraph" id="d7/ded/a01009_a784d6624cfe72b3bba31a6d50553b44a_cgraph">
<area shape="rect" id="node3" href="../../dd/d55/a01638.html#a9a369129f78f547618f34285496d93a5" title="ripple::TaggedCache\l::getCacheSize" alt="" coords="215,5,356,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aba38888860b0ec69b57ff8051c1cd466"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::getFullValidatedRange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> &amp;&#160;</td>
          <td class="paramname"><em>minVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> &amp;&#160;</td>
          <td class="paramname"><em>maxVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#acb432c312dcf63d27724754b3b66b35a">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00138">138</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d1/de6/a00837.html#a6931bd2f28dffb0ff14ebfca9fd4d7c9">ripple::LedgerMaster::getFullValidatedRange()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>.</p>
<div class="fragment"><div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;    {</div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#a6931bd2f28dffb0ff14ebfca9fd4d7c9">getFullValidatedRange</a> (minVal, maxVal);</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_aba38888860b0ec69b57ff8051c1cd466_cgraph.png" border="0" usemap="#d7/ded/a01009_aba38888860b0ec69b57ff8051c1cd466_cgraph" alt=""/></div>
<map name="d7/ded/a01009_aba38888860b0ec69b57ff8051c1cd466_cgraph" id="d7/ded/a01009_aba38888860b0ec69b57ff8051c1cd466_cgraph">
<area shape="rect" id="node3" href="../../d1/de6/a00837.html#a6931bd2f28dffb0ff14ebfca9fd4d7c9" title="ripple::LedgerMaster\l::getFullValidatedRange" alt="" coords="217,5,377,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9e46dc676f9eb2f7d2c95e3eacd3033e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d54/a01344.html#abf05184c020b05e80bdf996c9bee96eb">SLE::pointer</a> ripple::NetworkOPsImp::getGenerator </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a>&#160;</td>
          <td class="paramname"><em>lrLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../df/d2e/a01737.html">uint160</a> &amp;&#160;</td>
          <td class="paramname"><em>uGeneratorID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a25f573a5680d2b1d83865b11b28cbe12">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01067">1067</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l01068"></a><span class="lineno"> 1068</span>&#160;{</div>
<div class="line"><a name="l01069"></a><span class="lineno"> 1069</span>&#160;    <span class="keywordflow">if</span> (!lrLedger)</div>
<div class="line"><a name="l01070"></a><span class="lineno"> 1070</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../dc/d54/a01344.html#abf05184c020b05e80bdf996c9bee96eb">SLE::pointer</a> ();</div>
<div class="line"><a name="l01071"></a><span class="lineno"> 1071</span>&#160;</div>
<div class="line"><a name="l01072"></a><span class="lineno"> 1072</span>&#160;    <span class="keywordflow">return</span> lrLedger-&gt;getGenerator (uGeneratorID);</div>
<div class="line"><a name="l01073"></a><span class="lineno"> 1073</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aebf1c7b3285e3eb5032233bf110d8ba0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> ripple::NetworkOPsImp::getLastCloseTime </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#adbdb3df658431f3bcdd9978cdaf17c66">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00316">316</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00488">mLastCloseTime</a>.</p>
<div class="fragment"><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;    {</div>
<div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a1fd523c6f3b57b16302105c070f7d029">mLastCloseTime</a>;</div>
<div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a287221a8c7fc917776a4e884038f1794"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d6c/a01349.html#a7e0a3cc2f01beeb07e2852ad4eb7b9dc">SerializedValidation::ref</a> ripple::NetworkOPsImp::getLastValidation </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a85ec5ce8783d70985fab4c2963c1425a">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00143">143</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00490">mLastValidation</a>.</p>
<div class="fragment"><div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;    {</div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#add3af110179d9191d3792b6b5088a8e5">mLastValidation</a>;</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aca2c756f6ff15282af04d5305d56148d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &gt; ripple::NetworkOPsImp::getLedgerAffectedAccounts </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td>
          <td class="paramname"><em>ledgerSeq</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#acd92df2d8fdb59f3e44b17dcf03a1dff">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02132">2132</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../dd/d7a/a03306_source.html#l00025">ripple::RPC::accounts()</a>, <a class="el" href="../../db/d44/a02564_source.html#l02479">db</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d2/d4c/a02897_source.html#l00032">ripple::DatabaseCon::getDB()</a>, <a class="el" href="../../d7/d07/a02892_source.html#l00116">ripple::Database::getStrBinary()</a>, <a class="el" href="../../da/d74/a00099.html#aed3322f9602bc688e68b14e8baff5440">ripple::Application::getTxnDB()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00356">ripple::RippleAddress::setAccountID()</a>, and <a class="el" href="../../dc/d38/a02894_source.html#l00027">SQL_FOREACH</a>.</p>
<div class="fragment"><div class="line"><a name="l02133"></a><span class="lineno"> 2133</span>&#160;{</div>
<div class="line"><a name="l02134"></a><span class="lineno"> 2134</span>&#160;    std::vector&lt;RippleAddress&gt; <a class="code" href="../../d2/d9b/a03429.html#a6a87f8268bd5d6456ca1e7a1867d8dbe">accounts</a>;</div>
<div class="line"><a name="l02135"></a><span class="lineno"> 2135</span>&#160;    std::string sql = str (boost::format</div>
<div class="line"><a name="l02136"></a><span class="lineno"> 2136</span>&#160;                           (<span class="stringliteral">&quot;SELECT DISTINCT Account FROM AccountTransactions INDEXED BY AcctLgrIndex WHERE LedgerSeq = &#39;%u&#39;;&quot;</span>)</div>
<div class="line"><a name="l02137"></a><span class="lineno"> 2137</span>&#160;                           % ledgerSeq);</div>
<div class="line"><a name="l02138"></a><span class="lineno"> 2138</span>&#160;    RippleAddress acct;</div>
<div class="line"><a name="l02139"></a><span class="lineno"> 2139</span>&#160;    {</div>
<div class="line"><a name="l02140"></a><span class="lineno"> 2140</span>&#160;        Database* <a class="code" href="../../db/d44/a02564.html#a22e641d23ca36f47aa7b2b551bec1dc6">db</a> = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#aed3322f9602bc688e68b14e8baff5440">getTxnDB</a> ()-&gt;<a class="code" href="../../d6/db8/a00376.html#a9368476a90456c8f1256a53c239cc9a5">getDB</a> ();</div>
<div class="line"><a name="l02141"></a><span class="lineno"> 2141</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a5eca9d1139ddca4b45a44798b9d55329">DeprecatedScopedLock</a> sl (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getTxnDB ()-&gt;getDBLock ());</div>
<div class="line"><a name="l02142"></a><span class="lineno"> 2142</span>&#160;        <a class="code" href="../../dc/d38/a02894.html#a51bb3e37b14d7bad19ab389e3a26a2ac">SQL_FOREACH</a> (db, sql)</div>
<div class="line"><a name="l02143"></a><span class="lineno"> 2143</span>&#160;        {</div>
<div class="line"><a name="l02144"></a><span class="lineno"> 2144</span>&#160;            <span class="keywordflow">if</span> (acct.setAccountID (db-&gt;getStrBinary (<span class="stringliteral">&quot;Account&quot;</span>)))</div>
<div class="line"><a name="l02145"></a><span class="lineno"> 2145</span>&#160;                accounts.push_back (acct);</div>
<div class="line"><a name="l02146"></a><span class="lineno"> 2146</span>&#160;        }</div>
<div class="line"><a name="l02147"></a><span class="lineno"> 2147</span>&#160;    }</div>
<div class="line"><a name="l02148"></a><span class="lineno"> 2148</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d2/d9b/a03429.html#a6a87f8268bd5d6456ca1e7a1867d8dbe">accounts</a>;</div>
<div class="line"><a name="l02149"></a><span class="lineno"> 2149</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_aca2c756f6ff15282af04d5305d56148d_cgraph.png" border="0" usemap="#d7/ded/a01009_aca2c756f6ff15282af04d5305d56148d_cgraph" alt=""/></div>
<map name="d7/ded/a01009_aca2c756f6ff15282af04d5305d56148d_cgraph" id="d7/ded/a01009_aca2c756f6ff15282af04d5305d56148d_cgraph">
<area shape="rect" id="node3" href="../../d2/d9b/a03429.html#a6a87f8268bd5d6456ca1e7a1867d8dbe" title="ripple::RPC::accounts" alt="" coords="251,267,400,296"/><area shape="rect" id="node33" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="275,320,376,349"/><area shape="rect" id="node37" href="../../d6/db8/a00376.html#a9368476a90456c8f1256a53c239cc9a5" title="ripple::DatabaseCon\l::getDB" alt="" coords="255,373,396,419"/><area shape="rect" id="node39" href="../../d5/db5/a00374.html#a5578df456fdd3efd1c2997405b82a873" title="ripple::Database::getStr\lBinary" alt="" coords="245,442,405,489"/><area shape="rect" id="node47" href="../../da/d74/a00099.html#aed3322f9602bc688e68b14e8baff5440" title="ripple::Application\l::getTxnDB" alt="" coords="263,511,388,558"/><area shape="rect" id="node49" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="252,163,399,210"/><area shape="rect" id="node5" href="../../d4/d0e/a01272.html#a6fccb99136b7c4e3f0d0d1ec404392a0" title="ripple::RippleAddress\l::setAccountPublic" alt="" coords="471,189,617,235"/><area shape="rect" id="node27" href="../../dd/dac/a01008.html#acb121b6ee80362d6525d8760a058cdb1" title="ripple::NetworkOPs\l::getAccountState" alt="" coords="476,258,612,305"/><area shape="rect" id="node29" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. " alt="" coords="473,328,615,357"/><area shape="rect" id="node7" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="693,159,835,206"/><area shape="rect" id="node9" href="../../d9/d7d/a00150.html#a85c405829839e85edb721241fd8d4203" title="ripple::Base58::decodeWith\lCheck" alt="" coords="895,159,1076,206"/><area shape="rect" id="node11" href="../../d9/d7d/a00150.html#a0c2d621faceac43aeb30f4797f03b12c" title="ripple::Base58::decode" alt="" coords="1125,88,1280,117"/><area shape="rect" id="node21" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="1129,168,1276,197"/><area shape="rect" id="node25" href="../../d9/d9d/a03417.html#a4be54b895ff42f63b835266848abf9af" title="ripple::SHA256Hash" alt="" coords="1132,221,1273,251"/><area shape="rect" id="node13" href="../../d9/dec/a00090.html#ac2a3456ebd59fd80270f618c64544ac9" title="ripple::Base58::Alphabet\l::chars" alt="" coords="1329,5,1492,51"/><area shape="rect" id="node15" href="../../d7/d2f/a00258.html#a84e73d21fd76767976513f5bf1276215" title="ripple::CBigNum::getvch" alt="" coords="1328,75,1493,104"/><area shape="rect" id="node17" href="../../d7/d2f/a00258.html#a01d5357e9691e5d7743172afbc3cc85c" title="ripple::CBigNum::setuint" alt="" coords="1328,128,1493,157"/><area shape="rect" id="node19" href="../../d7/d2f/a00258.html#a80a1fa42fd2d87bedd0b3bf5180ed4ba" title="ripple::CBigNum::setulong" alt="" coords="1543,128,1716,157"/><area shape="rect" id="node23" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1336,181,1485,211"/><area shape="rect" id="node31" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="703,328,825,357"/><area shape="rect" id="node35" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="456,381,632,427"/><area shape="rect" id="node41" href="../../d5/db5/a00374.html#a654eaaef86fa7de1fa9a9d6c9f8d38a4" title="ripple::Database::getBinary" alt="" coords="455,451,633,480"/><area shape="rect" id="node45" href="../../d9/d9d/a03417.html#add331e76be5fd99f2c37789af61224b2" title="ripple::strCopy" alt="" coords="491,504,597,533"/><area shape="rect" id="node43" href="../../d5/db5/a00374.html#a5b7ed864f9f854446470c987b37ebecc" title="ripple::Database::getCol\lNumber" alt="" coords="683,442,845,489"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8b1dec73068ce2b92e883cd76c4edffc"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> ripple::NetworkOPsImp::getLedgerByHash </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;&#160;</td>
          <td class="paramname"><em>hash</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a2797139168b2d6c069aa1f0c51bc327a">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00112">112</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d1/de6/a00837.html#a71a21a539d63be51cada4d3c4e4c4030">ripple::LedgerMaster::getLedgerByHash()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l03189">makeFetchPack()</a>.</p>
<div class="fragment"><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    {</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#a71a21a539d63be51cada4d3c4e4c4030">getLedgerByHash</a> (<a class="code" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>);</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a8b1dec73068ce2b92e883cd76c4edffc_cgraph.png" border="0" usemap="#d7/ded/a01009_a8b1dec73068ce2b92e883cd76c4edffc_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a8b1dec73068ce2b92e883cd76c4edffc_cgraph" id="d7/ded/a01009_a8b1dec73068ce2b92e883cd76c4edffc_cgraph">
<area shape="rect" id="node3" href="../../d1/de6/a00837.html#a71a21a539d63be51cada4d3c4e4c4030" title="ripple::LedgerMaster\l::getLedgerByHash" alt="" coords="215,5,353,51"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a8b1dec73068ce2b92e883cd76c4edffc_icgraph.png" border="0" usemap="#d7/ded/a01009_a8b1dec73068ce2b92e883cd76c4edffc_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a8b1dec73068ce2b92e883cd76c4edffc_icgraph" id="d7/ded/a01009_a8b1dec73068ce2b92e883cd76c4edffc_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#aba8325861d32ab9cab76bac7c211cba6" title="ripple::NetworkOPsImp\l::makeFetchPack" alt="" coords="215,5,372,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9f1f7a943b74ee0bda617e0ccca8ef0a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> ripple::NetworkOPsImp::getLedgerBySeq </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td>
          <td class="paramname"><em>seq</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a7615c0320aa25da4c77d806afe9c5c0e">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00713">713</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d1/de6/a00837.html#a5a199229ff499451b63f07ae13f5690a">ripple::LedgerMaster::getLedgerBySeq()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l01811">getAccountTxs()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01914">getTxsAccount()</a>.</p>
<div class="fragment"><div class="line"><a name="l00714"></a><span class="lineno">  714</span>&#160;{</div>
<div class="line"><a name="l00715"></a><span class="lineno">  715</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#a5a199229ff499451b63f07ae13f5690a">getLedgerBySeq</a> (seq);</div>
<div class="line"><a name="l00716"></a><span class="lineno">  716</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a9f1f7a943b74ee0bda617e0ccca8ef0a_cgraph.png" border="0" usemap="#d7/ded/a01009_a9f1f7a943b74ee0bda617e0ccca8ef0a_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a9f1f7a943b74ee0bda617e0ccca8ef0a_cgraph" id="d7/ded/a01009_a9f1f7a943b74ee0bda617e0ccca8ef0a_cgraph">
<area shape="rect" id="node3" href="../../d1/de6/a00837.html#a5a199229ff499451b63f07ae13f5690a" title="ripple::LedgerMaster\l::getLedgerBySeq" alt="" coords="215,5,353,51"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a9f1f7a943b74ee0bda617e0ccca8ef0a_icgraph.png" border="0" usemap="#d7/ded/a01009_a9f1f7a943b74ee0bda617e0ccca8ef0a_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a9f1f7a943b74ee0bda617e0ccca8ef0a_icgraph" id="d7/ded/a01009_a9f1f7a943b74ee0bda617e0ccca8ef0a_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a6e1ccf9676c6b1c9277aa9b7bc3b5021" title="ripple::NetworkOPsImp\l::getAccountTxs" alt="" coords="215,5,372,51"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a13e73e2120834b3a178cd047cefa7067" title="ripple::NetworkOPsImp\l::getTxsAccount" alt="" coords="215,74,372,121"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4a50ed100dcdeeca70debe6d39bbba8d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::NetworkOPsImp::getLedgerFetchInfo </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#ae690f8253f39e7377a94e50ae259d05f">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02326">2326</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../da/d74/a00099.html#a6d349a4ada03689eae062c0399762dad">ripple::Application::getInboundLedgers()</a>, and <a class="el" href="../../d8/d86/a00703.html#a51a2b07c207e628f159aa89e6402250d">ripple::InboundLedgers::getInfo()</a>.</p>
<div class="fragment"><div class="line"><a name="l02327"></a><span class="lineno"> 2327</span>&#160;{</div>
<div class="line"><a name="l02328"></a><span class="lineno"> 2328</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a6d349a4ada03689eae062c0399762dad">getInboundLedgers</a>().<a class="code" href="../../d8/d86/a00703.html#a51a2b07c207e628f159aa89e6402250d">getInfo</a>();</div>
<div class="line"><a name="l02329"></a><span class="lineno"> 2329</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a4a50ed100dcdeeca70debe6d39bbba8d_cgraph.png" border="0" usemap="#d7/ded/a01009_a4a50ed100dcdeeca70debe6d39bbba8d_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a4a50ed100dcdeeca70debe6d39bbba8d_cgraph" id="d7/ded/a01009_a4a50ed100dcdeeca70debe6d39bbba8d_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="240,13,341,43"/><area shape="rect" id="node7" href="../../da/d74/a00099.html#a6d349a4ada03689eae062c0399762dad" title="ripple::Application\l::getInboundLedgers" alt="" coords="221,66,360,113"/><area shape="rect" id="node9" href="../../d8/d86/a00703.html#a51a2b07c207e628f159aa89e6402250d" title="ripple::InboundLedgers\l::getInfo" alt="" coords="215,135,367,182"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="417,5,593,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acbf3e3af9d6da6200f8e888e24951d93"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> ripple::NetworkOPsImp::getLedgerID </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;&#160;</td>
          <td class="paramname"><em>hash</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a8f0c68feb0111f68ce7a41f39cd68dea">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00706">706</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d1/de6/a00837.html#a71a21a539d63be51cada4d3c4e4c4030">ripple::LedgerMaster::getLedgerByHash()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>.</p>
<div class="fragment"><div class="line"><a name="l00707"></a><span class="lineno">  707</span>&#160;{</div>
<div class="line"><a name="l00708"></a><span class="lineno">  708</span>&#160;    <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>  lrLedger   = <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#a71a21a539d63be51cada4d3c4e4c4030">getLedgerByHash</a> (<a class="code" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>);</div>
<div class="line"><a name="l00709"></a><span class="lineno">  709</span>&#160;</div>
<div class="line"><a name="l00710"></a><span class="lineno">  710</span>&#160;    <span class="keywordflow">return</span> lrLedger ? lrLedger-&gt;getLedgerSeq () : 0;</div>
<div class="line"><a name="l00711"></a><span class="lineno">  711</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_acbf3e3af9d6da6200f8e888e24951d93_cgraph.png" border="0" usemap="#d7/ded/a01009_acbf3e3af9d6da6200f8e888e24951d93_cgraph" alt=""/></div>
<map name="d7/ded/a01009_acbf3e3af9d6da6200f8e888e24951d93_cgraph" id="d7/ded/a01009_acbf3e3af9d6da6200f8e888e24951d93_cgraph">
<area shape="rect" id="node3" href="../../d1/de6/a00837.html#a71a21a539d63be51cada4d3c4e4c4030" title="ripple::LedgerMaster\l::getLedgerByHash" alt="" coords="215,5,353,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a337e835812ea1950edbfe3ebb0947667"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::size_t ripple::NetworkOPsImp::getLocalTxCount </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#aa9220ccf8382acf85ccd1043f68b9c37">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00346">346</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00463">m_localTX</a>.</p>
<div class="fragment"><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;    {</div>
<div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a344b77de546f45ee7102a7c774690be7">m_localTX</a>-&gt;size ();</div>
<div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a07e5590900394e5b3642496533890cef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> ripple::NetworkOPsImp::getNetworkTimeNC </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#ae7efaeae7ade956a5807f122ef6f99db">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00671">671</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00661">getNetworkTimePT()</a>, and <a class="el" href="../../d2/dd9/a02314_source.html#l00034">ripple::iToSeconds()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00681">getValidationTimeNC()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00598">processClusterTimer()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00921">processTransactionCb()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00834">runTransactionQueue()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01422">switchLastClosedLedger()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01233">tryStartConsensus()</a>.</p>
<div class="fragment"><div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;{</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7">iToSeconds</a> (<a class="code" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a">getNetworkTimePT</a> ());</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a07e5590900394e5b3642496533890cef_cgraph.png" border="0" usemap="#d7/ded/a01009_a07e5590900394e5b3642496533890cef_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a07e5590900394e5b3642496533890cef_cgraph" id="d7/ded/a01009_a07e5590900394e5b3642496533890cef_cgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a" title="ripple::NetworkOPsImp\l::getNetworkTimePT" alt="" coords="215,66,372,113"/><area shape="rect" id="node11" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7" title="ripple::iToSeconds" alt="" coords="228,136,359,165"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="451,13,552,43"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678" title="ripple::Application\l::getSystemTimeOffset" alt="" coords="423,66,580,113"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="631,5,807,51"/><area shape="rect" id="node13" href="../../d9/d9d/a03417.html#a00572ed03b233ecd42f36357a395c163" title="ripple::ptEpoch" alt="" coords="447,136,556,165"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a07e5590900394e5b3642496533890cef_icgraph.png" border="0" usemap="#d7/ded/a01009_a07e5590900394e5b3642496533890cef_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a07e5590900394e5b3642496533890cef_icgraph" id="d7/ded/a01009_a07e5590900394e5b3642496533890cef_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a3879c24bdde3bda994b0ff43eecd52b1" title="ripple::NetworkOPsImp\l::getValidationTimeNC" alt="" coords="221,5,379,51"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a01173fbae7b2fe63dc7028120fb55862" title="ripple::NetworkOPsImp\l::processClusterTimer" alt="" coords="891,51,1048,98"/><area shape="rect" id="node9" href="../../d7/ded/a01009.html#aab21222cb8f90aebe766d622a9b02cc3" title="ripple::NetworkOPsImp\l::processTransactionCb" alt="" coords="220,245,380,291"/><area shape="rect" id="node19" href="../../d7/ded/a01009.html#a11a18d9eca593baddb2e72566c053800" title="ripple::NetworkOPsImp\l::runTransactionQueue" alt="" coords="221,314,379,361"/><area shape="rect" id="node21" href="../../d7/ded/a01009.html#a03e21ff22be1d31dbe08f81deb590ece" title="ripple::NetworkOPsImp\l::switchLastClosedLedger" alt="" coords="213,175,387,222"/><area shape="rect" id="node35" href="../../d7/ded/a01009.html#a6a3776d980baee062b961c0195bc43be" title="ripple::NetworkOPsImp\l::tryStartConsensus" alt="" coords="675,125,832,171"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#ab8272588ee692e125af4d7841af32618" title="ripple::NetworkOPsImp\l::onDeadlineTimer" alt="" coords="1108,51,1265,98"/><area shape="rect" id="node11" href="../../d7/ded/a01009.html#a26cb95fc4e1b658987421bd28c051516" title="ripple::NetworkOPsImp\l::processTransaction" alt="" coords="449,245,607,291"/><area shape="rect" id="node15" href="../../d7/ded/a01009.html#abaf5313789b76e16cc0f99605e8f0c81" title="ripple::NetworkOPsImp\l::processTransactionCbVoid" alt="" coords="435,314,621,361"/><area shape="rect" id="node13" href="../../d7/ded/a01009.html#a20ac0a06c2870e5d087e35f7dd2f768c" title="ripple::NetworkOPsImp\l::submitTransactionSync" alt="" coords="671,245,836,291"/><area shape="rect" id="node17" href="../../d7/ded/a01009.html#a1f19b2ae693aa2f460a5d48f3faa2218" title="ripple::NetworkOPsImp\l::submitTransaction" alt="" coords="675,314,832,361"/><area shape="rect" id="node23" href="../../d7/ded/a01009.html#ad72f54405ed9b8219022e8c2b7796c98" title="ripple::NetworkOPsImp\l::checkLastClosedLedger" alt="" coords="443,175,613,222"/><area shape="rect" id="node25" href="../../d7/ded/a01009.html#ac929d58ce61af6b87922103bf3da3039" title="ripple::NetworkOPsImp\l::haveConsensusObject" alt="" coords="888,190,1051,237"/><area shape="rect" id="node27" href="../../d7/ded/a01009.html#a27090d36556b8665cbd908efa99e2a05" title="ripple::NetworkOPsImp\l::getConsensusLCL" alt="" coords="1108,121,1265,167"/><area shape="rect" id="node29" href="../../d7/ded/a01009.html#a148e1e8d0c5128ee48e0206cdeb5e2a0" title="ripple::NetworkOPsImp\l::processTrustedProposal" alt="" coords="1101,190,1272,237"/><area shape="rect" id="node31" href="../../d7/ded/a01009.html#a7fc7ee8501f9d95df97583cabf3b4771" title="ripple::NetworkOPsImp\l::getTXMap" alt="" coords="1108,259,1265,306"/><area shape="rect" id="node33" href="../../d7/ded/a01009.html#aff24b82af590d1db837231ad0125eee4" title="ripple::NetworkOPsImp\l::mapComplete" alt="" coords="1108,329,1265,375"/><area shape="rect" id="node37" href="../../d7/ded/a01009.html#adb95084185570756c8a39ba0e32fb3ed" title="ripple::NetworkOPsImp\l::processHeartbeatTimer" alt="" coords="887,121,1052,167"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4bd8befae57d65b27880a6c11b903c5a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::posix_time::ptime ripple::NetworkOPsImp::getNetworkTimePT </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#af6a1a3d63e15d5b2109b5ad21d8844d6">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00661">661</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, and <a class="el" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678">ripple::Application::getSystemTimeOffset()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00676">getCloseTimeNC()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00671">getNetworkTimeNC()</a>.</p>
<div class="fragment"><div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;{</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;    <span class="keywordtype">int</span> offset = 0;</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678">getSystemTimeOffset</a> (offset);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;    <span class="comment">// VFALCO TODO Replace this with a beast call</span></div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;    <span class="keywordflow">return</span> boost::posix_time::microsec_clock::universal_time () + boost::posix_time::seconds (offset);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a4bd8befae57d65b27880a6c11b903c5a_cgraph.png" border="0" usemap="#d7/ded/a01009_a4bd8befae57d65b27880a6c11b903c5a_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a4bd8befae57d65b27880a6c11b903c5a_cgraph" id="d7/ded/a01009_a4bd8befae57d65b27880a6c11b903c5a_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="243,13,344,43"/><area shape="rect" id="node7" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678" title="ripple::Application\l::getSystemTimeOffset" alt="" coords="215,66,372,113"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="423,5,599,51"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a4bd8befae57d65b27880a6c11b903c5a_icgraph.png" border="0" usemap="#d7/ded/a01009_a4bd8befae57d65b27880a6c11b903c5a_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a4bd8befae57d65b27880a6c11b903c5a_icgraph" id="d7/ded/a01009_a4bd8befae57d65b27880a6c11b903c5a_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a67d834a967ca92edbfa11ba6aefbdf53" title="ripple::NetworkOPsImp\l::getCloseTimeNC" alt="" coords="215,61,372,107"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef" title="ripple::NetworkOPsImp\l::getNetworkTimeNC" alt="" coords="215,185,372,231"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a356932367043b41df75358206d0b5b36" title="ripple::NetworkOPsImp\l::getServerInfo" alt="" coords="429,5,587,51"/><area shape="rect" id="node9" href="../../d7/ded/a01009.html#a3879c24bdde3bda994b0ff43eecd52b1" title="ripple::NetworkOPsImp\l::getValidationTimeNC" alt="" coords="429,125,587,171"/><area shape="rect" id="node11" href="../../d7/ded/a01009.html#a01173fbae7b2fe63dc7028120fb55862" title="ripple::NetworkOPsImp\l::processClusterTimer" alt="" coords="1099,85,1256,131"/><area shape="rect" id="node15" href="../../d7/ded/a01009.html#aab21222cb8f90aebe766d622a9b02cc3" title="ripple::NetworkOPsImp\l::processTransactionCb" alt="" coords="428,383,588,430"/><area shape="rect" id="node25" href="../../d7/ded/a01009.html#a11a18d9eca593baddb2e72566c053800" title="ripple::NetworkOPsImp\l::runTransactionQueue" alt="" coords="429,314,587,361"/><area shape="rect" id="node27" href="../../d7/ded/a01009.html#a03e21ff22be1d31dbe08f81deb590ece" title="ripple::NetworkOPsImp\l::switchLastClosedLedger" alt="" coords="421,245,595,291"/><area shape="rect" id="node41" href="../../d7/ded/a01009.html#a6a3776d980baee062b961c0195bc43be" title="ripple::NetworkOPsImp\l::tryStartConsensus" alt="" coords="883,185,1040,231"/><area shape="rect" id="node13" href="../../d7/ded/a01009.html#ab8272588ee692e125af4d7841af32618" title="ripple::NetworkOPsImp\l::onDeadlineTimer" alt="" coords="1316,87,1473,134"/><area shape="rect" id="node17" href="../../d7/ded/a01009.html#a26cb95fc4e1b658987421bd28c051516" title="ripple::NetworkOPsImp\l::processTransaction" alt="" coords="657,349,815,395"/><area shape="rect" id="node21" href="../../d7/ded/a01009.html#abaf5313789b76e16cc0f99605e8f0c81" title="ripple::NetworkOPsImp\l::processTransactionCbVoid" alt="" coords="643,418,829,465"/><area shape="rect" id="node19" href="../../d7/ded/a01009.html#a20ac0a06c2870e5d087e35f7dd2f768c" title="ripple::NetworkOPsImp\l::submitTransactionSync" alt="" coords="879,349,1044,395"/><area shape="rect" id="node23" href="../../d7/ded/a01009.html#a1f19b2ae693aa2f460a5d48f3faa2218" title="ripple::NetworkOPsImp\l::submitTransaction" alt="" coords="883,418,1040,465"/><area shape="rect" id="node29" href="../../d7/ded/a01009.html#ad72f54405ed9b8219022e8c2b7796c98" title="ripple::NetworkOPsImp\l::checkLastClosedLedger" alt="" coords="651,245,821,291"/><area shape="rect" id="node31" href="../../d7/ded/a01009.html#ac929d58ce61af6b87922103bf3da3039" title="ripple::NetworkOPsImp\l::haveConsensusObject" alt="" coords="1096,239,1259,286"/><area shape="rect" id="node33" href="../../d7/ded/a01009.html#a27090d36556b8665cbd908efa99e2a05" title="ripple::NetworkOPsImp\l::getConsensusLCL" alt="" coords="1316,237,1473,283"/><area shape="rect" id="node35" href="../../d7/ded/a01009.html#a148e1e8d0c5128ee48e0206cdeb5e2a0" title="ripple::NetworkOPsImp\l::processTrustedProposal" alt="" coords="1309,306,1480,353"/><area shape="rect" id="node37" href="../../d7/ded/a01009.html#a7fc7ee8501f9d95df97583cabf3b4771" title="ripple::NetworkOPsImp\l::getTXMap" alt="" coords="1316,375,1473,422"/><area shape="rect" id="node39" href="../../d7/ded/a01009.html#aff24b82af590d1db837231ad0125eee4" title="ripple::NetworkOPsImp\l::mapComplete" alt="" coords="1316,167,1473,214"/><area shape="rect" id="node43" href="../../d7/ded/a01009.html#adb95084185570756c8a39ba0e32fb3ed" title="ripple::NetworkOPsImp\l::processHeartbeatTimer" alt="" coords="1095,159,1260,206"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a87c19bdbebe47f0ec13e776d899ca4f4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aa">OperatingMode</a> ripple::NetworkOPsImp::getOperatingMode </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#af1066b526f400f571c4985950ef97aa4">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00090">90</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00469">mMode</a>.</p>
<div class="fragment"><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    {</div>
<div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a>;</div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac57548110e534b71418d3eb1cf2a2994"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::NetworkOPsImp::getOwnerInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>&#160;</td>
          <td class="paramname"><em>lpLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>naAccount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a7be0d3fdd5191aa586451e176c1e5398">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01129">1129</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../da/d23/a02452_source.html#l01298">Json::Value::append()</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00038">Json::arrayValue</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00292">ripple::RippleAddress::getAccountID()</a>, <a class="el" href="../../dd/d3f/a02912_source.html#l01695">ripple::Ledger::getDirNodeIndex()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../d0/d08/a03184_source.html#l00038">ripple::ltACCOUNT_ROOT</a>, <a class="el" href="../../d0/d08/a03184_source.html#l00049">ripple::ltDIR_NODE</a>, <a class="el" href="../../d0/d08/a03184_source.html#l00051">ripple::ltGENERATOR_MAP</a>, <a class="el" href="../../d0/d08/a03184_source.html#l00060">ripple::ltNICKNAME</a>, <a class="el" href="../../d0/d08/a03184_source.html#l00062">ripple::ltOFFER</a>, <a class="el" href="../../d0/d08/a03184_source.html#l00056">ripple::ltRIPPLE_STATE</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, and <a class="el" href="../../d8/dd4/a03195_source.html#l01566">ripple::STVector256::peekValue()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02335">pubBootstrapAccountInfo()</a>.</p>
<div class="fragment"><div class="line"><a name="l01130"></a><span class="lineno"> 1130</span>&#160;{</div>
<div class="line"><a name="l01131"></a><span class="lineno"> 1131</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvObjects (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l01132"></a><span class="lineno"> 1132</span>&#160;</div>
<div class="line"><a name="l01133"></a><span class="lineno"> 1133</span>&#160;    uint256             uRootIndex  = lpLedger-&gt;getOwnerDirIndex (naAccount.getAccountID ());</div>
<div class="line"><a name="l01134"></a><span class="lineno"> 1134</span>&#160;</div>
<div class="line"><a name="l01135"></a><span class="lineno"> 1135</span>&#160;    <a class="code" href="../../dc/d54/a01344.html#abf05184c020b05e80bdf996c9bee96eb">SLE::pointer</a>        sleNode     = lpLedger-&gt;getDirNode (uRootIndex);</div>
<div class="line"><a name="l01136"></a><span class="lineno"> 1136</span>&#160;</div>
<div class="line"><a name="l01137"></a><span class="lineno"> 1137</span>&#160;    <span class="keywordflow">if</span> (sleNode)</div>
<div class="line"><a name="l01138"></a><span class="lineno"> 1138</span>&#160;    {</div>
<div class="line"><a name="l01139"></a><span class="lineno"> 1139</span>&#160;        <a class="code" href="../../db/d86/a02663.html#aaa5d1cd013383c889537491c3cfd9aad">std::uint64_t</a>  uNodeDir;</div>
<div class="line"><a name="l01140"></a><span class="lineno"> 1140</span>&#160;</div>
<div class="line"><a name="l01141"></a><span class="lineno"> 1141</span>&#160;        <span class="keywordflow">do</span></div>
<div class="line"><a name="l01142"></a><span class="lineno"> 1142</span>&#160;        {</div>
<div class="line"><a name="l01143"></a><span class="lineno"> 1143</span>&#160;            STVector256                 svIndexes   = sleNode-&gt;getFieldV256 (sfIndexes);</div>
<div class="line"><a name="l01144"></a><span class="lineno"> 1144</span>&#160;            <span class="keyword">const</span> std::vector&lt;uint256&gt;&amp; vuiIndexes  = svIndexes.peekValue ();</div>
<div class="line"><a name="l01145"></a><span class="lineno"> 1145</span>&#160;</div>
<div class="line"><a name="l01146"></a><span class="lineno"> 1146</span>&#160;            BOOST_FOREACH (uint256 <span class="keyword">const</span> &amp; uDirEntry, vuiIndexes)</div>
<div class="line"><a name="l01147"></a><span class="lineno"> 1147</span>&#160;            {</div>
<div class="line"><a name="l01148"></a><span class="lineno"> 1148</span>&#160;                <a class="code" href="../../dc/d54/a01344.html#abf05184c020b05e80bdf996c9bee96eb">SLE::pointer</a>        sleCur      = lpLedger-&gt;getSLEi (uDirEntry);</div>
<div class="line"><a name="l01149"></a><span class="lineno"> 1149</span>&#160;</div>
<div class="line"><a name="l01150"></a><span class="lineno"> 1150</span>&#160;                <span class="keywordflow">switch</span> (sleCur-&gt;getType ())</div>
<div class="line"><a name="l01151"></a><span class="lineno"> 1151</span>&#160;                {</div>
<div class="line"><a name="l01152"></a><span class="lineno"> 1152</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d8/dbb/a03480.html#ggaf6e0324b257fc9992b83ecf827c2a07ba8a24a7b08fcdd8a76109f80f056a176d">ltOFFER</a>:</div>
<div class="line"><a name="l01153"></a><span class="lineno"> 1153</span>&#160;                    <span class="keywordflow">if</span> (!jvObjects.isMember (<span class="stringliteral">&quot;offers&quot;</span>))</div>
<div class="line"><a name="l01154"></a><span class="lineno"> 1154</span>&#160;                        jvObjects[<span class="stringliteral">&quot;offers&quot;</span>]         = <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eadc8f264f36b55b063c78126b335415f4" title="array value (ordered list) ">Json::arrayValue</a>);</div>
<div class="line"><a name="l01155"></a><span class="lineno"> 1155</span>&#160;</div>
<div class="line"><a name="l01156"></a><span class="lineno"> 1156</span>&#160;                    jvObjects[<span class="stringliteral">&quot;offers&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. ">append</a> (sleCur-&gt;getJson (0));</div>
<div class="line"><a name="l01157"></a><span class="lineno"> 1157</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01158"></a><span class="lineno"> 1158</span>&#160;</div>
<div class="line"><a name="l01159"></a><span class="lineno"> 1159</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d8/dbb/a03480.html#ggaf6e0324b257fc9992b83ecf827c2a07ba0dca36851b869200981387f3b9f5cdee">ltRIPPLE_STATE</a>:</div>
<div class="line"><a name="l01160"></a><span class="lineno"> 1160</span>&#160;                    <span class="keywordflow">if</span> (!jvObjects.isMember (<span class="stringliteral">&quot;ripple_lines&quot;</span>))</div>
<div class="line"><a name="l01161"></a><span class="lineno"> 1161</span>&#160;                        jvObjects[<span class="stringliteral">&quot;ripple_lines&quot;</span>]   = <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eadc8f264f36b55b063c78126b335415f4" title="array value (ordered list) ">Json::arrayValue</a>);</div>
<div class="line"><a name="l01162"></a><span class="lineno"> 1162</span>&#160;</div>
<div class="line"><a name="l01163"></a><span class="lineno"> 1163</span>&#160;                    jvObjects[<span class="stringliteral">&quot;ripple_lines&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. ">append</a> (sleCur-&gt;getJson (0));</div>
<div class="line"><a name="l01164"></a><span class="lineno"> 1164</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01165"></a><span class="lineno"> 1165</span>&#160;</div>
<div class="line"><a name="l01166"></a><span class="lineno"> 1166</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d8/dbb/a03480.html#ggaf6e0324b257fc9992b83ecf827c2a07bac03405d2da6d19e17f321a6b7f7a412e">ltACCOUNT_ROOT</a>:</div>
<div class="line"><a name="l01167"></a><span class="lineno"> 1167</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d8/dbb/a03480.html#ggaf6e0324b257fc9992b83ecf827c2a07ba1ca6f5da9e86f814af3d6f8b3631ebe8">ltDIR_NODE</a>:</div>
<div class="line"><a name="l01168"></a><span class="lineno"> 1168</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d8/dbb/a03480.html#ggaf6e0324b257fc9992b83ecf827c2a07bad5d73e579995c62fbd0dca3500a8640c">ltGENERATOR_MAP</a>:</div>
<div class="line"><a name="l01169"></a><span class="lineno"> 1169</span>&#160;                <span class="keywordflow">case</span> <a class="code" href="../../d8/dbb/a03480.html#ggaf6e0324b257fc9992b83ecf827c2a07ba5c55abb784b8f464de8515e196e4098c">ltNICKNAME</a>:</div>
<div class="line"><a name="l01170"></a><span class="lineno"> 1170</span>&#160;                <span class="keywordflow">default</span>:</div>
<div class="line"><a name="l01171"></a><span class="lineno"> 1171</span>&#160;                    assert (<span class="keyword">false</span>);</div>
<div class="line"><a name="l01172"></a><span class="lineno"> 1172</span>&#160;                    <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01173"></a><span class="lineno"> 1173</span>&#160;                }</div>
<div class="line"><a name="l01174"></a><span class="lineno"> 1174</span>&#160;            }</div>
<div class="line"><a name="l01175"></a><span class="lineno"> 1175</span>&#160;</div>
<div class="line"><a name="l01176"></a><span class="lineno"> 1176</span>&#160;            uNodeDir        = sleNode-&gt;getFieldU64 (sfIndexNext);</div>
<div class="line"><a name="l01177"></a><span class="lineno"> 1177</span>&#160;</div>
<div class="line"><a name="l01178"></a><span class="lineno"> 1178</span>&#160;            <span class="keywordflow">if</span> (uNodeDir)</div>
<div class="line"><a name="l01179"></a><span class="lineno"> 1179</span>&#160;            {</div>
<div class="line"><a name="l01180"></a><span class="lineno"> 1180</span>&#160;                sleNode = lpLedger-&gt;getDirNode (<a class="code" href="../../dd/d5f/a00825.html#a0d50fe89b5f50adf3cea06fdb94a03b5">Ledger::getDirNodeIndex</a> (uRootIndex, uNodeDir));</div>
<div class="line"><a name="l01181"></a><span class="lineno"> 1181</span>&#160;                assert (sleNode);</div>
<div class="line"><a name="l01182"></a><span class="lineno"> 1182</span>&#160;            }</div>
<div class="line"><a name="l01183"></a><span class="lineno"> 1183</span>&#160;        }</div>
<div class="line"><a name="l01184"></a><span class="lineno"> 1184</span>&#160;        <span class="keywordflow">while</span> (uNodeDir);</div>
<div class="line"><a name="l01185"></a><span class="lineno"> 1185</span>&#160;    }</div>
<div class="line"><a name="l01186"></a><span class="lineno"> 1186</span>&#160;</div>
<div class="line"><a name="l01187"></a><span class="lineno"> 1187</span>&#160;    <span class="keywordflow">return</span> jvObjects;</div>
<div class="line"><a name="l01188"></a><span class="lineno"> 1188</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_ac57548110e534b71418d3eb1cf2a2994_cgraph.png" border="0" usemap="#d7/ded/a01009_ac57548110e534b71418d3eb1cf2a2994_cgraph" alt=""/></div>
<map name="d7/ded/a01009_ac57548110e534b71418d3eb1cf2a2994_cgraph" id="d7/ded/a01009_ac57548110e534b71418d3eb1cf2a2994_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. " alt="" coords="231,12,372,41"/><area shape="rect" id="node7" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="228,71,375,118"/><area shape="rect" id="node11" href="../../dd/d5f/a00825.html#a0d50fe89b5f50adf3cea06fdb94a03b5" title="ripple::Ledger::getDirNode\lIndex" alt="" coords="215,154,388,201"/><area shape="rect" id="node30" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="224,224,379,253"/><area shape="rect" id="node32" href="../../db/d51/a01603.html#ac1d1c102b952d362e77c419487110ec2" title="ripple::STVector256\l::peekValue" alt="" coords="233,277,369,323"/><area shape="rect" id="node5" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="437,5,560,35"/><area shape="rect" id="node9" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="443,59,555,88"/><area shape="rect" id="node13" href="../../da/d61/a01350.html#a10b908daaabf22ae052bfc7fd221157c" title="ripple::Serializer\l::add16" alt="" coords="441,111,556,158"/><area shape="rect" id="node15" href="../../da/d61/a01350.html#a0a59bc79c929b9b01c3fd88ca54195f1" title="ripple::Serializer\l::add256" alt="" coords="441,181,556,227"/><area shape="rect" id="node24" href="../../da/d61/a01350.html#a253e724ffc3143dfd70bde767af71a7e" title="ripple::Serializer\l::add64" alt="" coords="441,250,556,297"/><area shape="rect" id="node26" href="../../da/d61/a01350.html#afc7187fd3c9e185d29a0ecf5500d0cdf" title="ripple::Serializer\l::getSHA512Half" alt="" coords="439,319,559,366"/><area shape="rect" id="node17" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="619,150,744,197"/><area shape="rect" id="node21" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="608,220,755,249"/><area shape="rect" id="node19" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="804,189,953,219"/><area shape="rect" id="node28" href="../../da/d61/a01350.html#ac7bf5cce451c952933b2750d902d848c" title="ripple::Serializer\l::size" alt="" coords="624,319,739,366"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_ac57548110e534b71418d3eb1cf2a2994_icgraph.png" border="0" usemap="#d7/ded/a01009_ac57548110e534b71418d3eb1cf2a2994_icgraph" alt=""/></div>
<map name="d7/ded/a01009_ac57548110e534b71418d3eb1cf2a2994_icgraph" id="d7/ded/a01009_ac57548110e534b71418d3eb1cf2a2994_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a595104a945d82f7d5fd3ba7f1b5eeeb2" title="ripple::NetworkOPsImp\l::pubBootstrapAccountInfo" alt="" coords="215,5,391,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8ff2ddd9c5ebf0747b936eb92a566f68"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ripple::NetworkOPsImp::getPreviousConvergeTime </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a7235210c8455553bc11764b0ccbfc4b8">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00312">312</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00486">mLastCloseConvergeTime</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02168">getServerInfo()</a>.</p>
<div class="fragment"><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    {</div>
<div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#acc1ce0bf9b0be24aad76ce27dd270a1a">mLastCloseConvergeTime</a>;</div>
<div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a8ff2ddd9c5ebf0747b936eb92a566f68_icgraph.png" border="0" usemap="#d7/ded/a01009_a8ff2ddd9c5ebf0747b936eb92a566f68_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a8ff2ddd9c5ebf0747b936eb92a566f68_icgraph" id="d7/ded/a01009_a8ff2ddd9c5ebf0747b936eb92a566f68_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a356932367043b41df75358206d0b5b36" title="ripple::NetworkOPsImp\l::getServerInfo" alt="" coords="239,5,396,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abdde224cfc7141d0eace3b9d2158b741"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ripple::NetworkOPsImp::getPreviousProposers </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a6311e4617a8bcc390e3a6ddd6ab9d8a1">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00308">308</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00486">mLastCloseProposers</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l01483">haveConsensusObject()</a>.</p>
<div class="fragment"><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    {</div>
<div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a8b5d139cf2208caba068486e449b66e8">mLastCloseProposers</a>;</div>
<div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_abdde224cfc7141d0eace3b9d2158b741_icgraph.png" border="0" usemap="#d7/ded/a01009_abdde224cfc7141d0eace3b9d2158b741_icgraph" alt=""/></div>
<map name="d7/ded/a01009_abdde224cfc7141d0eace3b9d2158b741_icgraph" id="d7/ded/a01009_abdde224cfc7141d0eace3b9d2158b741_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#ac929d58ce61af6b87922103bf3da3039" title="ripple::NetworkOPsImp\l::haveConsensusObject" alt="" coords="213,109,376,155"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a27090d36556b8665cbd908efa99e2a05" title="ripple::NetworkOPsImp\l::getConsensusLCL" alt="" coords="431,5,588,51"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#a148e1e8d0c5128ee48e0206cdeb5e2a0" title="ripple::NetworkOPsImp\l::processTrustedProposal" alt="" coords="424,74,595,121"/><area shape="rect" id="node9" href="../../d7/ded/a01009.html#a7fc7ee8501f9d95df97583cabf3b4771" title="ripple::NetworkOPsImp\l::getTXMap" alt="" coords="431,143,588,190"/><area shape="rect" id="node11" href="../../d7/ded/a01009.html#aff24b82af590d1db837231ad0125eee4" title="ripple::NetworkOPsImp\l::mapComplete" alt="" coords="431,213,588,259"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0579facd11b78a1040058f91443a5957"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> ripple::NetworkOPsImp::getPublishedLedger </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a1f9ad5daab44400be302859e1b316b46">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00104">104</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d1/de6/a00837.html#ab68f28d77183efd613919b589d85e330">ripple::LedgerMaster::getPublishedLedger()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02168">getServerInfo()</a>.</p>
<div class="fragment"><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;    {</div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#ab68f28d77183efd613919b589d85e330">getPublishedLedger</a> ();</div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a0579facd11b78a1040058f91443a5957_cgraph.png" border="0" usemap="#d7/ded/a01009_a0579facd11b78a1040058f91443a5957_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a0579facd11b78a1040058f91443a5957_cgraph" id="d7/ded/a01009_a0579facd11b78a1040058f91443a5957_cgraph">
<area shape="rect" id="node3" href="../../d1/de6/a00837.html#ab68f28d77183efd613919b589d85e330" title="ripple::LedgerMaster\l::getPublishedLedger" alt="" coords="213,5,357,51"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a0579facd11b78a1040058f91443a5957_icgraph.png" border="0" usemap="#d7/ded/a01009_a0579facd11b78a1040058f91443a5957_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a0579facd11b78a1040058f91443a5957_icgraph" id="d7/ded/a01009_a0579facd11b78a1040058f91443a5957_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a356932367043b41df75358206d0b5b36" title="ripple::NetworkOPsImp\l::getServerInfo" alt="" coords="215,5,372,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a356932367043b41df75358206d0b5b36"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::NetworkOPsImp::getServerInfo </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>human</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>admin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a62ba6c71d741a25bc374ebb96554237e">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02168">2168</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../dc/d40/a02767_source.html#l00022">base</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../de/d76/a02417_source.html#l00133">ripple::TaggedCache&lt; Key, T, Hash, KeyEqual, Mutex &gt;::getCacheSize()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00096">getClosedLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00676">getCloseTimeNC()</a>, <a class="el" href="../../dd/d94/a00888.html#a0e457e2372945983ccce83cc9c4cdf85">ripple::LoadFeeTrack::getClusterFee()</a>, <a class="el" href="../../d1/de6/a00837.html#a5d4563a377393b7350c8a6faa42a7076">ripple::LedgerMaster::getCompleteLedgers()</a>, <a class="el" href="../../d3/ddb/a02262_source.html#l00273">beast::SystemStats::getComputerName()</a>, <a class="el" href="../../d0/dc2/a02477_source.html#l00647">ripple::getConfig()</a>, <a class="el" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb">ripple::Application::getFeeTrack()</a>, <a class="el" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c">ripple::Application::getJobQueue()</a>, <a class="el" href="../../dc/d0c/a00783.html#ae9480d2b8de81788b0d4adb8b5eb517d">ripple::JobQueue::getJson()</a>, <a class="el" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104">ripple::Application::getLedgerMaster()</a>, <a class="el" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0">ripple::LoadFeeTrack::getLoadBase()</a>, <a class="el" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac">ripple::LoadFeeTrack::getLoadFactor()</a>, <a class="el" href="../../da/d74/a00099.html#ac95c5f6db4db8575632193495189a702">ripple::Application::getLocalCredentials()</a>, <a class="el" href="../../dd/d94/a00888.html#a2decb7776fedd18133c9091bd27b586e">ripple::LoadFeeTrack::getLocalFee()</a>, <a class="el" href="../../d1/de6/a00837.html#aa7961e4d96dba24b272e032d00b2e512">ripple::LedgerMaster::getMinValidations()</a>, <a class="el" href="../../df/d93/a02947_source.html#l00035">ripple::LocalCredentials::getNodePublic()</a>, <a class="el" href="../../da/d74/a00099.html#a7c963aa5c47180b24897ff6b5622e5bc">ripple::Application::getOPs()</a>, <a class="el" href="../../dd/dac/a01008.html#a7235210c8455553bc11764b0ccbfc4b8">ripple::NetworkOPs::getPreviousConvergeTime()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00312">getPreviousConvergeTime()</a>, <a class="el" href="../../dd/dac/a01008.html#a6311e4617a8bcc390e3a6ddd6ab9d8a1">ripple::NetworkOPs::getPreviousProposers()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00104">getPublishedLedger()</a>, <a class="el" href="../../dd/d94/a00888.html#a7ddf1a6ed010b02c5503a951a54b66ea">ripple::LoadFeeTrack::getRemoteFee()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00100">getValidatedLedger()</a>, <a class="el" href="../../df/d0d/a03176_source.html#l00086">ripple::BuildInfo::getVersionString()</a>, <a class="el" href="../../d1/db4/a03174_source.html#l00488">ripple::RFC1751::getWordFromBlob()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00139">ripple::RippleAddress::humanNodePublic()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00472">mFeatureBlocked</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00505">mFetchPack</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00470">mNeedNetworkLedger</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00638">strOperatingMode()</a>, <a class="el" href="../../d2/db9/a01926_source.html#l00033">SYSTEM_CURRENCY_PARTS</a>, and <a class="el" href="../../d2/db9/a01926_source.html#l00448">ripple::Config::VALIDATION_PUB</a>.</p>
<div class="fragment"><div class="line"><a name="l02169"></a><span class="lineno"> 2169</span>&#160;{</div>
<div class="line"><a name="l02170"></a><span class="lineno"> 2170</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> info = <a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>;</div>
<div class="line"><a name="l02171"></a><span class="lineno"> 2171</span>&#160;</div>
<div class="line"><a name="l02172"></a><span class="lineno"> 2172</span>&#160;    <span class="comment">// hostid: unique string describing the machine</span></div>
<div class="line"><a name="l02173"></a><span class="lineno"> 2173</span>&#160;    <span class="keywordflow">if</span> (human)</div>
<div class="line"><a name="l02174"></a><span class="lineno"> 2174</span>&#160;    {</div>
<div class="line"><a name="l02175"></a><span class="lineno"> 2175</span>&#160;        <span class="keywordflow">if</span> (! admin)</div>
<div class="line"><a name="l02176"></a><span class="lineno"> 2176</span>&#160;        {</div>
<div class="line"><a name="l02177"></a><span class="lineno"> 2177</span>&#160;            <span class="comment">// For a non admin connection, hash the node ID into a single RFC1751 word</span></div>
<div class="line"><a name="l02178"></a><span class="lineno"> 2178</span>&#160;            <a class="code" href="../../d9/d9d/a03417.html#a1b87ba4732cf1725393e8dd60bf73b0c">Blob</a> <span class="keyword">const</span>&amp; addr (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getLocalCredentials ().getNodePublic ().getNodePublic ());</div>
<div class="line"><a name="l02179"></a><span class="lineno"> 2179</span>&#160;            info [<span class="stringliteral">&quot;hostid&quot;</span>] = <a class="code" href="../../dc/dd9/a01268.html#a115d4c2b256e78161d3de89f14aa6614">RFC1751::getWordFromBlob</a> (addr.data (), addr.size ());</div>
<div class="line"><a name="l02180"></a><span class="lineno"> 2180</span>&#160;        }</div>
<div class="line"><a name="l02181"></a><span class="lineno"> 2181</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02182"></a><span class="lineno"> 2182</span>&#160;        {</div>
<div class="line"><a name="l02183"></a><span class="lineno"> 2183</span>&#160;            <span class="comment">// Only admins get the hostname for security reasons</span></div>
<div class="line"><a name="l02184"></a><span class="lineno"> 2184</span>&#160;            info [<span class="stringliteral">&quot;hostid&quot;</span>] = <a class="code" href="../../dd/dda/a01621.html#a241e2157841464c2e552035974d0926d">beast::SystemStats::getComputerName</a>();</div>
<div class="line"><a name="l02185"></a><span class="lineno"> 2185</span>&#160;        }</div>
<div class="line"><a name="l02186"></a><span class="lineno"> 2186</span>&#160;    }</div>
<div class="line"><a name="l02187"></a><span class="lineno"> 2187</span>&#160;</div>
<div class="line"><a name="l02188"></a><span class="lineno"> 2188</span>&#160;    info [<span class="stringliteral">&quot;build_version&quot;</span>] = <a class="code" href="../../d9/d21/a00240.html#a80b754f88de55fe3c9c98b3a92b7a889">BuildInfo::getVersionString</a> ();</div>
<div class="line"><a name="l02189"></a><span class="lineno"> 2189</span>&#160;</div>
<div class="line"><a name="l02190"></a><span class="lineno"> 2190</span>&#160;    info[<span class="stringliteral">&quot;server_state&quot;</span>] = <a class="code" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f">strOperatingMode</a> ();</div>
<div class="line"><a name="l02191"></a><span class="lineno"> 2191</span>&#160;</div>
<div class="line"><a name="l02192"></a><span class="lineno"> 2192</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#a47ec6c8f5fcf5adae37a33884645924d">mNeedNetworkLedger</a>)</div>
<div class="line"><a name="l02193"></a><span class="lineno"> 2193</span>&#160;        info[<span class="stringliteral">&quot;network_ledger&quot;</span>] = <span class="stringliteral">&quot;waiting&quot;</span>;</div>
<div class="line"><a name="l02194"></a><span class="lineno"> 2194</span>&#160;</div>
<div class="line"><a name="l02195"></a><span class="lineno"> 2195</span>&#160;    info[<span class="stringliteral">&quot;validation_quorum&quot;</span>] = <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#aa7961e4d96dba24b272e032d00b2e512">getMinValidations</a> ();</div>
<div class="line"><a name="l02196"></a><span class="lineno"> 2196</span>&#160;</div>
<div class="line"><a name="l02197"></a><span class="lineno"> 2197</span>&#160;    <span class="keywordflow">if</span> (admin)</div>
<div class="line"><a name="l02198"></a><span class="lineno"> 2198</span>&#160;    {</div>
<div class="line"><a name="l02199"></a><span class="lineno"> 2199</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().VALIDATION_PUB.isValid ())</div>
<div class="line"><a name="l02200"></a><span class="lineno"> 2200</span>&#160;            info[<span class="stringliteral">&quot;pubkey_validator&quot;</span>] = <a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().<a class="code" href="../../d3/db8/a00316.html#a3ce32f544e45d63b19a6a104d9216b53">VALIDATION_PUB</a>.<a class="code" href="../../d4/d0e/a01272.html#a8c42af138548d581382a9631a7d09f4b">humanNodePublic</a> ();</div>
<div class="line"><a name="l02201"></a><span class="lineno"> 2201</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02202"></a><span class="lineno"> 2202</span>&#160;            info[<span class="stringliteral">&quot;pubkey_validator&quot;</span>] = <span class="stringliteral">&quot;none&quot;</span>;</div>
<div class="line"><a name="l02203"></a><span class="lineno"> 2203</span>&#160;    }</div>
<div class="line"><a name="l02204"></a><span class="lineno"> 2204</span>&#160;</div>
<div class="line"><a name="l02205"></a><span class="lineno"> 2205</span>&#160;    info[<span class="stringliteral">&quot;pubkey_node&quot;</span>] = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#ac95c5f6db4db8575632193495189a702">getLocalCredentials</a> ().<a class="code" href="../../dc/dfa/a00894.html#af67a14f58bffac4bd931722ecbd316d9">getNodePublic</a> ().<a class="code" href="../../d4/d0e/a01272.html#a8c42af138548d581382a9631a7d09f4b">humanNodePublic</a> ();</div>
<div class="line"><a name="l02206"></a><span class="lineno"> 2206</span>&#160;</div>
<div class="line"><a name="l02207"></a><span class="lineno"> 2207</span>&#160;</div>
<div class="line"><a name="l02208"></a><span class="lineno"> 2208</span>&#160;    info[<span class="stringliteral">&quot;complete_ledgers&quot;</span>] = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104">getLedgerMaster</a> ().<a class="code" href="../../d1/de6/a00837.html#a5d4563a377393b7350c8a6faa42a7076">getCompleteLedgers</a> ();</div>
<div class="line"><a name="l02209"></a><span class="lineno"> 2209</span>&#160;</div>
<div class="line"><a name="l02210"></a><span class="lineno"> 2210</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#a492366ff8770557052effe9758495427">mFeatureBlocked</a>)</div>
<div class="line"><a name="l02211"></a><span class="lineno"> 2211</span>&#160;        info[<span class="stringliteral">&quot;feature_blocked&quot;</span>] = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02212"></a><span class="lineno"> 2212</span>&#160;</div>
<div class="line"><a name="l02213"></a><span class="lineno"> 2213</span>&#160;    <span class="keywordtype">size_t</span> fp = <a class="code" href="../../d7/ded/a01009.html#a504786cda9d676e308f54fe40f7d6d83">mFetchPack</a>.<a class="code" href="../../dd/d55/a01638.html#a9a369129f78f547618f34285496d93a5">getCacheSize</a> ();</div>
<div class="line"><a name="l02214"></a><span class="lineno"> 2214</span>&#160;</div>
<div class="line"><a name="l02215"></a><span class="lineno"> 2215</span>&#160;    <span class="keywordflow">if</span> (fp != 0)</div>
<div class="line"><a name="l02216"></a><span class="lineno"> 2216</span>&#160;        info[<span class="stringliteral">&quot;fetch_pack&quot;</span>] = <a class="code" href="../../d2/dd6/a03414.html#a800fb90eb6ee8d5d62b600c06f87f7d4">Json::UInt</a> (fp);</div>
<div class="line"><a name="l02217"></a><span class="lineno"> 2217</span>&#160;</div>
<div class="line"><a name="l02218"></a><span class="lineno"> 2218</span>&#160;    info[<span class="stringliteral">&quot;peers&quot;</span>] = <a class="code" href="../../d2/dd6/a03414.html#a800fb90eb6ee8d5d62b600c06f87f7d4">Json::UInt</a> (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a> ().overlay ().size ());</div>
<div class="line"><a name="l02219"></a><span class="lineno"> 2219</span>&#160;</div>
<div class="line"><a name="l02220"></a><span class="lineno"> 2220</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> lastClose = <a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>;</div>
<div class="line"><a name="l02221"></a><span class="lineno"> 2221</span>&#160;    lastClose[<span class="stringliteral">&quot;proposers&quot;</span>] = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a7c963aa5c47180b24897ff6b5622e5bc">getOPs</a> ().<a class="code" href="../../dd/dac/a01008.html#a6311e4617a8bcc390e3a6ddd6ab9d8a1">getPreviousProposers</a> ();</div>
<div class="line"><a name="l02222"></a><span class="lineno"> 2222</span>&#160;</div>
<div class="line"><a name="l02223"></a><span class="lineno"> 2223</span>&#160;    <span class="keywordflow">if</span> (human)</div>
<div class="line"><a name="l02224"></a><span class="lineno"> 2224</span>&#160;        lastClose[<span class="stringliteral">&quot;converge_time_s&quot;</span>] = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span> (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a7c963aa5c47180b24897ff6b5622e5bc">getOPs</a> ().<a class="code" href="../../dd/dac/a01008.html#a7235210c8455553bc11764b0ccbfc4b8">getPreviousConvergeTime</a> ()) / 1000.0;</div>
<div class="line"><a name="l02225"></a><span class="lineno"> 2225</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02226"></a><span class="lineno"> 2226</span>&#160;        lastClose[<span class="stringliteral">&quot;converge_time&quot;</span>] = <a class="code" href="../../d2/dd6/a03414.html#a08122e8005b706d982e48cca1e2119c7">Json::Int</a> (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getOPs ().<a class="code" href="../../d7/ded/a01009.html#a8ff2ddd9c5ebf0747b936eb92a566f68">getPreviousConvergeTime</a> ());</div>
<div class="line"><a name="l02227"></a><span class="lineno"> 2227</span>&#160;</div>
<div class="line"><a name="l02228"></a><span class="lineno"> 2228</span>&#160;    info[<span class="stringliteral">&quot;last_close&quot;</span>] = lastClose;</div>
<div class="line"><a name="l02229"></a><span class="lineno"> 2229</span>&#160;</div>
<div class="line"><a name="l02230"></a><span class="lineno"> 2230</span>&#160;    <span class="comment">//  if (mConsensus)</span></div>
<div class="line"><a name="l02231"></a><span class="lineno"> 2231</span>&#160;    <span class="comment">//      info[&quot;consensus&quot;] = mConsensus-&gt;getJson();</span></div>
<div class="line"><a name="l02232"></a><span class="lineno"> 2232</span>&#160;</div>
<div class="line"><a name="l02233"></a><span class="lineno"> 2233</span>&#160;    <span class="keywordflow">if</span> (admin)</div>
<div class="line"><a name="l02234"></a><span class="lineno"> 2234</span>&#160;        info[<span class="stringliteral">&quot;load&quot;</span>] = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c">getJobQueue</a> ().<a class="code" href="../../dc/d0c/a00783.html#ae9480d2b8de81788b0d4adb8b5eb517d">getJson</a> ();</div>
<div class="line"><a name="l02235"></a><span class="lineno"> 2235</span>&#160;</div>
<div class="line"><a name="l02236"></a><span class="lineno"> 2236</span>&#160;    <span class="keywordflow">if</span> (!human)</div>
<div class="line"><a name="l02237"></a><span class="lineno"> 2237</span>&#160;    {</div>
<div class="line"><a name="l02238"></a><span class="lineno"> 2238</span>&#160;        info[<span class="stringliteral">&quot;load_base&quot;</span>] = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb">getFeeTrack</a> ().<a class="code" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0">getLoadBase</a> ();</div>
<div class="line"><a name="l02239"></a><span class="lineno"> 2239</span>&#160;        info[<span class="stringliteral">&quot;load_factor&quot;</span>] = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb">getFeeTrack</a> ().<a class="code" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac">getLoadFactor</a> ();</div>
<div class="line"><a name="l02240"></a><span class="lineno"> 2240</span>&#160;    }</div>
<div class="line"><a name="l02241"></a><span class="lineno"> 2241</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02242"></a><span class="lineno"> 2242</span>&#160;    {</div>
<div class="line"><a name="l02243"></a><span class="lineno"> 2243</span>&#160;        info[<span class="stringliteral">&quot;load_factor&quot;</span>] =</div>
<div class="line"><a name="l02244"></a><span class="lineno"> 2244</span>&#160;            <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span> (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb">getFeeTrack</a> ().<a class="code" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac">getLoadFactor</a> ()) / <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb">getFeeTrack</a> ().<a class="code" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0">getLoadBase</a> ();</div>
<div class="line"><a name="l02245"></a><span class="lineno"> 2245</span>&#160;        <span class="keywordflow">if</span> (admin)</div>
<div class="line"><a name="l02246"></a><span class="lineno"> 2246</span>&#160;        {</div>
<div class="line"><a name="l02247"></a><span class="lineno"> 2247</span>&#160;            <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> <a class="code" href="../../dc/d40/a02767.html#a70ff0f6c026c3dd1ef6aaf504e7fddc3">base</a> = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb">getFeeTrack</a>().<a class="code" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0">getLoadBase</a>();</div>
<div class="line"><a name="l02248"></a><span class="lineno"> 2248</span>&#160;            <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> fee = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb">getFeeTrack</a>().<a class="code" href="../../dd/d94/a00888.html#a2decb7776fedd18133c9091bd27b586e">getLocalFee</a>();</div>
<div class="line"><a name="l02249"></a><span class="lineno"> 2249</span>&#160;            <span class="keywordflow">if</span> (fee != base)</div>
<div class="line"><a name="l02250"></a><span class="lineno"> 2250</span>&#160;                info[<span class="stringliteral">&quot;load_factor_local&quot;</span>] =</div>
<div class="line"><a name="l02251"></a><span class="lineno"> 2251</span>&#160;                    <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span> (fee) / base;</div>
<div class="line"><a name="l02252"></a><span class="lineno"> 2252</span>&#160;            fee = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb">getFeeTrack</a> ().<a class="code" href="../../dd/d94/a00888.html#a7ddf1a6ed010b02c5503a951a54b66ea">getRemoteFee</a>();</div>
<div class="line"><a name="l02253"></a><span class="lineno"> 2253</span>&#160;            <span class="keywordflow">if</span> (fee != base)</div>
<div class="line"><a name="l02254"></a><span class="lineno"> 2254</span>&#160;                info[<span class="stringliteral">&quot;load_factor_net&quot;</span>] =</div>
<div class="line"><a name="l02255"></a><span class="lineno"> 2255</span>&#160;                    <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span> (fee) / base;</div>
<div class="line"><a name="l02256"></a><span class="lineno"> 2256</span>&#160;            fee = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb">getFeeTrack</a>().<a class="code" href="../../dd/d94/a00888.html#a0e457e2372945983ccce83cc9c4cdf85">getClusterFee</a>();</div>
<div class="line"><a name="l02257"></a><span class="lineno"> 2257</span>&#160;            <span class="keywordflow">if</span> (fee != base)</div>
<div class="line"><a name="l02258"></a><span class="lineno"> 2258</span>&#160;                info[<span class="stringliteral">&quot;load_factor_cluster&quot;</span>] =</div>
<div class="line"><a name="l02259"></a><span class="lineno"> 2259</span>&#160;                    <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span> (fee) / base;</div>
<div class="line"><a name="l02260"></a><span class="lineno"> 2260</span>&#160;        }</div>
<div class="line"><a name="l02261"></a><span class="lineno"> 2261</span>&#160;    }</div>
<div class="line"><a name="l02262"></a><span class="lineno"> 2262</span>&#160;</div>
<div class="line"><a name="l02263"></a><span class="lineno"> 2263</span>&#160;    <span class="keywordtype">bool</span> valid = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02264"></a><span class="lineno"> 2264</span>&#160;    <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> lpClosed    = <a class="code" href="../../d7/ded/a01009.html#a7553efb859bf5c3c7650c348cd1358c1">getValidatedLedger</a> ();</div>
<div class="line"><a name="l02265"></a><span class="lineno"> 2265</span>&#160;</div>
<div class="line"><a name="l02266"></a><span class="lineno"> 2266</span>&#160;    <span class="keywordflow">if</span> (lpClosed)</div>
<div class="line"><a name="l02267"></a><span class="lineno"> 2267</span>&#160;        valid = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02268"></a><span class="lineno"> 2268</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02269"></a><span class="lineno"> 2269</span>&#160;        lpClosed                = <a class="code" href="../../d7/ded/a01009.html#aec6ae911b1a26de68fa443c9b55b5727">getClosedLedger</a> ();</div>
<div class="line"><a name="l02270"></a><span class="lineno"> 2270</span>&#160;</div>
<div class="line"><a name="l02271"></a><span class="lineno"> 2271</span>&#160;    <span class="keywordflow">if</span> (lpClosed)</div>
<div class="line"><a name="l02272"></a><span class="lineno"> 2272</span>&#160;    {</div>
<div class="line"><a name="l02273"></a><span class="lineno"> 2273</span>&#160;        <a class="code" href="../../db/d86/a02663.html#aaa5d1cd013383c889537491c3cfd9aad">std::uint64_t</a> baseFee = lpClosed-&gt;getBaseFee ();</div>
<div class="line"><a name="l02274"></a><span class="lineno"> 2274</span>&#160;        <a class="code" href="../../db/d86/a02663.html#aaa5d1cd013383c889537491c3cfd9aad">std::uint64_t</a> baseRef = lpClosed-&gt;getReferenceFeeUnits ();</div>
<div class="line"><a name="l02275"></a><span class="lineno"> 2275</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> l (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l02276"></a><span class="lineno"> 2276</span>&#160;        l[<span class="stringliteral">&quot;seq&quot;</span>]                = <a class="code" href="../../d2/dd6/a03414.html#a800fb90eb6ee8d5d62b600c06f87f7d4">Json::UInt</a> (lpClosed-&gt;getLedgerSeq ());</div>
<div class="line"><a name="l02277"></a><span class="lineno"> 2277</span>&#160;        l[<span class="stringliteral">&quot;hash&quot;</span>]               = lpClosed-&gt;getHash ().GetHex ();</div>
<div class="line"><a name="l02278"></a><span class="lineno"> 2278</span>&#160;</div>
<div class="line"><a name="l02279"></a><span class="lineno"> 2279</span>&#160;        <span class="keywordflow">if</span> (!human)</div>
<div class="line"><a name="l02280"></a><span class="lineno"> 2280</span>&#160;        {</div>
<div class="line"><a name="l02281"></a><span class="lineno"> 2281</span>&#160;            l[<span class="stringliteral">&quot;base_fee&quot;</span>]       = <a class="code" href="../../d6/d27/a01781.html#a0933d59b45793ae4aade1757c322a98d">Json::Value::UInt</a> (baseFee);</div>
<div class="line"><a name="l02282"></a><span class="lineno"> 2282</span>&#160;            l[<span class="stringliteral">&quot;reserve_base&quot;</span>]   = <a class="code" href="../../d6/d27/a01781.html#a0933d59b45793ae4aade1757c322a98d">Json::Value::UInt</a> (lpClosed-&gt;getReserve (0));</div>
<div class="line"><a name="l02283"></a><span class="lineno"> 2283</span>&#160;            l[<span class="stringliteral">&quot;reserve_inc&quot;</span>]    = <a class="code" href="../../d6/d27/a01781.html#a0933d59b45793ae4aade1757c322a98d">Json::Value::UInt</a> (lpClosed-&gt;getReserveInc ());</div>
<div class="line"><a name="l02284"></a><span class="lineno"> 2284</span>&#160;            l[<span class="stringliteral">&quot;close_time&quot;</span>]     = <a class="code" href="../../d6/d27/a01781.html#a0933d59b45793ae4aade1757c322a98d">Json::Value::UInt</a> (lpClosed-&gt;getCloseTimeNC ());</div>
<div class="line"><a name="l02285"></a><span class="lineno"> 2285</span>&#160;        }</div>
<div class="line"><a name="l02286"></a><span class="lineno"> 2286</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02287"></a><span class="lineno"> 2287</span>&#160;        {</div>
<div class="line"><a name="l02288"></a><span class="lineno"> 2288</span>&#160;            l[<span class="stringliteral">&quot;base_fee_xrp&quot;</span>]       = <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span> (baseFee) / <a class="code" href="../../d2/db9/a01926.html#a13bcc9c1d614718ed647f28013089f5e">SYSTEM_CURRENCY_PARTS</a>;</div>
<div class="line"><a name="l02289"></a><span class="lineno"> 2289</span>&#160;            l[<span class="stringliteral">&quot;reserve_base_xrp&quot;</span>]   =</div>
<div class="line"><a name="l02290"></a><span class="lineno"> 2290</span>&#160;                <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span> (<a class="code" href="../../d2/dd6/a03414.html#a800fb90eb6ee8d5d62b600c06f87f7d4">Json::UInt</a> (lpClosed-&gt;getReserve (0) * baseFee / baseRef)) / <a class="code" href="../../d2/db9/a01926.html#a13bcc9c1d614718ed647f28013089f5e">SYSTEM_CURRENCY_PARTS</a>;</div>
<div class="line"><a name="l02291"></a><span class="lineno"> 2291</span>&#160;            l[<span class="stringliteral">&quot;reserve_inc_xrp&quot;</span>]    =</div>
<div class="line"><a name="l02292"></a><span class="lineno"> 2292</span>&#160;                <span class="keyword">static_cast&lt;</span><span class="keywordtype">double</span><span class="keyword">&gt;</span> (<a class="code" href="../../d2/dd6/a03414.html#a800fb90eb6ee8d5d62b600c06f87f7d4">Json::UInt</a> (lpClosed-&gt;getReserveInc () * baseFee / baseRef)) / <a class="code" href="../../d2/db9/a01926.html#a13bcc9c1d614718ed647f28013089f5e">SYSTEM_CURRENCY_PARTS</a>;</div>
<div class="line"><a name="l02293"></a><span class="lineno"> 2293</span>&#160;</div>
<div class="line"><a name="l02294"></a><span class="lineno"> 2294</span>&#160;            <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> closeTime = <a class="code" href="../../d7/ded/a01009.html#a67d834a967ca92edbfa11ba6aefbdf53">getCloseTimeNC</a> ();</div>
<div class="line"><a name="l02295"></a><span class="lineno"> 2295</span>&#160;            <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> lCloseTime = lpClosed-&gt;getCloseTimeNC ();</div>
<div class="line"><a name="l02296"></a><span class="lineno"> 2296</span>&#160;</div>
<div class="line"><a name="l02297"></a><span class="lineno"> 2297</span>&#160;            <span class="keywordflow">if</span> (lCloseTime &lt;= closeTime)</div>
<div class="line"><a name="l02298"></a><span class="lineno"> 2298</span>&#160;            {</div>
<div class="line"><a name="l02299"></a><span class="lineno"> 2299</span>&#160;                <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> age = closeTime - lCloseTime;</div>
<div class="line"><a name="l02300"></a><span class="lineno"> 2300</span>&#160;</div>
<div class="line"><a name="l02301"></a><span class="lineno"> 2301</span>&#160;                <span class="keywordflow">if</span> (age &lt; 1000000)</div>
<div class="line"><a name="l02302"></a><span class="lineno"> 2302</span>&#160;                    l[<span class="stringliteral">&quot;age&quot;</span>]            = <a class="code" href="../../d2/dd6/a03414.html#a800fb90eb6ee8d5d62b600c06f87f7d4">Json::UInt</a> (age);</div>
<div class="line"><a name="l02303"></a><span class="lineno"> 2303</span>&#160;            }</div>
<div class="line"><a name="l02304"></a><span class="lineno"> 2304</span>&#160;        }</div>
<div class="line"><a name="l02305"></a><span class="lineno"> 2305</span>&#160;</div>
<div class="line"><a name="l02306"></a><span class="lineno"> 2306</span>&#160;        <span class="keywordflow">if</span> (valid)</div>
<div class="line"><a name="l02307"></a><span class="lineno"> 2307</span>&#160;            info[<span class="stringliteral">&quot;validated_ledger&quot;</span>] = l;</div>
<div class="line"><a name="l02308"></a><span class="lineno"> 2308</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02309"></a><span class="lineno"> 2309</span>&#160;            info[<span class="stringliteral">&quot;closed_ledger&quot;</span>] = l;</div>
<div class="line"><a name="l02310"></a><span class="lineno"> 2310</span>&#160;</div>
<div class="line"><a name="l02311"></a><span class="lineno"> 2311</span>&#160;        <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> lpPublished = <a class="code" href="../../d7/ded/a01009.html#a0579facd11b78a1040058f91443a5957">getPublishedLedger</a> ();</div>
<div class="line"><a name="l02312"></a><span class="lineno"> 2312</span>&#160;        <span class="keywordflow">if</span> (!lpPublished)</div>
<div class="line"><a name="l02313"></a><span class="lineno"> 2313</span>&#160;            info[<span class="stringliteral">&quot;published_ledger&quot;</span>] = <span class="stringliteral">&quot;none&quot;</span>;</div>
<div class="line"><a name="l02314"></a><span class="lineno"> 2314</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (lpPublished-&gt;getLedgerSeq() != lpClosed-&gt;getLedgerSeq())</div>
<div class="line"><a name="l02315"></a><span class="lineno"> 2315</span>&#160;            info[<span class="stringliteral">&quot;published_ledger&quot;</span>] = lpPublished-&gt;getLedgerSeq();</div>
<div class="line"><a name="l02316"></a><span class="lineno"> 2316</span>&#160;    }</div>
<div class="line"><a name="l02317"></a><span class="lineno"> 2317</span>&#160;</div>
<div class="line"><a name="l02318"></a><span class="lineno"> 2318</span>&#160;    <span class="keywordflow">return</span> info;</div>
<div class="line"><a name="l02319"></a><span class="lineno"> 2319</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a356932367043b41df75358206d0b5b36_cgraph.png" border="0" usemap="#d7/ded/a01009_a356932367043b41df75358206d0b5b36_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a356932367043b41df75358206d0b5b36_cgraph" id="d7/ded/a01009_a356932367043b41df75358206d0b5b36_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="687,69,788,98"/><area shape="rect" id="node7" href="../../dd/d55/a01638.html#a9a369129f78f547618f34285496d93a5" title="ripple::TaggedCache\l::getCacheSize" alt="" coords="235,82,376,128"/><area shape="rect" id="node9" href="../../d7/ded/a01009.html#aec6ae911b1a26de68fa443c9b55b5727" title="ripple::NetworkOPsImp\l::getClosedLedger" alt="" coords="227,151,384,198"/><area shape="rect" id="node13" href="../../d7/ded/a01009.html#a67d834a967ca92edbfa11ba6aefbdf53" title="ripple::NetworkOPsImp\l::getCloseTimeNC" alt="" coords="227,220,384,267"/><area shape="rect" id="node24" href="../../dd/d94/a00888.html#a0e457e2372945983ccce83cc9c4cdf85" title="ripple::LoadFeeTrack\l::getClusterFee" alt="" coords="233,290,377,336"/><area shape="rect" id="node26" href="../../d1/de6/a00837.html#a5d4563a377393b7350c8a6faa42a7076" title="ripple::LedgerMaster\l::getCompleteLedgers" alt="" coords="231,359,380,406"/><area shape="rect" id="node28" href="../../dd/dda/a01621.html#a241e2157841464c2e552035974d0926d" title="beast::SystemStats\l::getComputerName" alt="" coords="236,428,375,475"/><area shape="rect" id="node30" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d" title="ripple::getConfig" alt="" coords="247,498,364,528"/><area shape="rect" id="node32" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb" title="ripple::Application\l::getFeeTrack" alt="" coords="243,551,368,598"/><area shape="rect" id="node34" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c" title="ripple::Application\l::getJobQueue" alt="" coords="243,620,368,667"/><area shape="rect" id="node36" href="../../dc/d0c/a00783.html#ae9480d2b8de81788b0d4adb8b5eb517d" title="ripple::JobQueue::getJson" alt="" coords="219,690,392,720"/><area shape="rect" id="node38" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="243,743,368,790"/><area shape="rect" id="node40" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0" title="ripple::LoadFeeTrack\l::getLoadBase" alt="" coords="233,812,377,859"/><area shape="rect" id="node42" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac" title="ripple::LoadFeeTrack\l::getLoadFactor" alt="" coords="233,882,377,928"/><area shape="rect" id="node44" href="../../da/d74/a00099.html#ac95c5f6db4db8575632193495189a702" title="ripple::Application\l::getLocalCredentials" alt="" coords="233,951,377,998"/><area shape="rect" id="node46" href="../../dd/d94/a00888.html#a2decb7776fedd18133c9091bd27b586e" title="ripple::LoadFeeTrack\l::getLocalFee" alt="" coords="233,1020,377,1067"/><area shape="rect" id="node48" href="../../d1/de6/a00837.html#aa7961e4d96dba24b272e032d00b2e512" title="ripple::LedgerMaster\l::getMinValidations" alt="" coords="236,1090,375,1136"/><area shape="rect" id="node50" href="../../dc/dfa/a00894.html#af67a14f58bffac4bd931722ecbd316d9" title="ripple::LocalCredentials\l::getNodePublic" alt="" coords="227,1159,384,1206"/><area shape="rect" id="node52" href="../../da/d74/a00099.html#a7c963aa5c47180b24897ff6b5622e5bc" title="ripple::Application\l::getOPs" alt="" coords="243,1228,368,1275"/><area shape="rect" id="node54" href="../../dd/dac/a01008.html#a7235210c8455553bc11764b0ccbfc4b8" title="ripple::NetworkOPs\l::getPreviousConvergeTime" alt="" coords="213,1298,397,1344"/><area shape="rect" id="node56" href="../../d7/ded/a01009.html#a8ff2ddd9c5ebf0747b936eb92a566f68" title="ripple::NetworkOPsImp\l::getPreviousConvergeTime" alt="" coords="213,1367,397,1414"/><area shape="rect" id="node58" href="../../dd/dac/a01008.html#a6311e4617a8bcc390e3a6ddd6ab9d8a1" title="ripple::NetworkOPs\l::getPreviousProposers" alt="" coords="227,1436,384,1483"/><area shape="rect" id="node60" href="../../d7/ded/a01009.html#a0579facd11b78a1040058f91443a5957" title="ripple::NetworkOPsImp\l::getPublishedLedger" alt="" coords="227,1506,384,1552"/><area shape="rect" id="node64" href="../../dd/d94/a00888.html#a7ddf1a6ed010b02c5503a951a54b66ea" title="ripple::LoadFeeTrack\l::getRemoteFee" alt="" coords="233,1575,377,1622"/><area shape="rect" id="node66" href="../../d7/ded/a01009.html#a7553efb859bf5c3c7650c348cd1358c1" title="ripple::NetworkOPsImp\l::getValidatedLedger" alt="" coords="227,1644,384,1691"/><area shape="rect" id="node70" href="../../d9/d21/a00240.html#a80b754f88de55fe3c9c98b3a92b7a889" title="ripple::BuildInfo::\lgetVersionString" alt="" coords="245,1714,365,1760"/><area shape="rect" id="node97" href="../../dc/dd9/a01268.html#a115d4c2b256e78161d3de89f14aa6614" title="ripple::RFC1751::getWord\lFromBlob" alt="" coords="219,1783,392,1830"/><area shape="rect" id="node101" href="../../d4/d0e/a01272.html#a8c42af138548d581382a9631a7d09f4b" title="ripple::RippleAddress\l::humanNodePublic" alt="" coords="232,1852,379,1899"/><area shape="rect" id="node105" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f" title="ripple::NetworkOPsImp\l::strOperatingMode" alt="" coords="227,1922,384,1968"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="868,60,1044,107"/><area shape="rect" id="node11" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="457,120,596,167"/><area shape="rect" id="node15" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a" title="ripple::NetworkOPsImp\l::getNetworkTimePT" alt="" coords="448,190,605,236"/><area shape="rect" id="node20" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7" title="ripple::iToSeconds" alt="" coords="461,260,592,289"/><area shape="rect" id="node18" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678" title="ripple::Application\l::getSystemTimeOffset" alt="" coords="659,190,816,236"/><area shape="rect" id="node22" href="../../d9/d9d/a03417.html#a00572ed03b233ecd42f36357a395c163" title="ripple::ptEpoch" alt="" coords="683,260,792,289"/><area shape="rect" id="node62" href="../../d1/de6/a00837.html#ab68f28d77183efd613919b589d85e330" title="ripple::LedgerMaster\l::getPublishedLedger" alt="" coords="455,1506,599,1552"/><area shape="rect" id="node68" href="../../d1/de6/a00837.html#a2e32e5b06d5b855f57a7d4fb3d25c05e" title="ripple::LedgerMaster\l::getValidatedLedger" alt="" coords="456,1575,597,1622"/><area shape="rect" id="node72" href="../../d9/d21/a00240.html#a2bdfe61b145144be0ba62b16472c6909" title="ripple::BuildInfo::\lgetRawVersionString" alt="" coords="455,1783,599,1830"/><area shape="rect" id="node74" href="../../db/dec/a01337.html#ab8a5b4827dbfb018094309d5b00d66b4" title="beast::SemanticVersion\l::parse" alt="" coords="447,1644,607,1691"/><area shape="rect" id="node94" href="../../db/dec/a01337.html#a55141d0680aad1e74e80c7284a1195a2" title="beast::SemanticVersion\l::print" alt="" coords="447,1714,607,1760"/><area shape="rect" id="node76" href="../../db/dec/a01337.html#ad051dcee3e3d35949b530c6fc430e666" title="beast::SemanticVersion\l::chop" alt="" coords="876,1675,1036,1722"/><area shape="rect" id="node78" href="../../d1/d88/a01578.html#a0f26ba48e146890e3ea290b726679810" title="beast::String::length" alt="" coords="1093,1570,1232,1600"/><area shape="rect" id="node80" href="../../db/dec/a01337.html#a92a95cfb9df7b7cee0aa4fea1a19d35b" title="beast::SemanticVersion\l::chopIdentifiers" alt="" coords="657,1675,817,1722"/><area shape="rect" id="node84" href="../../db/dec/a01337.html#af19c285e7ca95e36833b42b4fb85e063" title="beast::SemanticVersion\l::chopUInt" alt="" coords="876,1527,1036,1574"/><area shape="rect" id="node88" href="../../d9/d9d/a03417.html#a975c0f5f2493f00dbf15e444b085d785" title="ripple::max" alt="" coords="695,1569,780,1598"/><area shape="rect" id="node90" href="../../d9/d1b/a01583.html#a79ae01dc8942445936fc28142244087a" title="beast::StringArray\l::size" alt="" coords="675,1795,800,1842"/><area shape="rect" id="node92" href="../../d1/d88/a01578.html#ab8baa692e7d0672bc74e0dd95755775b" title="beast::String::trim" alt="" coords="675,1622,800,1652"/><area shape="rect" id="node99" href="../../d1/d01/a03375.html#aa6352657febb68ca85bd492de6f4d09b" title="beast::Murmur::Hash" alt="" coords="455,1853,599,1882"/><area shape="rect" id="node103" href="../../d9/d39/a00257.html#a18a7bfe8bbf61262472b03f1dfe5c887" title="ripple::CBase58Data\l::ToString" alt="" coords="456,1906,597,1952"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a25005201414a5486284d8423b1fa4833"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d54/a01344.html#abf05184c020b05e80bdf996c9bee96eb">SLE::pointer</a> ripple::NetworkOPsImp::getSLE </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>&#160;</td>
          <td class="paramname"><em>lpLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;&#160;</td>
          <td class="paramname"><em>uHash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a11d18759f1efeba838eed16764164986">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00152">152</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;    {</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;        <span class="keywordflow">return</span> lpLedger-&gt;getSLE (uHash);</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a6332c64416f5a96a6911e3b13f05679e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dc/d54/a01344.html#abf05184c020b05e80bdf996c9bee96eb">SLE::pointer</a> ripple::NetworkOPsImp::getSLEi </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>&#160;</td>
          <td class="paramname"><em>lpLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;&#160;</td>
          <td class="paramname"><em>uHash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#ac46448620aab70b2a6cd2e960f679cf5">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00156">156</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>
<div class="fragment"><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;    {</div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;        <span class="keywordflow">return</span> lpLedger-&gt;getSLEi (uHash);</div>
<div class="line"><a name="l00159"></a><span class="lineno">  159</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7fc7ee8501f9d95df97583cabf3b4771"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/dfe/a01366.html#a863e0d49cf8941071ae4a0b0e4d44eca">SHAMap::pointer</a> ripple::NetworkOPsImp::getTXMap </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;&#160;</td>
          <td class="paramname"><em>hash</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a67a88c8b91ba3778133a762054558bcc">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01577">1577</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l01483">haveConsensusObject()</a>, <a class="el" href="../../d6/d0b/a02741_source.html#l01359">rocksdb::if()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00476">mConsensus</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00493">mRecentPositions</a>.</p>
<div class="fragment"><div class="line"><a name="l01578"></a><span class="lineno"> 1578</span>&#160;{</div>
<div class="line"><a name="l01579"></a><span class="lineno"> 1579</span>&#160;    std::map&lt;uint256, std::pair&lt;int, SHAMap::pointer&gt; &gt;::iterator it = <a class="code" href="../../d7/ded/a01009.html#a26cb1d76498df9d9f76024bedbfe2262">mRecentPositions</a>.find (<a class="code" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>);</div>
<div class="line"><a name="l01580"></a><span class="lineno"> 1580</span>&#160;</div>
<div class="line"><a name="l01581"></a><span class="lineno"> 1581</span>&#160;    <span class="keywordflow">if</span> (it != <a class="code" href="../../d7/ded/a01009.html#a26cb1d76498df9d9f76024bedbfe2262">mRecentPositions</a>.end ())</div>
<div class="line"><a name="l01582"></a><span class="lineno"> 1582</span>&#160;        <span class="keywordflow">return</span> it-&gt;second.second;</div>
<div class="line"><a name="l01583"></a><span class="lineno"> 1583</span>&#160;</div>
<div class="line"><a name="l01584"></a><span class="lineno"> 1584</span>&#160;    <a class="code" href="../../d4/d87/a03436.html#a6f17c6df7ce20ec52aecef2475cd4158">if</a> (!<a class="code" href="../../d7/ded/a01009.html#ac929d58ce61af6b87922103bf3da3039">haveConsensusObject</a> ())</div>
<div class="line"><a name="l01585"></a><span class="lineno"> 1585</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d6/dfe/a01366.html#a863e0d49cf8941071ae4a0b0e4d44eca">SHAMap::pointer</a> ();</div>
<div class="line"><a name="l01586"></a><span class="lineno"> 1586</span>&#160;</div>
<div class="line"><a name="l01587"></a><span class="lineno"> 1587</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a>-&gt;getTransactionTree (<a class="code" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01588"></a><span class="lineno"> 1588</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a7fc7ee8501f9d95df97583cabf3b4771_cgraph.png" border="0" usemap="#d7/ded/a01009_a7fc7ee8501f9d95df97583cabf3b4771_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a7fc7ee8501f9d95df97583cabf3b4771_cgraph" id="d7/ded/a01009_a7fc7ee8501f9d95df97583cabf3b4771_cgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#ac929d58ce61af6b87922103bf3da3039" title="ripple::NetworkOPsImp\l::haveConsensusObject" alt="" coords="213,929,376,975"/><area shape="rect" id="node116" href="../../d4/d87/a03436.html#a6f17c6df7ce20ec52aecef2475cd4158" title="rocksdb::if" alt="" coords="253,1192,336,1221"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a6a3776d980baee062b961c0195bc43be" title="ripple::NetworkOPsImp\l::tryStartConsensus" alt="" coords="451,1010,608,1057"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#ad72f54405ed9b8219022e8c2b7796c98" title="ripple::NetworkOPsImp\l::checkLastClosedLedger" alt="" coords="717,629,888,675"/><area shape="rect" id="node15" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="1713,988,1815,1017"/><area shape="rect" id="node41" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40" title="ripple::NetworkOPsImp\l::setMode" alt="" coords="995,1282,1152,1329"/><area shape="rect" id="node85" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee" title="ripple::Application\l::overlay" alt="" coords="1251,65,1376,111"/><area shape="rect" id="node89" href="../../de/de6/a01063.html#a5b8ee783b77679fb2fad2543ab521a90" title="ripple::Overlay::getActive\lPeers" alt="" coords="1452,77,1620,123"/><area shape="rect" id="node95" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8" title="ripple::LedgerMaster\l::getCurrentLedger" alt="" coords="1004,1351,1143,1398"/><area shape="rect" id="node97" href="../../d7/ded/a01009.html#a0a714120f440d54c69a4a39e803f9d1a" title="ripple::NetworkOPsImp\l::beginConsensus" alt="" coords="724,1105,881,1151"/><area shape="rect" id="node109" href="../../d7/ded/a01009.html#abdde224cfc7141d0eace3b9d2158b741" title="ripple::NetworkOPsImp\l::getPreviousProposers" alt="" coords="451,749,608,795"/><area shape="rect" id="node111" href="../../d1/de6/a00837.html#aa7961e4d96dba24b272e032d00b2e512" title="ripple::LedgerMaster\l::getMinValidations" alt="" coords="460,818,599,865"/><area shape="rect" id="node39" href="../../d7/d9a/a00152.html#a25e873c7d069c6c2d44655736f2b6c21" title="ripple::base_uint::\lisZero" alt="" coords="1251,894,1376,941"/><area shape="rect" id="node68" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef" title="ripple::NetworkOPsImp\l::getNetworkTimeNC" alt="" coords="1235,718,1392,765"/><area shape="rect" id="node9" href="../../d7/ded/a01009.html#a08d1779d5bb2a06bdbaeabdac2ba3ed8" title="ripple::NetworkOPsImp\l::clearNeedNetworkLedger" alt="" coords="1225,499,1401,546"/><area shape="rect" id="node11" href="../../d8/d86/a00703.html#aa8378c07e914d43964d816ee1ac8d1dd" title="ripple::InboundLedgers\l::dropLedger" alt="" coords="997,439,1149,486"/><area shape="rect" id="node13" href="../../d8/d86/a00703.html#a6f59efd378b35314541b4d5c76cd905a" title="ripple::InboundLedgers\l::findCreate" alt="" coords="997,629,1149,675"/><area shape="rect" id="node19" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="1004,1159,1143,1206"/><area shape="rect" id="node21" href="../../d3/dac/a01777.html#abc7c7eb0126fa15e409f282c515dae85" title="ripple::Validations\l::getCurrentValidations" alt="" coords="996,698,1151,745"/><area shape="rect" id="node23" href="../../da/d74/a00099.html#a6d349a4ada03689eae062c0399762dad" title="ripple::Application\l::getInboundLedgers" alt="" coords="1004,93,1143,139"/><area shape="rect" id="node25" href="../../d1/de6/a00837.html#a71a21a539d63be51cada4d3c4e4c4030" title="ripple::LedgerMaster\l::getLedgerByHash" alt="" coords="1004,1090,1143,1137"/><area shape="rect" id="node27" href="../../da/d74/a00099.html#ac95c5f6db4db8575632193495189a702" title="ripple::Application\l::getLocalCredentials" alt="" coords="1001,162,1145,209"/><area shape="rect" id="node29" href="../../d4/d0e/a01272.html#abead041d13890ad9c8938c28f27f8ccd" title="ripple::RippleAddress\l::getNodeID" alt="" coords="1000,559,1147,606"/><area shape="rect" id="node33" href="../../dc/dfa/a00894.html#af67a14f58bffac4bd931722ecbd316d9" title="ripple::LocalCredentials\l::getNodePublic" alt="" coords="995,231,1152,278"/><area shape="rect" id="node35" href="../../da/d74/a00099.html#a4f3da0257883c463e0a561d7ba793dd4" title="ripple::Application\l::getValidations" alt="" coords="1011,301,1136,347"/><area shape="rect" id="node37" href="../../d7/d9a/a00152.html#a3fa11a064a87fe4e970f00d661287dd2" title="ripple::base_uint::\lisNonZero" alt="" coords="1011,869,1136,915"/><area shape="rect" id="node62" href="../../d7/ded/a01009.html#a03e21ff22be1d31dbe08f81deb590ece" title="ripple::NetworkOPsImp\l::switchLastClosedLedger" alt="" coords="987,370,1160,417"/><area shape="rect" id="node17" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="1908,979,2084,1026"/><area shape="rect" id="node31" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="1257,569,1369,599"/><area shape="rect" id="node44" href="../../d4/d87/a03436.html#a437c68f3299fa632d4a1694059fd6ddb" title="rocksdb::Log" alt="" coords="1265,1351,1361,1380"/><area shape="rect" id="node46" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f" title="ripple::NetworkOPsImp\l::strOperatingMode" alt="" coords="1457,1141,1615,1187"/><area shape="rect" id="node48" href="../../d7/ded/a01009.html#a768673e1643af3147b10b4d99aca8caf" title="ripple::NetworkOPsImp\l::pubServer" alt="" coords="1235,1281,1392,1327"/><area shape="rect" id="node52" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb" title="ripple::Application\l::getFeeTrack" alt="" coords="1473,1453,1599,1499"/><area shape="rect" id="node54" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0" title="ripple::LoadFeeTrack\l::getLoadBase" alt="" coords="1464,1210,1608,1257"/><area shape="rect" id="node56" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac" title="ripple::LoadFeeTrack\l::getLoadFactor" alt="" coords="1464,1279,1608,1326"/><area shape="rect" id="node58" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="1459,1400,1613,1429"/><area shape="rect" id="node60" href="../../d7/def/a00521.html#a2ef4a2ce13a341171f01f414f4fdd765" title="Json::FastWriter::writeValue" alt="" coords="1671,1400,1857,1429"/><area shape="rect" id="node65" href="../../d1/de6/a00837.html#af249e0b1768882343f37df9720aeb25d" title="ripple::LedgerMaster\l::switchLedgers" alt="" coords="1244,379,1383,426"/><area shape="rect" id="node79" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="1251,257,1376,303"/><area shape="rect" id="node83" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="1239,327,1388,356"/><area shape="rect" id="node87" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c" title="ripple::Overlay::foreach" alt="" coords="1235,180,1392,209"/><area shape="rect" id="node70" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a" title="ripple::NetworkOPsImp\l::getNetworkTimePT" alt="" coords="1457,749,1615,795"/><area shape="rect" id="node75" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7" title="ripple::iToSeconds" alt="" coords="1471,696,1601,725"/><area shape="rect" id="node73" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678" title="ripple::Application\l::getSystemTimeOffset" alt="" coords="1685,749,1843,795"/><area shape="rect" id="node77" href="../../d9/d9d/a03417.html#a00572ed03b233ecd42f36357a395c163" title="ripple::ptEpoch" alt="" coords="1709,696,1819,725"/><area shape="rect" id="node81" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1461,265,1611,295"/><area shape="rect" id="node102" href="../../d9/d9d/a03417.html#a3a7635ac808de39b7ba85e823182f93c" title="ripple::make_LedgerConsensus" alt="" coords="971,1229,1176,1259"/><area shape="rect" id="node118" href="../../da/d71/a00814.html#ab25c6d03dbcd6168b3ae3762dc98fd51" title="rocksdb::LDBCommandExecute\lResult::FAILED" alt="" coords="424,1377,635,1423"/><area shape="rect" id="node120" href="../../da/d71/a00814.html#ae4210d600639c8c6ac04486ebc43c39b" title="rocksdb::LDBCommandExecute\lResult::LDBCommandExecuteResult" alt="" coords="683,1377,923,1423"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a13e73e2120834b3a178cd047cefa7067"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; std::pair&lt; <a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a>, <a class="el" href="../../d1/da7/a01709.html#aa6169f45f954da1eae3fd72dd45f5849">TransactionMetaSet::pointer</a> &gt; &gt; ripple::NetworkOPsImp::getTxsAccount </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>account</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#ab1967d8591af1a4e48c37fd2b0f184d0">std::int32_t</a>&#160;</td>
          <td class="paramname"><em>minLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#ab1967d8591af1a4e48c37fd2b0f184d0">std::int32_t</a>&#160;</td>
          <td class="paramname"><em>maxLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>forward</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> &amp;&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bAdmin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a76507087b03e3b0cba89c1fb4e7abb91">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01914">1914</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../da/d23/a02452_source.html#l00825">Json::Value::asInt()</a>, <a class="el" href="../../dd/d61/a03197_source.html#l00174">ripple::Serializer::begin()</a>, <a class="el" href="../../db/d44/a02564_source.html#l02479">db</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d7/d07/a02892_source.html#l00122">ripple::Database::getBigInt()</a>, <a class="el" href="../../d7/d07/a02892_source.html#l00092">ripple::Database::getBinary()</a>, <a class="el" href="../../dd/d61/a03197_source.html#l00129">ripple::Serializer::getData()</a>, <a class="el" href="../../d2/d4c/a02897_source.html#l00032">ripple::DatabaseCon::getDB()</a>, <a class="el" href="../../d7/d07/a02892_source.html#l00056">ripple::Database::getInt()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00713">getLedgerBySeq()</a>, <a class="el" href="../../dd/d61/a03197_source.html#l00153">ripple::Serializer::getLength()</a>, <a class="el" href="../../da/d74/a00099.html#aed3322f9602bc688e68b14e8baff5440">ripple::Application::getTxnDB()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00317">ripple::RippleAddress::humanAccountID()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01450">Json::Value::isNull()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01515">Json::Value::isObject()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../de/d94/a02597_source.html#l00095">meta</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00032">Json::nullValue</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../dd/d61/a03197_source.html#l00198">ripple::Serializer::resize()</a>, <a class="el" href="../../dc/d38/a02894_source.html#l00027">SQL_FOREACH</a>, <a class="el" href="../../d6/d2a/a03062_source.html#l00139">ripple::Transaction::transactionFromSQL()</a>, and <a class="el" href="../../dd/d07/a02132_source.html#l00246">beast::Journal::warning</a>.</p>
<div class="fragment"><div class="line"><a name="l01917"></a><span class="lineno"> 1917</span>&#160;{</div>
<div class="line"><a name="l01918"></a><span class="lineno"> 1918</span>&#160;    std::vector&lt; std::pair&lt;Transaction::pointer, TransactionMetaSet::pointer&gt; &gt; ret;</div>
<div class="line"><a name="l01919"></a><span class="lineno"> 1919</span>&#160;</div>
<div class="line"><a name="l01920"></a><span class="lineno"> 1920</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> NONBINARY_PAGE_LENGTH = 200;</div>
<div class="line"><a name="l01921"></a><span class="lineno"> 1921</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> EXTRA_LENGTH = 20;</div>
<div class="line"><a name="l01922"></a><span class="lineno"> 1922</span>&#160;</div>
<div class="line"><a name="l01923"></a><span class="lineno"> 1923</span>&#160;    <span class="keywordtype">bool</span> foundResume = token.<a class="code" href="../../d6/d27/a01781.html#aeb9ad8b1bb91bdd72203dc884b3f4362">isNull</a>() || !token.<a class="code" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92">isObject</a>();</div>
<div class="line"><a name="l01924"></a><span class="lineno"> 1924</span>&#160;</div>
<div class="line"><a name="l01925"></a><span class="lineno"> 1925</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> numberOfResults, queryLimit;</div>
<div class="line"><a name="l01926"></a><span class="lineno"> 1926</span>&#160;    <span class="keywordflow">if</span> (limit &lt;= 0)</div>
<div class="line"><a name="l01927"></a><span class="lineno"> 1927</span>&#160;        numberOfResults = NONBINARY_PAGE_LENGTH;</div>
<div class="line"><a name="l01928"></a><span class="lineno"> 1928</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!bAdmin &amp;&amp; (limit &gt; NONBINARY_PAGE_LENGTH))</div>
<div class="line"><a name="l01929"></a><span class="lineno"> 1929</span>&#160;        numberOfResults = NONBINARY_PAGE_LENGTH;</div>
<div class="line"><a name="l01930"></a><span class="lineno"> 1930</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01931"></a><span class="lineno"> 1931</span>&#160;        numberOfResults = limit;</div>
<div class="line"><a name="l01932"></a><span class="lineno"> 1932</span>&#160;    queryLimit = numberOfResults + 1 + (foundResume ? 0 : EXTRA_LENGTH);</div>
<div class="line"><a name="l01933"></a><span class="lineno"> 1933</span>&#160;</div>
<div class="line"><a name="l01934"></a><span class="lineno"> 1934</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> findLedger = 0, findSeq = 0;</div>
<div class="line"><a name="l01935"></a><span class="lineno"> 1935</span>&#160;    <span class="keywordflow">if</span> (!foundResume)</div>
<div class="line"><a name="l01936"></a><span class="lineno"> 1936</span>&#160;    {</div>
<div class="line"><a name="l01937"></a><span class="lineno"> 1937</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l01938"></a><span class="lineno"> 1938</span>&#160;        {</div>
<div class="line"><a name="l01939"></a><span class="lineno"> 1939</span>&#160;            <span class="keywordflow">if</span> (!token.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a>(<span class="stringliteral">&quot;ledger&quot;</span>) || !token.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a>(<span class="stringliteral">&quot;seq&quot;</span>))</div>
<div class="line"><a name="l01940"></a><span class="lineno"> 1940</span>&#160;                <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l01941"></a><span class="lineno"> 1941</span>&#160;            findLedger = token[<span class="stringliteral">&quot;ledger&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235">asInt</a>();</div>
<div class="line"><a name="l01942"></a><span class="lineno"> 1942</span>&#160;            findSeq = token[<span class="stringliteral">&quot;seq&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235">asInt</a>();</div>
<div class="line"><a name="l01943"></a><span class="lineno"> 1943</span>&#160;        }</div>
<div class="line"><a name="l01944"></a><span class="lineno"> 1944</span>&#160;        <span class="keywordflow">catch</span> (...)</div>
<div class="line"><a name="l01945"></a><span class="lineno"> 1945</span>&#160;        {</div>
<div class="line"><a name="l01946"></a><span class="lineno"> 1946</span>&#160;            <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l01947"></a><span class="lineno"> 1947</span>&#160;        }</div>
<div class="line"><a name="l01948"></a><span class="lineno"> 1948</span>&#160;    }</div>
<div class="line"><a name="l01949"></a><span class="lineno"> 1949</span>&#160;</div>
<div class="line"><a name="l01950"></a><span class="lineno"> 1950</span>&#160;    <span class="comment">// ST NOTE We&#39;re using the token reference both for passing inputs and</span></div>
<div class="line"><a name="l01951"></a><span class="lineno"> 1951</span>&#160;    <span class="comment">//         outputs, so we need to clear it in between.</span></div>
<div class="line"><a name="l01952"></a><span class="lineno"> 1952</span>&#160;    token = <a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4ea7d9899633b4409bd3fc107e6737f8391" title="&#39;null&#39; value ">Json::nullValue</a>;</div>
<div class="line"><a name="l01953"></a><span class="lineno"> 1953</span>&#160;</div>
<div class="line"><a name="l01954"></a><span class="lineno"> 1954</span>&#160;    std::string sql = boost::str (boost::format</div>
<div class="line"><a name="l01955"></a><span class="lineno"> 1955</span>&#160;        (<span class="stringliteral">&quot;SELECT AccountTransactions.LedgerSeq,AccountTransactions.TxnSeq,Status,RawTxn,TxnMeta &quot;</span></div>
<div class="line"><a name="l01956"></a><span class="lineno"> 1956</span>&#160;         <span class="stringliteral">&quot;FROM AccountTransactions INNER JOIN Transactions ON Transactions.TransID = AccountTransactions.TransID &quot;</span></div>
<div class="line"><a name="l01957"></a><span class="lineno"> 1957</span>&#160;         <span class="stringliteral">&quot;WHERE AccountTransactions.Account = &#39;%s&#39; AND AccountTransactions.LedgerSeq BETWEEN &#39;%u&#39; AND &#39;%u&#39; &quot;</span></div>
<div class="line"><a name="l01958"></a><span class="lineno"> 1958</span>&#160;         <span class="stringliteral">&quot;ORDER BY AccountTransactions.LedgerSeq %s, AccountTransactions.TxnSeq %s, AccountTransactions.TransID %s &quot;</span></div>
<div class="line"><a name="l01959"></a><span class="lineno"> 1959</span>&#160;         <span class="stringliteral">&quot;LIMIT %u;&quot;</span>)</div>
<div class="line"><a name="l01960"></a><span class="lineno"> 1960</span>&#160;             % account.humanAccountID()</div>
<div class="line"><a name="l01961"></a><span class="lineno"> 1961</span>&#160;             % ((forward &amp;&amp; (findLedger != 0)) ? findLedger : minLedger)</div>
<div class="line"><a name="l01962"></a><span class="lineno"> 1962</span>&#160;             % ((!forward &amp;&amp; (findLedger != 0)) ? findLedger: maxLedger)</div>
<div class="line"><a name="l01963"></a><span class="lineno"> 1963</span>&#160;             % (forward ? <span class="stringliteral">&quot;ASC&quot;</span> : <span class="stringliteral">&quot;DESC&quot;</span>)</div>
<div class="line"><a name="l01964"></a><span class="lineno"> 1964</span>&#160;             % (forward ? <span class="stringliteral">&quot;ASC&quot;</span> : <span class="stringliteral">&quot;DESC&quot;</span>)</div>
<div class="line"><a name="l01965"></a><span class="lineno"> 1965</span>&#160;             % (forward ? <span class="stringliteral">&quot;ASC&quot;</span> : <span class="stringliteral">&quot;DESC&quot;</span>)</div>
<div class="line"><a name="l01966"></a><span class="lineno"> 1966</span>&#160;             % queryLimit);</div>
<div class="line"><a name="l01967"></a><span class="lineno"> 1967</span>&#160;    {</div>
<div class="line"><a name="l01968"></a><span class="lineno"> 1968</span>&#160;        Database* <a class="code" href="../../db/d44/a02564.html#a22e641d23ca36f47aa7b2b551bec1dc6">db</a> = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#aed3322f9602bc688e68b14e8baff5440">getTxnDB</a> ()-&gt;<a class="code" href="../../d6/db8/a00376.html#a9368476a90456c8f1256a53c239cc9a5">getDB</a> ();</div>
<div class="line"><a name="l01969"></a><span class="lineno"> 1969</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a5eca9d1139ddca4b45a44798b9d55329">DeprecatedScopedLock</a> sl (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getTxnDB ()-&gt;getDBLock ());</div>
<div class="line"><a name="l01970"></a><span class="lineno"> 1970</span>&#160;</div>
<div class="line"><a name="l01971"></a><span class="lineno"> 1971</span>&#160;        <a class="code" href="../../dc/d38/a02894.html#a51bb3e37b14d7bad19ab389e3a26a2ac">SQL_FOREACH</a> (db, sql)</div>
<div class="line"><a name="l01972"></a><span class="lineno"> 1972</span>&#160;        {</div>
<div class="line"><a name="l01973"></a><span class="lineno"> 1973</span>&#160;            <span class="keywordflow">if</span> (!foundResume)</div>
<div class="line"><a name="l01974"></a><span class="lineno"> 1974</span>&#160;            {</div>
<div class="line"><a name="l01975"></a><span class="lineno"> 1975</span>&#160;                <span class="keywordflow">if</span> ((findLedger == db-&gt;getInt(<span class="stringliteral">&quot;LedgerSeq&quot;</span>)) &amp;&amp; (findSeq == db-&gt;getInt(<span class="stringliteral">&quot;TxnSeq&quot;</span>)))</div>
<div class="line"><a name="l01976"></a><span class="lineno"> 1976</span>&#160;                    foundResume = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01977"></a><span class="lineno"> 1977</span>&#160;            }</div>
<div class="line"><a name="l01978"></a><span class="lineno"> 1978</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (numberOfResults == 0)</div>
<div class="line"><a name="l01979"></a><span class="lineno"> 1979</span>&#160;            {</div>
<div class="line"><a name="l01980"></a><span class="lineno"> 1980</span>&#160;                token = <a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>;</div>
<div class="line"><a name="l01981"></a><span class="lineno"> 1981</span>&#160;                token[<span class="stringliteral">&quot;ledger&quot;</span>] = db-&gt;getInt(<span class="stringliteral">&quot;LedgerSeq&quot;</span>);</div>
<div class="line"><a name="l01982"></a><span class="lineno"> 1982</span>&#160;                token[<span class="stringliteral">&quot;seq&quot;</span>] = db-&gt;getInt(<span class="stringliteral">&quot;TxnSeq&quot;</span>);</div>
<div class="line"><a name="l01983"></a><span class="lineno"> 1983</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l01984"></a><span class="lineno"> 1984</span>&#160;            }</div>
<div class="line"><a name="l01985"></a><span class="lineno"> 1985</span>&#160;</div>
<div class="line"><a name="l01986"></a><span class="lineno"> 1986</span>&#160;            <span class="keywordflow">if</span> (foundResume)</div>
<div class="line"><a name="l01987"></a><span class="lineno"> 1987</span>&#160;            {</div>
<div class="line"><a name="l01988"></a><span class="lineno"> 1988</span>&#160;                <a class="code" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a> txn = <a class="code" href="../../de/d05/a01702.html#a127e942da36e00fd47b4dac4f2dc581c">Transaction::transactionFromSQL</a> (db, <span class="keyword">false</span>);</div>
<div class="line"><a name="l01989"></a><span class="lineno"> 1989</span>&#160;</div>
<div class="line"><a name="l01990"></a><span class="lineno"> 1990</span>&#160;                Serializer rawMeta;</div>
<div class="line"><a name="l01991"></a><span class="lineno"> 1991</span>&#160;                <span class="keywordtype">int</span> metaSize = 2048;</div>
<div class="line"><a name="l01992"></a><span class="lineno"> 1992</span>&#160;                rawMeta.resize (metaSize);</div>
<div class="line"><a name="l01993"></a><span class="lineno"> 1993</span>&#160;                metaSize = db-&gt;getBinary (<span class="stringliteral">&quot;TxnMeta&quot;</span>, &amp;*rawMeta.begin (), rawMeta.getLength ());</div>
<div class="line"><a name="l01994"></a><span class="lineno"> 1994</span>&#160;</div>
<div class="line"><a name="l01995"></a><span class="lineno"> 1995</span>&#160;                <span class="keywordflow">if</span> (metaSize &gt; rawMeta.getLength ())</div>
<div class="line"><a name="l01996"></a><span class="lineno"> 1996</span>&#160;                {</div>
<div class="line"><a name="l01997"></a><span class="lineno"> 1997</span>&#160;                    rawMeta.resize (metaSize);</div>
<div class="line"><a name="l01998"></a><span class="lineno"> 1998</span>&#160;                    db-&gt;getBinary (<span class="stringliteral">&quot;TxnMeta&quot;</span>, &amp;*rawMeta.begin (), rawMeta.getLength ());</div>
<div class="line"><a name="l01999"></a><span class="lineno"> 1999</span>&#160;                }</div>
<div class="line"><a name="l02000"></a><span class="lineno"> 2000</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l02001"></a><span class="lineno"> 2001</span>&#160;                    rawMeta.resize (metaSize);</div>
<div class="line"><a name="l02002"></a><span class="lineno"> 2002</span>&#160;</div>
<div class="line"><a name="l02003"></a><span class="lineno"> 2003</span>&#160;                <span class="keywordflow">if</span> (rawMeta.getLength() == 0)</div>
<div class="line"><a name="l02004"></a><span class="lineno"> 2004</span>&#160;                { <span class="comment">// Work around a bug that could leave the metadata missing</span></div>
<div class="line"><a name="l02005"></a><span class="lineno"> 2005</span>&#160;                    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> seq = <span class="keyword">static_cast&lt;</span><a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a><span class="keyword">&gt;</span>(db-&gt;getBigInt(<span class="stringliteral">&quot;LedgerSeq&quot;</span>));</div>
<div class="line"><a name="l02006"></a><span class="lineno"> 2006</span>&#160;                    <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a876412c0a487a7a8840b1556cc04cb57">warning</a> &lt;&lt; <span class="stringliteral">&quot;Recovering ledger &quot;</span> &lt;&lt; seq &lt;&lt; <span class="stringliteral">&quot;, txn &quot;</span> &lt;&lt; txn-&gt;getID();</div>
<div class="line"><a name="l02007"></a><span class="lineno"> 2007</span>&#160;                    <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> ledger = <a class="code" href="../../d7/ded/a01009.html#a9f1f7a943b74ee0bda617e0ccca8ef0a">getLedgerBySeq</a>(seq);</div>
<div class="line"><a name="l02008"></a><span class="lineno"> 2008</span>&#160;                    <span class="keywordflow">if</span> (ledger)</div>
<div class="line"><a name="l02009"></a><span class="lineno"> 2009</span>&#160;                        ledger-&gt;pendSaveValidated(<span class="keyword">false</span>, <span class="keyword">false</span>);</div>
<div class="line"><a name="l02010"></a><span class="lineno"> 2010</span>&#160;                }</div>
<div class="line"><a name="l02011"></a><span class="lineno"> 2011</span>&#160;</div>
<div class="line"><a name="l02012"></a><span class="lineno"> 2012</span>&#160;                --numberOfResults;</div>
<div class="line"><a name="l02013"></a><span class="lineno"> 2013</span>&#160;                <a class="code" href="../../d1/da7/a01709.html#aa6169f45f954da1eae3fd72dd45f5849">TransactionMetaSet::pointer</a> <a class="code" href="../../de/d94/a02597.html#a6b8f1f5fc8f36aa1678fff8fa5aecd0b">meta</a> = boost::make_shared&lt;TransactionMetaSet&gt; (txn-&gt;getID (), txn-&gt;getLedger (), rawMeta.getData ());</div>
<div class="line"><a name="l02014"></a><span class="lineno"> 2014</span>&#160;</div>
<div class="line"><a name="l02015"></a><span class="lineno"> 2015</span>&#160;                ret.push_back (std::pair&lt;Transaction::ref, TransactionMetaSet::ref&gt; (txn, meta));</div>
<div class="line"><a name="l02016"></a><span class="lineno"> 2016</span>&#160;            }</div>
<div class="line"><a name="l02017"></a><span class="lineno"> 2017</span>&#160;        }</div>
<div class="line"><a name="l02018"></a><span class="lineno"> 2018</span>&#160;    }</div>
<div class="line"><a name="l02019"></a><span class="lineno"> 2019</span>&#160;</div>
<div class="line"><a name="l02020"></a><span class="lineno"> 2020</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l02021"></a><span class="lineno"> 2021</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a13e73e2120834b3a178cd047cefa7067_cgraph.png" border="0" usemap="#d7/ded/a01009_a13e73e2120834b3a178cd047cefa7067_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a13e73e2120834b3a178cd047cefa7067_cgraph" id="d7/ded/a01009_a13e73e2120834b3a178cd047cefa7067_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="229,5,357,35"/><area shape="rect" id="node5" href="../../da/d61/a01350.html#a32c26f7ab6d19e352751979c9d56eccd" title="ripple::Serializer\l::begin" alt="" coords="455,146,569,193"/><area shape="rect" id="node7" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="243,432,344,461"/><area shape="rect" id="node11" href="../../d5/db5/a00374.html#a76ed88c8f94b0c332d1d62bc844045ad" title="ripple::Database::getBigInt" alt="" coords="424,40,600,69"/><area shape="rect" id="node15" href="../../d5/db5/a00374.html#a654eaaef86fa7de1fa9a9d6c9f8d38a4" title="ripple::Database::getBinary" alt="" coords="423,93,601,123"/><area shape="rect" id="node18" href="../../da/d61/a01350.html#a937c91e12200c1df1e493ace106dd4d3" title="ripple::Serializer\l::getData" alt="" coords="236,485,351,531"/><area shape="rect" id="node20" href="../../d6/db8/a00376.html#a9368476a90456c8f1256a53c239cc9a5" title="ripple::DatabaseCon\l::getDB" alt="" coords="223,554,364,601"/><area shape="rect" id="node22" href="../../d5/db5/a00374.html#ad34864d60e84c7168a3b173097c27157" title="ripple::Database::getInt" alt="" coords="433,216,591,245"/><area shape="rect" id="node25" href="../../d7/ded/a01009.html#a9f1f7a943b74ee0bda617e0ccca8ef0a" title="ripple::NetworkOPsImp\l::getLedgerBySeq" alt="" coords="215,623,372,670"/><area shape="rect" id="node29" href="../../da/d61/a01350.html#a237280c7ca05aed5c750ec154a599547" title="ripple::Serializer\l::getLength" alt="" coords="455,322,569,369"/><area shape="rect" id="node31" href="../../da/d74/a00099.html#aed3322f9602bc688e68b14e8baff5440" title="ripple::Application\l::getTxnDB" alt="" coords="231,693,356,739"/><area shape="rect" id="node33" href="../../d4/d0e/a01272.html#a2a8201537b6969c0e186c9b1d889c52b" title="ripple::RippleAddress\l::humanAccountID" alt="" coords="220,762,367,809"/><area shape="rect" id="node87" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="216,832,371,861"/><area shape="rect" id="node89" href="../../d6/d27/a01781.html#aeb9ad8b1bb91bdd72203dc884b3f4362" title="Json::Value::isNull" alt="" coords="228,885,359,915"/><area shape="rect" id="node91" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92" title="Json::Value::isObject" alt="" coords="220,939,367,968"/><area shape="rect" id="node93" href="../../da/d61/a01350.html#a462cbb304e3bcba2b4a78b8fee551265" title="ripple::Serializer\l::resize" alt="" coords="455,391,569,438"/><area shape="rect" id="node95" href="../../de/d05/a01702.html#a127e942da36e00fd47b4dac4f2dc581c" title="ripple::Transaction\l::transactionFromSQL" alt="" coords="219,261,368,307"/><area shape="rect" id="node9" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="424,461,600,507"/><area shape="rect" id="node13" href="../../d5/db5/a00374.html#a5b7ed864f9f854446470c987b37ebecc" title="ripple::Database::getCol\lNumber" alt="" coords="675,146,837,193"/><area shape="rect" id="node27" href="../../d1/de6/a00837.html#a5a199229ff499451b63f07ae13f5690a" title="ripple::LedgerMaster\l::getLedgerBySeq" alt="" coords="443,623,581,670"/><area shape="rect" id="node35" href="../../d4/d87/a03436.html#a6f17c6df7ce20ec52aecef2475cd4158" title="rocksdb::if" alt="" coords="471,893,553,923"/><area shape="rect" id="node41" href="../../d9/d39/a00257.html#a18a7bfe8bbf61262472b03f1dfe5c887" title="ripple::CBase58Data\l::ToString" alt="" coords="441,754,583,801"/><area shape="rect" id="node63" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="683,686,829,733"/><area shape="rect" id="node83" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="439,823,585,870"/><area shape="rect" id="node37" href="../../da/d71/a00814.html#ab25c6d03dbcd6168b3ae3762dc98fd51" title="rocksdb::LDBCommandExecute\lResult::FAILED" alt="" coords="651,885,861,931"/><area shape="rect" id="node39" href="../../da/d71/a00814.html#ae4210d600639c8c6ac04486ebc43c39b" title="rocksdb::LDBCommandExecute\lResult::LDBCommandExecuteResult" alt="" coords="909,885,1149,931"/><area shape="rect" id="node43" href="../../d9/d7d/a00150.html#a085fa82e1453fd6e5460a0cd960b5816" title="ripple::Base58::encodeWith\lCheck" alt="" coords="665,757,847,803"/><area shape="rect" id="node45" href="../../d9/d7d/a00150.html#ac6c6ad62e7ed916bfe1c652721d3fe26" title="ripple::Base58::encode" alt="" coords="952,829,1107,859"/><area shape="rect" id="node61" href="../../d9/d7d/a00150.html#a24f49360e730224f1d16edb1b504e32a" title="ripple::Base58::getCurrent\lAlphabet" alt="" coords="943,757,1116,803"/><area shape="rect" id="node47" href="../../d0/d87/a03399.html#addb402f22cc191c3dc7f4325bb6f684e" title="beast.util.Iter.first" alt="" coords="1228,892,1351,921"/><area shape="rect" id="node49" href="../../d9/d7d/a00150.html#a03b8b4e8a39fe06fe7e3a74f76cdf664" title="ripple::Base58::fourbyte\l_hash256" alt="" coords="1209,753,1369,799"/><area shape="rect" id="node57" href="../../d9/d7d/a00150.html#a126fe41b1f663aeb5826c2f44a2d9528" title="ripple::Base58::raw\l_encode" alt="" coords="1223,822,1356,869"/><area shape="rect" id="node51" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="1449,770,1575,817"/><area shape="rect" id="node55" href="../../d9/d9d/a03417.html#a4be54b895ff42f63b835266848abf9af" title="ripple::SHA256Hash" alt="" coords="1441,717,1583,747"/><area shape="rect" id="node53" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1651,748,1800,777"/><area shape="rect" id="node59" href="../../d7/d2f/a00258.html#af54502b0cc273266a8cc841100386645" title="ripple::CBigNum::getuint" alt="" coords="1429,840,1595,869"/><area shape="rect" id="node65" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="959,686,1100,733"/><area shape="rect" id="node67" href="../../d9/d7d/a00150.html#a85c405829839e85edb721241fd8d4203" title="ripple::Base58::decodeWith\lCheck" alt="" coords="1199,665,1380,711"/><area shape="rect" id="node69" href="../../d9/d7d/a00150.html#a0c2d621faceac43aeb30f4797f03b12c" title="ripple::Base58::decode" alt="" coords="1435,611,1589,640"/><area shape="rect" id="node79" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="1439,664,1585,693"/><area shape="rect" id="node71" href="../../d9/dec/a00090.html#ac2a3456ebd59fd80270f618c64544ac9" title="ripple::Base58::Alphabet\l::chars" alt="" coords="1644,541,1807,587"/><area shape="rect" id="node73" href="../../d7/d2f/a00258.html#a84e73d21fd76767976513f5bf1276215" title="ripple::CBigNum::getvch" alt="" coords="1643,611,1808,640"/><area shape="rect" id="node75" href="../../d7/d2f/a00258.html#a01d5357e9691e5d7743172afbc3cc85c" title="ripple::CBigNum::setuint" alt="" coords="1643,664,1808,693"/><area shape="rect" id="node77" href="../../d7/d2f/a00258.html#a80a1fa42fd2d87bedd0b3bf5180ed4ba" title="ripple::CBigNum::setulong" alt="" coords="1857,664,2031,693"/><area shape="rect" id="node85" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="700,832,812,861"/><area shape="rect" id="node98" href="../../d5/db5/a00374.html#a5695e1a1b8e65383924a03d29c81a4f2" title="ripple::Database::getStr" alt="" coords="432,269,592,299"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a25a2f3c20be6cab016d0c6e4f98119a3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt; <a class="el" href="../../d7/ded/a01009.html#aee8097055c243f4c6ea3ee300c2a0647">NetworkOPsImp::txnMetaLedgerType</a> &gt; ripple::NetworkOPsImp::getTxsAccountB </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>account</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#ab1967d8591af1a4e48c37fd2b0f184d0">std::int32_t</a>&#160;</td>
          <td class="paramname"><em>minLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#ab1967d8591af1a4e48c37fd2b0f184d0">std::int32_t</a>&#160;</td>
          <td class="paramname"><em>maxLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>forward</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> &amp;&#160;</td>
          <td class="paramname"><em>token</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bAdmin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a1bb816a099b2276e64d613071a6cf2e9">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02024">2024</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../da/d23/a02452_source.html#l00825">Json::Value::asInt()</a>, <a class="el" href="../../db/d44/a02564_source.html#l02479">db</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d7/d07/a02892_source.html#l00092">ripple::Database::getBinary()</a>, <a class="el" href="../../d2/d4c/a02897_source.html#l00032">ripple::DatabaseCon::getDB()</a>, <a class="el" href="../../d7/d07/a02892_source.html#l00056">ripple::Database::getInt()</a>, <a class="el" href="../../da/d74/a00099.html#aed3322f9602bc688e68b14e8baff5440">ripple::Application::getTxnDB()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00317">ripple::RippleAddress::humanAccountID()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01371">Json::Value::isMember()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01450">Json::Value::isNull()</a>, <a class="el" href="../../da/d23/a02452_source.html#l01515">Json::Value::isObject()</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00032">Json::nullValue</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../dc/d38/a02894_source.html#l00027">SQL_FOREACH</a>, and <a class="el" href="../../d9/d4d/a02840_source.html#l00045">ripple::strHex()</a>.</p>
<div class="fragment"><div class="line"><a name="l02027"></a><span class="lineno"> 2027</span>&#160;{</div>
<div class="line"><a name="l02028"></a><span class="lineno"> 2028</span>&#160;    std::vector&lt;txnMetaLedgerType&gt; ret;</div>
<div class="line"><a name="l02029"></a><span class="lineno"> 2029</span>&#160;</div>
<div class="line"><a name="l02030"></a><span class="lineno"> 2030</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> BINARY_PAGE_LENGTH = 500;</div>
<div class="line"><a name="l02031"></a><span class="lineno"> 2031</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> EXTRA_LENGTH = 20;</div>
<div class="line"><a name="l02032"></a><span class="lineno"> 2032</span>&#160;</div>
<div class="line"><a name="l02033"></a><span class="lineno"> 2033</span>&#160;    <span class="keywordtype">bool</span> foundResume = token.<a class="code" href="../../d6/d27/a01781.html#aeb9ad8b1bb91bdd72203dc884b3f4362">isNull</a>() || !token.<a class="code" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92">isObject</a>();</div>
<div class="line"><a name="l02034"></a><span class="lineno"> 2034</span>&#160;</div>
<div class="line"><a name="l02035"></a><span class="lineno"> 2035</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> numberOfResults, queryLimit;</div>
<div class="line"><a name="l02036"></a><span class="lineno"> 2036</span>&#160;    <span class="keywordflow">if</span> (limit &lt;= 0)</div>
<div class="line"><a name="l02037"></a><span class="lineno"> 2037</span>&#160;        numberOfResults = BINARY_PAGE_LENGTH;</div>
<div class="line"><a name="l02038"></a><span class="lineno"> 2038</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!bAdmin &amp;&amp; (limit &gt; BINARY_PAGE_LENGTH))</div>
<div class="line"><a name="l02039"></a><span class="lineno"> 2039</span>&#160;        numberOfResults = BINARY_PAGE_LENGTH;</div>
<div class="line"><a name="l02040"></a><span class="lineno"> 2040</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02041"></a><span class="lineno"> 2041</span>&#160;        numberOfResults = limit;</div>
<div class="line"><a name="l02042"></a><span class="lineno"> 2042</span>&#160;    queryLimit = numberOfResults + 1 + (foundResume ? 0 : EXTRA_LENGTH);</div>
<div class="line"><a name="l02043"></a><span class="lineno"> 2043</span>&#160;</div>
<div class="line"><a name="l02044"></a><span class="lineno"> 2044</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> findLedger = 0, findSeq = 0;</div>
<div class="line"><a name="l02045"></a><span class="lineno"> 2045</span>&#160;    <span class="keywordflow">if</span> (!foundResume)</div>
<div class="line"><a name="l02046"></a><span class="lineno"> 2046</span>&#160;    {</div>
<div class="line"><a name="l02047"></a><span class="lineno"> 2047</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l02048"></a><span class="lineno"> 2048</span>&#160;        {</div>
<div class="line"><a name="l02049"></a><span class="lineno"> 2049</span>&#160;            <span class="keywordflow">if</span> (!token.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a>(<span class="stringliteral">&quot;ledger&quot;</span>) || !token.<a class="code" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. ">isMember</a>(<span class="stringliteral">&quot;seq&quot;</span>))</div>
<div class="line"><a name="l02050"></a><span class="lineno"> 2050</span>&#160;                <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l02051"></a><span class="lineno"> 2051</span>&#160;            findLedger = token[<span class="stringliteral">&quot;ledger&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235">asInt</a>();</div>
<div class="line"><a name="l02052"></a><span class="lineno"> 2052</span>&#160;            findSeq = token[<span class="stringliteral">&quot;seq&quot;</span>].<a class="code" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235">asInt</a>();</div>
<div class="line"><a name="l02053"></a><span class="lineno"> 2053</span>&#160;        }</div>
<div class="line"><a name="l02054"></a><span class="lineno"> 2054</span>&#160;        <span class="keywordflow">catch</span> (...)</div>
<div class="line"><a name="l02055"></a><span class="lineno"> 2055</span>&#160;        {</div>
<div class="line"><a name="l02056"></a><span class="lineno"> 2056</span>&#160;            <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l02057"></a><span class="lineno"> 2057</span>&#160;        }</div>
<div class="line"><a name="l02058"></a><span class="lineno"> 2058</span>&#160;    }</div>
<div class="line"><a name="l02059"></a><span class="lineno"> 2059</span>&#160;</div>
<div class="line"><a name="l02060"></a><span class="lineno"> 2060</span>&#160;    token = <a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4ea7d9899633b4409bd3fc107e6737f8391" title="&#39;null&#39; value ">Json::nullValue</a>;</div>
<div class="line"><a name="l02061"></a><span class="lineno"> 2061</span>&#160;</div>
<div class="line"><a name="l02062"></a><span class="lineno"> 2062</span>&#160;    std::string sql = boost::str (boost::format</div>
<div class="line"><a name="l02063"></a><span class="lineno"> 2063</span>&#160;        (<span class="stringliteral">&quot;SELECT AccountTransactions.LedgerSeq,AccountTransactions.TxnSeq,Status,RawTxn,TxnMeta &quot;</span></div>
<div class="line"><a name="l02064"></a><span class="lineno"> 2064</span>&#160;         <span class="stringliteral">&quot;FROM AccountTransactions INNER JOIN Transactions ON Transactions.TransID = AccountTransactions.TransID &quot;</span></div>
<div class="line"><a name="l02065"></a><span class="lineno"> 2065</span>&#160;         <span class="stringliteral">&quot;WHERE AccountTransactions.Account = &#39;%s&#39; AND AccountTransactions.LedgerSeq BETWEEN &#39;%u&#39; AND &#39;%u&#39; &quot;</span></div>
<div class="line"><a name="l02066"></a><span class="lineno"> 2066</span>&#160;         <span class="stringliteral">&quot;ORDER BY AccountTransactions.LedgerSeq %s, AccountTransactions.TxnSeq %s, AccountTransactions.TransID %s &quot;</span></div>
<div class="line"><a name="l02067"></a><span class="lineno"> 2067</span>&#160;         <span class="stringliteral">&quot;LIMIT %u;&quot;</span>)</div>
<div class="line"><a name="l02068"></a><span class="lineno"> 2068</span>&#160;             % account.humanAccountID()</div>
<div class="line"><a name="l02069"></a><span class="lineno"> 2069</span>&#160;             % ((forward &amp;&amp; (findLedger != 0)) ? findLedger : minLedger)</div>
<div class="line"><a name="l02070"></a><span class="lineno"> 2070</span>&#160;             % ((!forward &amp;&amp; (findLedger != 0)) ? findLedger: maxLedger)</div>
<div class="line"><a name="l02071"></a><span class="lineno"> 2071</span>&#160;             % (forward ? <span class="stringliteral">&quot;ASC&quot;</span> : <span class="stringliteral">&quot;DESC&quot;</span>)</div>
<div class="line"><a name="l02072"></a><span class="lineno"> 2072</span>&#160;             % (forward ? <span class="stringliteral">&quot;ASC&quot;</span> : <span class="stringliteral">&quot;DESC&quot;</span>)</div>
<div class="line"><a name="l02073"></a><span class="lineno"> 2073</span>&#160;             % (forward ? <span class="stringliteral">&quot;ASC&quot;</span> : <span class="stringliteral">&quot;DESC&quot;</span>)</div>
<div class="line"><a name="l02074"></a><span class="lineno"> 2074</span>&#160;             % queryLimit);</div>
<div class="line"><a name="l02075"></a><span class="lineno"> 2075</span>&#160;    {</div>
<div class="line"><a name="l02076"></a><span class="lineno"> 2076</span>&#160;        Database* <a class="code" href="../../db/d44/a02564.html#a22e641d23ca36f47aa7b2b551bec1dc6">db</a> = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#aed3322f9602bc688e68b14e8baff5440">getTxnDB</a> ()-&gt;<a class="code" href="../../d6/db8/a00376.html#a9368476a90456c8f1256a53c239cc9a5">getDB</a> ();</div>
<div class="line"><a name="l02077"></a><span class="lineno"> 2077</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a5eca9d1139ddca4b45a44798b9d55329">DeprecatedScopedLock</a> sl (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getTxnDB ()-&gt;getDBLock ());</div>
<div class="line"><a name="l02078"></a><span class="lineno"> 2078</span>&#160;</div>
<div class="line"><a name="l02079"></a><span class="lineno"> 2079</span>&#160;        <a class="code" href="../../dc/d38/a02894.html#a51bb3e37b14d7bad19ab389e3a26a2ac">SQL_FOREACH</a> (db, sql)</div>
<div class="line"><a name="l02080"></a><span class="lineno"> 2080</span>&#160;        {</div>
<div class="line"><a name="l02081"></a><span class="lineno"> 2081</span>&#160;            <span class="keywordflow">if</span> (!foundResume)</div>
<div class="line"><a name="l02082"></a><span class="lineno"> 2082</span>&#160;            {</div>
<div class="line"><a name="l02083"></a><span class="lineno"> 2083</span>&#160;                <span class="keywordflow">if</span> ((findLedger == db-&gt;getInt(<span class="stringliteral">&quot;LedgerSeq&quot;</span>)) &amp;&amp; (findSeq == db-&gt;getInt(<span class="stringliteral">&quot;TxnSeq&quot;</span>)))</div>
<div class="line"><a name="l02084"></a><span class="lineno"> 2084</span>&#160;                    foundResume = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02085"></a><span class="lineno"> 2085</span>&#160;            }</div>
<div class="line"><a name="l02086"></a><span class="lineno"> 2086</span>&#160;            <span class="keywordflow">else</span> <span class="keywordflow">if</span> (numberOfResults == 0)</div>
<div class="line"><a name="l02087"></a><span class="lineno"> 2087</span>&#160;            {</div>
<div class="line"><a name="l02088"></a><span class="lineno"> 2088</span>&#160;                token = <a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>;</div>
<div class="line"><a name="l02089"></a><span class="lineno"> 2089</span>&#160;                token[<span class="stringliteral">&quot;ledger&quot;</span>] = db-&gt;getInt(<span class="stringliteral">&quot;LedgerSeq&quot;</span>);</div>
<div class="line"><a name="l02090"></a><span class="lineno"> 2090</span>&#160;                token[<span class="stringliteral">&quot;seq&quot;</span>] = db-&gt;getInt(<span class="stringliteral">&quot;TxnSeq&quot;</span>);</div>
<div class="line"><a name="l02091"></a><span class="lineno"> 2091</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l02092"></a><span class="lineno"> 2092</span>&#160;            }</div>
<div class="line"><a name="l02093"></a><span class="lineno"> 2093</span>&#160;</div>
<div class="line"><a name="l02094"></a><span class="lineno"> 2094</span>&#160;            <span class="keywordflow">if</span> (foundResume)</div>
<div class="line"><a name="l02095"></a><span class="lineno"> 2095</span>&#160;            {</div>
<div class="line"><a name="l02096"></a><span class="lineno"> 2096</span>&#160;                <span class="keywordtype">int</span> txnSize = 2048;</div>
<div class="line"><a name="l02097"></a><span class="lineno"> 2097</span>&#160;                <a class="code" href="../../d9/d9d/a03417.html#a1b87ba4732cf1725393e8dd60bf73b0c">Blob</a> rawTxn (txnSize);</div>
<div class="line"><a name="l02098"></a><span class="lineno"> 2098</span>&#160;                txnSize = db-&gt;getBinary (<span class="stringliteral">&quot;RawTxn&quot;</span>, &amp;rawTxn[0], rawTxn.size ());</div>
<div class="line"><a name="l02099"></a><span class="lineno"> 2099</span>&#160;</div>
<div class="line"><a name="l02100"></a><span class="lineno"> 2100</span>&#160;                <span class="keywordflow">if</span> (txnSize &gt; rawTxn.size ())</div>
<div class="line"><a name="l02101"></a><span class="lineno"> 2101</span>&#160;                {</div>
<div class="line"><a name="l02102"></a><span class="lineno"> 2102</span>&#160;                    rawTxn.resize (txnSize);</div>
<div class="line"><a name="l02103"></a><span class="lineno"> 2103</span>&#160;                    db-&gt;getBinary (<span class="stringliteral">&quot;RawTxn&quot;</span>, &amp;*rawTxn.begin (), rawTxn.size ());</div>
<div class="line"><a name="l02104"></a><span class="lineno"> 2104</span>&#160;                }</div>
<div class="line"><a name="l02105"></a><span class="lineno"> 2105</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l02106"></a><span class="lineno"> 2106</span>&#160;                    rawTxn.resize (txnSize);</div>
<div class="line"><a name="l02107"></a><span class="lineno"> 2107</span>&#160;</div>
<div class="line"><a name="l02108"></a><span class="lineno"> 2108</span>&#160;                <span class="keywordtype">int</span> metaSize = 2048;</div>
<div class="line"><a name="l02109"></a><span class="lineno"> 2109</span>&#160;                <a class="code" href="../../d9/d9d/a03417.html#a1b87ba4732cf1725393e8dd60bf73b0c">Blob</a> rawMeta (metaSize);</div>
<div class="line"><a name="l02110"></a><span class="lineno"> 2110</span>&#160;                metaSize = db-&gt;getBinary (<span class="stringliteral">&quot;TxnMeta&quot;</span>, &amp;rawMeta[0], rawMeta.size ());</div>
<div class="line"><a name="l02111"></a><span class="lineno"> 2111</span>&#160;</div>
<div class="line"><a name="l02112"></a><span class="lineno"> 2112</span>&#160;                <span class="keywordflow">if</span> (metaSize &gt; rawMeta.size ())</div>
<div class="line"><a name="l02113"></a><span class="lineno"> 2113</span>&#160;                {</div>
<div class="line"><a name="l02114"></a><span class="lineno"> 2114</span>&#160;                    rawMeta.resize (metaSize);</div>
<div class="line"><a name="l02115"></a><span class="lineno"> 2115</span>&#160;                    db-&gt;getBinary (<span class="stringliteral">&quot;TxnMeta&quot;</span>, &amp;*rawMeta.begin (), rawMeta.size ());</div>
<div class="line"><a name="l02116"></a><span class="lineno"> 2116</span>&#160;                }</div>
<div class="line"><a name="l02117"></a><span class="lineno"> 2117</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l02118"></a><span class="lineno"> 2118</span>&#160;                    rawMeta.resize (metaSize);</div>
<div class="line"><a name="l02119"></a><span class="lineno"> 2119</span>&#160;</div>
<div class="line"><a name="l02120"></a><span class="lineno"> 2120</span>&#160;                ret.push_back (std::make_tuple (</div>
<div class="line"><a name="l02121"></a><span class="lineno"> 2121</span>&#160;                    <a class="code" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073">strHex</a> (rawTxn), <a class="code" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073">strHex</a> (rawMeta), db-&gt;getInt (<span class="stringliteral">&quot;LedgerSeq&quot;</span>)));</div>
<div class="line"><a name="l02122"></a><span class="lineno"> 2122</span>&#160;                --numberOfResults;</div>
<div class="line"><a name="l02123"></a><span class="lineno"> 2123</span>&#160;            }</div>
<div class="line"><a name="l02124"></a><span class="lineno"> 2124</span>&#160;        }</div>
<div class="line"><a name="l02125"></a><span class="lineno"> 2125</span>&#160;    }</div>
<div class="line"><a name="l02126"></a><span class="lineno"> 2126</span>&#160;</div>
<div class="line"><a name="l02127"></a><span class="lineno"> 2127</span>&#160;    <span class="keywordflow">return</span> ret;</div>
<div class="line"><a name="l02128"></a><span class="lineno"> 2128</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a25a2f3c20be6cab016d0c6e4f98119a3_cgraph.png" border="0" usemap="#d7/ded/a01009_a25a2f3c20be6cab016d0c6e4f98119a3_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a25a2f3c20be6cab016d0c6e4f98119a3_cgraph" id="d7/ded/a01009_a25a2f3c20be6cab016d0c6e4f98119a3_cgraph">
<area shape="rect" id="node3" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="240,5,368,35"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="253,59,355,88"/><area shape="rect" id="node9" href="../../d5/db5/a00374.html#a654eaaef86fa7de1fa9a9d6c9f8d38a4" title="ripple::Database::getBinary" alt="" coords="215,112,393,141"/><area shape="rect" id="node13" href="../../d6/db8/a00376.html#a9368476a90456c8f1256a53c239cc9a5" title="ripple::DatabaseCon\l::getDB" alt="" coords="233,165,375,211"/><area shape="rect" id="node15" href="../../d5/db5/a00374.html#ad34864d60e84c7168a3b173097c27157" title="ripple::Database::getInt" alt="" coords="225,235,383,264"/><area shape="rect" id="node18" href="../../da/d74/a00099.html#aed3322f9602bc688e68b14e8baff5440" title="ripple::Application\l::getTxnDB" alt="" coords="241,287,367,334"/><area shape="rect" id="node20" href="../../d4/d0e/a01272.html#a2a8201537b6969c0e186c9b1d889c52b" title="ripple::RippleAddress\l::humanAccountID" alt="" coords="231,357,377,403"/><area shape="rect" id="node74" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="227,427,381,456"/><area shape="rect" id="node76" href="../../d6/d27/a01781.html#aeb9ad8b1bb91bdd72203dc884b3f4362" title="Json::Value::isNull" alt="" coords="239,480,369,509"/><area shape="rect" id="node78" href="../../d6/d27/a01781.html#a80cffaa0402b80317c0437216bbb6d92" title="Json::Value::isObject" alt="" coords="231,533,377,563"/><area shape="rect" id="node80" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073" title="ripple::strHex" alt="" coords="255,587,353,616"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="444,50,620,97"/><area shape="rect" id="node11" href="../../d5/db5/a00374.html#a5b7ed864f9f854446470c987b37ebecc" title="ripple::Database::getCol\lNumber" alt="" coords="451,169,613,215"/><area shape="rect" id="node22" href="../../d4/d87/a03436.html#a6f17c6df7ce20ec52aecef2475cd4158" title="rocksdb::if" alt="" coords="491,460,573,489"/><area shape="rect" id="node28" href="../../d9/d39/a00257.html#a18a7bfe8bbf61262472b03f1dfe5c887" title="ripple::CBase58Data\l::ToString" alt="" coords="461,265,603,311"/><area shape="rect" id="node50" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="701,330,848,377"/><area shape="rect" id="node70" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="459,390,605,437"/><area shape="rect" id="node24" href="../../da/d71/a00814.html#ab25c6d03dbcd6168b3ae3762dc98fd51" title="rocksdb::LDBCommandExecute\lResult::FAILED" alt="" coords="669,453,880,499"/><area shape="rect" id="node26" href="../../da/d71/a00814.html#ae4210d600639c8c6ac04486ebc43c39b" title="rocksdb::LDBCommandExecute\lResult::LDBCommandExecuteResult" alt="" coords="928,453,1168,499"/><area shape="rect" id="node30" href="../../d9/d7d/a00150.html#a085fa82e1453fd6e5460a0cd960b5816" title="ripple::Base58::encodeWith\lCheck" alt="" coords="684,261,865,307"/><area shape="rect" id="node32" href="../../d9/d7d/a00150.html#ac6c6ad62e7ed916bfe1c652721d3fe26" title="ripple::Base58::encode" alt="" coords="971,208,1125,237"/><area shape="rect" id="node48" href="../../d9/d7d/a00150.html#a24f49360e730224f1d16edb1b504e32a" title="ripple::Base58::getCurrent\lAlphabet" alt="" coords="961,261,1135,307"/><area shape="rect" id="node34" href="../../d0/d87/a03399.html#addb402f22cc191c3dc7f4325bb6f684e" title="beast.util.Iter.first" alt="" coords="1247,208,1369,237"/><area shape="rect" id="node36" href="../../d9/d7d/a00150.html#a03b8b4e8a39fe06fe7e3a74f76cdf664" title="ripple::Base58::fourbyte\l_hash256" alt="" coords="1228,261,1388,307"/><area shape="rect" id="node44" href="../../d9/d7d/a00150.html#a126fe41b1f663aeb5826c2f44a2d9528" title="ripple::Base58::raw\l_encode" alt="" coords="1241,138,1375,185"/><area shape="rect" id="node38" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="1468,215,1593,262"/><area shape="rect" id="node42" href="../../d9/d9d/a03417.html#a4be54b895ff42f63b835266848abf9af" title="ripple::SHA256Hash" alt="" coords="1460,285,1601,315"/><area shape="rect" id="node40" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1669,251,1819,280"/><area shape="rect" id="node46" href="../../d7/d2f/a00258.html#af54502b0cc273266a8cc841100386645" title="ripple::CBigNum::getuint" alt="" coords="1448,147,1613,176"/><area shape="rect" id="node52" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="977,330,1119,377"/><area shape="rect" id="node54" href="../../d9/d7d/a00150.html#a85c405829839e85edb721241fd8d4203" title="ripple::Base58::decodeWith\lCheck" alt="" coords="1217,330,1399,377"/><area shape="rect" id="node56" href="../../d9/d7d/a00150.html#a0c2d621faceac43aeb30f4797f03b12c" title="ripple::Base58::decode" alt="" coords="1453,392,1608,421"/><area shape="rect" id="node66" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="1457,339,1604,368"/><area shape="rect" id="node58" href="../../d9/dec/a00090.html#ac2a3456ebd59fd80270f618c64544ac9" title="ripple::Base58::Alphabet\l::chars" alt="" coords="1663,383,1825,430"/><area shape="rect" id="node60" href="../../d7/d2f/a00258.html#a84e73d21fd76767976513f5bf1276215" title="ripple::CBigNum::getvch" alt="" coords="1661,453,1827,483"/><area shape="rect" id="node62" href="../../d7/d2f/a00258.html#a01d5357e9691e5d7743172afbc3cc85c" title="ripple::CBigNum::setuint" alt="" coords="1661,331,1827,360"/><area shape="rect" id="node64" href="../../d7/d2f/a00258.html#a80a1fa42fd2d87bedd0b3bf5180ed4ba" title="ripple::CBigNum::setulong" alt="" coords="1876,331,2049,360"/><area shape="rect" id="node72" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="719,400,831,429"/><area shape="rect" id="node82" href="../../d9/d9d/a03417.html#aca6318bcfeb25f74477566a7ddc06a63" title="ripple::charHex" alt="" coords="477,587,587,616"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7553efb859bf5c3c7650c348cd1358c1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> ripple::NetworkOPsImp::getValidatedLedger </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a3b147c209d1201adb03d478f148af4a1">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00100">100</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d1/de6/a00837.html#a2e32e5b06d5b855f57a7d4fb3d25c05e">ripple::LedgerMaster::getValidatedLedger()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02168">getServerInfo()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l02746">subLedger()</a>.</p>
<div class="fragment"><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;    {</div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#a2e32e5b06d5b855f57a7d4fb3d25c05e">getValidatedLedger</a> ();</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a7553efb859bf5c3c7650c348cd1358c1_cgraph.png" border="0" usemap="#d7/ded/a01009_a7553efb859bf5c3c7650c348cd1358c1_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a7553efb859bf5c3c7650c348cd1358c1_cgraph" id="d7/ded/a01009_a7553efb859bf5c3c7650c348cd1358c1_cgraph">
<area shape="rect" id="node3" href="../../d1/de6/a00837.html#a2e32e5b06d5b855f57a7d4fb3d25c05e" title="ripple::LedgerMaster\l::getValidatedLedger" alt="" coords="213,5,355,51"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a7553efb859bf5c3c7650c348cd1358c1_icgraph.png" border="0" usemap="#d7/ded/a01009_a7553efb859bf5c3c7650c348cd1358c1_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a7553efb859bf5c3c7650c348cd1358c1_icgraph" id="d7/ded/a01009_a7553efb859bf5c3c7650c348cd1358c1_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a356932367043b41df75358206d0b5b36" title="ripple::NetworkOPsImp\l::getServerInfo" alt="" coords="215,5,372,51"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a1857e0f82ca0c44b30004d3e8018827e" title="ripple::NetworkOPsImp\l::subLedger" alt="" coords="215,74,372,121"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a97de6032017da8a531bd1cf3700b41a7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::getValidatedRange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> &amp;&#160;</td>
          <td class="paramname"><em>minVal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> &amp;&#160;</td>
          <td class="paramname"><em>maxVal</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a1f7027995d7c268a996a4f722ad2021b">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00134">134</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d1/de6/a00837.html#a4fa2beaa02e540b0c303a7c576d0f5d0">ripple::LedgerMaster::getValidatedRange()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>.</p>
<div class="fragment"><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    {</div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#a4fa2beaa02e540b0c303a7c576d0f5d0">getValidatedRange</a> (minVal, maxVal);</div>
<div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a97de6032017da8a531bd1cf3700b41a7_cgraph.png" border="0" usemap="#d7/ded/a01009_a97de6032017da8a531bd1cf3700b41a7_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a97de6032017da8a531bd1cf3700b41a7_cgraph" id="d7/ded/a01009_a97de6032017da8a531bd1cf3700b41a7_cgraph">
<area shape="rect" id="node3" href="../../d1/de6/a00837.html#a4fa2beaa02e540b0c303a7c576d0f5d0" title="ripple::LedgerMaster\l::getValidatedRange" alt="" coords="215,5,353,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af1222f54df3b075656ccbe44849d1b3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> ripple::NetworkOPsImp::getValidatedSeq </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a457e6f9bc45ea5ecb0f99c920fd70b1b">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00733">733</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d1/de6/a00837.html#a2e32e5b06d5b855f57a7d4fb3d25c05e">ripple::LedgerMaster::getValidatedLedger()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>.</p>
<div class="fragment"><div class="line"><a name="l00734"></a><span class="lineno">  734</span>&#160;{</div>
<div class="line"><a name="l00735"></a><span class="lineno">  735</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#a2e32e5b06d5b855f57a7d4fb3d25c05e">getValidatedLedger</a> ()-&gt;getLedgerSeq ();</div>
<div class="line"><a name="l00736"></a><span class="lineno">  736</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_af1222f54df3b075656ccbe44849d1b3f_cgraph.png" border="0" usemap="#d7/ded/a01009_af1222f54df3b075656ccbe44849d1b3f_cgraph" alt=""/></div>
<map name="d7/ded/a01009_af1222f54df3b075656ccbe44849d1b3f_cgraph" id="d7/ded/a01009_af1222f54df3b075656ccbe44849d1b3f_cgraph">
<area shape="rect" id="node3" href="../../d1/de6/a00837.html#a2e32e5b06d5b855f57a7d4fb3d25c05e" title="ripple::LedgerMaster\l::getValidatedLedger" alt="" coords="213,5,355,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3879c24bdde3bda994b0ff43eecd52b1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> ripple::NetworkOPsImp::getValidationTimeNC </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#ac37c8b8c8650a7a0d4c8dec6114fc70b">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00681">681</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00671">getNetworkTimeNC()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00489">mLastValidationTime</a>.</p>
<div class="fragment"><div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;{</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> vt = <a class="code" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef">getNetworkTimeNC</a> ();</div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;</div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;    <span class="keywordflow">if</span> (vt &lt;= <a class="code" href="../../d7/ded/a01009.html#a9997a23348101f70cd4d97ebdbc1015b">mLastValidationTime</a>)</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        vt = <a class="code" href="../../d7/ded/a01009.html#a9997a23348101f70cd4d97ebdbc1015b">mLastValidationTime</a> + 1;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a9997a23348101f70cd4d97ebdbc1015b">mLastValidationTime</a> = vt;</div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;    <span class="keywordflow">return</span> vt;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a3879c24bdde3bda994b0ff43eecd52b1_cgraph.png" border="0" usemap="#d7/ded/a01009_a3879c24bdde3bda994b0ff43eecd52b1_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a3879c24bdde3bda994b0ff43eecd52b1_cgraph" id="d7/ded/a01009_a3879c24bdde3bda994b0ff43eecd52b1_cgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef" title="ripple::NetworkOPsImp\l::getNetworkTimeNC" alt="" coords="215,97,372,143"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a" title="ripple::NetworkOPsImp\l::getNetworkTimePT" alt="" coords="423,66,580,113"/><area shape="rect" id="node13" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7" title="ripple::iToSeconds" alt="" coords="436,136,567,165"/><area shape="rect" id="node7" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="659,13,760,43"/><area shape="rect" id="node11" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678" title="ripple::Application\l::getSystemTimeOffset" alt="" coords="631,66,788,113"/><area shape="rect" id="node9" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="839,5,1015,51"/><area shape="rect" id="node15" href="../../d9/d9d/a03417.html#a00572ed03b233ecd42f36357a395c163" title="ripple::ptEpoch" alt="" coords="655,136,764,165"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aadffcf3fce596d566d6bebaa98000f93"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::gotFetchPack </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>progress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td>
          <td class="paramname"><em>seq</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#acd958928402c51b9ec763d116fb7d0c8">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l03301">3301</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../dc/d0c/a00783.html#a0e6d017b056c57465c9d72f928e3271e">ripple::JobQueue::addJob()</a>, <a class="el" href="../../d0/d75/a03105_source.html#l00028">BIND_TYPE</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c">ripple::Application::getJobQueue()</a>, <a class="el" href="../../d8/d86/a00703.html#ac002e2895199d4223bbd6c7a44e41749">ripple::InboundLedgers::gotFetchPack()</a>, <a class="el" href="../../d8/d96/a03116_source.html#l00043">ripple::jtLEDGER_DATA</a>, and <a class="el" href="../../d0/d75/a03105_source.html#l00029">P_1</a>.</p>
<div class="fragment"><div class="line"><a name="l03302"></a><span class="lineno"> 3302</span>&#160;{</div>
<div class="line"><a name="l03303"></a><span class="lineno"> 3303</span>&#160;</div>
<div class="line"><a name="l03304"></a><span class="lineno"> 3304</span>&#160;    <span class="comment">// FIXME: Calling this function more than once will result in</span></div>
<div class="line"><a name="l03305"></a><span class="lineno"> 3305</span>&#160;    <span class="comment">// InboundLedgers::gotFetchPack being called more than once</span></div>
<div class="line"><a name="l03306"></a><span class="lineno"> 3306</span>&#160;    <span class="comment">// which is expensive. A flag should track whether we&#39;ve already dispatched</span></div>
<div class="line"><a name="l03307"></a><span class="lineno"> 3307</span>&#160;</div>
<div class="line"><a name="l03308"></a><span class="lineno"> 3308</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c">getJobQueue</a> ().<a class="code" href="../../dc/d0c/a00783.html#a0e6d017b056c57465c9d72f928e3271e">addJob</a> (<a class="code" href="../../d9/d9d/a03417.html#ae0f54f8ce649d639bf3e2b295347e17aa121ce8d90467efba069f070ad4810add">jtLEDGER_DATA</a>, <span class="stringliteral">&quot;gotFetchPack&quot;</span>,</div>
<div class="line"><a name="l03309"></a><span class="lineno"> 3309</span>&#160;                                   <a class="code" href="../../d0/d75/a03105.html#a6c0c867ff5909fab21adb4d253d4bcc5">BIND_TYPE</a> (&amp;<a class="code" href="../../d8/d86/a00703.html#ac002e2895199d4223bbd6c7a44e41749">InboundLedgers::gotFetchPack</a>, &amp;<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getInboundLedgers (), <a class="code" href="../../d0/d75/a03105.html#af188598d0d6f186e4b5b0ec4b8da5be1">P_1</a>));</div>
<div class="line"><a name="l03310"></a><span class="lineno"> 3310</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_aadffcf3fce596d566d6bebaa98000f93_cgraph.png" border="0" usemap="#d7/ded/a01009_aadffcf3fce596d566d6bebaa98000f93_cgraph" alt=""/></div>
<map name="d7/ded/a01009_aadffcf3fce596d566d6bebaa98000f93_cgraph" id="d7/ded/a01009_aadffcf3fce596d566d6bebaa98000f93_cgraph">
<area shape="rect" id="node3" href="../../dc/d0c/a00783.html#a0e6d017b056c57465c9d72f928e3271e" title="ripple::JobQueue::addJob" alt="" coords="213,5,384,35"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="248,59,349,88"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c" title="ripple::Application\l::getJobQueue" alt="" coords="236,111,361,158"/><area shape="rect" id="node11" href="../../d8/d86/a00703.html#ac002e2895199d4223bbd6c7a44e41749" title="ripple::InboundLedgers\l::gotFetchPack" alt="" coords="223,181,375,227"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="433,50,609,97"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aabc81718f21ddab68da0df51e7b9803a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d0c/a01368.html">SHAMapAddNode</a> ripple::NetworkOPsImp::gotTXData </td>
          <td>(</td>
          <td class="paramtype">const boost::shared_ptr&lt; <a class="el" href="../../d5/d17/a01098.html">Peer</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>peer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;&#160;</td>
          <td class="paramname"><em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::list&lt; <a class="el" href="../../df/d0b/a01372.html">SHAMapNode</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>nodeIDs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::list&lt; <a class="el" href="../../d9/d9d/a03417.html#a1b87ba4732cf1725393e8dd60bf73b0c">Blob</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>nodeData</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#afdaf9aa118c43e3839e61da8435605e0">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01613">1613</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00476">mConsensus</a>, and <a class="el" href="../../dd/d07/a02132_source.html#l00246">beast::Journal::warning</a>.</p>
<div class="fragment"><div class="line"><a name="l01615"></a><span class="lineno"> 1615</span>&#160;{</div>
<div class="line"><a name="l01616"></a><span class="lineno"> 1616</span>&#160;</div>
<div class="line"><a name="l01617"></a><span class="lineno"> 1617</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a>)</div>
<div class="line"><a name="l01618"></a><span class="lineno"> 1618</span>&#160;    {</div>
<div class="line"><a name="l01619"></a><span class="lineno"> 1619</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a876412c0a487a7a8840b1556cc04cb57">warning</a> &lt;&lt; <span class="stringliteral">&quot;Got TX data with no consensus object&quot;</span>;</div>
<div class="line"><a name="l01620"></a><span class="lineno"> 1620</span>&#160;        <span class="keywordflow">return</span> SHAMapAddNode ();</div>
<div class="line"><a name="l01621"></a><span class="lineno"> 1621</span>&#160;    }</div>
<div class="line"><a name="l01622"></a><span class="lineno"> 1622</span>&#160;</div>
<div class="line"><a name="l01623"></a><span class="lineno"> 1623</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a>-&gt;peerGaveNodes (peer, <a class="code" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>, nodeIDs, nodeData);</div>
<div class="line"><a name="l01624"></a><span class="lineno"> 1624</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a541e94a8026bc791398269cb50ad8e68"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::hasTXSet </td>
          <td>(</td>
          <td class="paramtype">const boost::shared_ptr&lt; <a class="el" href="../../d5/d17/a01098.html">Peer</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>peer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;&#160;</td>
          <td class="paramname"><em>set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">protocol::TxSetStatus&#160;</td>
          <td class="paramname"><em>status</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#aee45e02a9a548b9545e54820831839d5">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01626">1626</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../dd/d07/a02132_source.html#l00245">beast::Journal::info</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00476">mConsensus</a>.</p>
<div class="fragment"><div class="line"><a name="l01627"></a><span class="lineno"> 1627</span>&#160;{</div>
<div class="line"><a name="l01628"></a><span class="lineno"> 1628</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a> == <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l01629"></a><span class="lineno"> 1629</span>&#160;    {</div>
<div class="line"><a name="l01630"></a><span class="lineno"> 1630</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;Peer has TX set, not during consensus&quot;</span>;</div>
<div class="line"><a name="l01631"></a><span class="lineno"> 1631</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01632"></a><span class="lineno"> 1632</span>&#160;    }</div>
<div class="line"><a name="l01633"></a><span class="lineno"> 1633</span>&#160;</div>
<div class="line"><a name="l01634"></a><span class="lineno"> 1634</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a>-&gt;peerHasSet (peer, set, status);</div>
<div class="line"><a name="l01635"></a><span class="lineno"> 1635</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ac929d58ce61af6b87922103bf3da3039"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::haveConsensusObject </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01483">1483</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l01449">beginConsensus()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01268">checkLastClosedLedger()</a>, <a class="el" href="../../de/de6/a01063.html#a5b8ee783b77679fb2fad2543ab521a90">ripple::Overlay::getActivePeers()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8">ripple::LedgerMaster::getCurrentLedger()</a>, <a class="el" href="../../d1/de6/a00837.html#aa7961e4d96dba24b272e032d00b2e512">ripple::LedgerMaster::getMinValidations()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00308">getPreviousProposers()</a>, <a class="el" href="../../dd/d07/a02132_source.html#l00245">beast::Journal::info</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00476">mConsensus</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00469">mMode</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00079">ripple::NetworkOPs::omFULL</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00077">ripple::NetworkOPs::omSYNCING</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00078">ripple::NetworkOPs::omTRACKING</a>, <a class="el" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee">ripple::Application::overlay()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01717">setMode()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01233">tryStartConsensus()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l01512">getConsensusLCL()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01577">getTXMap()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01645">mapComplete()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01520">processTrustedProposal()</a>.</p>
<div class="fragment"><div class="line"><a name="l01484"></a><span class="lineno"> 1484</span>&#160;{</div>
<div class="line"><a name="l01485"></a><span class="lineno"> 1485</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a> != <span class="keyword">nullptr</span>)</div>
<div class="line"><a name="l01486"></a><span class="lineno"> 1486</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l01487"></a><span class="lineno"> 1487</span>&#160;</div>
<div class="line"><a name="l01488"></a><span class="lineno"> 1488</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaafaf756912385746855189063c6bd422d">omFULL</a>) || (<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaae419906cda8f51387b7c8ea5e06b897b">omTRACKING</a>))</div>
<div class="line"><a name="l01489"></a><span class="lineno"> 1489</span>&#160;    {</div>
<div class="line"><a name="l01490"></a><span class="lineno"> 1490</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a6a3776d980baee062b961c0195bc43be">tryStartConsensus</a> ();</div>
<div class="line"><a name="l01491"></a><span class="lineno"> 1491</span>&#160;    }</div>
<div class="line"><a name="l01492"></a><span class="lineno"> 1492</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01493"></a><span class="lineno"> 1493</span>&#160;    {</div>
<div class="line"><a name="l01494"></a><span class="lineno"> 1494</span>&#160;        <span class="comment">// we need to get into the consensus process</span></div>
<div class="line"><a name="l01495"></a><span class="lineno"> 1495</span>&#160;        uint256 networkClosed;</div>
<div class="line"><a name="l01496"></a><span class="lineno"> 1496</span>&#160;        <a class="code" href="../../de/de6/a01063.html#ab31ecd9bdd548883e13ef848725264ab">Overlay::PeerSequence</a> peerList = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee">overlay</a> ().<a class="code" href="../../de/de6/a01063.html#a5b8ee783b77679fb2fad2543ab521a90">getActivePeers</a> ();</div>
<div class="line"><a name="l01497"></a><span class="lineno"> 1497</span>&#160;        <span class="keywordtype">bool</span> ledgerChange = <a class="code" href="../../d7/ded/a01009.html#ad72f54405ed9b8219022e8c2b7796c98">checkLastClosedLedger</a> (peerList, networkClosed);</div>
<div class="line"><a name="l01498"></a><span class="lineno"> 1498</span>&#160;</div>
<div class="line"><a name="l01499"></a><span class="lineno"> 1499</span>&#160;        <span class="keywordflow">if</span> (!ledgerChange)</div>
<div class="line"><a name="l01500"></a><span class="lineno"> 1500</span>&#160;        {</div>
<div class="line"><a name="l01501"></a><span class="lineno"> 1501</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;Beginning consensus due to peer action&quot;</span>;</div>
<div class="line"><a name="l01502"></a><span class="lineno"> 1502</span>&#160;            <span class="keywordflow">if</span> ( ((<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaae419906cda8f51387b7c8ea5e06b897b">omTRACKING</a>) || (<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaacef3f23406b4e678986eb3be3a7ccfd9">omSYNCING</a>)) &amp;&amp;</div>
<div class="line"><a name="l01503"></a><span class="lineno"> 1503</span>&#160;                 (<a class="code" href="../../d7/ded/a01009.html#abdde224cfc7141d0eace3b9d2158b741">getPreviousProposers</a>() &gt;= <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#aa7961e4d96dba24b272e032d00b2e512">getMinValidations</a>()) )</div>
<div class="line"><a name="l01504"></a><span class="lineno"> 1504</span>&#160;                <a class="code" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40">setMode</a> (<a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaafaf756912385746855189063c6bd422d">omFULL</a>);</div>
<div class="line"><a name="l01505"></a><span class="lineno"> 1505</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a0a714120f440d54c69a4a39e803f9d1a">beginConsensus</a> (networkClosed, <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8">getCurrentLedger</a> ());</div>
<div class="line"><a name="l01506"></a><span class="lineno"> 1506</span>&#160;        }</div>
<div class="line"><a name="l01507"></a><span class="lineno"> 1507</span>&#160;    }</div>
<div class="line"><a name="l01508"></a><span class="lineno"> 1508</span>&#160;</div>
<div class="line"><a name="l01509"></a><span class="lineno"> 1509</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a> != <span class="keyword">nullptr</span>;</div>
<div class="line"><a name="l01510"></a><span class="lineno"> 1510</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_ac929d58ce61af6b87922103bf3da3039_cgraph.png" border="0" usemap="#d7/ded/a01009_ac929d58ce61af6b87922103bf3da3039_cgraph" alt=""/></div>
<map name="d7/ded/a01009_ac929d58ce61af6b87922103bf3da3039_cgraph" id="d7/ded/a01009_ac929d58ce61af6b87922103bf3da3039_cgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a0a714120f440d54c69a4a39e803f9d1a" title="ripple::NetworkOPsImp\l::beginConsensus" alt="" coords="431,567,588,614"/><area shape="rect" id="node7" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8" title="ripple::LedgerMaster\l::getCurrentLedger" alt="" coords="676,305,815,351"/><area shape="rect" id="node13" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40" title="ripple::NetworkOPsImp\l::setMode" alt="" coords="667,397,824,443"/><area shape="rect" id="node15" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="1385,828,1487,857"/><area shape="rect" id="node45" href="../../d7/ded/a01009.html#ad72f54405ed9b8219022e8c2b7796c98" title="ripple::NetworkOPsImp\l::checkLastClosedLedger" alt="" coords="424,1018,595,1065"/><area shape="rect" id="node98" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee" title="ripple::Application\l::overlay" alt="" coords="923,1665,1048,1711"/><area shape="rect" id="node102" href="../../de/de6/a01063.html#a5b8ee783b77679fb2fad2543ab521a90" title="ripple::Overlay::getActive\lPeers" alt="" coords="1124,1629,1292,1675"/><area shape="rect" id="node107" href="../../d1/de6/a00837.html#aa7961e4d96dba24b272e032d00b2e512" title="ripple::LedgerMaster\l::getMinValidations" alt="" coords="227,1785,365,1831"/><area shape="rect" id="node109" href="../../d7/ded/a01009.html#abdde224cfc7141d0eace3b9d2158b741" title="ripple::NetworkOPsImp\l::getPreviousProposers" alt="" coords="217,1854,375,1901"/><area shape="rect" id="node113" href="../../d7/ded/a01009.html#a6a3776d980baee062b961c0195bc43be" title="ripple::NetworkOPsImp\l::tryStartConsensus" alt="" coords="217,537,375,583"/><area shape="rect" id="node5" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="676,690,815,737"/><area shape="rect" id="node9" href="../../d1/de6/a00837.html#a71a21a539d63be51cada4d3c4e4c4030" title="ripple::LedgerMaster\l::getLedgerByHash" alt="" coords="676,621,815,667"/><area shape="rect" id="node11" href="../../d9/d9d/a03417.html#a3a7635ac808de39b7ba85e823182f93c" title="ripple::make_LedgerConsensus" alt="" coords="643,568,848,597"/><area shape="rect" id="node19" href="../../d4/d87/a03436.html#a437c68f3299fa632d4a1694059fd6ddb" title="rocksdb::Log" alt="" coords="937,253,1033,283"/><area shape="rect" id="node21" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f" title="ripple::NetworkOPsImp\l::strOperatingMode" alt="" coords="1129,397,1287,443"/><area shape="rect" id="node23" href="../../d7/ded/a01009.html#a768673e1643af3147b10b4d99aca8caf" title="ripple::NetworkOPsImp\l::pubServer" alt="" coords="907,306,1064,353"/><area shape="rect" id="node17" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="1580,819,1756,866"/><area shape="rect" id="node27" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb" title="ripple::Application\l::getFeeTrack" alt="" coords="1145,138,1271,185"/><area shape="rect" id="node29" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0" title="ripple::LoadFeeTrack\l::getLoadBase" alt="" coords="1136,207,1280,254"/><area shape="rect" id="node31" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac" title="ripple::LoadFeeTrack\l::getLoadFactor" alt="" coords="1136,277,1280,323"/><area shape="rect" id="node33" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="1131,85,1285,115"/><area shape="rect" id="node35" href="../../d7/def/a00521.html#a2ef4a2ce13a341171f01f414f4fdd765" title="Json::FastWriter::writeValue" alt="" coords="1343,85,1529,115"/><area shape="rect" id="node37" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="1599,165,1737,195"/><area shape="rect" id="node39" href="../../d6/d27/a01781.html#a5b7da48b163bcec63b1424f1608b7da6" title="Json::Value::asCString" alt="" coords="1589,5,1747,35"/><area shape="rect" id="node41" href="../../d6/d27/a01781.html#a33434ed1c0217a34d04c95fa5342fd37" title="Json::Value::asDouble" alt="" coords="1591,59,1745,88"/><area shape="rect" id="node43" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="1604,112,1732,141"/><area shape="rect" id="node47" href="../../d7/ded/a01009.html#a08d1779d5bb2a06bdbaeabdac2ba3ed8" title="ripple::NetworkOPsImp\l::clearNeedNetworkLedger" alt="" coords="897,1595,1073,1642"/><area shape="rect" id="node49" href="../../d8/d86/a00703.html#aa8378c07e914d43964d816ee1ac8d1dd" title="ripple::InboundLedgers\l::dropLedger" alt="" coords="669,949,821,995"/><area shape="rect" id="node51" href="../../d8/d86/a00703.html#a6f59efd378b35314541b4d5c76cd905a" title="ripple::InboundLedgers\l::findCreate" alt="" coords="669,1018,821,1065"/><area shape="rect" id="node55" href="../../d3/dac/a01777.html#abc7c7eb0126fa15e409f282c515dae85" title="ripple::Validations\l::getCurrentValidations" alt="" coords="668,1087,823,1134"/><area shape="rect" id="node57" href="../../da/d74/a00099.html#a6d349a4ada03689eae062c0399762dad" title="ripple::Application\l::getInboundLedgers" alt="" coords="676,1157,815,1203"/><area shape="rect" id="node60" href="../../da/d74/a00099.html#ac95c5f6db4db8575632193495189a702" title="ripple::Application\l::getLocalCredentials" alt="" coords="673,1226,817,1273"/><area shape="rect" id="node62" href="../../d4/d0e/a01272.html#abead041d13890ad9c8938c28f27f8ccd" title="ripple::RippleAddress\l::getNodeID" alt="" coords="672,879,819,926"/><area shape="rect" id="node66" href="../../dc/dfa/a00894.html#af67a14f58bffac4bd931722ecbd316d9" title="ripple::LocalCredentials\l::getNodePublic" alt="" coords="667,1295,824,1342"/><area shape="rect" id="node68" href="../../da/d74/a00099.html#a4f3da0257883c463e0a561d7ba793dd4" title="ripple::Application\l::getValidations" alt="" coords="683,1365,808,1411"/><area shape="rect" id="node70" href="../../d7/d9a/a00152.html#a3fa11a064a87fe4e970f00d661287dd2" title="ripple::base_uint::\lisNonZero" alt="" coords="683,759,808,806"/><area shape="rect" id="node75" href="../../d7/ded/a01009.html#a03e21ff22be1d31dbe08f81deb590ece" title="ripple::NetworkOPsImp\l::switchLastClosedLedger" alt="" coords="659,1485,832,1531"/><area shape="rect" id="node64" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="929,888,1041,917"/><area shape="rect" id="node72" href="../../d7/d9a/a00152.html#a25e873c7d069c6c2d44655736f2b6c21" title="ripple::base_uint::\lisZero" alt="" coords="923,663,1048,710"/><area shape="rect" id="node78" href="../../d1/de6/a00837.html#af249e0b1768882343f37df9720aeb25d" title="ripple::LedgerMaster\l::switchLedgers" alt="" coords="916,1403,1055,1450"/><area shape="rect" id="node81" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef" title="ripple::NetworkOPsImp\l::getNetworkTimeNC" alt="" coords="907,1473,1064,1519"/><area shape="rect" id="node92" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="923,1334,1048,1381"/><area shape="rect" id="node96" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="911,1281,1060,1311"/><area shape="rect" id="node100" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c" title="ripple::Overlay::foreach" alt="" coords="907,1543,1064,1572"/><area shape="rect" id="node83" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a" title="ripple::NetworkOPsImp\l::getNetworkTimePT" alt="" coords="1129,1403,1287,1450"/><area shape="rect" id="node88" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7" title="ripple::iToSeconds" alt="" coords="1143,1481,1273,1511"/><area shape="rect" id="node86" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678" title="ripple::Application\l::getSystemTimeOffset" alt="" coords="1357,1403,1515,1450"/><area shape="rect" id="node90" href="../../d9/d9d/a03417.html#a00572ed03b233ecd42f36357a395c163" title="ripple::ptEpoch" alt="" coords="1381,1481,1491,1511"/><area shape="rect" id="node94" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1133,1343,1283,1372"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_ac929d58ce61af6b87922103bf3da3039_icgraph.png" border="0" usemap="#d7/ded/a01009_ac929d58ce61af6b87922103bf3da3039_icgraph" alt=""/></div>
<map name="d7/ded/a01009_ac929d58ce61af6b87922103bf3da3039_icgraph" id="d7/ded/a01009_ac929d58ce61af6b87922103bf3da3039_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a27090d36556b8665cbd908efa99e2a05" title="ripple::NetworkOPsImp\l::getConsensusLCL" alt="" coords="223,5,380,51"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a7fc7ee8501f9d95df97583cabf3b4771" title="ripple::NetworkOPsImp\l::getTXMap" alt="" coords="223,74,380,121"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#aff24b82af590d1db837231ad0125eee4" title="ripple::NetworkOPsImp\l::mapComplete" alt="" coords="223,143,380,190"/><area shape="rect" id="node9" href="../../d7/ded/a01009.html#a148e1e8d0c5128ee48e0206cdeb5e2a0" title="ripple::NetworkOPsImp\l::processTrustedProposal" alt="" coords="216,213,387,259"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a734ad201c61554459b5bb61b749d36ef"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::haveLedger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td>
          <td class="paramname"><em>seq</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#ad384b6c6940ad6c2fa9f81d2bfb7fe10">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00728">728</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d1/de6/a00837.html#af28d084eaf411320d8780322b2eba49c">ripple::LedgerMaster::haveLedger()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00746">isValidated()</a>.</p>
<div class="fragment"><div class="line"><a name="l00729"></a><span class="lineno">  729</span>&#160;{</div>
<div class="line"><a name="l00730"></a><span class="lineno">  730</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#af28d084eaf411320d8780322b2eba49c">haveLedger</a> (seq);</div>
<div class="line"><a name="l00731"></a><span class="lineno">  731</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a734ad201c61554459b5bb61b749d36ef_cgraph.png" border="0" usemap="#d7/ded/a01009_a734ad201c61554459b5bb61b749d36ef_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a734ad201c61554459b5bb61b749d36ef_cgraph" id="d7/ded/a01009_a734ad201c61554459b5bb61b749d36ef_cgraph">
<area shape="rect" id="node3" href="../../d1/de6/a00837.html#af28d084eaf411320d8780322b2eba49c" title="ripple::LedgerMaster\l::haveLedger" alt="" coords="215,5,353,51"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a734ad201c61554459b5bb61b749d36ef_icgraph.png" border="0" usemap="#d7/ded/a01009_a734ad201c61554459b5bb61b749d36ef_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a734ad201c61554459b5bb61b749d36ef_icgraph" id="d7/ded/a01009_a734ad201c61554459b5bb61b749d36ef_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a38a0c652d21eacfc6dd3d9661070edd3" title="ripple::NetworkOPsImp\l::isValidated" alt="" coords="215,5,372,51"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a4faff51264e4e78dcb275e2bfbf4be94" title="ripple::NetworkOPsImp\l::isValidated" alt="" coords="423,5,580,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a562c499ba1464e3e4a28113d8d5e98e8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::haveLedgerRange </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td>
          <td class="paramname"><em>from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td>
          <td class="paramname"><em>to</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a67cc3b31d008096d8a5fcfa1b81757e5">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00723">723</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d1/de6/a00837.html#aebde1523ffaf94e474d25b63f8957d44">ripple::LedgerMaster::haveLedgerRange()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>.</p>
<div class="fragment"><div class="line"><a name="l00724"></a><span class="lineno">  724</span>&#160;{</div>
<div class="line"><a name="l00725"></a><span class="lineno">  725</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#aebde1523ffaf94e474d25b63f8957d44">haveLedgerRange</a> (from, to);</div>
<div class="line"><a name="l00726"></a><span class="lineno">  726</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a562c499ba1464e3e4a28113d8d5e98e8_cgraph.png" border="0" usemap="#d7/ded/a01009_a562c499ba1464e3e4a28113d8d5e98e8_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a562c499ba1464e3e4a28113d8d5e98e8_cgraph" id="d7/ded/a01009_a562c499ba1464e3e4a28113d8d5e98e8_cgraph">
<area shape="rect" id="node3" href="../../d1/de6/a00837.html#aebde1523ffaf94e474d25b63f8957d44" title="ripple::LedgerMaster\l::haveLedgerRange" alt="" coords="215,5,353,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af28631070e723398925187eb25bd0b28"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::isFeatureBlocked </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#ad03a7598420f86b3c13cb38ecf55bad1">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00302">302</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00472">mFeatureBlocked</a>.</p>
<div class="fragment"><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;    {</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a492366ff8770557052effe9758495427">mFeatureBlocked</a>;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a1fc31e0a3e26d6fc5e0c847c10ef911a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::isFull </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#ab7b43a2b50805198d0cf84b7790b0ba0">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00285">285</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00469">mMode</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00470">mNeedNetworkLedger</a>, and <a class="el" href="../../dd/d8f/a02970_source.html#l00079">ripple::NetworkOPs::omFULL</a>.</p>
<div class="fragment"><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;    {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordflow">return</span> !<a class="code" href="../../d7/ded/a01009.html#a47ec6c8f5fcf5adae37a33884645924d">mNeedNetworkLedger</a> &amp;&amp; (<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaafaf756912385746855189063c6bd422d">omFULL</a>);</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a633b71e3a7c523f2c7af59e13979de34"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::isNeedNetworkLedger </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#ad501185ed756e643261f7079e5ea2eb8">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00281">281</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00470">mNeedNetworkLedger</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02746">subLedger()</a>.</p>
<div class="fragment"><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;    {</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a47ec6c8f5fcf5adae37a33884645924d">mNeedNetworkLedger</a>;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a633b71e3a7c523f2c7af59e13979de34_icgraph.png" border="0" usemap="#d7/ded/a01009_a633b71e3a7c523f2c7af59e13979de34_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a633b71e3a7c523f2c7af59e13979de34_icgraph" id="d7/ded/a01009_a633b71e3a7c523f2c7af59e13979de34_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a1857e0f82ca0c44b30004d3e8018827e" title="ripple::NetworkOPsImp\l::subLedger" alt="" coords="215,5,372,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad6eb53cae5ac19efd8a5eafe72f3927d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::isProposing </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#adfc21f9c5c598e55b724283b1fa2ea94">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00294">294</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00471">mProposing</a>.</p>
<div class="fragment"><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    {</div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a83d0181caae154387781bb0bcf3c4bf9">mProposing</a>;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a38a0c652d21eacfc6dd3d9661070edd3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::isValidated </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td>
          <td class="paramname"><em>seq</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a6e7708abcb4aecb04332bcd9a469c948">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00746">746</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d1/de6/a00837.html#a2e32e5b06d5b855f57a7d4fb3d25c05e">ripple::LedgerMaster::getValidatedLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00728">haveLedger()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00130">isValidated()</a>.</p>
<div class="fragment"><div class="line"><a name="l00747"></a><span class="lineno">  747</span>&#160;{</div>
<div class="line"><a name="l00748"></a><span class="lineno">  748</span>&#160;    <span class="comment">// use when ledger was retrieved by seq</span></div>
<div class="line"><a name="l00749"></a><span class="lineno">  749</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a734ad201c61554459b5bb61b749d36ef">haveLedger</a> (seq) &amp;&amp; (seq &lt;= <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#a2e32e5b06d5b855f57a7d4fb3d25c05e">getValidatedLedger</a> ()-&gt;getLedgerSeq ());</div>
<div class="line"><a name="l00750"></a><span class="lineno">  750</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a38a0c652d21eacfc6dd3d9661070edd3_cgraph.png" border="0" usemap="#d7/ded/a01009_a38a0c652d21eacfc6dd3d9661070edd3_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a38a0c652d21eacfc6dd3d9661070edd3_cgraph" id="d7/ded/a01009_a38a0c652d21eacfc6dd3d9661070edd3_cgraph">
<area shape="rect" id="node3" href="../../d1/de6/a00837.html#a2e32e5b06d5b855f57a7d4fb3d25c05e" title="ripple::LedgerMaster\l::getValidatedLedger" alt="" coords="223,5,364,51"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a734ad201c61554459b5bb61b749d36ef" title="ripple::NetworkOPsImp\l::haveLedger" alt="" coords="215,74,372,121"/><area shape="rect" id="node7" href="../../d1/de6/a00837.html#af28d084eaf411320d8780322b2eba49c" title="ripple::LedgerMaster\l::haveLedger" alt="" coords="423,74,561,121"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a38a0c652d21eacfc6dd3d9661070edd3_icgraph.png" border="0" usemap="#d7/ded/a01009_a38a0c652d21eacfc6dd3d9661070edd3_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a38a0c652d21eacfc6dd3d9661070edd3_icgraph" id="d7/ded/a01009_a38a0c652d21eacfc6dd3d9661070edd3_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a4faff51264e4e78dcb275e2bfbf4be94" title="ripple::NetworkOPsImp\l::isValidated" alt="" coords="215,5,372,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a76723218e1187ba31c42cfe976acfffe"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::isValidated </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td>
          <td class="paramname"><em>seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;&#160;</td>
          <td class="paramname"><em>hash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a0ae18afec44525405d559bc941030465">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00738">738</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d1/de6/a00837.html#af1f0008f2ac45ed99166ad478da288ea">ripple::LedgerMaster::getHashBySeq()</a>, <a class="el" href="../../d5/d95/a02720_source.html#l00040">hash</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00746">isValidated()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>.</p>
<div class="fragment"><div class="line"><a name="l00739"></a><span class="lineno">  739</span>&#160;{</div>
<div class="line"><a name="l00740"></a><span class="lineno">  740</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d7/ded/a01009.html#a38a0c652d21eacfc6dd3d9661070edd3">isValidated</a> (seq))</div>
<div class="line"><a name="l00741"></a><span class="lineno">  741</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00742"></a><span class="lineno">  742</span>&#160;</div>
<div class="line"><a name="l00743"></a><span class="lineno">  743</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#af1f0008f2ac45ed99166ad478da288ea">getHashBySeq</a> (seq) == <a class="code" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>;</div>
<div class="line"><a name="l00744"></a><span class="lineno">  744</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a76723218e1187ba31c42cfe976acfffe_cgraph.png" border="0" usemap="#d7/ded/a01009_a76723218e1187ba31c42cfe976acfffe_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a76723218e1187ba31c42cfe976acfffe_cgraph" id="d7/ded/a01009_a76723218e1187ba31c42cfe976acfffe_cgraph">
<area shape="rect" id="node3" href="../../d1/de6/a00837.html#af1f0008f2ac45ed99166ad478da288ea" title="ripple::LedgerMaster\l::getHashBySeq" alt="" coords="224,5,363,51"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a38a0c652d21eacfc6dd3d9661070edd3" title="ripple::NetworkOPsImp\l::isValidated" alt="" coords="215,74,372,121"/><area shape="rect" id="node7" href="../../d1/de6/a00837.html#a2e32e5b06d5b855f57a7d4fb3d25c05e" title="ripple::LedgerMaster\l::getValidatedLedger" alt="" coords="431,39,572,86"/><area shape="rect" id="node9" href="../../d7/ded/a01009.html#a734ad201c61554459b5bb61b749d36ef" title="ripple::NetworkOPsImp\l::haveLedger" alt="" coords="423,109,580,155"/><area shape="rect" id="node11" href="../../d1/de6/a00837.html#af28d084eaf411320d8780322b2eba49c" title="ripple::LedgerMaster\l::haveLedger" alt="" coords="631,109,769,155"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4faff51264e4e78dcb275e2bfbf4be94"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::isValidated </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a>&#160;</td>
          <td class="paramname"><em>l</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a321816862b94c793facbd17f2ca60836">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00130">130</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00746">isValidated()</a>.</p>
<div class="fragment"><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;    {</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a38a0c652d21eacfc6dd3d9661070edd3">isValidated</a> (l-&gt;getLedgerSeq (), l-&gt;getHash ());</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a4faff51264e4e78dcb275e2bfbf4be94_cgraph.png" border="0" usemap="#d7/ded/a01009_a4faff51264e4e78dcb275e2bfbf4be94_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a4faff51264e4e78dcb275e2bfbf4be94_cgraph" id="d7/ded/a01009_a4faff51264e4e78dcb275e2bfbf4be94_cgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a38a0c652d21eacfc6dd3d9661070edd3" title="ripple::NetworkOPsImp\l::isValidated" alt="" coords="215,39,372,86"/><area shape="rect" id="node5" href="../../d1/de6/a00837.html#a2e32e5b06d5b855f57a7d4fb3d25c05e" title="ripple::LedgerMaster\l::getValidatedLedger" alt="" coords="431,5,572,51"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#a734ad201c61554459b5bb61b749d36ef" title="ripple::NetworkOPsImp\l::haveLedger" alt="" coords="423,74,580,121"/><area shape="rect" id="node9" href="../../d1/de6/a00837.html#af28d084eaf411320d8780322b2eba49c" title="ripple::LedgerMaster\l::haveLedger" alt="" coords="631,74,769,121"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a327c7e661ab387a7399e361bec2a333f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::isValidating </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a52e5e50c0d7d2c913ac7d3e34b2f5c2f">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00298">298</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00471">mValidating</a>.</p>
<div class="fragment"><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;    {</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a2e59597ec8206a1b89bd319946acc929">mValidating</a>;</div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aba8325861d32ab9cab76bac7c211cba6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::makeFetchPack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d96/a00782.html">Job</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::weak_ptr&lt; <a class="el" href="../../d5/d17/a01098.html">Peer</a> &gt;&#160;</td>
          <td class="paramname"><em>peer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::shared_ptr&lt; protocol::TMGetObjectByHash &gt;&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>&#160;</td>
          <td class="paramname"><em>wantLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>&#160;</td>
          <td class="paramname"><em>haveLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td>
          <td class="paramname"><em>uUptime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a5bfc8c4fec5fcd5f1f60aa7aef347510">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l03189">3189</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../dc/ddd/a03196_source.html#l00044">ripple::Serializer::add32()</a>, <a class="el" href="../../d0/d75/a03105_source.html#l00028">BIND_TYPE</a>, <a class="el" href="../../db/d6c/a02969_source.html#l03180">ripple::fpAppender()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../dd/d61/a03197_source.html#l00145">ripple::Serializer::getDataPtr()</a>, <a class="el" href="../../de/dd1/a03112_source.html#l00071">ripple::UptimeTimer::getInstance()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00112">getLedgerByHash()</a>, <a class="el" href="../../dd/d61/a03197_source.html#l00153">ripple::Serializer::getLength()</a>, <a class="el" href="../../dd/d07/a02132_source.html#l00245">beast::Journal::info</a>, <a class="el" href="../../d7/daf/a03181_source.html#l00077">ripple::HashPrefix::ledgerMaster</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../d0/d75/a03105_source.html#l00029">P_1</a>, <a class="el" href="../../d0/d75/a03105_source.html#l00030">P_2</a>, and <a class="el" href="../../dd/d07/a02132_source.html#l00246">beast::Journal::warning</a>.</p>
<div class="fragment"><div class="line"><a name="l03193"></a><span class="lineno"> 3193</span>&#160;{</div>
<div class="line"><a name="l03194"></a><span class="lineno"> 3194</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../df/d7b/a01765.html#ac9f8c7e22a8eb347f4be7596bd712d01">UptimeTimer::getInstance</a> ().getElapsedSeconds () &gt; (uUptime + 1))</div>
<div class="line"><a name="l03195"></a><span class="lineno"> 3195</span>&#160;    {</div>
<div class="line"><a name="l03196"></a><span class="lineno"> 3196</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;Fetch pack request got stale&quot;</span>;</div>
<div class="line"><a name="l03197"></a><span class="lineno"> 3197</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03198"></a><span class="lineno"> 3198</span>&#160;    }</div>
<div class="line"><a name="l03199"></a><span class="lineno"> 3199</span>&#160;</div>
<div class="line"><a name="l03200"></a><span class="lineno"> 3200</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getFeeTrack ().isLoadedLocal ())</div>
<div class="line"><a name="l03201"></a><span class="lineno"> 3201</span>&#160;    {</div>
<div class="line"><a name="l03202"></a><span class="lineno"> 3202</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;Too busy to make fetch pack&quot;</span>;</div>
<div class="line"><a name="l03203"></a><span class="lineno"> 3203</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03204"></a><span class="lineno"> 3204</span>&#160;    }</div>
<div class="line"><a name="l03205"></a><span class="lineno"> 3205</span>&#160;</div>
<div class="line"><a name="l03206"></a><span class="lineno"> 3206</span>&#160;    <span class="keywordflow">try</span></div>
<div class="line"><a name="l03207"></a><span class="lineno"> 3207</span>&#160;    {</div>
<div class="line"><a name="l03208"></a><span class="lineno"> 3208</span>&#160;        <a class="code" href="../../d5/d17/a01098.html#a74554bf78a38b1c2c190b5b47c1955d4">Peer::ptr</a> peer = wPeer.lock ();</div>
<div class="line"><a name="l03209"></a><span class="lineno"> 3209</span>&#160;</div>
<div class="line"><a name="l03210"></a><span class="lineno"> 3210</span>&#160;        <span class="keywordflow">if</span> (!peer)</div>
<div class="line"><a name="l03211"></a><span class="lineno"> 3211</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l03212"></a><span class="lineno"> 3212</span>&#160;</div>
<div class="line"><a name="l03213"></a><span class="lineno"> 3213</span>&#160;        protocol::TMGetObjectByHash reply;</div>
<div class="line"><a name="l03214"></a><span class="lineno"> 3214</span>&#160;        reply.set_query (<span class="keyword">false</span>);</div>
<div class="line"><a name="l03215"></a><span class="lineno"> 3215</span>&#160;</div>
<div class="line"><a name="l03216"></a><span class="lineno"> 3216</span>&#160;        <span class="keywordflow">if</span> (request-&gt;has_seq ())</div>
<div class="line"><a name="l03217"></a><span class="lineno"> 3217</span>&#160;            reply.set_seq (request-&gt;seq ());</div>
<div class="line"><a name="l03218"></a><span class="lineno"> 3218</span>&#160;</div>
<div class="line"><a name="l03219"></a><span class="lineno"> 3219</span>&#160;        reply.set_ledgerhash (request-&gt;ledgerhash ());</div>
<div class="line"><a name="l03220"></a><span class="lineno"> 3220</span>&#160;        reply.set_type (protocol::TMGetObjectByHash::otFETCH_PACK);</div>
<div class="line"><a name="l03221"></a><span class="lineno"> 3221</span>&#160;</div>
<div class="line"><a name="l03222"></a><span class="lineno"> 3222</span>&#160;        <span class="keywordflow">do</span></div>
<div class="line"><a name="l03223"></a><span class="lineno"> 3223</span>&#160;        {</div>
<div class="line"><a name="l03224"></a><span class="lineno"> 3224</span>&#160;            <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> lSeq = wantLedger-&gt;getLedgerSeq ();</div>
<div class="line"><a name="l03225"></a><span class="lineno"> 3225</span>&#160;</div>
<div class="line"><a name="l03226"></a><span class="lineno"> 3226</span>&#160;            protocol::TMIndexedObject&amp; newObj = *reply.add_objects ();</div>
<div class="line"><a name="l03227"></a><span class="lineno"> 3227</span>&#160;            newObj.set_hash (wantLedger-&gt;getHash ().begin (), 256 / 8);</div>
<div class="line"><a name="l03228"></a><span class="lineno"> 3228</span>&#160;            Serializer s (256);</div>
<div class="line"><a name="l03229"></a><span class="lineno"> 3229</span>&#160;            s.add32 (<a class="code" href="../../da/d36/a00650.html#a9c370f5efee816a82c6781806e54b842">HashPrefix::ledgerMaster</a>);</div>
<div class="line"><a name="l03230"></a><span class="lineno"> 3230</span>&#160;            wantLedger-&gt;addRaw (s);</div>
<div class="line"><a name="l03231"></a><span class="lineno"> 3231</span>&#160;            newObj.set_data (s.getDataPtr (), s.getLength ());</div>
<div class="line"><a name="l03232"></a><span class="lineno"> 3232</span>&#160;            newObj.set_ledgerseq (lSeq);</div>
<div class="line"><a name="l03233"></a><span class="lineno"> 3233</span>&#160;</div>
<div class="line"><a name="l03234"></a><span class="lineno"> 3234</span>&#160;            wantLedger-&gt;peekAccountStateMap ()-&gt;getFetchPack (<a class="code" href="../../d7/ded/a01009.html#a734ad201c61554459b5bb61b749d36ef">haveLedger</a>-&gt;peekAccountStateMap ().get (), <span class="keyword">true</span>, 1024,</div>
<div class="line"><a name="l03235"></a><span class="lineno"> 3235</span>&#160;                    <a class="code" href="../../d0/d75/a03105.html#a6c0c867ff5909fab21adb4d253d4bcc5">BIND_TYPE</a> (<a class="code" href="../../d9/d9d/a03417.html#a9ac74ccfbca0700dc88269dbd68ee2f5">fpAppender</a>, &amp;reply, lSeq, <a class="code" href="../../d0/d75/a03105.html#af188598d0d6f186e4b5b0ec4b8da5be1">P_1</a>, <a class="code" href="../../d0/d75/a03105.html#abb9cce698fe6446abdf9d14a5e34dd55">P_2</a>));</div>
<div class="line"><a name="l03236"></a><span class="lineno"> 3236</span>&#160;</div>
<div class="line"><a name="l03237"></a><span class="lineno"> 3237</span>&#160;            <span class="keywordflow">if</span> (wantLedger-&gt;getTransHash ().isNonZero ())</div>
<div class="line"><a name="l03238"></a><span class="lineno"> 3238</span>&#160;                wantLedger-&gt;peekTransactionMap ()-&gt;getFetchPack (<span class="keyword">nullptr</span>, <span class="keyword">true</span>, 256,</div>
<div class="line"><a name="l03239"></a><span class="lineno"> 3239</span>&#160;                        <a class="code" href="../../d0/d75/a03105.html#a6c0c867ff5909fab21adb4d253d4bcc5">BIND_TYPE</a> (<a class="code" href="../../d9/d9d/a03417.html#a9ac74ccfbca0700dc88269dbd68ee2f5">fpAppender</a>, &amp;reply, lSeq, <a class="code" href="../../d0/d75/a03105.html#af188598d0d6f186e4b5b0ec4b8da5be1">P_1</a>, <a class="code" href="../../d0/d75/a03105.html#abb9cce698fe6446abdf9d14a5e34dd55">P_2</a>));</div>
<div class="line"><a name="l03240"></a><span class="lineno"> 3240</span>&#160;</div>
<div class="line"><a name="l03241"></a><span class="lineno"> 3241</span>&#160;            <span class="keywordflow">if</span> (reply.objects ().size () &gt;= 256)</div>
<div class="line"><a name="l03242"></a><span class="lineno"> 3242</span>&#160;                <span class="keywordflow">break</span>;</div>
<div class="line"><a name="l03243"></a><span class="lineno"> 3243</span>&#160;</div>
<div class="line"><a name="l03244"></a><span class="lineno"> 3244</span>&#160;            <span class="comment">// VFALCO NOTE Why use move?</span></div>
<div class="line"><a name="l03245"></a><span class="lineno"> 3245</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a734ad201c61554459b5bb61b749d36ef">haveLedger</a> = std::move (wantLedger);</div>
<div class="line"><a name="l03246"></a><span class="lineno"> 3246</span>&#160;            wantLedger = <a class="code" href="../../d7/ded/a01009.html#a8b1dec73068ce2b92e883cd76c4edffc">getLedgerByHash</a> (<a class="code" href="../../d7/ded/a01009.html#a734ad201c61554459b5bb61b749d36ef">haveLedger</a>-&gt;getParentHash ());</div>
<div class="line"><a name="l03247"></a><span class="lineno"> 3247</span>&#160;        }</div>
<div class="line"><a name="l03248"></a><span class="lineno"> 3248</span>&#160;        <span class="keywordflow">while</span> (wantLedger &amp;&amp; (<a class="code" href="../../df/d7b/a01765.html#ac9f8c7e22a8eb347f4be7596bd712d01">UptimeTimer::getInstance</a> ().getElapsedSeconds () &lt;= (uUptime + 1)));</div>
<div class="line"><a name="l03249"></a><span class="lineno"> 3249</span>&#160;</div>
<div class="line"><a name="l03250"></a><span class="lineno"> 3250</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;Built fetch pack with &quot;</span> &lt;&lt; reply.objects ().size () &lt;&lt; <span class="stringliteral">&quot; nodes&quot;</span>;</div>
<div class="line"><a name="l03251"></a><span class="lineno"> 3251</span>&#160;        <a class="code" href="../../d8/d49/a00979.html#a08601cb412fcc15ee6365dbfb603cf21">Message::pointer</a> msg = boost::make_shared&lt;Message&gt; (reply, protocol::mtGET_OBJECTS);</div>
<div class="line"><a name="l03252"></a><span class="lineno"> 3252</span>&#160;        peer-&gt;sendPacket (msg, <span class="keyword">false</span>);</div>
<div class="line"><a name="l03253"></a><span class="lineno"> 3253</span>&#160;    }</div>
<div class="line"><a name="l03254"></a><span class="lineno"> 3254</span>&#160;    <span class="keywordflow">catch</span> (...)</div>
<div class="line"><a name="l03255"></a><span class="lineno"> 3255</span>&#160;    {</div>
<div class="line"><a name="l03256"></a><span class="lineno"> 3256</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a876412c0a487a7a8840b1556cc04cb57">warning</a> &lt;&lt; <span class="stringliteral">&quot;Exception building fetch pach&quot;</span>;</div>
<div class="line"><a name="l03257"></a><span class="lineno"> 3257</span>&#160;    }</div>
<div class="line"><a name="l03258"></a><span class="lineno"> 3258</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_aba8325861d32ab9cab76bac7c211cba6_cgraph.png" border="0" usemap="#d7/ded/a01009_aba8325861d32ab9cab76bac7c211cba6_cgraph" alt=""/></div>
<map name="d7/ded/a01009_aba8325861d32ab9cab76bac7c211cba6_cgraph" id="d7/ded/a01009_aba8325861d32ab9cab76bac7c211cba6_cgraph">
<area shape="rect" id="node3" href="../../da/d61/a01350.html#a4f09dcca07217744f793fa7473e845fe" title="ripple::Serializer\l::add32" alt="" coords="236,5,351,51"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a9ac74ccfbca0700dc88269dbd68ee2f5" title="ripple::fpAppender" alt="" coords="231,75,356,104"/><area shape="rect" id="node11" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="243,128,344,157"/><area shape="rect" id="node15" href="../../da/d61/a01350.html#ab9a75804693822b6f9177da1aa3cade4" title="ripple::Serializer\l::getDataPtr" alt="" coords="236,181,351,227"/><area shape="rect" id="node17" href="../../df/d7b/a01765.html#ac9f8c7e22a8eb347f4be7596bd712d01" title="ripple::UptimeTimer\l::getInstance" alt="" coords="225,250,361,297"/><area shape="rect" id="node19" href="../../d7/ded/a01009.html#a8b1dec73068ce2b92e883cd76c4edffc" title="ripple::NetworkOPsImp\l::getLedgerByHash" alt="" coords="215,319,372,366"/><area shape="rect" id="node23" href="../../da/d61/a01350.html#a237280c7ca05aed5c750ec154a599547" title="ripple::Serializer\l::getLength" alt="" coords="236,389,351,435"/><area shape="rect" id="node7" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="448,58,573,105"/><area shape="rect" id="node9" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="649,67,799,96"/><area shape="rect" id="node13" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="423,127,599,174"/><area shape="rect" id="node21" href="../../d1/de6/a00837.html#a71a21a539d63be51cada4d3c4e4c4030" title="ripple::LedgerMaster\l::getLedgerByHash" alt="" coords="441,319,580,366"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aff24b82af590d1db837231ad0125eee4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::mapComplete </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;&#160;</td>
          <td class="paramname"><em>hash</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dfe/a01366.html#a585bf78e9ec9fa02084eb73db874939c">SHAMap::ref</a>&#160;</td>
          <td class="paramname"><em>map</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a8a3422f518b3bfc4b4e2d16abde6ef0d">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01645">1645</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l01483">haveConsensusObject()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00476">mConsensus</a>.</p>
<div class="fragment"><div class="line"><a name="l01646"></a><span class="lineno"> 1646</span>&#160;{</div>
<div class="line"><a name="l01647"></a><span class="lineno"> 1647</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#ac929d58ce61af6b87922103bf3da3039">haveConsensusObject</a> ())</div>
<div class="line"><a name="l01648"></a><span class="lineno"> 1648</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a>-&gt;mapComplete (<a class="code" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>, map, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01649"></a><span class="lineno"> 1649</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_aff24b82af590d1db837231ad0125eee4_cgraph.png" border="0" usemap="#d7/ded/a01009_aff24b82af590d1db837231ad0125eee4_cgraph" alt=""/></div>
<map name="d7/ded/a01009_aff24b82af590d1db837231ad0125eee4_cgraph" id="d7/ded/a01009_aff24b82af590d1db837231ad0125eee4_cgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#ac929d58ce61af6b87922103bf3da3039" title="ripple::NetworkOPsImp\l::haveConsensusObject" alt="" coords="213,1285,376,1331"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a0a714120f440d54c69a4a39e803f9d1a" title="ripple::NetworkOPsImp\l::beginConsensus" alt="" coords="639,541,796,587"/><area shape="rect" id="node9" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8" title="ripple::LedgerMaster\l::getCurrentLedger" alt="" coords="884,278,1023,325"/><area shape="rect" id="node15" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40" title="ripple::NetworkOPsImp\l::setMode" alt="" coords="875,370,1032,417"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="1593,801,1695,831"/><area shape="rect" id="node45" href="../../d7/ded/a01009.html#ad72f54405ed9b8219022e8c2b7796c98" title="ripple::NetworkOPsImp\l::checkLastClosedLedger" alt="" coords="632,991,803,1038"/><area shape="rect" id="node98" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee" title="ripple::Application\l::overlay" alt="" coords="1131,1638,1256,1685"/><area shape="rect" id="node102" href="../../de/de6/a01063.html#a5b8ee783b77679fb2fad2543ab521a90" title="ripple::Overlay::getActive\lPeers" alt="" coords="1332,1602,1500,1649"/><area shape="rect" id="node107" href="../../d1/de6/a00837.html#aa7961e4d96dba24b272e032d00b2e512" title="ripple::LedgerMaster\l::getMinValidations" alt="" coords="435,1758,573,1805"/><area shape="rect" id="node109" href="../../d7/ded/a01009.html#abdde224cfc7141d0eace3b9d2158b741" title="ripple::NetworkOPsImp\l::getPreviousProposers" alt="" coords="425,1827,583,1874"/><area shape="rect" id="node113" href="../../d7/ded/a01009.html#a6a3776d980baee062b961c0195bc43be" title="ripple::NetworkOPsImp\l::tryStartConsensus" alt="" coords="425,510,583,557"/><area shape="rect" id="node7" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="884,663,1023,710"/><area shape="rect" id="node11" href="../../d1/de6/a00837.html#a71a21a539d63be51cada4d3c4e4c4030" title="ripple::LedgerMaster\l::getLedgerByHash" alt="" coords="884,594,1023,641"/><area shape="rect" id="node13" href="../../d9/d9d/a03417.html#a3a7635ac808de39b7ba85e823182f93c" title="ripple::make_LedgerConsensus" alt="" coords="851,541,1056,571"/><area shape="rect" id="node21" href="../../d4/d87/a03436.html#a437c68f3299fa632d4a1694059fd6ddb" title="rocksdb::Log" alt="" coords="1145,227,1241,256"/><area shape="rect" id="node23" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f" title="ripple::NetworkOPsImp\l::strOperatingMode" alt="" coords="1337,370,1495,417"/><area shape="rect" id="node25" href="../../d7/ded/a01009.html#a768673e1643af3147b10b4d99aca8caf" title="ripple::NetworkOPsImp\l::pubServer" alt="" coords="1115,279,1272,326"/><area shape="rect" id="node19" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="1788,793,1964,839"/><area shape="rect" id="node29" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb" title="ripple::Application\l::getFeeTrack" alt="" coords="1353,111,1479,158"/><area shape="rect" id="node31" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0" title="ripple::LoadFeeTrack\l::getLoadBase" alt="" coords="1344,181,1488,227"/><area shape="rect" id="node33" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac" title="ripple::LoadFeeTrack\l::getLoadFactor" alt="" coords="1344,250,1488,297"/><area shape="rect" id="node35" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="1339,59,1493,88"/><area shape="rect" id="node37" href="../../d7/def/a00521.html#a2ef4a2ce13a341171f01f414f4fdd765" title="Json::FastWriter::writeValue" alt="" coords="1551,59,1737,88"/><area shape="rect" id="node39" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="1807,5,1945,35"/><area shape="rect" id="node41" href="../../d6/d27/a01781.html#a5b7da48b163bcec63b1424f1608b7da6" title="Json::Value::asCString" alt="" coords="1797,59,1955,88"/><area shape="rect" id="node43" href="../../d6/d27/a01781.html#a33434ed1c0217a34d04c95fa5342fd37" title="Json::Value::asDouble" alt="" coords="1799,112,1953,141"/><area shape="rect" id="node47" href="../../d7/ded/a01009.html#a08d1779d5bb2a06bdbaeabdac2ba3ed8" title="ripple::NetworkOPsImp\l::clearNeedNetworkLedger" alt="" coords="1105,1569,1281,1615"/><area shape="rect" id="node49" href="../../d8/d86/a00703.html#aa8378c07e914d43964d816ee1ac8d1dd" title="ripple::InboundLedgers\l::dropLedger" alt="" coords="877,922,1029,969"/><area shape="rect" id="node51" href="../../d8/d86/a00703.html#a6f59efd378b35314541b4d5c76cd905a" title="ripple::InboundLedgers\l::findCreate" alt="" coords="877,991,1029,1038"/><area shape="rect" id="node55" href="../../d3/dac/a01777.html#abc7c7eb0126fa15e409f282c515dae85" title="ripple::Validations\l::getCurrentValidations" alt="" coords="876,1061,1031,1107"/><area shape="rect" id="node57" href="../../da/d74/a00099.html#a6d349a4ada03689eae062c0399762dad" title="ripple::Application\l::getInboundLedgers" alt="" coords="884,1130,1023,1177"/><area shape="rect" id="node60" href="../../da/d74/a00099.html#ac95c5f6db4db8575632193495189a702" title="ripple::Application\l::getLocalCredentials" alt="" coords="881,1199,1025,1246"/><area shape="rect" id="node62" href="../../d4/d0e/a01272.html#abead041d13890ad9c8938c28f27f8ccd" title="ripple::RippleAddress\l::getNodeID" alt="" coords="880,853,1027,899"/><area shape="rect" id="node66" href="../../dc/dfa/a00894.html#af67a14f58bffac4bd931722ecbd316d9" title="ripple::LocalCredentials\l::getNodePublic" alt="" coords="875,1269,1032,1315"/><area shape="rect" id="node68" href="../../da/d74/a00099.html#a4f3da0257883c463e0a561d7ba793dd4" title="ripple::Application\l::getValidations" alt="" coords="891,1338,1016,1385"/><area shape="rect" id="node70" href="../../d7/d9a/a00152.html#a3fa11a064a87fe4e970f00d661287dd2" title="ripple::base_uint::\lisNonZero" alt="" coords="891,733,1016,779"/><area shape="rect" id="node75" href="../../d7/ded/a01009.html#a03e21ff22be1d31dbe08f81deb590ece" title="ripple::NetworkOPsImp\l::switchLastClosedLedger" alt="" coords="867,1458,1040,1505"/><area shape="rect" id="node64" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="1137,861,1249,891"/><area shape="rect" id="node72" href="../../d7/d9a/a00152.html#a25e873c7d069c6c2d44655736f2b6c21" title="ripple::base_uint::\lisZero" alt="" coords="1131,637,1256,683"/><area shape="rect" id="node78" href="../../d1/de6/a00837.html#af249e0b1768882343f37df9720aeb25d" title="ripple::LedgerMaster\l::switchLedgers" alt="" coords="1124,1377,1263,1423"/><area shape="rect" id="node81" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef" title="ripple::NetworkOPsImp\l::getNetworkTimeNC" alt="" coords="1115,1446,1272,1493"/><area shape="rect" id="node92" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="1131,1307,1256,1354"/><area shape="rect" id="node96" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="1119,1255,1268,1284"/><area shape="rect" id="node100" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c" title="ripple::Overlay::foreach" alt="" coords="1115,1516,1272,1545"/><area shape="rect" id="node83" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a" title="ripple::NetworkOPsImp\l::getNetworkTimePT" alt="" coords="1337,1377,1495,1423"/><area shape="rect" id="node88" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7" title="ripple::iToSeconds" alt="" coords="1351,1455,1481,1484"/><area shape="rect" id="node86" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678" title="ripple::Application\l::getSystemTimeOffset" alt="" coords="1565,1377,1723,1423"/><area shape="rect" id="node90" href="../../d9/d9d/a03417.html#a00572ed03b233ecd42f36357a395c163" title="ripple::ptEpoch" alt="" coords="1589,1455,1699,1484"/><area shape="rect" id="node94" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1341,1316,1491,1345"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae19e61f66c1c7a6598f7f28bb835b140"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::missingNodeInLedger </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td>
          <td class="paramname"><em>seq</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#ac61d80c2cc0c23eabf5b3a9963d0864b">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l03312">3312</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../dc/d86/a02909_source.html#l00042">ripple::InboundLedger::fcGENERIC</a>, <a class="el" href="../../d8/d86/a00703.html#a6f59efd378b35314541b4d5c76cd905a">ripple::InboundLedgers::findCreate()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d1/de6/a00837.html#af1f0008f2ac45ed99166ad478da288ea">ripple::LedgerMaster::getHashBySeq()</a>, <a class="el" href="../../da/d74/a00099.html#a6d349a4ada03689eae062c0399762dad">ripple::Application::getInboundLedgers()</a>, <a class="el" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104">ripple::Application::getLedgerMaster()</a>, <a class="el" href="../../d5/d95/a02720_source.html#l00040">hash</a>, <a class="el" href="../../dd/dfa/a02824_source.html#l00138">ripple::base_uint&lt; BITS &gt;::isZero()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, and <a class="el" href="../../dd/d07/a02132_source.html#l00246">beast::Journal::warning</a>.</p>
<div class="fragment"><div class="line"><a name="l03313"></a><span class="lineno"> 3313</span>&#160;{</div>
<div class="line"><a name="l03314"></a><span class="lineno"> 3314</span>&#160;    uint256 <a class="code" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a> = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104">getLedgerMaster</a> ().<a class="code" href="../../d1/de6/a00837.html#af1f0008f2ac45ed99166ad478da288ea">getHashBySeq</a> (seq);</div>
<div class="line"><a name="l03315"></a><span class="lineno"> 3315</span>&#160;    <span class="keywordflow">if</span> (hash.isZero())</div>
<div class="line"><a name="l03316"></a><span class="lineno"> 3316</span>&#160;    {</div>
<div class="line"><a name="l03317"></a><span class="lineno"> 3317</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a876412c0a487a7a8840b1556cc04cb57">warning</a> &lt;&lt; <span class="stringliteral">&quot;Missing a node in ledger &quot;</span> &lt;&lt; seq &lt;&lt; <span class="stringliteral">&quot; cannot fetch&quot;</span>;</div>
<div class="line"><a name="l03318"></a><span class="lineno"> 3318</span>&#160;    }</div>
<div class="line"><a name="l03319"></a><span class="lineno"> 3319</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l03320"></a><span class="lineno"> 3320</span>&#160;    {</div>
<div class="line"><a name="l03321"></a><span class="lineno"> 3321</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a876412c0a487a7a8840b1556cc04cb57">warning</a> &lt;&lt; <span class="stringliteral">&quot;Missing a node in ledger &quot;</span> &lt;&lt; seq &lt;&lt; <span class="stringliteral">&quot; fetching&quot;</span>;</div>
<div class="line"><a name="l03322"></a><span class="lineno"> 3322</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a6d349a4ada03689eae062c0399762dad">getInboundLedgers</a> ().<a class="code" href="../../d8/d86/a00703.html#a6f59efd378b35314541b4d5c76cd905a">findCreate</a> (hash, seq, <a class="code" href="../../dd/d85/a00702.html#a97d9eaf73e624a2b60dc5692bba9fc54a1fce9a276614d03a07645a31c4c1ae74">InboundLedger::fcGENERIC</a>);</div>
<div class="line"><a name="l03323"></a><span class="lineno"> 3323</span>&#160;    }</div>
<div class="line"><a name="l03324"></a><span class="lineno"> 3324</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_ae19e61f66c1c7a6598f7f28bb835b140_cgraph.png" border="0" usemap="#d7/ded/a01009_ae19e61f66c1c7a6598f7f28bb835b140_cgraph" alt=""/></div>
<map name="d7/ded/a01009_ae19e61f66c1c7a6598f7f28bb835b140_cgraph" id="d7/ded/a01009_ae19e61f66c1c7a6598f7f28bb835b140_cgraph">
<area shape="rect" id="node3" href="../../d8/d86/a00703.html#a6f59efd378b35314541b4d5c76cd905a" title="ripple::InboundLedgers\l::findCreate" alt="" coords="215,5,367,51"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="240,75,341,104"/><area shape="rect" id="node9" href="../../d1/de6/a00837.html#af1f0008f2ac45ed99166ad478da288ea" title="ripple::LedgerMaster\l::getHashBySeq" alt="" coords="221,127,360,174"/><area shape="rect" id="node11" href="../../da/d74/a00099.html#a6d349a4ada03689eae062c0399762dad" title="ripple::Application\l::getInboundLedgers" alt="" coords="221,197,360,243"/><area shape="rect" id="node13" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="228,266,353,313"/><area shape="rect" id="node15" href="../../d7/d9a/a00152.html#a25e873c7d069c6c2d44655736f2b6c21" title="ripple::base_uint::\lisZero" alt="" coords="228,335,353,382"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="417,66,593,113"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a824afaed1787a65ff2273d320eefc299"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::needNetworkLedger </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a5c3b083b9e7b147090afbdc804269fd1">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00273">273</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00470">mNeedNetworkLedger</a>.</p>
<div class="fragment"><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    {</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a47ec6c8f5fcf5adae37a33884645924d">mNeedNetworkLedger</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adb6ed8669cd2cb9d2e73a56fda7a4369"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::newLCL </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>proposers</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>convergeTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;&#160;</td>
          <td class="paramname"><em>ledgerHash</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a831cda17f4597d392f6a87ba85f76f3b">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02709">2709</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00486">mLastCloseConvergeTime</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00487">mLastCloseHash</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00486">mLastCloseProposers</a>.</p>
<div class="fragment"><div class="line"><a name="l02710"></a><span class="lineno"> 2710</span>&#160;{</div>
<div class="line"><a name="l02711"></a><span class="lineno"> 2711</span>&#160;    assert (convergeTime);</div>
<div class="line"><a name="l02712"></a><span class="lineno"> 2712</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a8b5d139cf2208caba068486e449b66e8">mLastCloseProposers</a> = proposers;</div>
<div class="line"><a name="l02713"></a><span class="lineno"> 2713</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#acc1ce0bf9b0be24aad76ce27dd270a1a">mLastCloseConvergeTime</a> = convergeTime;</div>
<div class="line"><a name="l02714"></a><span class="lineno"> 2714</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a0d79bcd905a8104f521b3e071b67a903">mLastCloseHash</a> = ledgerHash;</div>
<div class="line"><a name="l02715"></a><span class="lineno"> 2715</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="ab8272588ee692e125af4d7841af32618"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::onDeadlineTimer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/dbf/a00393.html">beast::DeadlineTimer</a> &amp;&#160;</td>
          <td class="paramname"><em>timer</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reimplemented from <a class="el" href="../../d2/da1/a00879.html#a3372f0b97eb961c3201217c53481e64e">beast::DeadlineTimer::Listener</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00530">530</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../dc/d0c/a00783.html#a0e6d017b056c57465c9d72f928e3271e">ripple::JobQueue::addJob()</a>, <a class="el" href="../../d0/d75/a03105_source.html#l00028">BIND_TYPE</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c">ripple::Application::getJobQueue()</a>, <a class="el" href="../../d8/d96/a03116_source.html#l00058">ripple::jtNETOP_CLUSTER</a>, <a class="el" href="../../d8/d96/a03116_source.html#l00059">ripple::jtNETOP_TIMER</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00475">m_clusterTimer</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00474">m_heartbeatTimer</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00598">processClusterTimer()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00544">processHeartbeatTimer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00531"></a><span class="lineno">  531</span>&#160;{</div>
<div class="line"><a name="l00532"></a><span class="lineno">  532</span>&#160;    <span class="keywordflow">if</span> (timer == <a class="code" href="../../d7/ded/a01009.html#ac104b6edd5abf8dd78fd53143a3258d5">m_heartbeatTimer</a>)</div>
<div class="line"><a name="l00533"></a><span class="lineno">  533</span>&#160;    {</div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c">getJobQueue</a> ().<a class="code" href="../../dc/d0c/a00783.html#a0e6d017b056c57465c9d72f928e3271e">addJob</a> (<a class="code" href="../../d9/d9d/a03417.html#ae0f54f8ce649d639bf3e2b295347e17aacb6f07e87a154852c5d2b763c19d46b2">jtNETOP_TIMER</a>, <span class="stringliteral">&quot;NetOPs.heartbeat&quot;</span>,</div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;            <a class="code" href="../../d0/d75/a03105.html#a6c0c867ff5909fab21adb4d253d4bcc5">BIND_TYPE</a> (&amp;<a class="code" href="../../d7/ded/a01009.html#adb95084185570756c8a39ba0e32fb3ed">NetworkOPsImp::processHeartbeatTimer</a>, <span class="keyword">this</span>));</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;    }</div>
<div class="line"><a name="l00537"></a><span class="lineno">  537</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (timer == <a class="code" href="../../d7/ded/a01009.html#a60648a56c0b87aac12e9cf2d03706a82">m_clusterTimer</a>)</div>
<div class="line"><a name="l00538"></a><span class="lineno">  538</span>&#160;    {</div>
<div class="line"><a name="l00539"></a><span class="lineno">  539</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c">getJobQueue</a> ().<a class="code" href="../../dc/d0c/a00783.html#a0e6d017b056c57465c9d72f928e3271e">addJob</a> (<a class="code" href="../../d9/d9d/a03417.html#ae0f54f8ce649d639bf3e2b295347e17aa0dd79c76d5988b7781c97da96c22a9c7">jtNETOP_CLUSTER</a>, <span class="stringliteral">&quot;NetOPs.cluster&quot;</span>,</div>
<div class="line"><a name="l00540"></a><span class="lineno">  540</span>&#160;            <a class="code" href="../../d0/d75/a03105.html#a6c0c867ff5909fab21adb4d253d4bcc5">BIND_TYPE</a> (&amp;<a class="code" href="../../d7/ded/a01009.html#a01173fbae7b2fe63dc7028120fb55862">NetworkOPsImp::processClusterTimer</a>, <span class="keyword">this</span>));</div>
<div class="line"><a name="l00541"></a><span class="lineno">  541</span>&#160;    }</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_ab8272588ee692e125af4d7841af32618_cgraph.png" border="0" usemap="#d7/ded/a01009_ab8272588ee692e125af4d7841af32618_cgraph" alt=""/></div>
<map name="d7/ded/a01009_ab8272588ee692e125af4d7841af32618_cgraph" id="d7/ded/a01009_ab8272588ee692e125af4d7841af32618_cgraph">
<area shape="rect" id="node3" href="../../dc/d0c/a00783.html#a0e6d017b056c57465c9d72f928e3271e" title="ripple::JobQueue::addJob" alt="" coords="213,380,384,409"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="1357,973,1459,1003"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c" title="ripple::Application\l::getJobQueue" alt="" coords="236,674,361,721"/><area shape="rect" id="node11" href="../../d7/ded/a01009.html#a01173fbae7b2fe63dc7028120fb55862" title="ripple::NetworkOPsImp\l::processClusterTimer" alt="" coords="220,433,377,479"/><area shape="rect" id="node65" href="../../d7/ded/a01009.html#adb95084185570756c8a39ba0e32fb3ed" title="ripple::NetworkOPsImp\l::processHeartbeatTimer" alt="" coords="216,909,381,955"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="1537,965,1713,1011"/><area shape="rect" id="node13" href="../../d1/de6/a00837.html#a616a9ac6aa98e9ff03a112cd4c486a05" title="ripple::LedgerMaster\l::getValidatedLedgerAge" alt="" coords="439,71,601,118"/><area shape="rect" id="node16" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef" title="ripple::NetworkOPsImp\l::getNetworkTimeNC" alt="" coords="681,691,839,738"/><area shape="rect" id="node27" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2" title="ripple::Application\l::getUNL" alt="" coords="457,194,583,241"/><area shape="rect" id="node29" href="../../d0/d78/a01745.html#a709a5b9163b6837cc1eb460380cbec51" title="ripple::UniqueNodeList\l::getClusterStatus" alt="" coords="443,263,597,310"/><area shape="rect" id="node31" href="../../da/d74/a00099.html#a7b4b062ff2e0ba3c9ada97fbc0147ac6" title="ripple::Application\l::getResourceManager" alt="" coords="443,333,597,379"/><area shape="rect" id="node33" href="../../de/d62/a00924.html#a098033b7735f83f882d9945939c63d6c" title="ripple::Resource::Manager\l::exportConsumers" alt="" coords="433,402,607,449"/><area shape="rect" id="node35" href="../../d9/d9d/a03417.html#aba30c6642420129125415284c35f098f" title="ripple::to_string" alt="" coords="465,141,575,171"/><area shape="rect" id="node51" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee" title="ripple::Application\l::overlay" alt="" coords="457,698,583,745"/><area shape="rect" id="node53" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c" title="ripple::Overlay::foreach" alt="" coords="441,472,599,501"/><area shape="rect" id="node57" href="../../d9/d9d/a03417.html#aa5568c3e068c5ee9c90fffb36de8527f" title="ripple::send_if" alt="" coords="469,595,571,624"/><area shape="rect" id="node59" href="../../d7/ded/a01009.html#a312a6368f14118216b064f292349db31" title="ripple::NetworkOPsImp\l::setClusterTimer" alt="" coords="441,525,599,571"/><area shape="rect" id="node18" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a" title="ripple::NetworkOPsImp\l::getNetworkTimePT" alt="" coords="913,722,1071,769"/><area shape="rect" id="node23" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7" title="ripple::iToSeconds" alt="" coords="927,669,1057,699"/><area shape="rect" id="node21" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678" title="ripple::Application\l::getSystemTimeOffset" alt="" coords="1121,722,1279,769"/><area shape="rect" id="node25" href="../../d9/d9d/a03417.html#a00572ed03b233ecd42f36357a395c163" title="ripple::ptEpoch" alt="" coords="1145,669,1255,699"/><area shape="rect" id="node37" href="../../d5/d17/a01098.html#a7b6700e295afc70eda9083ebcacda145" title="ripple::Peer::getCluster\lNodeName" alt="" coords="683,137,837,183"/><area shape="rect" id="node39" href="../../d5/d17/a01098.html#a35b25d5a662db9a534ac4a972a8ba6b3" title="ripple::Peer::getRemoteAddress" alt="" coords="656,207,864,236"/><area shape="rect" id="node41" href="../../d5/d17/a01098.html#aeaf4f0b492c460f758b5ab25c289d1f2" title="ripple::Peer::isInCluster" alt="" coords="681,260,839,289"/><area shape="rect" id="node43" href="../../da/dc3/a00453.html#a61ca2a7887f10051efbe1611f1bab0fe" title="beast::IP::Endpoint\l::to_string" alt="" coords="693,67,827,114"/><area shape="rect" id="node45" href="../../da/dc3/a00453.html#a41d744f4c8d5888f8d5aa25da5e100bf" title="beast::IP::Endpoint\l::address" alt="" coords="925,121,1059,167"/><area shape="rect" id="node47" href="../../da/dc3/a00453.html#ad34a025ff522a7e45e18ee58f2a9eab6" title="beast::IP::Endpoint\l::port" alt="" coords="925,190,1059,237"/><area shape="rect" id="node49" href="../../d2/d7f/a03369.html#a4a51c292cb48681521db67f2b4848736" title="beast::IP::to_string" alt="" coords="925,68,1059,97"/><area shape="rect" id="node55" href="../../de/de6/a01063.html#a5b8ee783b77679fb2fad2543ab521a90" title="ripple::Overlay::getActive\lPeers" alt="" coords="676,463,844,510"/><area shape="rect" id="node61" href="../../da/dbf/a00393.html#a5dbf2e6b83b1443b20f929e2e6278be7" title="beast::DeadlineTimer\l::setExpiration" alt="" coords="687,566,833,613"/><area shape="rect" id="node63" href="../../d7/dbf/a01239.html#af05860d57c0bf4854596ccbaf191e9e3" title="beast::RelativeTime\l::fromStartup" alt="" coords="923,566,1061,613"/><area shape="rect" id="node68" href="../../da/d74/a00099.html#adf180185d4af6f2ce4b96841161a091f" title="ripple::Application\l::getLoadManager" alt="" coords="457,1063,583,1110"/><area shape="rect" id="node70" href="../../de/dfc/a00891.html#a5812495c2a1db7f037ac085c07359abd" title="ripple::LoadManager\l::resetDeadlockDetector" alt="" coords="439,1133,601,1179"/><area shape="rect" id="node73" href="../../de/de6/a01063.html#abcbf323fcd7c62e46cd42289a8301985" title="ripple::Overlay::size" alt="" coords="451,837,589,867"/><area shape="rect" id="node75" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d" title="ripple::getConfig" alt="" coords="461,891,579,920"/><area shape="rect" id="node77" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40" title="ripple::NetworkOPsImp\l::setMode" alt="" coords="913,1182,1071,1229"/><area shape="rect" id="node96" href="../../d7/ded/a01009.html#a0d6bcbe95c3e423d83d68599fd34a637" title="ripple::NetworkOPsImp\l::setHeartbeatTimer" alt="" coords="441,767,599,814"/><area shape="rect" id="node99" href="../../d7/ded/a01009.html#a6a3776d980baee062b961c0195bc43be" title="ripple::NetworkOPsImp\l::tryStartConsensus" alt="" coords="441,994,599,1041"/><area shape="rect" id="node80" href="../../d4/d87/a03436.html#a437c68f3299fa632d4a1694059fd6ddb" title="rocksdb::Log" alt="" coords="1152,1180,1248,1209"/><area shape="rect" id="node82" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f" title="ripple::NetworkOPsImp\l::strOperatingMode" alt="" coords="1329,1223,1487,1270"/><area shape="rect" id="node84" href="../../d7/ded/a01009.html#a768673e1643af3147b10b4d99aca8caf" title="ripple::NetworkOPsImp\l::pubServer" alt="" coords="1121,1354,1279,1401"/><area shape="rect" id="node88" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb" title="ripple::Application\l::getFeeTrack" alt="" coords="1345,1415,1471,1462"/><area shape="rect" id="node90" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0" title="ripple::LoadFeeTrack\l::getLoadBase" alt="" coords="1336,1485,1480,1531"/><area shape="rect" id="node92" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac" title="ripple::LoadFeeTrack\l::getLoadFactor" alt="" coords="1336,1293,1480,1339"/><area shape="rect" id="node94" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="1331,1363,1485,1392"/><area shape="rect" id="node101" href="../../d7/ded/a01009.html#ad72f54405ed9b8219022e8c2b7796c98" title="ripple::NetworkOPsImp\l::checkLastClosedLedger" alt="" coords="675,1133,845,1179"/><area shape="rect" id="node106" href="../../d7/d9a/a00152.html#a25e873c7d069c6c2d44655736f2b6c21" title="ripple::base_uint::\lisZero" alt="" coords="697,994,823,1041"/><area shape="rect" id="node110" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8" title="ripple::LedgerMaster\l::getCurrentLedger" alt="" coords="923,975,1061,1022"/><area shape="rect" id="node112" href="../../d7/ded/a01009.html#a0a714120f440d54c69a4a39e803f9d1a" title="ripple::NetworkOPsImp\l::beginConsensus" alt="" coords="681,1063,839,1110"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a4e0aaf97b475815224f2a33d7d50f81a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::onStop </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Override called when the stop notification is issued.</p>
<p>The call is made on an unspecified, implementation-specific thread. onStop and onChildrenStopped will never be called concurrently, across all Stoppable objects descended from the same root, inclusive of the root.</p>
<p>It is safe to call isStopping, isStopped, and areChildrenStopped from within this function; The values returned will always be valid and never change during the callback.</p>
<p>The default implementation simply calls <a class="el" href="../../d2/d49/a01561.html#a32a3f86c14a870b4c8eefa77f9989a5e">stopped()</a>. This is applicable when the Stoppable has a trivial stop operation (or no stop operation), and we are merely using the Stoppable API to position it as a dependency of some parent service.</p>
<p>Thread safety: May not block for long periods. Guaranteed only to be called once. Must be safe to call from any thread at any time. </p>

<p>Reimplemented from <a class="el" href="../../d2/d49/a01561.html#aeb5a464db59bc5313a39bb868c9f18da">beast::Stoppable</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00422">422</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/db3/a02301_source.html#l00223">beast::DeadlineTimer::cancel()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00475">m_clusterTimer</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00474">m_heartbeatTimer</a>, and <a class="el" href="../../d2/d31/a02087_source.html#l00067">beast::Stoppable::stopped()</a>.</p>
<div class="fragment"><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    {</div>
<div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#ac104b6edd5abf8dd78fd53143a3258d5">m_heartbeatTimer</a>.<a class="code" href="../../da/dbf/a00393.html#ac6fdca88a945cd6b0498a09b716539dc">cancel</a>();</div>
<div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a60648a56c0b87aac12e9cf2d03706a82">m_clusterTimer</a>.<a class="code" href="../../da/dbf/a00393.html#ac6fdca88a945cd6b0498a09b716539dc">cancel</a>();</div>
<div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;</div>
<div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <a class="code" href="../../d2/d49/a01561.html#a32a3f86c14a870b4c8eefa77f9989a5e">stopped</a> ();</div>
<div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a4e0aaf97b475815224f2a33d7d50f81a_cgraph.png" border="0" usemap="#d7/ded/a01009_a4e0aaf97b475815224f2a33d7d50f81a_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a4e0aaf97b475815224f2a33d7d50f81a_cgraph" id="d7/ded/a01009_a4e0aaf97b475815224f2a33d7d50f81a_cgraph">
<area shape="rect" id="node3" href="../../da/dbf/a00393.html#ac6fdca88a945cd6b0498a09b716539dc" title="beast::DeadlineTimer\l::cancel" alt="" coords="228,5,375,51"/><area shape="rect" id="node5" href="../../d2/d49/a01561.html#a32a3f86c14a870b4c8eefa77f9989a5e" title="beast::Stoppable::stopped" alt="" coords="215,75,388,104"/><area shape="rect" id="node7" href="../../d7/d02/a01808.html#a534ad45cb1fb86f6544356d78a0367e5" title="beast::WaitableEvent\l::signal" alt="" coords="437,66,584,113"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8fa8b98457f1ab20a5872596dec5a491"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d9d/a03417.html#a1382c24eaaf3ee6a51a5b64d8ad5706c">ripple::unordered_map</a>&lt; <a class="el" href="../../df/d2e/a01737.html">uint160</a>, std::list&lt;<a class="el" href="../../df/de8/a00839.html#a0ec96481e000fcb8d977f684d600b86b">LedgerProposal::pointer</a>&gt; &gt;&amp; ripple::NetworkOPsImp::peekStoredProposals </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#ab4580c4d01c4abbe747d28f766112a6a">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00330">330</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00478">mStoredProposals</a>.</p>
<div class="fragment"><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    {</div>
<div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a1d4bb7577a8035481eaaffafb4ae0861">mStoredProposals</a>;</div>
<div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a01173fbae7b2fe63dc7028120fb55862"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::processClusterTimer </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00598">598</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../de/dd4/a02541_source.html#l00035">ripple::Resource::Gossip::Item::address</a>, <a class="el" href="../../de/dd4/a02541_source.html#l00034">ripple::Resource::Gossip::Item::balance</a>, <a class="el" href="../../dd/d07/a02132_source.html#l00244">beast::Journal::debug</a>, <a class="el" href="../../de/d62/a00924.html#a098033b7735f83f882d9945939c63d6c">ripple::Resource::Manager::exportConsumers()</a>, <a class="el" href="../../dd/d87/a03235_source.html#l00096">ripple::Overlay::foreach()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d0/d78/a01745.html#a709a5b9163b6837cc1eb460380cbec51">ripple::UniqueNodeList::getClusterStatus()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00671">getNetworkTimeNC()</a>, <a class="el" href="../../da/d74/a00099.html#a7b4b062ff2e0ba3c9ada97fbc0147ac6">ripple::Application::getResourceManager()</a>, <a class="el" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2">ripple::Application::getUNL()</a>, <a class="el" href="../../d1/de6/a00837.html#a616a9ac6aa98e9ff03a112cd4c486a05">ripple::LedgerMaster::getValidatedLedgerAge()</a>, <a class="el" href="../../de/dd4/a02541_source.html#l00038">ripple::Resource::Gossip::items</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>, <a class="el" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee">ripple::Application::overlay()</a>, <a class="el" href="../../d5/de9/a03236_source.html#l00071">ripple::send_if()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00525">setClusterTimer()</a>, and <a class="el" href="../../db/d36/a03243_source.html#l02830">ripple::to_string()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00530">onDeadlineTimer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;{</div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;    <span class="keywordtype">bool</span> synced = (<a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#a616a9ac6aa98e9ff03a112cd4c486a05">getValidatedLedgerAge</a>() &lt;= 240);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;    ClusterNodeStatus us(<span class="stringliteral">&quot;&quot;</span>, synced ? <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getFeeTrack().getLocalFee() : 0, <a class="code" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef">getNetworkTimeNC</a>());</div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getUNL().nodeUpdate(<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getLocalCredentials().getNodePublic(), us))</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;    {</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#aed264b891ebfe8df4c5b6b2231786491">debug</a> &lt;&lt; <span class="stringliteral">&quot;To soon to send cluster update&quot;</span>;</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;    }</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;    std::map&lt;RippleAddress, ClusterNodeStatus&gt; nodes = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2">getUNL</a>().<a class="code" href="../../d0/d78/a01745.html#a709a5b9163b6837cc1eb460380cbec51">getClusterStatus</a>();</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;    protocol::TMCluster cluster;</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;    <span class="keywordflow">for</span> (std::map&lt;RippleAddress, ClusterNodeStatus&gt;::iterator it = nodes.begin(),</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;            end = nodes.end(); it != end; ++it)</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;    {</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        protocol::TMClusterNode&amp; node = *cluster.add_clusternodes();</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        node.set_publickey(it-&gt;first.humanNodePublic());</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;        node.set_reporttime(it-&gt;second.getReportTime());</div>
<div class="line"><a name="l00617"></a><span class="lineno">  617</span>&#160;        node.set_nodeload(it-&gt;second.getLoadFee());</div>
<div class="line"><a name="l00618"></a><span class="lineno">  618</span>&#160;        <span class="keywordflow">if</span> (!it-&gt;second.getName().empty())</div>
<div class="line"><a name="l00619"></a><span class="lineno">  619</span>&#160;            node.set_nodename(it-&gt;second.getName());</div>
<div class="line"><a name="l00620"></a><span class="lineno">  620</span>&#160;    }</div>
<div class="line"><a name="l00621"></a><span class="lineno">  621</span>&#160;</div>
<div class="line"><a name="l00622"></a><span class="lineno">  622</span>&#160;    Resource::Gossip gossip = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a7b4b062ff2e0ba3c9ada97fbc0147ac6">getResourceManager</a>().<a class="code" href="../../de/d62/a00924.html#a098033b7735f83f882d9945939c63d6c">exportConsumers</a>();</div>
<div class="line"><a name="l00623"></a><span class="lineno">  623</span>&#160;    BOOST_FOREACH (<a class="code" href="../../d8/d75/a03426.html#a61e459ac7d905b7d8952b6bc978099b0">Resource::Gossip::Item</a> <span class="keyword">const</span>&amp; item, gossip.items)</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;    {</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        protocol::TMLoadSource&amp; node = *cluster.add_loadsources();</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;        node.set_name (<a class="code" href="../../d9/d9d/a03417.html#aba30c6642420129125415284c35f098f">to_string</a> (item.address));</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        node.set_cost (item.balance);</div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;    }</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a> ().<a class="code" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee">overlay</a> ().<a class="code" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c">foreach</a> (<a class="code" href="../../d9/d9d/a03417.html#aa5568c3e068c5ee9c90fffb36de8527f">send_if</a> (</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        boost::make_shared&lt;Message&gt;(cluster, protocol::mtCLUSTER),</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        peer_in_cluster ()));</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a312a6368f14118216b064f292349db31">setClusterTimer</a> ();</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a01173fbae7b2fe63dc7028120fb55862_cgraph.png" border="0" usemap="#d7/ded/a01009_a01173fbae7b2fe63dc7028120fb55862_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a01173fbae7b2fe63dc7028120fb55862_cgraph" id="d7/ded/a01009_a01173fbae7b2fe63dc7028120fb55862_cgraph">
<area shape="rect" id="node3" href="../../de/d62/a00924.html#a098033b7735f83f882d9945939c63d6c" title="ripple::Resource::Manager\l::exportConsumers" alt="" coords="215,5,388,51"/><area shape="rect" id="node5" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c" title="ripple::Overlay::foreach" alt="" coords="223,75,380,104"/><area shape="rect" id="node9" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="723,129,824,159"/><area shape="rect" id="node13" href="../../d0/d78/a01745.html#a709a5b9163b6837cc1eb460380cbec51" title="ripple::UniqueNodeList\l::getClusterStatus" alt="" coords="224,178,379,225"/><area shape="rect" id="node15" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef" title="ripple::NetworkOPsImp\l::getNetworkTimeNC" alt="" coords="223,247,380,294"/><area shape="rect" id="node26" href="../../da/d74/a00099.html#a7b4b062ff2e0ba3c9ada97fbc0147ac6" title="ripple::Application\l::getResourceManager" alt="" coords="224,317,379,363"/><area shape="rect" id="node28" href="../../da/d74/a00099.html#ae79b884a8270ef8039ba9e256eeaf6c2" title="ripple::Application\l::getUNL" alt="" coords="239,386,364,433"/><area shape="rect" id="node30" href="../../d1/de6/a00837.html#a616a9ac6aa98e9ff03a112cd4c486a05" title="ripple::LedgerMaster\l::getValidatedLedgerAge" alt="" coords="220,455,383,502"/><area shape="rect" id="node32" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee" title="ripple::Application\l::overlay" alt="" coords="239,525,364,571"/><area shape="rect" id="node34" href="../../d9/d9d/a03417.html#aa5568c3e068c5ee9c90fffb36de8527f" title="ripple::send_if" alt="" coords="251,595,352,624"/><area shape="rect" id="node36" href="../../d7/ded/a01009.html#a312a6368f14118216b064f292349db31" title="ripple::NetworkOPsImp\l::setClusterTimer" alt="" coords="223,647,380,694"/><area shape="rect" id="node49" href="../../d9/d9d/a03417.html#aba30c6642420129125415284c35f098f" title="ripple::to_string" alt="" coords="247,752,356,781"/><area shape="rect" id="node7" href="../../de/de6/a01063.html#a5b8ee783b77679fb2fad2543ab521a90" title="ripple::Overlay::getActive\lPeers" alt="" coords="457,58,625,105"/><area shape="rect" id="node11" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="909,121,1085,167"/><area shape="rect" id="node17" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a" title="ripple::NetworkOPsImp\l::getNetworkTimePT" alt="" coords="463,183,620,230"/><area shape="rect" id="node22" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7" title="ripple::iToSeconds" alt="" coords="476,256,607,285"/><area shape="rect" id="node20" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678" title="ripple::Application\l::getSystemTimeOffset" alt="" coords="695,183,852,230"/><area shape="rect" id="node24" href="../../d9/d9d/a03417.html#a00572ed03b233ecd42f36357a395c163" title="ripple::ptEpoch" alt="" coords="719,256,828,285"/><area shape="rect" id="node38" href="../../da/dbf/a00393.html#a5dbf2e6b83b1443b20f929e2e6278be7" title="beast::DeadlineTimer\l::setExpiration" alt="" coords="468,613,615,659"/><area shape="rect" id="node40" href="../../d7/dbf/a01239.html#af05860d57c0bf4854596ccbaf191e9e3" title="beast::RelativeTime\l::fromStartup" alt="" coords="704,613,843,659"/><area shape="rect" id="node42" href="../../d6/d18/a03350.html#a05b9ebb2b8f42f2c0add7c0a27dd0e47" title="beast::detail::getStartupTime" alt="" coords="903,569,1092,599"/><area shape="rect" id="node44" href="../../d6/d18/a03350.html#a5a1078c54fc6cc03ff318d0bab6871bc" title="beast::detail::monotonic\lCurrentTimeInSeconds" alt="" coords="1143,587,1303,634"/><area shape="rect" id="node47" href="../../d7/dbf/a01239.html#a36a8e77c75eb5a22da1f0fabd303784b" title="beast::RelativeTime\l::RelativeTime" alt="" coords="928,673,1067,719"/><area shape="rect" id="node51" href="../../d5/d17/a01098.html#a7b6700e295afc70eda9083ebcacda145" title="ripple::Peer::getCluster\lNodeName" alt="" coords="464,682,619,729"/><area shape="rect" id="node53" href="../../d5/d17/a01098.html#a35b25d5a662db9a534ac4a972a8ba6b3" title="ripple::Peer::getRemoteAddress" alt="" coords="437,752,645,781"/><area shape="rect" id="node55" href="../../d5/d17/a01098.html#aeaf4f0b492c460f758b5ab25c289d1f2" title="ripple::Peer::isInCluster" alt="" coords="463,805,620,835"/><area shape="rect" id="node57" href="../../da/dc3/a00453.html#a61ca2a7887f10051efbe1611f1bab0fe" title="beast::IP::Endpoint\l::to_string" alt="" coords="475,858,608,905"/><area shape="rect" id="node59" href="../../da/dc3/a00453.html#a41d744f4c8d5888f8d5aa25da5e100bf" title="beast::IP::Endpoint\l::address" alt="" coords="707,789,840,835"/><area shape="rect" id="node61" href="../../da/dc3/a00453.html#ad34a025ff522a7e45e18ee58f2a9eab6" title="beast::IP::Endpoint\l::port" alt="" coords="707,858,840,905"/><area shape="rect" id="node63" href="../../d2/d7f/a03369.html#a4a51c292cb48681521db67f2b4848736" title="beast::IP::to_string" alt="" coords="707,928,840,957"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a01173fbae7b2fe63dc7028120fb55862_icgraph.png" border="0" usemap="#d7/ded/a01009_a01173fbae7b2fe63dc7028120fb55862_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a01173fbae7b2fe63dc7028120fb55862_icgraph" id="d7/ded/a01009_a01173fbae7b2fe63dc7028120fb55862_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#ab8272588ee692e125af4d7841af32618" title="ripple::NetworkOPsImp\l::onDeadlineTimer" alt="" coords="215,5,372,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adb95084185570756c8a39ba0e32fb3ed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::processHeartbeatTimer </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00544">544</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d0/dc2/a02477_source.html#l00647">ripple::getConfig()</a>, <a class="el" href="../../da/d74/a00099.html#adf180185d4af6f2ce4b96841161a091f">ripple::Application::getLoadManager()</a>, <a class="el" href="../../dd/d07/a02132_source.html#l00245">beast::Journal::info</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00476">mConsensus</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00469">mMode</a>, <a class="el" href="../../d2/db9/a01926_source.html#l00395">ripple::Config::NETWORK_QUORUM</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00076">ripple::NetworkOPs::omCONNECTED</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00075">ripple::NetworkOPs::omDISCONNECTED</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00077">ripple::NetworkOPs::omSYNCING</a>, <a class="el" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee">ripple::Application::overlay()</a>, <a class="el" href="../../de/dfc/a00891.html#a5812495c2a1db7f037ac085c07359abd">ripple::LoadManager::resetDeadlockDetector()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00520">setHeartbeatTimer()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01717">setMode()</a>, <a class="el" href="../../de/de6/a01063.html#abcbf323fcd7c62e46cd42289a8301985">ripple::Overlay::size()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01233">tryStartConsensus()</a>, and <a class="el" href="../../dd/d07/a02132_source.html#l00246">beast::Journal::warning</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00530">onDeadlineTimer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00545"></a><span class="lineno">  545</span>&#160;{</div>
<div class="line"><a name="l00546"></a><span class="lineno">  546</span>&#160;    {</div>
<div class="line"><a name="l00547"></a><span class="lineno">  547</span>&#160;        <a class="code" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> lock (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getMasterLock ());</div>
<div class="line"><a name="l00548"></a><span class="lineno">  548</span>&#160;</div>
<div class="line"><a name="l00549"></a><span class="lineno">  549</span>&#160;        <span class="comment">// VFALCO NOTE This is for diagnosing a crash on exit</span></div>
<div class="line"><a name="l00550"></a><span class="lineno">  550</span>&#160;        Application&amp; app (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a> ());</div>
<div class="line"><a name="l00551"></a><span class="lineno">  551</span>&#160;        LoadManager&amp; mgr (app.getLoadManager ());</div>
<div class="line"><a name="l00552"></a><span class="lineno">  552</span>&#160;        mgr.resetDeadlockDetector ();</div>
<div class="line"><a name="l00553"></a><span class="lineno">  553</span>&#160;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        std::size_t <span class="keyword">const</span> numPeers = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee">overlay</a> ().<a class="code" href="../../de/de6/a01063.html#abcbf323fcd7c62e46cd42289a8301985">size</a> ();</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div>
<div class="line"><a name="l00556"></a><span class="lineno">  556</span>&#160;        <span class="comment">// do we have sufficient peers? If not, we are disconnected.</span></div>
<div class="line"><a name="l00557"></a><span class="lineno">  557</span>&#160;        <span class="keywordflow">if</span> (numPeers &lt; <a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().NETWORK_QUORUM)</div>
<div class="line"><a name="l00558"></a><span class="lineno">  558</span>&#160;        {</div>
<div class="line"><a name="l00559"></a><span class="lineno">  559</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> != <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaa342db1d1189a8475f5a81bb5c62b81c6">omDISCONNECTED</a>)</div>
<div class="line"><a name="l00560"></a><span class="lineno">  560</span>&#160;            {</div>
<div class="line"><a name="l00561"></a><span class="lineno">  561</span>&#160;                <a class="code" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40">setMode</a> (<a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaa342db1d1189a8475f5a81bb5c62b81c6">omDISCONNECTED</a>);</div>
<div class="line"><a name="l00562"></a><span class="lineno">  562</span>&#160;                <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a876412c0a487a7a8840b1556cc04cb57">warning</a></div>
<div class="line"><a name="l00563"></a><span class="lineno">  563</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;Node count (&quot;</span> &lt;&lt; numPeers &lt;&lt; <span class="stringliteral">&quot;) &quot;</span></div>
<div class="line"><a name="l00564"></a><span class="lineno">  564</span>&#160;                    &lt;&lt; <span class="stringliteral">&quot;has fallen below quorum (&quot;</span> &lt;&lt; <a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().<a class="code" href="../../d3/db8/a00316.html#a90773fe8a3baab31cab83a3f54125f3b">NETWORK_QUORUM</a> &lt;&lt; <span class="stringliteral">&quot;).&quot;</span>;</div>
<div class="line"><a name="l00565"></a><span class="lineno">  565</span>&#160;            }</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a0d6bcbe95c3e423d83d68599fd34a637">setHeartbeatTimer</a> ();</div>
<div class="line"><a name="l00568"></a><span class="lineno">  568</span>&#160;</div>
<div class="line"><a name="l00569"></a><span class="lineno">  569</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00570"></a><span class="lineno">  570</span>&#160;        }</div>
<div class="line"><a name="l00571"></a><span class="lineno">  571</span>&#160;</div>
<div class="line"><a name="l00572"></a><span class="lineno">  572</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaa342db1d1189a8475f5a81bb5c62b81c6">omDISCONNECTED</a>)</div>
<div class="line"><a name="l00573"></a><span class="lineno">  573</span>&#160;        {</div>
<div class="line"><a name="l00574"></a><span class="lineno">  574</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40">setMode</a> (<a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaa8bc5065cbfcab22cf30b012231f25106">omCONNECTED</a>);</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;Node count (&quot;</span> &lt;&lt; numPeers &lt;&lt; <span class="stringliteral">&quot;) is sufficient.&quot;</span>;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        }</div>
<div class="line"><a name="l00577"></a><span class="lineno">  577</span>&#160;</div>
<div class="line"><a name="l00578"></a><span class="lineno">  578</span>&#160;        <span class="comment">// Check if the last validated ledger forces a change between these states</span></div>
<div class="line"><a name="l00579"></a><span class="lineno">  579</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaacef3f23406b4e678986eb3be3a7ccfd9">omSYNCING</a>)</div>
<div class="line"><a name="l00580"></a><span class="lineno">  580</span>&#160;        {</div>
<div class="line"><a name="l00581"></a><span class="lineno">  581</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40">setMode</a> (<a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaacef3f23406b4e678986eb3be3a7ccfd9">omSYNCING</a>);</div>
<div class="line"><a name="l00582"></a><span class="lineno">  582</span>&#160;        }</div>
<div class="line"><a name="l00583"></a><span class="lineno">  583</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaa8bc5065cbfcab22cf30b012231f25106">omCONNECTED</a>)</div>
<div class="line"><a name="l00584"></a><span class="lineno">  584</span>&#160;        {</div>
<div class="line"><a name="l00585"></a><span class="lineno">  585</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40">setMode</a> (<a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaa8bc5065cbfcab22cf30b012231f25106">omCONNECTED</a>);</div>
<div class="line"><a name="l00586"></a><span class="lineno">  586</span>&#160;        }</div>
<div class="line"><a name="l00587"></a><span class="lineno">  587</span>&#160;</div>
<div class="line"><a name="l00588"></a><span class="lineno">  588</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a>)</div>
<div class="line"><a name="l00589"></a><span class="lineno">  589</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a6a3776d980baee062b961c0195bc43be">tryStartConsensus</a> ();</div>
<div class="line"><a name="l00590"></a><span class="lineno">  590</span>&#160;</div>
<div class="line"><a name="l00591"></a><span class="lineno">  591</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a>)</div>
<div class="line"><a name="l00592"></a><span class="lineno">  592</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a>-&gt;timerEntry ();</div>
<div class="line"><a name="l00593"></a><span class="lineno">  593</span>&#160;    }</div>
<div class="line"><a name="l00594"></a><span class="lineno">  594</span>&#160;</div>
<div class="line"><a name="l00595"></a><span class="lineno">  595</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a0d6bcbe95c3e423d83d68599fd34a637">setHeartbeatTimer</a> ();</div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_adb95084185570756c8a39ba0e32fb3ed_cgraph.png" border="0" usemap="#d7/ded/a01009_adb95084185570756c8a39ba0e32fb3ed_cgraph" alt=""/></div>
<map name="d7/ded/a01009_adb95084185570756c8a39ba0e32fb3ed_cgraph" id="d7/ded/a01009_adb95084185570756c8a39ba0e32fb3ed_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="1401,370,1503,400"/><area shape="rect" id="node7" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d" title="ripple::getConfig" alt="" coords="245,1261,363,1290"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#adf180185d4af6f2ce4b96841161a091f" title="ripple::Application\l::getLoadManager" alt="" coords="241,1314,367,1360"/><area shape="rect" id="node11" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee" title="ripple::Application\l::overlay" alt="" coords="940,51,1065,98"/><area shape="rect" id="node13" href="../../de/dfc/a00891.html#a5812495c2a1db7f037ac085c07359abd" title="ripple::LoadManager\l::resetDeadlockDetector" alt="" coords="223,1383,385,1430"/><area shape="rect" id="node15" href="../../d7/ded/a01009.html#a0d6bcbe95c3e423d83d68599fd34a637" title="ripple::NetworkOPsImp\l::setHeartbeatTimer" alt="" coords="225,1452,383,1499"/><area shape="rect" id="node28" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40" title="ripple::NetworkOPsImp\l::setMode" alt="" coords="677,1182,835,1228"/><area shape="rect" id="node49" href="../../de/de6/a01063.html#abcbf323fcd7c62e46cd42289a8301985" title="ripple::Overlay::size" alt="" coords="235,1522,373,1552"/><area shape="rect" id="node51" href="../../d7/ded/a01009.html#a6a3776d980baee062b961c0195bc43be" title="ripple::NetworkOPsImp\l::tryStartConsensus" alt="" coords="225,1068,383,1115"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="1596,362,1772,408"/><area shape="rect" id="node17" href="../../da/dbf/a00393.html#a5dbf2e6b83b1443b20f929e2e6278be7" title="beast::DeadlineTimer\l::setExpiration" alt="" coords="447,1452,593,1499"/><area shape="rect" id="node19" href="../../d7/dbf/a01239.html#af05860d57c0bf4854596ccbaf191e9e3" title="beast::RelativeTime\l::fromStartup" alt="" coords="687,1452,825,1499"/><area shape="rect" id="node21" href="../../d6/d18/a03350.html#a05b9ebb2b8f42f2c0add7c0a27dd0e47" title="beast::detail::getStartupTime" alt="" coords="908,1400,1097,1429"/><area shape="rect" id="node23" href="../../d6/d18/a03350.html#a5a1078c54fc6cc03ff318d0bab6871bc" title="beast::detail::monotonic\lCurrentTimeInSeconds" alt="" coords="1148,1454,1308,1500"/><area shape="rect" id="node26" href="../../d7/dbf/a01239.html#a36a8e77c75eb5a22da1f0fabd303784b" title="beast::RelativeTime\l::RelativeTime" alt="" coords="933,1452,1072,1499"/><area shape="rect" id="node31" href="../../d4/d87/a03436.html#a437c68f3299fa632d4a1694059fd6ddb" title="rocksdb::Log" alt="" coords="955,1212,1051,1241"/><area shape="rect" id="node33" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f" title="ripple::NetworkOPsImp\l::strOperatingMode" alt="" coords="1149,963,1307,1010"/><area shape="rect" id="node35" href="../../d7/ded/a01009.html#a768673e1643af3147b10b4d99aca8caf" title="ripple::NetworkOPsImp\l::pubServer" alt="" coords="924,1142,1081,1188"/><area shape="rect" id="node39" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb" title="ripple::Application\l::getFeeTrack" alt="" coords="1165,1222,1291,1268"/><area shape="rect" id="node41" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0" title="ripple::LoadFeeTrack\l::getLoadBase" alt="" coords="1156,1032,1300,1079"/><area shape="rect" id="node43" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac" title="ripple::LoadFeeTrack\l::getLoadFactor" alt="" coords="1156,1102,1300,1148"/><area shape="rect" id="node45" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="1151,1292,1305,1321"/><area shape="rect" id="node47" href="../../d7/def/a00521.html#a2ef4a2ce13a341171f01f414f4fdd765" title="Json::FastWriter::writeValue" alt="" coords="1359,1292,1545,1321"/><area shape="rect" id="node53" href="../../d7/ded/a01009.html#ad72f54405ed9b8219022e8c2b7796c98" title="ripple::NetworkOPsImp\l::checkLastClosedLedger" alt="" coords="435,642,605,688"/><area shape="rect" id="node82" href="../../d7/d9a/a00152.html#a25e873c7d069c6c2d44655736f2b6c21" title="ripple::base_uint::\lisZero" alt="" coords="940,843,1065,890"/><area shape="rect" id="node91" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef" title="ripple::NetworkOPsImp\l::getNetworkTimeNC" alt="" coords="924,136,1081,183"/><area shape="rect" id="node109" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8" title="ripple::LedgerMaster\l::getCurrentLedger" alt="" coords="687,1251,825,1298"/><area shape="rect" id="node111" href="../../d7/ded/a01009.html#a0a714120f440d54c69a4a39e803f9d1a" title="ripple::NetworkOPsImp\l::beginConsensus" alt="" coords="441,1039,599,1086"/><area shape="rect" id="node55" href="../../d7/ded/a01009.html#a08d1779d5bb2a06bdbaeabdac2ba3ed8" title="ripple::NetworkOPsImp\l::clearNeedNetworkLedger" alt="" coords="915,615,1091,662"/><area shape="rect" id="node57" href="../../d8/d86/a00703.html#aa8378c07e914d43964d816ee1ac8d1dd" title="ripple::InboundLedgers\l::dropLedger" alt="" coords="680,334,832,380"/><area shape="rect" id="node59" href="../../d8/d86/a00703.html#a6f59efd378b35314541b4d5c76cd905a" title="ripple::InboundLedgers\l::findCreate" alt="" coords="680,403,832,450"/><area shape="rect" id="node62" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="687,990,825,1036"/><area shape="rect" id="node64" href="../../d3/dac/a01777.html#abc7c7eb0126fa15e409f282c515dae85" title="ripple::Validations\l::getCurrentValidations" alt="" coords="679,472,833,519"/><area shape="rect" id="node66" href="../../da/d74/a00099.html#a6d349a4ada03689eae062c0399762dad" title="ripple::Application\l::getInboundLedgers" alt="" coords="687,542,825,588"/><area shape="rect" id="node68" href="../../d1/de6/a00837.html#a71a21a539d63be51cada4d3c4e4c4030" title="ripple::LedgerMaster\l::getLedgerByHash" alt="" coords="687,1059,825,1106"/><area shape="rect" id="node70" href="../../da/d74/a00099.html#ac95c5f6db4db8575632193495189a702" title="ripple::Application\l::getLocalCredentials" alt="" coords="684,611,828,658"/><area shape="rect" id="node72" href="../../d4/d0e/a01272.html#abead041d13890ad9c8938c28f27f8ccd" title="ripple::RippleAddress\l::getNodeID" alt="" coords="683,731,829,778"/><area shape="rect" id="node76" href="../../dc/dfa/a00894.html#af67a14f58bffac4bd931722ecbd316d9" title="ripple::LocalCredentials\l::getNodePublic" alt="" coords="677,800,835,847"/><area shape="rect" id="node78" href="../../da/d74/a00099.html#a4f3da0257883c463e0a561d7ba793dd4" title="ripple::Application\l::getValidations" alt="" coords="693,144,819,191"/><area shape="rect" id="node80" href="../../d7/d9a/a00152.html#a3fa11a064a87fe4e970f00d661287dd2" title="ripple::base_uint::\lisNonZero" alt="" coords="693,870,819,916"/><area shape="rect" id="node85" href="../../d7/ded/a01009.html#a03e21ff22be1d31dbe08f81deb590ece" title="ripple::NetworkOPsImp\l::switchLastClosedLedger" alt="" coords="669,264,843,311"/><area shape="rect" id="node74" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="947,740,1059,769"/><area shape="rect" id="node88" href="../../d1/de6/a00837.html#af249e0b1768882343f37df9720aeb25d" title="ripple::LedgerMaster\l::switchLedgers" alt="" coords="933,422,1072,468"/><area shape="rect" id="node98" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="940,491,1065,538"/><area shape="rect" id="node100" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="928,265,1077,294"/><area shape="rect" id="node103" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c" title="ripple::Overlay::foreach" alt="" coords="924,318,1081,348"/><area shape="rect" id="node93" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a" title="ripple::NetworkOPsImp\l::getNetworkTimePT" alt="" coords="1149,91,1307,138"/><area shape="rect" id="node96" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7" title="ripple::iToSeconds" alt="" coords="1163,161,1293,190"/><area shape="rect" id="node116" href="../../d9/d9d/a03417.html#a3a7635ac808de39b7ba85e823182f93c" title="ripple::make_LedgerConsensus" alt="" coords="653,1129,859,1158"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_adb95084185570756c8a39ba0e32fb3ed_icgraph.png" border="0" usemap="#d7/ded/a01009_adb95084185570756c8a39ba0e32fb3ed_icgraph" alt=""/></div>
<map name="d7/ded/a01009_adb95084185570756c8a39ba0e32fb3ed_icgraph" id="d7/ded/a01009_adb95084185570756c8a39ba0e32fb3ed_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#ab8272588ee692e125af4d7841af32618" title="ripple::NetworkOPsImp\l::onDeadlineTimer" alt="" coords="223,5,380,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a26cb95fc4e1b658987421bd28c051516"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a> ripple::NetworkOPsImp::processTransaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a>&#160;</td>
          <td class="paramname"><em>transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bAdmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bLocal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bFailHard</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#ab7f2fdbb88d912b8b2a151b9eeb5ed0f">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00170">170</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00921">processTransactionCb()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00803">submitTransactionSync()</a>.</p>
<div class="fragment"><div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;    {</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;        <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#aab21222cb8f90aebe766d622a9b02cc3">processTransactionCb</a> (transaction, bAdmin, bLocal, bFailHard, <a class="code" href="../../d7/ded/a01009.html#a2bae1af7937b339e3e7a4706807582a8">stCallback</a> ());</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a26cb95fc4e1b658987421bd28c051516_cgraph.png" border="0" usemap="#d7/ded/a01009_a26cb95fc4e1b658987421bd28c051516_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a26cb95fc4e1b658987421bd28c051516_cgraph" id="d7/ded/a01009_a26cb95fc4e1b658987421bd28c051516_cgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#aab21222cb8f90aebe766d622a9b02cc3" title="ripple::NetworkOPsImp\l::processTransactionCb" alt="" coords="215,629,375,676"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="896,246,997,275"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c" title="ripple::Application\l::getJobQueue" alt="" coords="449,56,575,103"/><area shape="rect" id="node11" href="../../dc/d0c/a00783.html#ab2ce1ef765c58d0d32214d766c06eabb" title="ripple::JobQueue::getLoad\lEventAP" alt="" coords="425,125,599,172"/><area shape="rect" id="node13" href="../../da/d74/a00099.html#abc0db550376596fa61a678f5d9ce82f4" title="ripple::Application\l::getHashRouter" alt="" coords="449,195,575,241"/><area shape="rect" id="node15" href="../../d0/d15/a00700.html#a586c9f6fefef8adba84f50657bddcf76" title="ripple::IHashRouter\l::getFlags" alt="" coords="445,264,579,311"/><area shape="rect" id="node17" href="../../d0/d15/a00700.html#a00825d59e3a11401f2abad8b879f6602" title="ripple::IHashRouter\l::setFlag" alt="" coords="445,333,579,380"/><area shape="rect" id="node19" href="../../d1/de6/a00837.html#ae4c4e9d9cb43bcb3ddd8e1574fff1bb4" title="ripple::LedgerMaster\l::doTransaction" alt="" coords="443,403,581,449"/><area shape="rect" id="node21" href="../../d9/d9d/a03417.html#a8ebf8214ccd67d515e6dd26b832854a9" title="ripple::transResultInfo" alt="" coords="437,473,587,502"/><area shape="rect" id="node23" href="../../da/d74/a00099.html#aae949580d66cede10b0b392755858e32" title="ripple::Application\l::getMasterTransaction" alt="" coords="435,525,589,572"/><area shape="rect" id="node25" href="../../de/d5c/a01708.html#a2e47d4c2559a80c57a1b45eacb773d9f" title="ripple::TransactionMaster\l::canonicalize" alt="" coords="428,595,596,641"/><area shape="rect" id="node27" href="../../d1/de6/a00837.html#a30dd64cff90f268bf02dab1bc1eaf89e" title="ripple::LedgerMaster\l::addHeldTransaction" alt="" coords="439,664,585,711"/><area shape="rect" id="node29" href="../../d7/ded/a01009.html#af5dbdb9d540e650ee83b593be700ffeb" title="ripple::NetworkOPsImp\l::addLocalTx" alt="" coords="433,733,591,780"/><area shape="rect" id="node31" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8" title="ripple::LedgerMaster\l::getCurrentLedger" alt="" coords="443,803,581,849"/><area shape="rect" id="node33" href="../../d0/d15/a00700.html#a33ae9be662ac75adf54008db17489e39" title="ripple::IHashRouter\l::swapSet" alt="" coords="445,872,579,919"/><area shape="rect" id="node35" href="../../da/d61/a01350.html#a937c91e12200c1df1e493ace106dd4d3" title="ripple::Serializer\l::getData" alt="" coords="455,941,569,988"/><area shape="rect" id="node37" href="../../da/d61/a01350.html#a237280c7ca05aed5c750ec154a599547" title="ripple::Serializer\l::getLength" alt="" coords="455,1011,569,1057"/><area shape="rect" id="node39" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef" title="ripple::NetworkOPsImp\l::getNetworkTimeNC" alt="" coords="433,1080,591,1127"/><area shape="rect" id="node50" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee" title="ripple::Application\l::overlay" alt="" coords="449,1149,575,1196"/><area shape="rect" id="node52" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c" title="ripple::Overlay::foreach" alt="" coords="433,1219,591,1249"/><area shape="rect" id="node56" href="../../d9/d9d/a03417.html#a58e3eee13d40eee082c61c7847587aa7" title="ripple::send_if_not" alt="" coords="448,1273,576,1302"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="1076,237,1252,284"/><area shape="rect" id="node41" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a" title="ripple::NetworkOPsImp\l::getNetworkTimePT" alt="" coords="655,539,812,585"/><area shape="rect" id="node46" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7" title="ripple::iToSeconds" alt="" coords="668,1089,799,1118"/><area shape="rect" id="node44" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678" title="ripple::Application\l::getSystemTimeOffset" alt="" coords="868,539,1025,585"/><area shape="rect" id="node48" href="../../d9/d9d/a03417.html#a00572ed03b233ecd42f36357a395c163" title="ripple::ptEpoch" alt="" coords="892,1089,1001,1118"/><area shape="rect" id="node54" href="../../de/de6/a01063.html#a5b8ee783b77679fb2fad2543ab521a90" title="ripple::Overlay::getActive\lPeers" alt="" coords="649,1211,817,1257"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a26cb95fc4e1b658987421bd28c051516_icgraph.png" border="0" usemap="#d7/ded/a01009_a26cb95fc4e1b658987421bd28c051516_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a26cb95fc4e1b658987421bd28c051516_icgraph" id="d7/ded/a01009_a26cb95fc4e1b658987421bd28c051516_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a20ac0a06c2870e5d087e35f7dd2f768c" title="ripple::NetworkOPsImp\l::submitTransactionSync" alt="" coords="215,5,380,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aab21222cb8f90aebe766d622a9b02cc3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a> ripple::NetworkOPsImp::processTransactionCb </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a>&#160;</td>
          <td class="paramname"><em>trans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bAdmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bLocal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bFailHard</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/ded/a01009.html#a2bae1af7937b339e3e7a4706807582a8">stCallback</a>&#160;</td>
          <td class="paramname"><em>callback</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#aa33a0d7d2dab3efb91fb6628e4ee1d8a">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00921">921</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d1/de6/a00837.html#a30dd64cff90f268bf02dab1bc1eaf89e">ripple::LedgerMaster::addHeldTransaction()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00342">addLocalTx()</a>, <a class="el" href="../../d7/d5a/a03069_source.html#l00092">ripple::TransactionMaster::canonicalize()</a>, <a class="el" href="../../dd/d07/a02132_source.html#l00244">beast::Journal::debug</a>, <a class="el" href="../../d1/de6/a00837.html#ae4c4e9d9cb43bcb3ddd8e1574fff1bb4">ripple::LedgerMaster::doTransaction()</a>, <a class="el" href="../../dd/d87/a03235_source.html#l00096">ripple::Overlay::foreach()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8">ripple::LedgerMaster::getCurrentLedger()</a>, <a class="el" href="../../dd/d61/a03197_source.html#l00129">ripple::Serializer::getData()</a>, <a class="el" href="../../d0/d15/a00700.html#a586c9f6fefef8adba84f50657bddcf76">ripple::IHashRouter::getFlags()</a>, <a class="el" href="../../da/d74/a00099.html#abc0db550376596fa61a678f5d9ce82f4">ripple::Application::getHashRouter()</a>, <a class="el" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c">ripple::Application::getJobQueue()</a>, <a class="el" href="../../dd/d61/a03197_source.html#l00153">ripple::Serializer::getLength()</a>, <a class="el" href="../../dc/d0c/a00783.html#ab2ce1ef765c58d0d32214d766c06eabb">ripple::JobQueue::getLoadEventAP()</a>, <a class="el" href="../../da/d74/a00099.html#aae949580d66cede10b0b392755858e32">ripple::Application::getMasterTransaction()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00671">getNetworkTimeNC()</a>, <a class="el" href="../../dc/dec/a03063_source.html#l00038">ripple::HELD</a>, <a class="el" href="../../dc/dec/a03063_source.html#l00035">ripple::INCLUDED</a>, <a class="el" href="../../dd/d07/a02132_source.html#l00245">beast::Journal::info</a>, <a class="el" href="../../dc/dec/a03063_source.html#l00034">ripple::INVALID</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00042">IO_ERROR</a>, <a class="el" href="../../d5/d73/a03203_source.html#l00178">isTemMalformed</a>, <a class="el" href="../../d5/d73/a03203_source.html#l00180">isTerRetry</a>, <a class="el" href="../../d8/d96/a03116_source.html#l00065">ripple::jtTXN_PROC</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00469">mMode</a>, <a class="el" href="../../dc/dec/a03063_source.html#l00040">ripple::OBSOLETE</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00079">ripple::NetworkOPs::omFULL</a>, <a class="el" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee">ripple::Application::overlay()</a>, <a class="el" href="../../d5/de9/a03236_source.html#l00102">ripple::send_if_not()</a>, <a class="el" href="../../d0/d15/a00700.html#a00825d59e3a11401f2abad8b879f6602">ripple::IHashRouter::setFlag()</a>, <a class="el" href="../../d0/d7b/a02968_source.html#l00029">SF_BAD</a>, <a class="el" href="../../d0/d7b/a02968_source.html#l00027">SF_RELAYED</a>, <a class="el" href="../../d0/d7b/a02968_source.html#l00030">SF_SIGGOOD</a>, <a class="el" href="../../d0/d15/a00700.html#a33ae9be662ac75adf54008db17489e39">ripple::IHashRouter::swapSet()</a>, <a class="el" href="../../db/da5/a02919_source.html#l00038">ripple::tapADMIN</a>, <a class="el" href="../../db/da5/a02919_source.html#l00029">ripple::tapNO_CHECK_SIGN</a>, <a class="el" href="../../db/da5/a02919_source.html#l00031">ripple::tapOPEN_LEDGER</a>, <a class="el" href="../../d5/d73/a03203_source.html#l00096">ripple::tefFAILURE</a>, <a class="el" href="../../d5/d73/a03203_source.html#l00110">ripple::tefPAST_SEQ</a>, <a class="el" href="../../d5/d73/a03203_source.html#l00074">ripple::temBAD_SIGNATURE</a>, <a class="el" href="../../d5/d73/a03203_source.html#l00141">ripple::tesSUCCESS</a>, and <a class="el" href="../../d6/d9b/a03202_source.html#l00022">ripple::transResultInfo()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00170">processTransaction()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00177">processTransactionCbVoid()</a>.</p>
<div class="fragment"><div class="line"><a name="l00923"></a><span class="lineno">  923</span>&#160;{</div>
<div class="line"><a name="l00924"></a><span class="lineno">  924</span>&#160;    <a class="code" href="../../d7/d92/a00887.html#a6e5a511c698f509f12230964edf7b29d">LoadEvent::autoptr</a> ev = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c">getJobQueue</a> ().<a class="code" href="../../dc/d0c/a00783.html#ab2ce1ef765c58d0d32214d766c06eabb">getLoadEventAP</a> (<a class="code" href="../../d9/d9d/a03417.html#ae0f54f8ce649d639bf3e2b295347e17aa472d60e46f48281b57495a70dfabfbce">jtTXN_PROC</a>, <span class="stringliteral">&quot;ProcessTXN&quot;</span>);</div>
<div class="line"><a name="l00925"></a><span class="lineno">  925</span>&#160;</div>
<div class="line"><a name="l00926"></a><span class="lineno">  926</span>&#160;    <span class="keywordtype">int</span> newFlags = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#abc0db550376596fa61a678f5d9ce82f4">getHashRouter</a> ().<a class="code" href="../../d0/d15/a00700.html#a586c9f6fefef8adba84f50657bddcf76">getFlags</a> (trans-&gt;getID ());</div>
<div class="line"><a name="l00927"></a><span class="lineno">  927</span>&#160;</div>
<div class="line"><a name="l00928"></a><span class="lineno">  928</span>&#160;    <span class="keywordflow">if</span> ((newFlags &amp; <a class="code" href="../../d0/d7b/a02968.html#a4db5c97ae009c538ceb0c24c4a0a0999">SF_BAD</a>) != 0)</div>
<div class="line"><a name="l00929"></a><span class="lineno">  929</span>&#160;    {</div>
<div class="line"><a name="l00930"></a><span class="lineno">  930</span>&#160;        <span class="comment">// cached bad</span></div>
<div class="line"><a name="l00931"></a><span class="lineno">  931</span>&#160;        trans-&gt;setStatus (<a class="code" href="../../d9/d9d/a03417.html#a2e97c395a5e1ef4ed1052299e0e60843af8c5e3e10d98fcbda2c4d43d50d712a2">INVALID</a>);</div>
<div class="line"><a name="l00932"></a><span class="lineno">  932</span>&#160;        trans-&gt;setResult (<a class="code" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0aecc18d207c14edd554462f82555e9d92">temBAD_SIGNATURE</a>);</div>
<div class="line"><a name="l00933"></a><span class="lineno">  933</span>&#160;        <span class="keywordflow">return</span> trans;</div>
<div class="line"><a name="l00934"></a><span class="lineno">  934</span>&#160;    }</div>
<div class="line"><a name="l00935"></a><span class="lineno">  935</span>&#160;</div>
<div class="line"><a name="l00936"></a><span class="lineno">  936</span>&#160;    <span class="keywordflow">if</span> ((newFlags &amp; <a class="code" href="../../d0/d7b/a02968.html#ac4c1ab5f431528c3ea66a575b47247b6">SF_SIGGOOD</a>) == 0)</div>
<div class="line"><a name="l00937"></a><span class="lineno">  937</span>&#160;    {</div>
<div class="line"><a name="l00938"></a><span class="lineno">  938</span>&#160;        <span class="comment">// signature not checked</span></div>
<div class="line"><a name="l00939"></a><span class="lineno">  939</span>&#160;        <span class="keywordflow">if</span> (!trans-&gt;checkSign ())</div>
<div class="line"><a name="l00940"></a><span class="lineno">  940</span>&#160;        {</div>
<div class="line"><a name="l00941"></a><span class="lineno">  941</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;Transaction has bad signature&quot;</span>;</div>
<div class="line"><a name="l00942"></a><span class="lineno">  942</span>&#160;            trans-&gt;setStatus (<a class="code" href="../../d9/d9d/a03417.html#a2e97c395a5e1ef4ed1052299e0e60843af8c5e3e10d98fcbda2c4d43d50d712a2">INVALID</a>);</div>
<div class="line"><a name="l00943"></a><span class="lineno">  943</span>&#160;            trans-&gt;setResult (<a class="code" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0aecc18d207c14edd554462f82555e9d92">temBAD_SIGNATURE</a>);</div>
<div class="line"><a name="l00944"></a><span class="lineno">  944</span>&#160;            <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#abc0db550376596fa61a678f5d9ce82f4">getHashRouter</a> ().<a class="code" href="../../d0/d15/a00700.html#a00825d59e3a11401f2abad8b879f6602">setFlag</a> (trans-&gt;getID (), <a class="code" href="../../d0/d7b/a02968.html#a4db5c97ae009c538ceb0c24c4a0a0999">SF_BAD</a>);</div>
<div class="line"><a name="l00945"></a><span class="lineno">  945</span>&#160;            <span class="keywordflow">return</span> trans;</div>
<div class="line"><a name="l00946"></a><span class="lineno">  946</span>&#160;        }</div>
<div class="line"><a name="l00947"></a><span class="lineno">  947</span>&#160;</div>
<div class="line"><a name="l00948"></a><span class="lineno">  948</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#abc0db550376596fa61a678f5d9ce82f4">getHashRouter</a> ().<a class="code" href="../../d0/d15/a00700.html#a00825d59e3a11401f2abad8b879f6602">setFlag</a> (trans-&gt;getID (), <a class="code" href="../../d0/d7b/a02968.html#ac4c1ab5f431528c3ea66a575b47247b6">SF_SIGGOOD</a>);</div>
<div class="line"><a name="l00949"></a><span class="lineno">  949</span>&#160;    }</div>
<div class="line"><a name="l00950"></a><span class="lineno">  950</span>&#160;</div>
<div class="line"><a name="l00951"></a><span class="lineno">  951</span>&#160;    {</div>
<div class="line"><a name="l00952"></a><span class="lineno">  952</span>&#160;        <a class="code" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> lock (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getMasterLock ());</div>
<div class="line"><a name="l00953"></a><span class="lineno">  953</span>&#160;</div>
<div class="line"><a name="l00954"></a><span class="lineno">  954</span>&#160;        <span class="keywordtype">bool</span> didApply;</div>
<div class="line"><a name="l00955"></a><span class="lineno">  955</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0">TER</a> r = <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#ae4c4e9d9cb43bcb3ddd8e1574fff1bb4">doTransaction</a> (trans-&gt;getSTransaction (),</div>
<div class="line"><a name="l00956"></a><span class="lineno">  956</span>&#160;                                              bAdmin ? (<a class="code" href="../../d9/d9d/a03417.html#ae2a321a3f2099e098fdcc670a60c7a09ab3ffb3bd2975db520632d6f5f42606e1">tapOPEN_LEDGER</a> | <a class="code" href="../../d9/d9d/a03417.html#ae2a321a3f2099e098fdcc670a60c7a09ab6877d4b605c5749356755d7915cfab6">tapNO_CHECK_SIGN</a> | <a class="code" href="../../d9/d9d/a03417.html#ae2a321a3f2099e098fdcc670a60c7a09a31cc3124494665b3140a3408ca3ec6b6">tapADMIN</a>) : (<a class="code" href="../../d9/d9d/a03417.html#ae2a321a3f2099e098fdcc670a60c7a09ab3ffb3bd2975db520632d6f5f42606e1">tapOPEN_LEDGER</a> | <a class="code" href="../../d9/d9d/a03417.html#ae2a321a3f2099e098fdcc670a60c7a09ab6877d4b605c5749356755d7915cfab6">tapNO_CHECK_SIGN</a>), didApply);</div>
<div class="line"><a name="l00957"></a><span class="lineno">  957</span>&#160;        trans-&gt;setResult (r);</div>
<div class="line"><a name="l00958"></a><span class="lineno">  958</span>&#160;</div>
<div class="line"><a name="l00959"></a><span class="lineno">  959</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d5/d73/a03203.html#a23f17339aac8b4605014699e9437cf44">isTemMalformed</a> (r)) <span class="comment">// malformed, cache bad</span></div>
<div class="line"><a name="l00960"></a><span class="lineno">  960</span>&#160;            <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#abc0db550376596fa61a678f5d9ce82f4">getHashRouter</a> ().<a class="code" href="../../d0/d15/a00700.html#a00825d59e3a11401f2abad8b879f6602">setFlag</a> (trans-&gt;getID (), <a class="code" href="../../d0/d7b/a02968.html#a4db5c97ae009c538ceb0c24c4a0a0999">SF_BAD</a>);</div>
<div class="line"><a name="l00961"></a><span class="lineno">  961</span>&#160;    <span class="comment">//    else if (isTelLocal (r) || isTerRetry (r)) // can be retried</span></div>
<div class="line"><a name="l00962"></a><span class="lineno">  962</span>&#160;    <span class="comment">//        getApp().getHashRouter ().setFlag (trans-&gt;getID (), SF_RETRY);</span></div>
<div class="line"><a name="l00963"></a><span class="lineno">  963</span>&#160;</div>
<div class="line"><a name="l00964"></a><span class="lineno">  964</span>&#160;<span class="preprocessor">#ifdef BEAST_DEBUG</span></div>
<div class="line"><a name="l00965"></a><span class="lineno">  965</span>&#160;<span class="preprocessor"></span>        <span class="keywordflow">if</span> (r != <a class="code" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0a28c7d8b3ed759d363503a05fcd59f151">tesSUCCESS</a>)</div>
<div class="line"><a name="l00966"></a><span class="lineno">  966</span>&#160;        {</div>
<div class="line"><a name="l00967"></a><span class="lineno">  967</span>&#160;            std::string token, human;</div>
<div class="line"><a name="l00968"></a><span class="lineno">  968</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#a8ebf8214ccd67d515e6dd26b832854a9">transResultInfo</a> (r, token, human))</div>
<div class="line"><a name="l00969"></a><span class="lineno">  969</span>&#160;                <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;TransactionResult: &quot;</span> &lt;&lt; token &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; human;</div>
<div class="line"><a name="l00970"></a><span class="lineno">  970</span>&#160;        }</div>
<div class="line"><a name="l00971"></a><span class="lineno">  971</span>&#160;</div>
<div class="line"><a name="l00972"></a><span class="lineno">  972</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00973"></a><span class="lineno">  973</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00974"></a><span class="lineno">  974</span>&#160;        <span class="keywordflow">if</span> (callback)</div>
<div class="line"><a name="l00975"></a><span class="lineno">  975</span>&#160;            callback (trans, r);</div>
<div class="line"><a name="l00976"></a><span class="lineno">  976</span>&#160;</div>
<div class="line"><a name="l00977"></a><span class="lineno">  977</span>&#160;</div>
<div class="line"><a name="l00978"></a><span class="lineno">  978</span>&#160;        <span class="keywordflow">if</span> (r == <a class="code" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0a6c46c4df51fe2c0abff61e840c9bbc40">tefFAILURE</a>)</div>
<div class="line"><a name="l00979"></a><span class="lineno">  979</span>&#160;        {</div>
<div class="line"><a name="l00980"></a><span class="lineno">  980</span>&#160;            <span class="comment">// VFALCO TODO All callers use a try block so this should be changed to</span></div>
<div class="line"><a name="l00981"></a><span class="lineno">  981</span>&#160;            <span class="comment">//             a return value.</span></div>
<div class="line"><a name="l00982"></a><span class="lineno">  982</span>&#160;            <span class="keywordflow">throw</span> <a class="code" href="../../d7/ded/a01009.html#a7596fd47ef88c16ceff507fe0d891540">Fault</a> (<a class="code" href="../../d7/ded/a01009.html#a7596fd47ef88c16ceff507fe0d891540a0b426fd766aa62ce7e5680c40f11aa2d">IO_ERROR</a>);</div>
<div class="line"><a name="l00983"></a><span class="lineno">  983</span>&#160;        }</div>
<div class="line"><a name="l00984"></a><span class="lineno">  984</span>&#160;</div>
<div class="line"><a name="l00985"></a><span class="lineno">  985</span>&#160;        <span class="keywordtype">bool</span> addLocal = bLocal;</div>
<div class="line"><a name="l00986"></a><span class="lineno">  986</span>&#160;</div>
<div class="line"><a name="l00987"></a><span class="lineno">  987</span>&#160;        <span class="keywordflow">if</span> (r == <a class="code" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0a28c7d8b3ed759d363503a05fcd59f151">tesSUCCESS</a>)</div>
<div class="line"><a name="l00988"></a><span class="lineno">  988</span>&#160;        {</div>
<div class="line"><a name="l00989"></a><span class="lineno">  989</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;Transaction is now included in open ledger&quot;</span>;</div>
<div class="line"><a name="l00990"></a><span class="lineno">  990</span>&#160;            trans-&gt;setStatus (<a class="code" href="../../d9/d9d/a03417.html#a2e97c395a5e1ef4ed1052299e0e60843a13c5625591c8f6b2f3f0f6dcdf53d302">INCLUDED</a>);</div>
<div class="line"><a name="l00991"></a><span class="lineno">  991</span>&#160;</div>
<div class="line"><a name="l00992"></a><span class="lineno">  992</span>&#160;            <span class="comment">// VFALCO NOTE The value of trans can be changed here!!</span></div>
<div class="line"><a name="l00993"></a><span class="lineno">  993</span>&#160;            <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#aae949580d66cede10b0b392755858e32">getMasterTransaction</a> ().<a class="code" href="../../de/d5c/a01708.html#a2e47d4c2559a80c57a1b45eacb773d9f">canonicalize</a> (&amp;trans);</div>
<div class="line"><a name="l00994"></a><span class="lineno">  994</span>&#160;        }</div>
<div class="line"><a name="l00995"></a><span class="lineno">  995</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (r == <a class="code" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0a3f96e687e612f385bba979a60694d7b5">tefPAST_SEQ</a>)</div>
<div class="line"><a name="l00996"></a><span class="lineno">  996</span>&#160;        {</div>
<div class="line"><a name="l00997"></a><span class="lineno">  997</span>&#160;            <span class="comment">// duplicate or conflict</span></div>
<div class="line"><a name="l00998"></a><span class="lineno">  998</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;Transaction is obsolete&quot;</span>;</div>
<div class="line"><a name="l00999"></a><span class="lineno">  999</span>&#160;            trans-&gt;setStatus (<a class="code" href="../../d9/d9d/a03417.html#a2e97c395a5e1ef4ed1052299e0e60843ad8d4ab290d0006e2cbe215ff1b11e5ea">OBSOLETE</a>);</div>
<div class="line"><a name="l01000"></a><span class="lineno"> 1000</span>&#160;        }</div>
<div class="line"><a name="l01001"></a><span class="lineno"> 1001</span>&#160;        <span class="keywordflow">else</span> <span class="keywordflow">if</span> (<a class="code" href="../../d5/d73/a03203.html#a4a9168ca4a8af58283b2bc61f0763160">isTerRetry</a> (r))</div>
<div class="line"><a name="l01002"></a><span class="lineno"> 1002</span>&#160;        {</div>
<div class="line"><a name="l01003"></a><span class="lineno"> 1003</span>&#160;            <span class="keywordflow">if</span> (bFailHard)</div>
<div class="line"><a name="l01004"></a><span class="lineno"> 1004</span>&#160;                addLocal = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01005"></a><span class="lineno"> 1005</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01006"></a><span class="lineno"> 1006</span>&#160;            {</div>
<div class="line"><a name="l01007"></a><span class="lineno"> 1007</span>&#160;                <span class="comment">// transaction should be held</span></div>
<div class="line"><a name="l01008"></a><span class="lineno"> 1008</span>&#160;                <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#aed264b891ebfe8df4c5b6b2231786491">debug</a> &lt;&lt; <span class="stringliteral">&quot;Transaction should be held: &quot;</span> &lt;&lt; r;</div>
<div class="line"><a name="l01009"></a><span class="lineno"> 1009</span>&#160;                trans-&gt;setStatus (<a class="code" href="../../d9/d9d/a03417.html#a2e97c395a5e1ef4ed1052299e0e60843ab6d15d6de328520f3f346b0ae9e3d1dd">HELD</a>);</div>
<div class="line"><a name="l01010"></a><span class="lineno"> 1010</span>&#160;                <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#aae949580d66cede10b0b392755858e32">getMasterTransaction</a> ().<a class="code" href="../../de/d5c/a01708.html#a2e47d4c2559a80c57a1b45eacb773d9f">canonicalize</a> (&amp;trans);</div>
<div class="line"><a name="l01011"></a><span class="lineno"> 1011</span>&#160;                <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#a30dd64cff90f268bf02dab1bc1eaf89e">addHeldTransaction</a> (trans);</div>
<div class="line"><a name="l01012"></a><span class="lineno"> 1012</span>&#160;            }</div>
<div class="line"><a name="l01013"></a><span class="lineno"> 1013</span>&#160;        }</div>
<div class="line"><a name="l01014"></a><span class="lineno"> 1014</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01015"></a><span class="lineno"> 1015</span>&#160;        {</div>
<div class="line"><a name="l01016"></a><span class="lineno"> 1016</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#aed264b891ebfe8df4c5b6b2231786491">debug</a> &lt;&lt; <span class="stringliteral">&quot;Status other than success &quot;</span> &lt;&lt; r;</div>
<div class="line"><a name="l01017"></a><span class="lineno"> 1017</span>&#160;            trans-&gt;setStatus (<a class="code" href="../../d9/d9d/a03417.html#a2e97c395a5e1ef4ed1052299e0e60843af8c5e3e10d98fcbda2c4d43d50d712a2">INVALID</a>);</div>
<div class="line"><a name="l01018"></a><span class="lineno"> 1018</span>&#160;        }</div>
<div class="line"><a name="l01019"></a><span class="lineno"> 1019</span>&#160;</div>
<div class="line"><a name="l01020"></a><span class="lineno"> 1020</span>&#160;        <span class="keywordflow">if</span> (addLocal)</div>
<div class="line"><a name="l01021"></a><span class="lineno"> 1021</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#af5dbdb9d540e650ee83b593be700ffeb">addLocalTx</a> (<a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8">getCurrentLedger</a> (), trans-&gt;getSTransaction ());</div>
<div class="line"><a name="l01022"></a><span class="lineno"> 1022</span>&#160;</div>
<div class="line"><a name="l01023"></a><span class="lineno"> 1023</span>&#160;        <span class="keywordflow">if</span> (didApply || ((<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> != <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaafaf756912385746855189063c6bd422d">omFULL</a>) &amp;&amp; !bFailHard &amp;&amp; bLocal))</div>
<div class="line"><a name="l01024"></a><span class="lineno"> 1024</span>&#160;        {</div>
<div class="line"><a name="l01025"></a><span class="lineno"> 1025</span>&#160;            std::set&lt;Peer::ShortId&gt; peers;</div>
<div class="line"><a name="l01026"></a><span class="lineno"> 1026</span>&#160;</div>
<div class="line"><a name="l01027"></a><span class="lineno"> 1027</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#abc0db550376596fa61a678f5d9ce82f4">getHashRouter</a> ().<a class="code" href="../../d0/d15/a00700.html#a33ae9be662ac75adf54008db17489e39">swapSet</a> (trans-&gt;getID (), peers, <a class="code" href="../../d0/d7b/a02968.html#af9be45afdb73db8b7ac79729af6a72da">SF_RELAYED</a>))</div>
<div class="line"><a name="l01028"></a><span class="lineno"> 1028</span>&#160;            {</div>
<div class="line"><a name="l01029"></a><span class="lineno"> 1029</span>&#160;                protocol::TMTransaction tx;</div>
<div class="line"><a name="l01030"></a><span class="lineno"> 1030</span>&#160;                Serializer s;</div>
<div class="line"><a name="l01031"></a><span class="lineno"> 1031</span>&#160;                trans-&gt;getSTransaction ()-&gt;add (s);</div>
<div class="line"><a name="l01032"></a><span class="lineno"> 1032</span>&#160;                tx.set_rawtransaction (&amp;s.getData ().front (), s.getLength ());</div>
<div class="line"><a name="l01033"></a><span class="lineno"> 1033</span>&#160;                tx.set_status (protocol::tsCURRENT);</div>
<div class="line"><a name="l01034"></a><span class="lineno"> 1034</span>&#160;                tx.set_receivetimestamp (<a class="code" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef">getNetworkTimeNC</a> ()); <span class="comment">// FIXME: This should be when we received it</span></div>
<div class="line"><a name="l01035"></a><span class="lineno"> 1035</span>&#160;                <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a> ().<a class="code" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee">overlay</a> ().<a class="code" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c">foreach</a> (<a class="code" href="../../d9/d9d/a03417.html#a58e3eee13d40eee082c61c7847587aa7">send_if_not</a> (</div>
<div class="line"><a name="l01036"></a><span class="lineno"> 1036</span>&#160;                    boost::make_shared&lt;Message&gt; (tx, protocol::mtTRANSACTION),</div>
<div class="line"><a name="l01037"></a><span class="lineno"> 1037</span>&#160;                    peer_in_set(peers)));</div>
<div class="line"><a name="l01038"></a><span class="lineno"> 1038</span>&#160;            }</div>
<div class="line"><a name="l01039"></a><span class="lineno"> 1039</span>&#160;        }</div>
<div class="line"><a name="l01040"></a><span class="lineno"> 1040</span>&#160;    }</div>
<div class="line"><a name="l01041"></a><span class="lineno"> 1041</span>&#160;</div>
<div class="line"><a name="l01042"></a><span class="lineno"> 1042</span>&#160;    <span class="keywordflow">return</span> trans;</div>
<div class="line"><a name="l01043"></a><span class="lineno"> 1043</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_aab21222cb8f90aebe766d622a9b02cc3_cgraph.png" border="0" usemap="#d7/ded/a01009_aab21222cb8f90aebe766d622a9b02cc3_cgraph" alt=""/></div>
<map name="d7/ded/a01009_aab21222cb8f90aebe766d622a9b02cc3_cgraph" id="d7/ded/a01009_aab21222cb8f90aebe766d622a9b02cc3_cgraph">
<area shape="rect" id="node3" href="../../d1/de6/a00837.html#a30dd64cff90f268bf02dab1bc1eaf89e" title="ripple::LedgerMaster\l::addHeldTransaction" alt="" coords="231,5,377,51"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#af5dbdb9d540e650ee83b593be700ffeb" title="ripple::NetworkOPsImp\l::addLocalTx" alt="" coords="225,74,383,121"/><area shape="rect" id="node7" href="../../de/d5c/a01708.html#a2e47d4c2559a80c57a1b45eacb773d9f" title="ripple::TransactionMaster\l::canonicalize" alt="" coords="220,143,388,190"/><area shape="rect" id="node9" href="../../d1/de6/a00837.html#ae4c4e9d9cb43bcb3ddd8e1574fff1bb4" title="ripple::LedgerMaster\l::doTransaction" alt="" coords="235,213,373,259"/><area shape="rect" id="node11" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c" title="ripple::Overlay::foreach" alt="" coords="225,283,383,312"/><area shape="rect" id="node15" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="688,459,789,488"/><area shape="rect" id="node19" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8" title="ripple::LedgerMaster\l::getCurrentLedger" alt="" coords="235,386,373,433"/><area shape="rect" id="node21" href="../../da/d61/a01350.html#a937c91e12200c1df1e493ace106dd4d3" title="ripple::Serializer\l::getData" alt="" coords="247,455,361,502"/><area shape="rect" id="node23" href="../../d0/d15/a00700.html#a586c9f6fefef8adba84f50657bddcf76" title="ripple::IHashRouter\l::getFlags" alt="" coords="237,525,371,571"/><area shape="rect" id="node25" href="../../da/d74/a00099.html#abc0db550376596fa61a678f5d9ce82f4" title="ripple::Application\l::getHashRouter" alt="" coords="241,594,367,641"/><area shape="rect" id="node27" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c" title="ripple::Application\l::getJobQueue" alt="" coords="241,663,367,710"/><area shape="rect" id="node29" href="../../da/d61/a01350.html#a237280c7ca05aed5c750ec154a599547" title="ripple::Serializer\l::getLength" alt="" coords="247,733,361,779"/><area shape="rect" id="node31" href="../../dc/d0c/a00783.html#ab2ce1ef765c58d0d32214d766c06eabb" title="ripple::JobQueue::getLoad\lEventAP" alt="" coords="217,802,391,849"/><area shape="rect" id="node33" href="../../da/d74/a00099.html#aae949580d66cede10b0b392755858e32" title="ripple::Application\l::getMasterTransaction" alt="" coords="227,871,381,918"/><area shape="rect" id="node35" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef" title="ripple::NetworkOPsImp\l::getNetworkTimeNC" alt="" coords="225,941,383,987"/><area shape="rect" id="node46" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee" title="ripple::Application\l::overlay" alt="" coords="241,1010,367,1057"/><area shape="rect" id="node48" href="../../d9/d9d/a03417.html#a58e3eee13d40eee082c61c7847587aa7" title="ripple::send_if_not" alt="" coords="240,1080,368,1109"/><area shape="rect" id="node50" href="../../d0/d15/a00700.html#a00825d59e3a11401f2abad8b879f6602" title="ripple::IHashRouter\l::setFlag" alt="" coords="237,1133,371,1179"/><area shape="rect" id="node52" href="../../d0/d15/a00700.html#a33ae9be662ac75adf54008db17489e39" title="ripple::IHashRouter\l::swapSet" alt="" coords="237,1202,371,1249"/><area shape="rect" id="node54" href="../../d9/d9d/a03417.html#a8ebf8214ccd67d515e6dd26b832854a9" title="ripple::transResultInfo" alt="" coords="229,1272,379,1301"/><area shape="rect" id="node13" href="../../de/de6/a01063.html#a5b8ee783b77679fb2fad2543ab521a90" title="ripple::Overlay::getActive\lPeers" alt="" coords="441,266,609,313"/><area shape="rect" id="node17" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="868,450,1044,497"/><area shape="rect" id="node37" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a" title="ripple::NetworkOPsImp\l::getNetworkTimePT" alt="" coords="447,634,604,681"/><area shape="rect" id="node42" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7" title="ripple::iToSeconds" alt="" coords="460,949,591,979"/><area shape="rect" id="node40" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678" title="ripple::Application\l::getSystemTimeOffset" alt="" coords="660,634,817,681"/><area shape="rect" id="node44" href="../../d9/d9d/a03417.html#a00572ed03b233ecd42f36357a395c163" title="ripple::ptEpoch" alt="" coords="684,949,793,979"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_aab21222cb8f90aebe766d622a9b02cc3_icgraph.png" border="0" usemap="#d7/ded/a01009_aab21222cb8f90aebe766d622a9b02cc3_icgraph" alt=""/></div>
<map name="d7/ded/a01009_aab21222cb8f90aebe766d622a9b02cc3_icgraph" id="d7/ded/a01009_aab21222cb8f90aebe766d622a9b02cc3_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a26cb95fc4e1b658987421bd28c051516" title="ripple::NetworkOPsImp\l::processTransaction" alt="" coords="231,5,388,51"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#abaf5313789b76e16cc0f99605e8f0c81" title="ripple::NetworkOPsImp\l::processTransactionCbVoid" alt="" coords="216,74,403,121"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a20ac0a06c2870e5d087e35f7dd2f768c" title="ripple::NetworkOPsImp\l::submitTransactionSync" alt="" coords="452,5,617,51"/><area shape="rect" id="node9" href="../../d7/ded/a01009.html#a1f19b2ae693aa2f460a5d48f3faa2218" title="ripple::NetworkOPsImp\l::submitTransaction" alt="" coords="456,74,613,121"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="abaf5313789b76e16cc0f99605e8f0c81"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::processTransactionCbVoid </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a>&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bAdmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bLocal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bFailHard</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/ded/a01009.html#a2bae1af7937b339e3e7a4706807582a8">stCallback</a>&#160;</td>
          <td class="paramname"><em>cb</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00177">177</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00921">processTransactionCb()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00752">submitTransaction()</a>.</p>
<div class="fragment"><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;    {</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#aab21222cb8f90aebe766d622a9b02cc3">processTransactionCb</a> (p, bAdmin, bLocal, bFailHard, cb);</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_abaf5313789b76e16cc0f99605e8f0c81_cgraph.png" border="0" usemap="#d7/ded/a01009_abaf5313789b76e16cc0f99605e8f0c81_cgraph" alt=""/></div>
<map name="d7/ded/a01009_abaf5313789b76e16cc0f99605e8f0c81_cgraph" id="d7/ded/a01009_abaf5313789b76e16cc0f99605e8f0c81_cgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#aab21222cb8f90aebe766d622a9b02cc3" title="ripple::NetworkOPsImp\l::processTransactionCb" alt="" coords="241,629,401,675"/><area shape="rect" id="node5" href="../../d1/de6/a00837.html#a30dd64cff90f268bf02dab1bc1eaf89e" title="ripple::LedgerMaster\l::addHeldTransaction" alt="" coords="465,5,612,51"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#af5dbdb9d540e650ee83b593be700ffeb" title="ripple::NetworkOPsImp\l::addLocalTx" alt="" coords="460,74,617,121"/><area shape="rect" id="node9" href="../../de/d5c/a01708.html#a2e47d4c2559a80c57a1b45eacb773d9f" title="ripple::TransactionMaster\l::canonicalize" alt="" coords="455,143,623,190"/><area shape="rect" id="node11" href="../../d1/de6/a00837.html#ae4c4e9d9cb43bcb3ddd8e1574fff1bb4" title="ripple::LedgerMaster\l::doTransaction" alt="" coords="469,213,608,259"/><area shape="rect" id="node13" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c" title="ripple::Overlay::foreach" alt="" coords="460,283,617,312"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="923,459,1024,488"/><area shape="rect" id="node21" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8" title="ripple::LedgerMaster\l::getCurrentLedger" alt="" coords="469,386,608,433"/><area shape="rect" id="node23" href="../../da/d61/a01350.html#a937c91e12200c1df1e493ace106dd4d3" title="ripple::Serializer\l::getData" alt="" coords="481,455,596,502"/><area shape="rect" id="node25" href="../../d0/d15/a00700.html#a586c9f6fefef8adba84f50657bddcf76" title="ripple::IHashRouter\l::getFlags" alt="" coords="472,525,605,571"/><area shape="rect" id="node27" href="../../da/d74/a00099.html#abc0db550376596fa61a678f5d9ce82f4" title="ripple::Application\l::getHashRouter" alt="" coords="476,594,601,641"/><area shape="rect" id="node29" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c" title="ripple::Application\l::getJobQueue" alt="" coords="476,663,601,710"/><area shape="rect" id="node31" href="../../da/d61/a01350.html#a237280c7ca05aed5c750ec154a599547" title="ripple::Serializer\l::getLength" alt="" coords="481,733,596,779"/><area shape="rect" id="node33" href="../../dc/d0c/a00783.html#ab2ce1ef765c58d0d32214d766c06eabb" title="ripple::JobQueue::getLoad\lEventAP" alt="" coords="452,802,625,849"/><area shape="rect" id="node35" href="../../da/d74/a00099.html#aae949580d66cede10b0b392755858e32" title="ripple::Application\l::getMasterTransaction" alt="" coords="461,871,616,918"/><area shape="rect" id="node37" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef" title="ripple::NetworkOPsImp\l::getNetworkTimeNC" alt="" coords="460,941,617,987"/><area shape="rect" id="node48" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee" title="ripple::Application\l::overlay" alt="" coords="476,1010,601,1057"/><area shape="rect" id="node50" href="../../d9/d9d/a03417.html#a58e3eee13d40eee082c61c7847587aa7" title="ripple::send_if_not" alt="" coords="475,1080,603,1109"/><area shape="rect" id="node52" href="../../d0/d15/a00700.html#a00825d59e3a11401f2abad8b879f6602" title="ripple::IHashRouter\l::setFlag" alt="" coords="472,1133,605,1179"/><area shape="rect" id="node54" href="../../d0/d15/a00700.html#a33ae9be662ac75adf54008db17489e39" title="ripple::IHashRouter\l::swapSet" alt="" coords="472,1202,605,1249"/><area shape="rect" id="node56" href="../../d9/d9d/a03417.html#a8ebf8214ccd67d515e6dd26b832854a9" title="ripple::transResultInfo" alt="" coords="464,1272,613,1301"/><area shape="rect" id="node15" href="../../de/de6/a01063.html#a5b8ee783b77679fb2fad2543ab521a90" title="ripple::Overlay::getActive\lPeers" alt="" coords="676,266,844,313"/><area shape="rect" id="node19" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="1103,450,1279,497"/><area shape="rect" id="node39" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a" title="ripple::NetworkOPsImp\l::getNetworkTimePT" alt="" coords="681,634,839,681"/><area shape="rect" id="node44" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7" title="ripple::iToSeconds" alt="" coords="695,949,825,979"/><area shape="rect" id="node42" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678" title="ripple::Application\l::getSystemTimeOffset" alt="" coords="895,634,1052,681"/><area shape="rect" id="node46" href="../../d9/d9d/a03417.html#a00572ed03b233ecd42f36357a395c163" title="ripple::ptEpoch" alt="" coords="919,949,1028,979"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_abaf5313789b76e16cc0f99605e8f0c81_icgraph.png" border="0" usemap="#d7/ded/a01009_abaf5313789b76e16cc0f99605e8f0c81_icgraph" alt=""/></div>
<map name="d7/ded/a01009_abaf5313789b76e16cc0f99605e8f0c81_icgraph" id="d7/ded/a01009_abaf5313789b76e16cc0f99605e8f0c81_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a1f19b2ae693aa2f460a5d48f3faa2218" title="ripple::NetworkOPsImp\l::submitTransaction" alt="" coords="241,5,399,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a148e1e8d0c5128ee48e0206cdeb5e2a0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::processTrustedProposal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/de8/a00839.html#a0ec96481e000fcb8d977f684d600b86b">LedgerProposal::pointer</a>&#160;</td>
          <td class="paramname"><em>proposal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">boost::shared_ptr&lt; protocol::TMProposeSet &gt;&#160;</td>
          <td class="paramname"><em>set</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a>&#160;</td>
          <td class="paramname"><em>nodePublic</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d0/d4e/a01741.html">uint256</a>&#160;</td>
          <td class="paramname"><em>checkLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>sigGood</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#aea47bb76d1be8ca339392d24b50f1529">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01520">1520</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../dd/d87/a03235_source.html#l00096">ripple::Overlay::foreach()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01483">haveConsensusObject()</a>, <a class="el" href="../../dd/d07/a02132_source.html#l00245">beast::Journal::info</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00476">mConsensus</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00469">mMode</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00079">ripple::NetworkOPs::omFULL</a>, <a class="el" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee">ripple::Application::overlay()</a>, <a class="el" href="../../d5/de9/a03236_source.html#l00102">ripple::send_if_not()</a>, <a class="el" href="../../d0/d7b/a02968_source.html#l00027">SF_RELAYED</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02725">storeProposal()</a>, <a class="el" href="../../dd/d07/a02132_source.html#l00243">beast::Journal::trace</a>, and <a class="el" href="../../dd/d07/a02132_source.html#l00246">beast::Journal::warning</a>.</p>
<div class="fragment"><div class="line"><a name="l01522"></a><span class="lineno"> 1522</span>&#160;{</div>
<div class="line"><a name="l01523"></a><span class="lineno"> 1523</span>&#160;    {</div>
<div class="line"><a name="l01524"></a><span class="lineno"> 1524</span>&#160;        <a class="code" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> lock (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getMasterLock ());</div>
<div class="line"><a name="l01525"></a><span class="lineno"> 1525</span>&#160;</div>
<div class="line"><a name="l01526"></a><span class="lineno"> 1526</span>&#160;        <span class="keywordtype">bool</span> relay = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01527"></a><span class="lineno"> 1527</span>&#160;</div>
<div class="line"><a name="l01528"></a><span class="lineno"> 1528</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d7/ded/a01009.html#ac929d58ce61af6b87922103bf3da3039">haveConsensusObject</a> ())</div>
<div class="line"><a name="l01529"></a><span class="lineno"> 1529</span>&#160;        {</div>
<div class="line"><a name="l01530"></a><span class="lineno"> 1530</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;Received proposal outside consensus window&quot;</span>;</div>
<div class="line"><a name="l01531"></a><span class="lineno"> 1531</span>&#160;</div>
<div class="line"><a name="l01532"></a><span class="lineno"> 1532</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaafaf756912385746855189063c6bd422d">omFULL</a>)</div>
<div class="line"><a name="l01533"></a><span class="lineno"> 1533</span>&#160;                relay = <span class="keyword">false</span>;</div>
<div class="line"><a name="l01534"></a><span class="lineno"> 1534</span>&#160;        }</div>
<div class="line"><a name="l01535"></a><span class="lineno"> 1535</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01536"></a><span class="lineno"> 1536</span>&#160;        {</div>
<div class="line"><a name="l01537"></a><span class="lineno"> 1537</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a9f335c9702b1020e07700e26ae9237cf">storeProposal</a> (proposal, nodePublic);</div>
<div class="line"><a name="l01538"></a><span class="lineno"> 1538</span>&#160;</div>
<div class="line"><a name="l01539"></a><span class="lineno"> 1539</span>&#160;            uint256 consensusLCL = <a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a>-&gt;getLCL ();</div>
<div class="line"><a name="l01540"></a><span class="lineno"> 1540</span>&#160;</div>
<div class="line"><a name="l01541"></a><span class="lineno"> 1541</span>&#160;            <span class="keywordflow">if</span> (!set-&gt;has_previousledger () &amp;&amp; (checkLedger != consensusLCL))</div>
<div class="line"><a name="l01542"></a><span class="lineno"> 1542</span>&#160;            {</div>
<div class="line"><a name="l01543"></a><span class="lineno"> 1543</span>&#160;                <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a876412c0a487a7a8840b1556cc04cb57">warning</a> &lt;&lt; <span class="stringliteral">&quot;Have to re-check proposal signature due to consensus view change&quot;</span>;</div>
<div class="line"><a name="l01544"></a><span class="lineno"> 1544</span>&#160;                assert (proposal-&gt;hasSignature ());</div>
<div class="line"><a name="l01545"></a><span class="lineno"> 1545</span>&#160;                proposal-&gt;setPrevLedger (consensusLCL);</div>
<div class="line"><a name="l01546"></a><span class="lineno"> 1546</span>&#160;</div>
<div class="line"><a name="l01547"></a><span class="lineno"> 1547</span>&#160;                <span class="keywordflow">if</span> (proposal-&gt;checkSign ())</div>
<div class="line"><a name="l01548"></a><span class="lineno"> 1548</span>&#160;                    sigGood = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01549"></a><span class="lineno"> 1549</span>&#160;            }</div>
<div class="line"><a name="l01550"></a><span class="lineno"> 1550</span>&#160;</div>
<div class="line"><a name="l01551"></a><span class="lineno"> 1551</span>&#160;            <span class="keywordflow">if</span> (sigGood &amp;&amp; (consensusLCL == proposal-&gt;getPrevLedger ()))</div>
<div class="line"><a name="l01552"></a><span class="lineno"> 1552</span>&#160;            {</div>
<div class="line"><a name="l01553"></a><span class="lineno"> 1553</span>&#160;                relay = <a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a>-&gt;peerPosition (proposal);</div>
<div class="line"><a name="l01554"></a><span class="lineno"> 1554</span>&#160;                <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;Proposal processing finished, relay=&quot;</span> &lt;&lt; relay;</div>
<div class="line"><a name="l01555"></a><span class="lineno"> 1555</span>&#160;            }</div>
<div class="line"><a name="l01556"></a><span class="lineno"> 1556</span>&#160;        }</div>
<div class="line"><a name="l01557"></a><span class="lineno"> 1557</span>&#160;</div>
<div class="line"><a name="l01558"></a><span class="lineno"> 1558</span>&#160;        <span class="keywordflow">if</span> (relay)</div>
<div class="line"><a name="l01559"></a><span class="lineno"> 1559</span>&#160;        {</div>
<div class="line"><a name="l01560"></a><span class="lineno"> 1560</span>&#160;            std::set&lt;Peer::ShortId&gt; peers;</div>
<div class="line"><a name="l01561"></a><span class="lineno"> 1561</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getHashRouter ().swapSet (</div>
<div class="line"><a name="l01562"></a><span class="lineno"> 1562</span>&#160;                proposal-&gt;getSuppressionID (), peers, <a class="code" href="../../d0/d7b/a02968.html#af9be45afdb73db8b7ac79729af6a72da">SF_RELAYED</a>))</div>
<div class="line"><a name="l01563"></a><span class="lineno"> 1563</span>&#160;        {</div>
<div class="line"><a name="l01564"></a><span class="lineno"> 1564</span>&#160;                <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a> ().<a class="code" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee">overlay</a> ().<a class="code" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c">foreach</a> (<a class="code" href="../../d9/d9d/a03417.html#a58e3eee13d40eee082c61c7847587aa7">send_if_not</a> (</div>
<div class="line"><a name="l01565"></a><span class="lineno"> 1565</span>&#160;                    boost::make_shared&lt;Message&gt; (*set, protocol::mtPROPOSE_LEDGER),</div>
<div class="line"><a name="l01566"></a><span class="lineno"> 1566</span>&#160;                    peer_in_set(peers)));</div>
<div class="line"><a name="l01567"></a><span class="lineno"> 1567</span>&#160;        }</div>
<div class="line"><a name="l01568"></a><span class="lineno"> 1568</span>&#160;        }</div>
<div class="line"><a name="l01569"></a><span class="lineno"> 1569</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l01570"></a><span class="lineno"> 1570</span>&#160;        {</div>
<div class="line"><a name="l01571"></a><span class="lineno"> 1571</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;Not relaying trusted proposal&quot;</span>;</div>
<div class="line"><a name="l01572"></a><span class="lineno"> 1572</span>&#160;        }</div>
<div class="line"><a name="l01573"></a><span class="lineno"> 1573</span>&#160;    }</div>
<div class="line"><a name="l01574"></a><span class="lineno"> 1574</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a148e1e8d0c5128ee48e0206cdeb5e2a0_cgraph.png" border="0" usemap="#d7/ded/a01009_a148e1e8d0c5128ee48e0206cdeb5e2a0_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a148e1e8d0c5128ee48e0206cdeb5e2a0_cgraph" id="d7/ded/a01009_a148e1e8d0c5128ee48e0206cdeb5e2a0_cgraph">
<area shape="rect" id="node3" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c" title="ripple::Overlay::foreach" alt="" coords="1125,211,1283,240"/><area shape="rect" id="node7" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="1604,675,1705,704"/><area shape="rect" id="node11" href="../../d7/ded/a01009.html#ac929d58ce61af6b87922103bf3da3039" title="ripple::NetworkOPsImp\l::haveConsensusObject" alt="" coords="224,425,387,472"/><area shape="rect" id="node99" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee" title="ripple::Application\l::overlay" alt="" coords="1141,1492,1267,1538"/><area shape="rect" id="node121" href="../../d9/d9d/a03417.html#a58e3eee13d40eee082c61c7847587aa7" title="ripple::send_if_not" alt="" coords="241,1551,369,1580"/><area shape="rect" id="node123" href="../../d7/ded/a01009.html#a9f335c9702b1020e07700e26ae9237cf" title="ripple::NetworkOPsImp\l::storeProposal" alt="" coords="649,1573,807,1620"/><area shape="rect" id="node5" href="../../de/de6/a01063.html#a5b8ee783b77679fb2fad2543ab521a90" title="ripple::Overlay::getActive\lPeers" alt="" coords="1343,81,1511,128"/><area shape="rect" id="node9" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="1799,666,1975,713"/><area shape="rect" id="node13" href="../../d7/ded/a01009.html#a0a714120f440d54c69a4a39e803f9d1a" title="ripple::NetworkOPsImp\l::beginConsensus" alt="" coords="649,586,807,633"/><area shape="rect" id="node17" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8" title="ripple::LedgerMaster\l::getCurrentLedger" alt="" coords="895,485,1033,532"/><area shape="rect" id="node23" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40" title="ripple::NetworkOPsImp\l::setMode" alt="" coords="885,314,1043,361"/><area shape="rect" id="node46" href="../../d7/ded/a01009.html#ad72f54405ed9b8219022e8c2b7796c98" title="ripple::NetworkOPsImp\l::checkLastClosedLedger" alt="" coords="643,917,813,964"/><area shape="rect" id="node105" href="../../d1/de6/a00837.html#aa7961e4d96dba24b272e032d00b2e512" title="ripple::LedgerMaster\l::getMinValidations" alt="" coords="445,156,584,202"/><area shape="rect" id="node107" href="../../d7/ded/a01009.html#abdde224cfc7141d0eace3b9d2158b741" title="ripple::NetworkOPsImp\l::getPreviousProposers" alt="" coords="436,225,593,272"/><area shape="rect" id="node111" href="../../d7/ded/a01009.html#a6a3776d980baee062b961c0195bc43be" title="ripple::NetworkOPsImp\l::tryStartConsensus" alt="" coords="436,425,593,472"/><area shape="rect" id="node15" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="895,677,1033,724"/><area shape="rect" id="node19" href="../../d1/de6/a00837.html#a71a21a539d63be51cada4d3c4e4c4030" title="ripple::LedgerMaster\l::getLedgerByHash" alt="" coords="895,608,1033,654"/><area shape="rect" id="node21" href="../../d9/d9d/a03417.html#a3a7635ac808de39b7ba85e823182f93c" title="ripple::make_LedgerConsensus" alt="" coords="861,555,1067,584"/><area shape="rect" id="node26" href="../../d4/d87/a03436.html#a437c68f3299fa632d4a1694059fd6ddb" title="rocksdb::Log" alt="" coords="1156,488,1252,518"/><area shape="rect" id="node28" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f" title="ripple::NetworkOPsImp\l::strOperatingMode" alt="" coords="1348,314,1505,361"/><area shape="rect" id="node30" href="../../d7/ded/a01009.html#a768673e1643af3147b10b4d99aca8caf" title="ripple::NetworkOPsImp\l::pubServer" alt="" coords="1125,418,1283,465"/><area shape="rect" id="node34" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb" title="ripple::Application\l::getFeeTrack" alt="" coords="1364,384,1489,430"/><area shape="rect" id="node36" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0" title="ripple::LoadFeeTrack\l::getLoadBase" alt="" coords="1355,453,1499,500"/><area shape="rect" id="node38" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac" title="ripple::LoadFeeTrack\l::getLoadFactor" alt="" coords="1355,522,1499,569"/><area shape="rect" id="node40" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="1349,592,1504,622"/><area shape="rect" id="node42" href="../../d7/def/a00521.html#a2ef4a2ce13a341171f01f414f4fdd765" title="Json::FastWriter::writeValue" alt="" coords="1561,592,1748,622"/><area shape="rect" id="node44" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="1817,592,1956,622"/><area shape="rect" id="node48" href="../../d7/ded/a01009.html#a08d1779d5bb2a06bdbaeabdac2ba3ed8" title="ripple::NetworkOPsImp\l::clearNeedNetworkLedger" alt="" coords="1116,936,1292,982"/><area shape="rect" id="node50" href="../../d8/d86/a00703.html#aa8378c07e914d43964d816ee1ac8d1dd" title="ripple::InboundLedgers\l::dropLedger" alt="" coords="888,917,1040,964"/><area shape="rect" id="node52" href="../../d8/d86/a00703.html#a6f59efd378b35314541b4d5c76cd905a" title="ripple::InboundLedgers\l::findCreate" alt="" coords="888,986,1040,1033"/><area shape="rect" id="node56" href="../../d3/dac/a01777.html#abc7c7eb0126fa15e409f282c515dae85" title="ripple::Validations\l::getCurrentValidations" alt="" coords="887,1056,1041,1102"/><area shape="rect" id="node58" href="../../da/d74/a00099.html#a6d349a4ada03689eae062c0399762dad" title="ripple::Application\l::getInboundLedgers" alt="" coords="895,1125,1033,1172"/><area shape="rect" id="node61" href="../../da/d74/a00099.html#ac95c5f6db4db8575632193495189a702" title="ripple::Application\l::getLocalCredentials" alt="" coords="892,1194,1036,1241"/><area shape="rect" id="node63" href="../../d4/d0e/a01272.html#abead041d13890ad9c8938c28f27f8ccd" title="ripple::RippleAddress\l::getNodeID" alt="" coords="891,1573,1037,1620"/><area shape="rect" id="node67" href="../../dc/dfa/a00894.html#af67a14f58bffac4bd931722ecbd316d9" title="ripple::LocalCredentials\l::getNodePublic" alt="" coords="885,1264,1043,1310"/><area shape="rect" id="node69" href="../../da/d74/a00099.html#a4f3da0257883c463e0a561d7ba793dd4" title="ripple::Application\l::getValidations" alt="" coords="901,1333,1027,1380"/><area shape="rect" id="node71" href="../../d7/d9a/a00152.html#a3fa11a064a87fe4e970f00d661287dd2" title="ripple::base_uint::\lisNonZero" alt="" coords="901,746,1027,793"/><area shape="rect" id="node76" href="../../d7/ded/a01009.html#a03e21ff22be1d31dbe08f81deb590ece" title="ripple::NetworkOPsImp\l::switchLastClosedLedger" alt="" coords="877,1402,1051,1449"/><area shape="rect" id="node65" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="1148,1582,1260,1611"/><area shape="rect" id="node73" href="../../d7/d9a/a00152.html#a25e873c7d069c6c2d44655736f2b6c21" title="ripple::base_uint::\lisZero" alt="" coords="1141,746,1267,793"/><area shape="rect" id="node79" href="../../d1/de6/a00837.html#af249e0b1768882343f37df9720aeb25d" title="ripple::LedgerMaster\l::switchLedgers" alt="" coords="1135,1422,1273,1469"/><area shape="rect" id="node82" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef" title="ripple::NetworkOPsImp\l::getNetworkTimeNC" alt="" coords="1125,866,1283,913"/><area shape="rect" id="node93" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="1141,1353,1267,1400"/><area shape="rect" id="node97" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="1129,1300,1279,1330"/><area shape="rect" id="node84" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a" title="ripple::NetworkOPsImp\l::getNetworkTimePT" alt="" coords="1348,866,1505,913"/><area shape="rect" id="node89" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7" title="ripple::iToSeconds" alt="" coords="1361,1056,1492,1086"/><area shape="rect" id="node87" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678" title="ripple::Application\l::getSystemTimeOffset" alt="" coords="1576,866,1733,913"/><area shape="rect" id="node91" href="../../d9/d9d/a03417.html#a00572ed03b233ecd42f36357a395c163" title="ripple::ptEpoch" alt="" coords="1600,1056,1709,1086"/><area shape="rect" id="node95" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1352,1362,1501,1391"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a810aca64ae42518e2e6506fbc8ba4569"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::pubAccountTransaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a>&#160;</td>
          <td class="paramname"><em>lpCurrent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d6d/a00055.html">AcceptedLedgerTx</a> &amp;&#160;</td>
          <td class="paramname"><em>alTransaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>isAccepted</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02521">2521</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d2/d23/a03186_source.html#l00292">ripple::RippleAddress::getAccountID()</a>, <a class="el" href="../../d5/d2e/a02905_source.html#l00063">ripple::AcceptedLedgerTx::getAffected()</a>, <a class="el" href="../../d5/d2e/a02905_source.html#l00059">ripple::AcceptedLedgerTx::getMeta()</a>, <a class="el" href="../../d5/d2e/a02905_source.html#l00076">ripple::AcceptedLedgerTx::getResult()</a>, <a class="el" href="../../d5/d2e/a02905_source.html#l00055">ripple::AcceptedLedgerTx::getTxn()</a>, <a class="el" href="../../dd/d07/a02132_source.html#l00245">beast::Journal::info</a>, <a class="el" href="../../d5/d2e/a02905_source.html#l00085">ripple::AcceptedLedgerTx::isApplied()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00467">mLock</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00495">mSubAccount</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00496">mSubRTAccount</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02439">transJson()</a>, and <a class="el" href="../../d1/d9a/a02454_source.html#l00198">Json::FastWriter::write()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02349">pubProposedTransaction()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l02476">pubValidatedTransaction()</a>.</p>
<div class="fragment"><div class="line"><a name="l02522"></a><span class="lineno"> 2522</span>&#160;{</div>
<div class="line"><a name="l02523"></a><span class="lineno"> 2523</span>&#160;    boost::unordered_set&lt;InfoSub::pointer&gt;  notify;</div>
<div class="line"><a name="l02524"></a><span class="lineno"> 2524</span>&#160;    <span class="keywordtype">int</span>                             iProposed   = 0;</div>
<div class="line"><a name="l02525"></a><span class="lineno"> 2525</span>&#160;    <span class="keywordtype">int</span>                             iAccepted   = 0;</div>
<div class="line"><a name="l02526"></a><span class="lineno"> 2526</span>&#160;</div>
<div class="line"><a name="l02527"></a><span class="lineno"> 2527</span>&#160;    {</div>
<div class="line"><a name="l02528"></a><span class="lineno"> 2528</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a936ed96d8cb48a7a818e292345032bd3">ScopedLockType</a> sl (<a class="code" href="../../d7/ded/a01009.html#a28e64f295f2eca1f91a5a11239352071">mLock</a>);</div>
<div class="line"><a name="l02529"></a><span class="lineno"> 2529</span>&#160;</div>
<div class="line"><a name="l02530"></a><span class="lineno"> 2530</span>&#160;        <span class="keywordflow">if</span> (!bAccepted &amp;&amp; <a class="code" href="../../d7/ded/a01009.html#ad592cfabec0a6bd2674d4652887fe5dd">mSubRTAccount</a>.empty ()) <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02531"></a><span class="lineno"> 2531</span>&#160;</div>
<div class="line"><a name="l02532"></a><span class="lineno"> 2532</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d7/ded/a01009.html#a556fe55601cc1f11f8b60223bbe5039e">mSubAccount</a>.empty () || (!<a class="code" href="../../d7/ded/a01009.html#ad592cfabec0a6bd2674d4652887fe5dd">mSubRTAccount</a>.empty ()) )</div>
<div class="line"><a name="l02533"></a><span class="lineno"> 2533</span>&#160;        {</div>
<div class="line"><a name="l02534"></a><span class="lineno"> 2534</span>&#160;            BOOST_FOREACH (<span class="keyword">const</span> RippleAddress &amp; affectedAccount, alTx.getAffected ())</div>
<div class="line"><a name="l02535"></a><span class="lineno"> 2535</span>&#160;            {</div>
<div class="line"><a name="l02536"></a><span class="lineno"> 2536</span>&#160;                <a class="code" href="../../d7/ded/a01009.html#a25bafe689ef12ec8d504446d8429f5c5">SubInfoMapIterator</a>  simiIt  = <a class="code" href="../../d7/ded/a01009.html#ad592cfabec0a6bd2674d4652887fe5dd">mSubRTAccount</a>.find (affectedAccount.getAccountID ());</div>
<div class="line"><a name="l02537"></a><span class="lineno"> 2537</span>&#160;</div>
<div class="line"><a name="l02538"></a><span class="lineno"> 2538</span>&#160;                <span class="keywordflow">if</span> (simiIt != <a class="code" href="../../d7/ded/a01009.html#ad592cfabec0a6bd2674d4652887fe5dd">mSubRTAccount</a>.end ())</div>
<div class="line"><a name="l02539"></a><span class="lineno"> 2539</span>&#160;                {</div>
<div class="line"><a name="l02540"></a><span class="lineno"> 2540</span>&#160;                    NetworkOPsImp::SubMapType::const_iterator it = simiIt-&gt;second.begin ();</div>
<div class="line"><a name="l02541"></a><span class="lineno"> 2541</span>&#160;</div>
<div class="line"><a name="l02542"></a><span class="lineno"> 2542</span>&#160;                    <span class="keywordflow">while</span> (it != simiIt-&gt;second.end ())</div>
<div class="line"><a name="l02543"></a><span class="lineno"> 2543</span>&#160;                    {</div>
<div class="line"><a name="l02544"></a><span class="lineno"> 2544</span>&#160;                        <a class="code" href="../../d4/deb/a00710.html#a15ba6fd94d60310cdf80362345b5d07b">InfoSub::pointer</a> p = it-&gt;second.lock ();</div>
<div class="line"><a name="l02545"></a><span class="lineno"> 2545</span>&#160;</div>
<div class="line"><a name="l02546"></a><span class="lineno"> 2546</span>&#160;                        <span class="keywordflow">if</span> (p)</div>
<div class="line"><a name="l02547"></a><span class="lineno"> 2547</span>&#160;                        {</div>
<div class="line"><a name="l02548"></a><span class="lineno"> 2548</span>&#160;                            notify.insert (p);</div>
<div class="line"><a name="l02549"></a><span class="lineno"> 2549</span>&#160;                            ++it;</div>
<div class="line"><a name="l02550"></a><span class="lineno"> 2550</span>&#160;                            ++iProposed;</div>
<div class="line"><a name="l02551"></a><span class="lineno"> 2551</span>&#160;                        }</div>
<div class="line"><a name="l02552"></a><span class="lineno"> 2552</span>&#160;                        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02553"></a><span class="lineno"> 2553</span>&#160;                            it = simiIt-&gt;second.erase (it);</div>
<div class="line"><a name="l02554"></a><span class="lineno"> 2554</span>&#160;                    }</div>
<div class="line"><a name="l02555"></a><span class="lineno"> 2555</span>&#160;                }</div>
<div class="line"><a name="l02556"></a><span class="lineno"> 2556</span>&#160;</div>
<div class="line"><a name="l02557"></a><span class="lineno"> 2557</span>&#160;                <span class="keywordflow">if</span> (bAccepted)</div>
<div class="line"><a name="l02558"></a><span class="lineno"> 2558</span>&#160;                {</div>
<div class="line"><a name="l02559"></a><span class="lineno"> 2559</span>&#160;                    simiIt  = <a class="code" href="../../d7/ded/a01009.html#a556fe55601cc1f11f8b60223bbe5039e">mSubAccount</a>.find (affectedAccount.getAccountID ());</div>
<div class="line"><a name="l02560"></a><span class="lineno"> 2560</span>&#160;</div>
<div class="line"><a name="l02561"></a><span class="lineno"> 2561</span>&#160;                    <span class="keywordflow">if</span> (simiIt != <a class="code" href="../../d7/ded/a01009.html#a556fe55601cc1f11f8b60223bbe5039e">mSubAccount</a>.end ())</div>
<div class="line"><a name="l02562"></a><span class="lineno"> 2562</span>&#160;                    {</div>
<div class="line"><a name="l02563"></a><span class="lineno"> 2563</span>&#160;                        NetworkOPsImp::SubMapType::const_iterator it = simiIt-&gt;second.begin ();</div>
<div class="line"><a name="l02564"></a><span class="lineno"> 2564</span>&#160;</div>
<div class="line"><a name="l02565"></a><span class="lineno"> 2565</span>&#160;                        <span class="keywordflow">while</span> (it != simiIt-&gt;second.end ())</div>
<div class="line"><a name="l02566"></a><span class="lineno"> 2566</span>&#160;                        {</div>
<div class="line"><a name="l02567"></a><span class="lineno"> 2567</span>&#160;                            <a class="code" href="../../d4/deb/a00710.html#a15ba6fd94d60310cdf80362345b5d07b">InfoSub::pointer</a> p = it-&gt;second.lock ();</div>
<div class="line"><a name="l02568"></a><span class="lineno"> 2568</span>&#160;</div>
<div class="line"><a name="l02569"></a><span class="lineno"> 2569</span>&#160;                            <span class="keywordflow">if</span> (p)</div>
<div class="line"><a name="l02570"></a><span class="lineno"> 2570</span>&#160;                            {</div>
<div class="line"><a name="l02571"></a><span class="lineno"> 2571</span>&#160;                                notify.insert (p);</div>
<div class="line"><a name="l02572"></a><span class="lineno"> 2572</span>&#160;                                ++it;</div>
<div class="line"><a name="l02573"></a><span class="lineno"> 2573</span>&#160;                                ++iAccepted;</div>
<div class="line"><a name="l02574"></a><span class="lineno"> 2574</span>&#160;                            }</div>
<div class="line"><a name="l02575"></a><span class="lineno"> 2575</span>&#160;                            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02576"></a><span class="lineno"> 2576</span>&#160;                                it = simiIt-&gt;second.erase (it);</div>
<div class="line"><a name="l02577"></a><span class="lineno"> 2577</span>&#160;                        }</div>
<div class="line"><a name="l02578"></a><span class="lineno"> 2578</span>&#160;                    }</div>
<div class="line"><a name="l02579"></a><span class="lineno"> 2579</span>&#160;                }</div>
<div class="line"><a name="l02580"></a><span class="lineno"> 2580</span>&#160;            }</div>
<div class="line"><a name="l02581"></a><span class="lineno"> 2581</span>&#160;        }</div>
<div class="line"><a name="l02582"></a><span class="lineno"> 2582</span>&#160;    }</div>
<div class="line"><a name="l02583"></a><span class="lineno"> 2583</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;pubAccountTransaction:&quot;</span> &lt;&lt;</div>
<div class="line"><a name="l02584"></a><span class="lineno"> 2584</span>&#160;        <span class="stringliteral">&quot; iProposed=&quot;</span> &lt;&lt; iProposed &lt;&lt;</div>
<div class="line"><a name="l02585"></a><span class="lineno"> 2585</span>&#160;        <span class="stringliteral">&quot; iAccepted=&quot;</span> &lt;&lt; iAccepted;</div>
<div class="line"><a name="l02586"></a><span class="lineno"> 2586</span>&#160;</div>
<div class="line"><a name="l02587"></a><span class="lineno"> 2587</span>&#160;    <span class="keywordflow">if</span> (!notify.empty ())</div>
<div class="line"><a name="l02588"></a><span class="lineno"> 2588</span>&#160;    {</div>
<div class="line"><a name="l02589"></a><span class="lineno"> 2589</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvObj = <a class="code" href="../../d7/ded/a01009.html#acd0b0453a98534dad9cfd1a0fa6bf780">transJson</a> (</div>
<div class="line"><a name="l02590"></a><span class="lineno"> 2590</span>&#160;            *alTx.getTxn (), alTx.getResult (), bAccepted, lpCurrent);</div>
<div class="line"><a name="l02591"></a><span class="lineno"> 2591</span>&#160;</div>
<div class="line"><a name="l02592"></a><span class="lineno"> 2592</span>&#160;        <span class="keywordflow">if</span> (alTx.isApplied ())</div>
<div class="line"><a name="l02593"></a><span class="lineno"> 2593</span>&#160;            jvObj[<span class="stringliteral">&quot;meta&quot;</span>] = alTx.getMeta ()-&gt;getJson (0);</div>
<div class="line"><a name="l02594"></a><span class="lineno"> 2594</span>&#160;</div>
<div class="line"><a name="l02595"></a><span class="lineno"> 2595</span>&#160;        <a class="code" href="../../d7/def/a00521.html" title="Outputs a Value in JSON format without formatting (not human friendly). ">Json::FastWriter</a> w;</div>
<div class="line"><a name="l02596"></a><span class="lineno"> 2596</span>&#160;        std::string sObj = w.<a class="code" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19">write</a> (jvObj);</div>
<div class="line"><a name="l02597"></a><span class="lineno"> 2597</span>&#160;</div>
<div class="line"><a name="l02598"></a><span class="lineno"> 2598</span>&#160;        BOOST_FOREACH (<a class="code" href="../../d4/deb/a00710.html#af7ad8994c674d6ffe9be7039f7e9645b">InfoSub::ref</a> isrListener, notify)</div>
<div class="line"><a name="l02599"></a><span class="lineno"> 2599</span>&#160;        {</div>
<div class="line"><a name="l02600"></a><span class="lineno"> 2600</span>&#160;            isrListener-&gt;send (jvObj, sObj, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02601"></a><span class="lineno"> 2601</span>&#160;        }</div>
<div class="line"><a name="l02602"></a><span class="lineno"> 2602</span>&#160;    }</div>
<div class="line"><a name="l02603"></a><span class="lineno"> 2603</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a810aca64ae42518e2e6506fbc8ba4569_cgraph.png" border="0" usemap="#d7/ded/a01009_a810aca64ae42518e2e6506fbc8ba4569_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a810aca64ae42518e2e6506fbc8ba4569_cgraph" id="d7/ded/a01009_a810aca64ae42518e2e6506fbc8ba4569_cgraph">
<area shape="rect" id="node3" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="233,5,380,51"/><area shape="rect" id="node7" href="../../d4/d6d/a00055.html#a176e18898535dfd604dd8bcdc8ec000b" title="ripple::AcceptedLedgerTx\l::getAffected" alt="" coords="221,74,392,121"/><area shape="rect" id="node9" href="../../d4/d6d/a00055.html#ac4b5d3e918d381281f327479609d447e" title="ripple::AcceptedLedgerTx\l::getMeta" alt="" coords="221,143,392,190"/><area shape="rect" id="node11" href="../../d4/d6d/a00055.html#a5e58100e4cac66bb74083e78ede768c2" title="ripple::AcceptedLedgerTx\l::getResult" alt="" coords="221,213,392,259"/><area shape="rect" id="node13" href="../../d4/d6d/a00055.html#a0ba4c031051023c4e3dc98c88c215425" title="ripple::AcceptedLedgerTx\l::getTxn" alt="" coords="221,282,392,329"/><area shape="rect" id="node15" href="../../d4/d6d/a00055.html#a88e77a08b87615782f17f350eba06925" title="ripple::AcceptedLedgerTx\l::isApplied" alt="" coords="221,351,392,398"/><area shape="rect" id="node17" href="../../d7/ded/a01009.html#acd0b0453a98534dad9cfd1a0fa6bf780" title="ripple::NetworkOPsImp\l::transJson" alt="" coords="228,421,385,467"/><area shape="rect" id="node61" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="229,632,384,661"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="479,13,591,43"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a8ebf8214ccd67d515e6dd26b832854a9" title="ripple::transResultInfo" alt="" coords="460,368,609,397"/><area shape="rect" id="node21" href="../../d9/de4/a01346.html#a436d1b0b2d422540cd39c117f5f6816d" title="ripple::SerializedTransaction\l::getJson" alt="" coords="441,421,628,467"/><area shape="rect" id="node23" href="../../de/d1a/a01559.html#a20e386b11943fda5fe9c67542e8f0e50" title="ripple::STObject::getJson" alt="" coords="696,233,867,263"/><area shape="rect" id="node37" href="../../d9/de4/a01346.html#a501700305bfe6b71f1b8de263bdde43e" title="ripple::SerializedTransaction\l::getTransactionID" alt="" coords="688,386,875,433"/><area shape="rect" id="node49" href="../../d7/d9a/a00152.html#a348c4019943a8b3a05f39f1efcb589c9" title="ripple::base_uint::\lGetHex" alt="" coords="719,455,844,502"/><area shape="rect" id="node25" href="../../d7/d57/a01348.html#a420d71c47a773cf368ab6d8e99152871" title="ripple::SerializedType\l::getSType" alt="" coords="964,63,1111,110"/><area shape="rect" id="node27" href="../../d7/d57/a01348.html#a79472b7634153a0478119634c9e82d7e" title="ripple::SerializedType\l::getFName" alt="" coords="964,133,1111,179"/><area shape="rect" id="node29" href="../../d7/d81/a01365.html#afcf28e489ecd5c0453e86e4d134afa45" title="ripple::SField::hasName" alt="" coords="956,203,1119,232"/><area shape="rect" id="node31" href="../../d7/d57/a01348.html#af1869902e1ff733f983ee59b686894eb" title="ripple::SerializedType\l::getJson" alt="" coords="964,255,1111,302"/><area shape="rect" id="node35" href="../../d7/d57/a01348.html#a933443458635aa9598529a530326af66" title="ripple::SerializedType\l::getName" alt="" coords="964,325,1111,371"/><area shape="rect" id="node33" href="../../d7/d57/a01348.html#a7d77514b5e009bccd4de10303851a022" title="ripple::SerializedType\l::getText" alt="" coords="1200,255,1347,302"/><area shape="rect" id="node39" href="../../de/d1a/a01559.html#a7a9cbb8d5e1266c782de1bb94998289e" title="ripple::STObject::getHash" alt="" coords="951,395,1124,424"/><area shape="rect" id="node41" href="../../da/d61/a01350.html#a4f09dcca07217744f793fa7473e845fe" title="ripple::Serializer\l::add32" alt="" coords="1216,325,1331,371"/><area shape="rect" id="node43" href="../../de/d1a/a01559.html#a85c374b955de23e00242029cb0bd4f74" title="ripple::STObject::add" alt="" coords="1201,395,1345,424"/><area shape="rect" id="node45" href="../../da/d61/a01350.html#afc7187fd3c9e185d29a0ecf5500d0cdf" title="ripple::Serializer\l::getSHA512Half" alt="" coords="1213,447,1333,494"/><area shape="rect" id="node47" href="../../da/d61/a01350.html#ac7bf5cce451c952933b2750d902d848c" title="ripple::Serializer\l::size" alt="" coords="1405,447,1520,494"/><area shape="rect" id="node51" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="975,451,1100,498"/><area shape="rect" id="node55" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="963,521,1112,551"/><area shape="rect" id="node57" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073" title="ripple::strHex" alt="" coords="988,575,1087,604"/><area shape="rect" id="node53" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1199,517,1348,547"/><area shape="rect" id="node59" href="../../d9/d9d/a03417.html#aca6318bcfeb25f74477566a7ddc06a63" title="ripple::charHex" alt="" coords="1219,575,1328,604"/><area shape="rect" id="node63" href="../../d7/def/a00521.html#a2ef4a2ce13a341171f01f414f4fdd765" title="Json::FastWriter::writeValue" alt="" coords="441,739,628,768"/><area shape="rect" id="node65" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="712,525,851,555"/><area shape="rect" id="node67" href="../../d6/d27/a01781.html#a5b7da48b163bcec63b1424f1608b7da6" title="Json::Value::asCString" alt="" coords="703,579,860,608"/><area shape="rect" id="node69" href="../../d6/d27/a01781.html#a33434ed1c0217a34d04c95fa5342fd37" title="Json::Value::asDouble" alt="" coords="704,632,859,661"/><area shape="rect" id="node71" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="717,685,845,715"/><area shape="rect" id="node73" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="712,739,851,768"/><area shape="rect" id="node75" href="../../d6/d27/a01781.html#a30fa08af88f2d0a038b22ba9f4e88b2a" title="Return a list of the member names. " alt="" coords="679,792,884,821"/><area shape="rect" id="node77" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="720,845,843,875"/><area shape="rect" id="node79" href="../../d6/d27/a01781.html#a695ef31fad36b4712918b3ff80158479" title="Json::Value::type" alt="" coords="720,899,843,928"/><area shape="rect" id="node81" href="../../d2/dd6/a03414.html#aa0c8235a4a5c6599da5d3332743db8ac" title="Json::valueToQuotedString" alt="" coords="692,952,871,981"/><area shape="rect" id="node88" href="../../d2/dd6/a03414.html#a5d3eba6789f9a9c1ab563ff8b4a5090f" title="Json::valueToString" alt="" coords="712,1005,851,1035"/><area shape="rect" id="node83" href="../../d2/dd6/a03414.html#aa11b210ff98a4f4dd4e2df19260f8c3a" title="Json::containsControlCharacter" alt="" coords="935,900,1140,929"/><area shape="rect" id="node85" href="../../d2/dd6/a03414.html#a0381e631737f51331065a388f4f59197" title="Json::isControlCharacter" alt="" coords="1191,927,1356,956"/><area shape="rect" id="node90" href="../../d2/dd6/a03414.html#a0c9ecf21515ffa8092201ad908609dc7" title="Json::uintToString" alt="" coords="973,1005,1101,1035"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a810aca64ae42518e2e6506fbc8ba4569_icgraph.png" border="0" usemap="#d7/ded/a01009_a810aca64ae42518e2e6506fbc8ba4569_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a810aca64ae42518e2e6506fbc8ba4569_icgraph" id="d7/ded/a01009_a810aca64ae42518e2e6506fbc8ba4569_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#ac395f76cb28cb933beab05c4d10d91e9" title="ripple::NetworkOPsImp\l::pubProposedTransaction" alt="" coords="223,5,396,51"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a99f74527e0ad0e6550d3ba503644722e" title="ripple::NetworkOPsImp\l::pubValidatedTransaction" alt="" coords="223,74,396,121"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#a78a85046176bd8a4c348f02a501b14bf" title="ripple::NetworkOPsImp\l::pubLedger" alt="" coords="447,74,604,121"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a595104a945d82f7d5fd3ba7f1b5eeeb2"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::NetworkOPsImp::pubBootstrapAccountInfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a>&#160;</td>
          <td class="paramname"><em>lpAccepted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>naAccountID</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02335">2335</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l01129">getOwnerInfo()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00317">ripple::RippleAddress::humanAccountID()</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, and <a class="el" href="../../d2/dd9/a02314_source.html#l00050">ripple::utFromSeconds()</a>.</p>
<div class="fragment"><div class="line"><a name="l02336"></a><span class="lineno"> 2336</span>&#160;{</div>
<div class="line"><a name="l02337"></a><span class="lineno"> 2337</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a>         jvObj (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l02338"></a><span class="lineno"> 2338</span>&#160;</div>
<div class="line"><a name="l02339"></a><span class="lineno"> 2339</span>&#160;    jvObj[<span class="stringliteral">&quot;type&quot;</span>]           = <span class="stringliteral">&quot;accountInfoBootstrap&quot;</span>;</div>
<div class="line"><a name="l02340"></a><span class="lineno"> 2340</span>&#160;    jvObj[<span class="stringliteral">&quot;account&quot;</span>]        = naAccountID.humanAccountID ();</div>
<div class="line"><a name="l02341"></a><span class="lineno"> 2341</span>&#160;    jvObj[<span class="stringliteral">&quot;owner&quot;</span>]          = <a class="code" href="../../d7/ded/a01009.html#ac57548110e534b71418d3eb1cf2a2994">getOwnerInfo</a> (lpAccepted, naAccountID);</div>
<div class="line"><a name="l02342"></a><span class="lineno"> 2342</span>&#160;    jvObj[<span class="stringliteral">&quot;ledger_index&quot;</span>]   = lpAccepted-&gt;getLedgerSeq ();</div>
<div class="line"><a name="l02343"></a><span class="lineno"> 2343</span>&#160;    jvObj[<span class="stringliteral">&quot;ledger_hash&quot;</span>]    = lpAccepted-&gt;getHash ().ToString ();</div>
<div class="line"><a name="l02344"></a><span class="lineno"> 2344</span>&#160;    jvObj[<span class="stringliteral">&quot;ledger_time&quot;</span>]    = <a class="code" href="../../d6/d27/a01781.html#a0933d59b45793ae4aade1757c322a98d">Json::Value::UInt</a> (<a class="code" href="../../d9/d9d/a03417.html#a605ad19d0dcc9a287269b881b32795d2">utFromSeconds</a> (lpAccepted-&gt;getCloseTimeNC ()));</div>
<div class="line"><a name="l02345"></a><span class="lineno"> 2345</span>&#160;</div>
<div class="line"><a name="l02346"></a><span class="lineno"> 2346</span>&#160;    <span class="keywordflow">return</span> jvObj;</div>
<div class="line"><a name="l02347"></a><span class="lineno"> 2347</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a595104a945d82f7d5fd3ba7f1b5eeeb2_cgraph.png" border="0" usemap="#d7/ded/a01009_a595104a945d82f7d5fd3ba7f1b5eeeb2_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a595104a945d82f7d5fd3ba7f1b5eeeb2_cgraph" id="d7/ded/a01009_a595104a945d82f7d5fd3ba7f1b5eeeb2_cgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#ac57548110e534b71418d3eb1cf2a2994" title="ripple::NetworkOPsImp\l::getOwnerInfo" alt="" coords="233,383,391,430"/><area shape="rect" id="node36" href="../../d4/d0e/a01272.html#a2a8201537b6969c0e186c9b1d889c52b" title="ripple::RippleAddress\l::humanAccountID" alt="" coords="239,235,385,282"/><area shape="rect" id="node82" href="../../d9/d9d/a03417.html#a605ad19d0dcc9a287269b881b32795d2" title="ripple::utFromSeconds" alt="" coords="236,453,388,483"/><area shape="rect" id="node5" href="../../d6/d27/a01781.html#a7e49ac977e4bcf59745a09d426669f75" title="Append value to array at the end. " alt="" coords="448,417,589,447"/><area shape="rect" id="node9" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="445,297,592,343"/><area shape="rect" id="node13" href="../../dd/d5f/a00825.html#a0d50fe89b5f50adf3cea06fdb94a03b5" title="ripple::Ledger::getDirNode\lIndex" alt="" coords="937,357,1111,403"/><area shape="rect" id="node32" href="../../d6/d27/a01781.html#a196defba501d70ea2b6793afb04108e3" title="Return true if the object has a member named key. " alt="" coords="441,540,596,569"/><area shape="rect" id="node34" href="../../db/d51/a01603.html#ac1d1c102b952d362e77c419487110ec2" title="ripple::STVector256\l::peekValue" alt="" coords="451,470,587,517"/><area shape="rect" id="node7" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="689,417,812,447"/><area shape="rect" id="node11" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="695,308,807,337"/><area shape="rect" id="node15" href="../../da/d61/a01350.html#a10b908daaabf22ae052bfc7fd221157c" title="ripple::Serializer\l::add16" alt="" coords="1227,266,1341,313"/><area shape="rect" id="node17" href="../../da/d61/a01350.html#a0a59bc79c929b9b01c3fd88ca54195f1" title="ripple::Serializer\l::add256" alt="" coords="1227,405,1341,451"/><area shape="rect" id="node26" href="../../da/d61/a01350.html#a253e724ffc3143dfd70bde767af71a7e" title="ripple::Serializer\l::add64" alt="" coords="1227,335,1341,382"/><area shape="rect" id="node28" href="../../da/d61/a01350.html#afc7187fd3c9e185d29a0ecf5500d0cdf" title="ripple::Serializer\l::getSHA512Half" alt="" coords="1224,474,1344,521"/><area shape="rect" id="node19" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="1444,331,1569,378"/><area shape="rect" id="node23" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="1433,279,1580,308"/><area shape="rect" id="node21" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1645,309,1795,339"/><area shape="rect" id="node30" href="../../da/d61/a01350.html#ac7bf5cce451c952933b2750d902d848c" title="ripple::Serializer\l::size" alt="" coords="1449,474,1564,521"/><area shape="rect" id="node38" href="../../d4/d87/a03436.html#a6f17c6df7ce20ec52aecef2475cd4158" title="rocksdb::if" alt="" coords="477,244,560,273"/><area shape="rect" id="node44" href="../../d9/d39/a00257.html#a18a7bfe8bbf61262472b03f1dfe5c887" title="ripple::CBase58Data\l::ToString" alt="" coords="448,173,589,219"/><area shape="rect" id="node63" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="677,85,824,131"/><area shape="rect" id="node40" href="../../da/d71/a00814.html#ab25c6d03dbcd6168b3ae3762dc98fd51" title="rocksdb::LDBCommandExecute\lResult::FAILED" alt="" coords="645,238,856,285"/><area shape="rect" id="node42" href="../../da/d71/a00814.html#ae4210d600639c8c6ac04486ebc43c39b" title="rocksdb::LDBCommandExecute\lResult::LDBCommandExecuteResult" alt="" coords="904,253,1144,299"/><area shape="rect" id="node46" href="../../d9/d7d/a00150.html#a085fa82e1453fd6e5460a0cd960b5816" title="ripple::Base58::encodeWith\lCheck" alt="" coords="660,169,841,215"/><area shape="rect" id="node48" href="../../d9/d7d/a00150.html#ac6c6ad62e7ed916bfe1c652721d3fe26" title="ripple::Base58::encode" alt="" coords="947,200,1101,229"/><area shape="rect" id="node61" href="../../d9/d7d/a00150.html#a24f49360e730224f1d16edb1b504e32a" title="ripple::Base58::getCurrent\lAlphabet" alt="" coords="937,130,1111,177"/><area shape="rect" id="node50" href="../../d0/d87/a03399.html#addb402f22cc191c3dc7f4325bb6f684e" title="beast.util.Iter.first" alt="" coords="1223,213,1345,243"/><area shape="rect" id="node52" href="../../d9/d7d/a00150.html#a03b8b4e8a39fe06fe7e3a74f76cdf664" title="ripple::Base58::fourbyte\l_hash256" alt="" coords="1204,143,1364,190"/><area shape="rect" id="node57" href="../../d9/d7d/a00150.html#a126fe41b1f663aeb5826c2f44a2d9528" title="ripple::Base58::raw\l_encode" alt="" coords="1217,5,1351,51"/><area shape="rect" id="node55" href="../../d9/d9d/a03417.html#a4be54b895ff42f63b835266848abf9af" title="ripple::SHA256Hash" alt="" coords="1436,144,1577,173"/><area shape="rect" id="node59" href="../../d7/d2f/a00258.html#af54502b0cc273266a8cc841100386645" title="ripple::CBigNum::getuint" alt="" coords="1424,13,1589,43"/><area shape="rect" id="node65" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="953,61,1095,107"/><area shape="rect" id="node67" href="../../d9/d7d/a00150.html#a85c405829839e85edb721241fd8d4203" title="ripple::Base58::decodeWith\lCheck" alt="" coords="1193,74,1375,121"/><area shape="rect" id="node69" href="../../d9/d7d/a00150.html#a0c2d621faceac43aeb30f4797f03b12c" title="ripple::Base58::decode" alt="" coords="1429,83,1584,112"/><area shape="rect" id="node71" href="../../d9/dec/a00090.html#ac2a3456ebd59fd80270f618c64544ac9" title="ripple::Base58::Alphabet\l::chars" alt="" coords="1639,135,1801,182"/><area shape="rect" id="node73" href="../../d7/d2f/a00258.html#a84e73d21fd76767976513f5bf1276215" title="ripple::CBigNum::getvch" alt="" coords="1637,29,1803,59"/><area shape="rect" id="node75" href="../../d7/d2f/a00258.html#a01d5357e9691e5d7743172afbc3cc85c" title="ripple::CBigNum::setuint" alt="" coords="1637,83,1803,112"/><area shape="rect" id="node77" href="../../d7/d2f/a00258.html#a80a1fa42fd2d87bedd0b3bf5180ed4ba" title="ripple::CBigNum::setulong" alt="" coords="1852,83,2025,112"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a78a85046176bd8a4c348f02a501b14bf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::pubLedger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a>&#160;</td>
          <td class="paramname"><em>lpAccepted</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a024e36c725c9ebef73c42d943ffacc43">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02375">2375</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d1/de6/a00837.html#a5d4563a377393b7350c8a6faa42a7076">ripple::LedgerMaster::getCompleteLedgers()</a>, <a class="el" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104">ripple::Application::getLedgerMaster()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../d5/d1c/a02902_source.html#l00040">ripple::AcceptedLedger::makeAcceptedLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00467">mLock</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00469">mMode</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00500">mSubLedger</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00077">ripple::NetworkOPs::omSYNCING</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02476">pubValidatedTransaction()</a>, and <a class="el" href="../../dd/d07/a02132_source.html#l00243">beast::Journal::trace</a>.</p>
<div class="fragment"><div class="line"><a name="l02376"></a><span class="lineno"> 2376</span>&#160;{</div>
<div class="line"><a name="l02377"></a><span class="lineno"> 2377</span>&#160;    <span class="comment">// Ledgers are published only when they acquire sufficient validations</span></div>
<div class="line"><a name="l02378"></a><span class="lineno"> 2378</span>&#160;    <span class="comment">// Holes are filled across connection loss or other catastrophe</span></div>
<div class="line"><a name="l02379"></a><span class="lineno"> 2379</span>&#160;</div>
<div class="line"><a name="l02380"></a><span class="lineno"> 2380</span>&#160;    <a class="code" href="../../d1/dea/a00054.html#a6719ead3714ca83b1d275eb080fc556a">AcceptedLedger::pointer</a> alpAccepted = <a class="code" href="../../d1/dea/a00054.html#ac1494fddd9f88e6c4945be8cc9b77027">AcceptedLedger::makeAcceptedLedger</a> (accepted);</div>
<div class="line"><a name="l02381"></a><span class="lineno"> 2381</span>&#160;    <a class="code" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a> lpAccepted = alpAccepted-&gt;getLedger ();</div>
<div class="line"><a name="l02382"></a><span class="lineno"> 2382</span>&#160;</div>
<div class="line"><a name="l02383"></a><span class="lineno"> 2383</span>&#160;    {</div>
<div class="line"><a name="l02384"></a><span class="lineno"> 2384</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a936ed96d8cb48a7a818e292345032bd3">ScopedLockType</a> sl (<a class="code" href="../../d7/ded/a01009.html#a28e64f295f2eca1f91a5a11239352071">mLock</a>);</div>
<div class="line"><a name="l02385"></a><span class="lineno"> 2385</span>&#160;</div>
<div class="line"><a name="l02386"></a><span class="lineno"> 2386</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d7/ded/a01009.html#a27e373e93311db99455cd6a8da160943">mSubLedger</a>.empty ())</div>
<div class="line"><a name="l02387"></a><span class="lineno"> 2387</span>&#160;        {</div>
<div class="line"><a name="l02388"></a><span class="lineno"> 2388</span>&#160;            <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvObj (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l02389"></a><span class="lineno"> 2389</span>&#160;</div>
<div class="line"><a name="l02390"></a><span class="lineno"> 2390</span>&#160;            jvObj[<span class="stringliteral">&quot;type&quot;</span>]           = <span class="stringliteral">&quot;ledgerClosed&quot;</span>;</div>
<div class="line"><a name="l02391"></a><span class="lineno"> 2391</span>&#160;            jvObj[<span class="stringliteral">&quot;ledger_index&quot;</span>]   = lpAccepted-&gt;getLedgerSeq ();</div>
<div class="line"><a name="l02392"></a><span class="lineno"> 2392</span>&#160;            jvObj[<span class="stringliteral">&quot;ledger_hash&quot;</span>]    = lpAccepted-&gt;getHash ().ToString ();</div>
<div class="line"><a name="l02393"></a><span class="lineno"> 2393</span>&#160;            jvObj[<span class="stringliteral">&quot;ledger_time&quot;</span>]    = <a class="code" href="../../d6/d27/a01781.html#a0933d59b45793ae4aade1757c322a98d">Json::Value::UInt</a> (lpAccepted-&gt;getCloseTimeNC ());</div>
<div class="line"><a name="l02394"></a><span class="lineno"> 2394</span>&#160;</div>
<div class="line"><a name="l02395"></a><span class="lineno"> 2395</span>&#160;            jvObj[<span class="stringliteral">&quot;fee_ref&quot;</span>]        = <a class="code" href="../../d2/dd6/a03414.html#a800fb90eb6ee8d5d62b600c06f87f7d4">Json::UInt</a> (lpAccepted-&gt;getReferenceFeeUnits ());</div>
<div class="line"><a name="l02396"></a><span class="lineno"> 2396</span>&#160;            jvObj[<span class="stringliteral">&quot;fee_base&quot;</span>]       = <a class="code" href="../../d2/dd6/a03414.html#a800fb90eb6ee8d5d62b600c06f87f7d4">Json::UInt</a> (lpAccepted-&gt;getBaseFee ());</div>
<div class="line"><a name="l02397"></a><span class="lineno"> 2397</span>&#160;            jvObj[<span class="stringliteral">&quot;reserve_base&quot;</span>]   = <a class="code" href="../../d2/dd6/a03414.html#a800fb90eb6ee8d5d62b600c06f87f7d4">Json::UInt</a> (lpAccepted-&gt;getReserve (0));</div>
<div class="line"><a name="l02398"></a><span class="lineno"> 2398</span>&#160;            jvObj[<span class="stringliteral">&quot;reserve_inc&quot;</span>]    = <a class="code" href="../../d2/dd6/a03414.html#a800fb90eb6ee8d5d62b600c06f87f7d4">Json::UInt</a> (lpAccepted-&gt;getReserveInc ());</div>
<div class="line"><a name="l02399"></a><span class="lineno"> 2399</span>&#160;</div>
<div class="line"><a name="l02400"></a><span class="lineno"> 2400</span>&#160;            jvObj[<span class="stringliteral">&quot;txn_count&quot;</span>]      = <a class="code" href="../../d2/dd6/a03414.html#a800fb90eb6ee8d5d62b600c06f87f7d4">Json::UInt</a> (alpAccepted-&gt;getTxnCount ());</div>
<div class="line"><a name="l02401"></a><span class="lineno"> 2401</span>&#160;</div>
<div class="line"><a name="l02402"></a><span class="lineno"> 2402</span>&#160;            <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> &gt;= <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaacef3f23406b4e678986eb3be3a7ccfd9">omSYNCING</a>)</div>
<div class="line"><a name="l02403"></a><span class="lineno"> 2403</span>&#160;                jvObj[<span class="stringliteral">&quot;validated_ledgers&quot;</span>]  = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104">getLedgerMaster</a> ().<a class="code" href="../../d1/de6/a00837.html#a5d4563a377393b7350c8a6faa42a7076">getCompleteLedgers</a> ();</div>
<div class="line"><a name="l02404"></a><span class="lineno"> 2404</span>&#160;</div>
<div class="line"><a name="l02405"></a><span class="lineno"> 2405</span>&#160;            NetworkOPsImp::SubMapType::const_iterator it = <a class="code" href="../../d7/ded/a01009.html#a27e373e93311db99455cd6a8da160943">mSubLedger</a>.begin ();</div>
<div class="line"><a name="l02406"></a><span class="lineno"> 2406</span>&#160;</div>
<div class="line"><a name="l02407"></a><span class="lineno"> 2407</span>&#160;            <span class="keywordflow">while</span> (it != <a class="code" href="../../d7/ded/a01009.html#a27e373e93311db99455cd6a8da160943">mSubLedger</a>.end ())</div>
<div class="line"><a name="l02408"></a><span class="lineno"> 2408</span>&#160;            {</div>
<div class="line"><a name="l02409"></a><span class="lineno"> 2409</span>&#160;                <a class="code" href="../../d4/deb/a00710.html#a15ba6fd94d60310cdf80362345b5d07b">InfoSub::pointer</a> p = it-&gt;second.lock ();</div>
<div class="line"><a name="l02410"></a><span class="lineno"> 2410</span>&#160;</div>
<div class="line"><a name="l02411"></a><span class="lineno"> 2411</span>&#160;                <span class="keywordflow">if</span> (p)</div>
<div class="line"><a name="l02412"></a><span class="lineno"> 2412</span>&#160;                {</div>
<div class="line"><a name="l02413"></a><span class="lineno"> 2413</span>&#160;                    p-&gt;send (jvObj, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02414"></a><span class="lineno"> 2414</span>&#160;                    ++it;</div>
<div class="line"><a name="l02415"></a><span class="lineno"> 2415</span>&#160;                }</div>
<div class="line"><a name="l02416"></a><span class="lineno"> 2416</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l02417"></a><span class="lineno"> 2417</span>&#160;                    it = <a class="code" href="../../d7/ded/a01009.html#a27e373e93311db99455cd6a8da160943">mSubLedger</a>.erase (it);</div>
<div class="line"><a name="l02418"></a><span class="lineno"> 2418</span>&#160;            }</div>
<div class="line"><a name="l02419"></a><span class="lineno"> 2419</span>&#160;        }</div>
<div class="line"><a name="l02420"></a><span class="lineno"> 2420</span>&#160;    }</div>
<div class="line"><a name="l02421"></a><span class="lineno"> 2421</span>&#160;</div>
<div class="line"><a name="l02422"></a><span class="lineno"> 2422</span>&#160;    <span class="comment">// Don&#39;t lock since pubAcceptedTransaction is locking.</span></div>
<div class="line"><a name="l02423"></a><span class="lineno"> 2423</span>&#160;    BOOST_FOREACH (<span class="keyword">const</span> <a class="code" href="../../d1/dea/a00054.html#a6728b7d8aa64bd3a678e7c016e1b9f6d">AcceptedLedger::value_type</a> &amp; vt, alpAccepted-&gt;getMap ())</div>
<div class="line"><a name="l02424"></a><span class="lineno"> 2424</span>&#160;    {</div>
<div class="line"><a name="l02425"></a><span class="lineno"> 2425</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;pubAccepted: &quot;</span> &lt;&lt; vt.second-&gt;getJson ();</div>
<div class="line"><a name="l02426"></a><span class="lineno"> 2426</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a99f74527e0ad0e6550d3ba503644722e">pubValidatedTransaction</a> (lpAccepted, *vt.second);</div>
<div class="line"><a name="l02427"></a><span class="lineno"> 2427</span>&#160;    }</div>
<div class="line"><a name="l02428"></a><span class="lineno"> 2428</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a78a85046176bd8a4c348f02a501b14bf_cgraph.png" border="0" usemap="#d7/ded/a01009_a78a85046176bd8a4c348f02a501b14bf_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a78a85046176bd8a4c348f02a501b14bf_cgraph" id="d7/ded/a01009_a78a85046176bd8a4c348f02a501b14bf_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="468,280,569,309"/><area shape="rect" id="node7" href="../../d1/de6/a00837.html#a5d4563a377393b7350c8a6faa42a7076" title="ripple::LedgerMaster\l::getCompleteLedgers" alt="" coords="225,358,375,405"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="237,427,363,474"/><area shape="rect" id="node11" href="../../d1/dea/a00054.html#ac1494fddd9f88e6c4945be8cc9b77027" title="ripple::AcceptedLedger\l::makeAcceptedLedger" alt="" coords="223,497,377,543"/><area shape="rect" id="node13" href="../../d7/ded/a01009.html#a99f74527e0ad0e6550d3ba503644722e" title="ripple::NetworkOPsImp\l::pubValidatedTransaction" alt="" coords="213,573,387,619"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="664,5,840,51"/><area shape="rect" id="node15" href="../../d7/ded/a01009.html#acd0b0453a98534dad9cfd1a0fa6bf780" title="ripple::NetworkOPsImp\l::transJson" alt="" coords="673,725,831,771"/><area shape="rect" id="node35" href="../../d4/d6d/a00055.html#a0ba4c031051023c4e3dc98c88c215425" title="ripple::AcceptedLedgerTx\l::getTxn" alt="" coords="667,1002,837,1049"/><area shape="rect" id="node37" href="../../d4/d6d/a00055.html#a5e58100e4cac66bb74083e78ede768c2" title="ripple::AcceptedLedgerTx\l::getResult" alt="" coords="667,533,837,579"/><area shape="rect" id="node39" href="../../d4/d6d/a00055.html#ac4b5d3e918d381281f327479609d447e" title="ripple::AcceptedLedgerTx\l::getMeta" alt="" coords="667,602,837,649"/><area shape="rect" id="node41" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="675,672,829,701"/><area shape="rect" id="node66" href="../../da/d74/a00099.html#ac885cb8bec6f3b9b8bdd5f2a44d07fed" title="ripple::Application\l::getOrderBookDB" alt="" coords="455,333,583,379"/><area shape="rect" id="node68" href="../../d5/d4c/a01058.html#a40b4eec87d70e45d34408616f9f757b0" title="ripple::OrderBookDB\l::processTxn" alt="" coords="448,402,589,449"/><area shape="rect" id="node101" href="../../d7/ded/a01009.html#a810aca64ae42518e2e6506fbc8ba4569" title="ripple::NetworkOPsImp\l::pubAccountTransaction" alt="" coords="436,745,601,791"/><area shape="rect" id="node17" href="../../d9/d9d/a03417.html#a8ebf8214ccd67d515e6dd26b832854a9" title="ripple::transResultInfo" alt="" coords="921,915,1071,944"/><area shape="rect" id="node19" href="../../d9/de4/a01346.html#a436d1b0b2d422540cd39c117f5f6816d" title="ripple::SerializedTransaction\l::getJson" alt="" coords="903,845,1089,891"/><area shape="rect" id="node21" href="../../de/d1a/a01559.html#a20e386b11943fda5fe9c67542e8f0e50" title="ripple::STObject::getJson" alt="" coords="1157,1088,1328,1117"/><area shape="rect" id="node31" href="../../d9/de4/a01346.html#a501700305bfe6b71f1b8de263bdde43e" title="ripple::SerializedTransaction\l::getTransactionID" alt="" coords="1149,949,1336,995"/><area shape="rect" id="node33" href="../../d7/d9a/a00152.html#a348c4019943a8b3a05f39f1efcb589c9" title="ripple::base_uint::\lGetHex" alt="" coords="1180,1018,1305,1065"/><area shape="rect" id="node23" href="../../d7/d57/a01348.html#a420d71c47a773cf368ab6d8e99152871" title="ripple::SerializedType\l::getSType" alt="" coords="1403,355,1549,402"/><area shape="rect" id="node25" href="../../d7/d57/a01348.html#a79472b7634153a0478119634c9e82d7e" title="ripple::SerializedType\l::getFName" alt="" coords="1403,175,1549,222"/><area shape="rect" id="node27" href="../../d7/d81/a01365.html#afcf28e489ecd5c0453e86e4d134afa45" title="ripple::SField::hasName" alt="" coords="1395,1057,1557,1087"/><area shape="rect" id="node29" href="../../d7/d57/a01348.html#af1869902e1ff733f983ee59b686894eb" title="ripple::SerializedType\l::getJson" alt="" coords="1403,1110,1549,1157"/><area shape="rect" id="node43" href="../../d7/def/a00521.html#a2ef4a2ce13a341171f01f414f4fdd765" title="Json::FastWriter::writeValue" alt="" coords="903,672,1089,701"/><area shape="rect" id="node45" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="1173,469,1312,499"/><area shape="rect" id="node47" href="../../d6/d27/a01781.html#a5b7da48b163bcec63b1424f1608b7da6" title="Json::Value::asCString" alt="" coords="1164,523,1321,552"/><area shape="rect" id="node49" href="../../d6/d27/a01781.html#a33434ed1c0217a34d04c95fa5342fd37" title="Json::Value::asDouble" alt="" coords="1165,576,1320,605"/><area shape="rect" id="node51" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="1179,629,1307,659"/><area shape="rect" id="node53" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="1173,683,1312,712"/><area shape="rect" id="node55" href="../../d6/d27/a01781.html#a30fa08af88f2d0a038b22ba9f4e88b2a" title="Return a list of the member names. " alt="" coords="1140,736,1345,765"/><area shape="rect" id="node57" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="1181,789,1304,819"/><area shape="rect" id="node59" href="../../d6/d27/a01781.html#a695ef31fad36b4712918b3ff80158479" title="Json::Value::type" alt="" coords="1181,843,1304,872"/><area shape="rect" id="node61" href="../../d2/dd6/a03414.html#aa0c8235a4a5c6599da5d3332743db8ac" title="Json::valueToQuotedString" alt="" coords="1153,896,1332,925"/><area shape="rect" id="node63" href="../../d2/dd6/a03414.html#a5d3eba6789f9a9c1ab563ff8b4a5090f" title="Json::valueToString" alt="" coords="1173,416,1312,445"/><area shape="rect" id="node70" href="../../d5/d83/a03337.html#afc5f5e8520bf9ec3abd1f92d066ef7b9" title="beast::field" alt="" coords="1433,99,1519,128"/><area shape="rect" id="node72" href="../../d5/d4c/a01058.html#a5da922c340725b98fab8742e2f081dd7" title="ripple::OrderBookDB\l::getBookListeners" alt="" coords="681,341,823,387"/><area shape="rect" id="node74" href="../../d2/d41/a01493.html#a61429db7fed5872fca90d726f3088325" title="ripple::STAmount::getCurrency" alt="" coords="651,411,853,440"/><area shape="rect" id="node76" href="../../de/d1a/a01559.html#aad5f49acb4c7b95cabee5d8463d4ce4a" title="ripple::STObject::getField\lAmount" alt="" coords="667,463,837,510"/><area shape="rect" id="node80" href="../../de/d1a/a01559.html#ac6e32d6706dd0c235ba5567ec1c0405f" title="ripple::STObject::peekAt\lPField" alt="" coords="913,295,1079,342"/><area shape="rect" id="node89" href="../../de/d1a/a01559.html#a8eaf9a7b368fcad544a490e076069a8c" title="ripple::STObject::getFieldU16" alt="" coords="655,237,849,267"/><area shape="rect" id="node96" href="../../d2/d41/a01493.html#ac88b3e8c68c4fbda4e493471be3f074c" title="ripple::STAmount::getIssuer" alt="" coords="660,184,844,213"/><area shape="rect" id="node78" href="../../de/d1a/a01559.html#abf07301811d8a5c52be9e4ef7842a538" title="ripple::STObject::empty" alt="" coords="916,472,1076,501"/><area shape="rect" id="node82" href="../../de/d1a/a01559.html#a7bbf16c433cd8e40fe2fa462ecbd44f9" title="ripple::STObject::getField\lIndex" alt="" coords="1157,175,1328,222"/><area shape="rect" id="node86" href="../../de/d1a/a01559.html#a023cc002539faf5fab6eecc8f12e1b1d" title="ripple::STObject::peekAt\lPIndex" alt="" coords="1160,295,1325,342"/><area shape="rect" id="node93" href="../../d3/da5/a01598.html#aab6f08bd0b02c8d4079eb2e660739cfa" title="ripple::STUInt16::getValue" alt="" coords="908,192,1084,221"/><area shape="rect" id="node103" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="679,863,825,910"/><area shape="rect" id="node107" href="../../d4/d6d/a00055.html#a176e18898535dfd604dd8bcdc8ec000b" title="ripple::AcceptedLedgerTx\l::getAffected" alt="" coords="667,933,837,979"/><area shape="rect" id="node112" href="../../d4/d6d/a00055.html#a88e77a08b87615782f17f350eba06925" title="ripple::AcceptedLedgerTx\l::isApplied" alt="" coords="667,794,837,841"/><area shape="rect" id="node105" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="940,968,1052,997"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac395f76cb28cb933beab05c4d10d91e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::pubProposedTransaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a>&#160;</td>
          <td class="paramname"><em>lpCurrent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/de4/a01346.html#a24c9aa93fed382b9abfa1ed699ff26d6">SerializedTransaction::ref</a>&#160;</td>
          <td class="paramname"><em>stTxn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0">TER</a>&#160;</td>
          <td class="paramname"><em>terResult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a20b572e7a03f30747f90a44b90e5739b">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02349">2349</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d5/d2e/a02905_source.html#l00094">ripple::AcceptedLedgerTx::getJson()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00467">mLock</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00503">mSubRTTransactions</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02521">pubAccountTransaction()</a>, <a class="el" href="../../dd/d07/a02132_source.html#l00243">beast::Journal::trace</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l02439">transJson()</a>.</p>
<div class="fragment"><div class="line"><a name="l02350"></a><span class="lineno"> 2350</span>&#160;{</div>
<div class="line"><a name="l02351"></a><span class="lineno"> 2351</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvObj   = <a class="code" href="../../d7/ded/a01009.html#acd0b0453a98534dad9cfd1a0fa6bf780">transJson</a> (*stTxn, terResult, <span class="keyword">false</span>, lpCurrent);</div>
<div class="line"><a name="l02352"></a><span class="lineno"> 2352</span>&#160;</div>
<div class="line"><a name="l02353"></a><span class="lineno"> 2353</span>&#160;    {</div>
<div class="line"><a name="l02354"></a><span class="lineno"> 2354</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a936ed96d8cb48a7a818e292345032bd3">ScopedLockType</a> sl (<a class="code" href="../../d7/ded/a01009.html#a28e64f295f2eca1f91a5a11239352071">mLock</a>);</div>
<div class="line"><a name="l02355"></a><span class="lineno"> 2355</span>&#160;        NetworkOPsImp::SubMapType::const_iterator it = <a class="code" href="../../d7/ded/a01009.html#ada363c60dd7cec7aa003b9e45d582a2f">mSubRTTransactions</a>.begin ();</div>
<div class="line"><a name="l02356"></a><span class="lineno"> 2356</span>&#160;</div>
<div class="line"><a name="l02357"></a><span class="lineno"> 2357</span>&#160;        <span class="keywordflow">while</span> (it != <a class="code" href="../../d7/ded/a01009.html#ada363c60dd7cec7aa003b9e45d582a2f">mSubRTTransactions</a>.end ())</div>
<div class="line"><a name="l02358"></a><span class="lineno"> 2358</span>&#160;        {</div>
<div class="line"><a name="l02359"></a><span class="lineno"> 2359</span>&#160;            <a class="code" href="../../d4/deb/a00710.html#a15ba6fd94d60310cdf80362345b5d07b">InfoSub::pointer</a> p = it-&gt;second.lock ();</div>
<div class="line"><a name="l02360"></a><span class="lineno"> 2360</span>&#160;</div>
<div class="line"><a name="l02361"></a><span class="lineno"> 2361</span>&#160;            <span class="keywordflow">if</span> (p)</div>
<div class="line"><a name="l02362"></a><span class="lineno"> 2362</span>&#160;            {</div>
<div class="line"><a name="l02363"></a><span class="lineno"> 2363</span>&#160;                p-&gt;send (jvObj, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02364"></a><span class="lineno"> 2364</span>&#160;                ++it;</div>
<div class="line"><a name="l02365"></a><span class="lineno"> 2365</span>&#160;            }</div>
<div class="line"><a name="l02366"></a><span class="lineno"> 2366</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02367"></a><span class="lineno"> 2367</span>&#160;                it = <a class="code" href="../../d7/ded/a01009.html#ada363c60dd7cec7aa003b9e45d582a2f">mSubRTTransactions</a>.erase (it);</div>
<div class="line"><a name="l02368"></a><span class="lineno"> 2368</span>&#160;        }</div>
<div class="line"><a name="l02369"></a><span class="lineno"> 2369</span>&#160;    }</div>
<div class="line"><a name="l02370"></a><span class="lineno"> 2370</span>&#160;    AcceptedLedgerTx alt (stTxn, terResult);</div>
<div class="line"><a name="l02371"></a><span class="lineno"> 2371</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;pubProposed: &quot;</span> &lt;&lt; alt.getJson ();</div>
<div class="line"><a name="l02372"></a><span class="lineno"> 2372</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a810aca64ae42518e2e6506fbc8ba4569">pubAccountTransaction</a> (lpCurrent, alt, <span class="keyword">false</span>);</div>
<div class="line"><a name="l02373"></a><span class="lineno"> 2373</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_ac395f76cb28cb933beab05c4d10d91e9_cgraph.png" border="0" usemap="#d7/ded/a01009_ac395f76cb28cb933beab05c4d10d91e9_cgraph" alt=""/></div>
<map name="d7/ded/a01009_ac395f76cb28cb933beab05c4d10d91e9_cgraph" id="d7/ded/a01009_ac395f76cb28cb933beab05c4d10d91e9_cgraph">
<area shape="rect" id="node3" href="../../d4/d6d/a00055.html#a68f4b5d9b858b90ccbafad80c25e68d2" title="ripple::AcceptedLedgerTx\l::getJson" alt="" coords="229,454,400,501"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a810aca64ae42518e2e6506fbc8ba4569" title="ripple::NetworkOPsImp\l::pubAccountTransaction" alt="" coords="232,523,397,570"/><area shape="rect" id="node21" href="../../d7/ded/a01009.html#acd0b0453a98534dad9cfd1a0fa6bf780" title="ripple::NetworkOPsImp\l::transJson" alt="" coords="455,731,612,778"/><area shape="rect" id="node7" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="460,315,607,362"/><area shape="rect" id="node11" href="../../d4/d6d/a00055.html#a176e18898535dfd604dd8bcdc8ec000b" title="ripple::AcceptedLedgerTx\l::getAffected" alt="" coords="448,385,619,431"/><area shape="rect" id="node13" href="../../d4/d6d/a00055.html#ac4b5d3e918d381281f327479609d447e" title="ripple::AcceptedLedgerTx\l::getMeta" alt="" coords="448,454,619,501"/><area shape="rect" id="node15" href="../../d4/d6d/a00055.html#a5e58100e4cac66bb74083e78ede768c2" title="ripple::AcceptedLedgerTx\l::getResult" alt="" coords="448,523,619,570"/><area shape="rect" id="node17" href="../../d4/d6d/a00055.html#a0ba4c031051023c4e3dc98c88c215425" title="ripple::AcceptedLedgerTx\l::getTxn" alt="" coords="448,593,619,639"/><area shape="rect" id="node19" href="../../d4/d6d/a00055.html#a88e77a08b87615782f17f350eba06925" title="ripple::AcceptedLedgerTx\l::isApplied" alt="" coords="448,662,619,709"/><area shape="rect" id="node65" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="456,263,611,292"/><area shape="rect" id="node9" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="705,324,817,353"/><area shape="rect" id="node23" href="../../d9/d9d/a03417.html#a8ebf8214ccd67d515e6dd26b832854a9" title="ripple::transResultInfo" alt="" coords="687,771,836,800"/><area shape="rect" id="node25" href="../../d9/de4/a01346.html#a436d1b0b2d422540cd39c117f5f6816d" title="ripple::SerializedTransaction\l::getJson" alt="" coords="668,701,855,747"/><area shape="rect" id="node27" href="../../de/d1a/a01559.html#a20e386b11943fda5fe9c67542e8f0e50" title="ripple::STObject::getJson" alt="" coords="923,559,1093,588"/><area shape="rect" id="node41" href="../../d9/de4/a01346.html#a501700305bfe6b71f1b8de263bdde43e" title="ripple::SerializedTransaction\l::getTransactionID" alt="" coords="915,701,1101,747"/><area shape="rect" id="node53" href="../../d7/d9a/a00152.html#a348c4019943a8b3a05f39f1efcb589c9" title="ripple::base_uint::\lGetHex" alt="" coords="945,797,1071,843"/><area shape="rect" id="node29" href="../../d7/d57/a01348.html#a420d71c47a773cf368ab6d8e99152871" title="ripple::SerializedType\l::getSType" alt="" coords="1191,639,1337,686"/><area shape="rect" id="node31" href="../../d7/d57/a01348.html#a79472b7634153a0478119634c9e82d7e" title="ripple::SerializedType\l::getFName" alt="" coords="1191,378,1337,425"/><area shape="rect" id="node33" href="../../d7/d81/a01365.html#afcf28e489ecd5c0453e86e4d134afa45" title="ripple::SField::hasName" alt="" coords="1183,448,1345,477"/><area shape="rect" id="node35" href="../../d7/d57/a01348.html#af1869902e1ff733f983ee59b686894eb" title="ripple::SerializedType\l::getJson" alt="" coords="1191,501,1337,547"/><area shape="rect" id="node39" href="../../d7/d57/a01348.html#a933443458635aa9598529a530326af66" title="ripple::SerializedType\l::getName" alt="" coords="1191,570,1337,617"/><area shape="rect" id="node37" href="../../d7/d57/a01348.html#a7d77514b5e009bccd4de10303851a022" title="ripple::SerializedType\l::getText" alt="" coords="1427,501,1573,547"/><area shape="rect" id="node43" href="../../de/d1a/a01559.html#a7a9cbb8d5e1266c782de1bb94998289e" title="ripple::STObject::getHash" alt="" coords="1177,709,1351,739"/><area shape="rect" id="node45" href="../../da/d61/a01350.html#a4f09dcca07217744f793fa7473e845fe" title="ripple::Serializer\l::add32" alt="" coords="1443,609,1557,655"/><area shape="rect" id="node47" href="../../de/d1a/a01559.html#a85c374b955de23e00242029cb0bd4f74" title="ripple::STObject::add" alt="" coords="1428,679,1572,708"/><area shape="rect" id="node49" href="../../da/d61/a01350.html#afc7187fd3c9e185d29a0ecf5500d0cdf" title="ripple::Serializer\l::getSHA512Half" alt="" coords="1440,731,1560,778"/><area shape="rect" id="node51" href="../../da/d61/a01350.html#ac7bf5cce451c952933b2750d902d848c" title="ripple::Serializer\l::size" alt="" coords="1632,731,1747,778"/><area shape="rect" id="node55" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="1201,762,1327,809"/><area shape="rect" id="node59" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="1189,832,1339,861"/><area shape="rect" id="node61" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073" title="ripple::strHex" alt="" coords="1215,885,1313,915"/><area shape="rect" id="node57" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1425,801,1575,831"/><area shape="rect" id="node63" href="../../d9/d9d/a03417.html#aca6318bcfeb25f74477566a7ddc06a63" title="ripple::charHex" alt="" coords="1445,885,1555,915"/><area shape="rect" id="node67" href="../../d7/def/a00521.html#a2ef4a2ce13a341171f01f414f4fdd765" title="Json::FastWriter::writeValue" alt="" coords="668,263,855,292"/><area shape="rect" id="node69" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="939,165,1077,195"/><area shape="rect" id="node71" href="../../d6/d27/a01781.html#a5b7da48b163bcec63b1424f1608b7da6" title="Json::Value::asCString" alt="" coords="929,219,1087,248"/><area shape="rect" id="node73" href="../../d6/d27/a01781.html#a33434ed1c0217a34d04c95fa5342fd37" title="Json::Value::asDouble" alt="" coords="931,272,1085,301"/><area shape="rect" id="node75" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="944,325,1072,355"/><area shape="rect" id="node77" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="939,379,1077,408"/><area shape="rect" id="node79" href="../../d6/d27/a01781.html#a30fa08af88f2d0a038b22ba9f4e88b2a" title="Return a list of the member names. " alt="" coords="905,432,1111,461"/><area shape="rect" id="node81" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="947,485,1069,515"/><area shape="rect" id="node83" href="../../d6/d27/a01781.html#a695ef31fad36b4712918b3ff80158479" title="Json::Value::type" alt="" coords="947,5,1069,35"/><area shape="rect" id="node85" href="../../d2/dd6/a03414.html#aa0c8235a4a5c6599da5d3332743db8ac" title="Json::valueToQuotedString" alt="" coords="919,59,1097,88"/><area shape="rect" id="node92" href="../../d2/dd6/a03414.html#a5d3eba6789f9a9c1ab563ff8b4a5090f" title="Json::valueToString" alt="" coords="939,112,1077,141"/><area shape="rect" id="node87" href="../../d2/dd6/a03414.html#aa11b210ff98a4f4dd4e2df19260f8c3a" title="Json::containsControlCharacter" alt="" coords="1161,8,1367,37"/><area shape="rect" id="node89" href="../../d2/dd6/a03414.html#a0381e631737f51331065a388f4f59197" title="Json::isControlCharacter" alt="" coords="1417,35,1583,64"/><area shape="rect" id="node94" href="../../d2/dd6/a03414.html#a0c9ecf21515ffa8092201ad908609dc7" title="Json::uintToString" alt="" coords="1200,112,1328,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a768673e1643af3147b10b4d99aca8caf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::pubServer </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01675">1675</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb">ripple::Application::getFeeTrack()</a>, <a class="el" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0">ripple::LoadFeeTrack::getLoadBase()</a>, <a class="el" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac">ripple::LoadFeeTrack::getLoadFactor()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00508">mLastLoadBase</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00509">mLastLoadFactor</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00467">mLock</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00501">mSubServer</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00638">strOperatingMode()</a>, and <a class="el" href="../../d1/d9a/a02454_source.html#l00198">Json::FastWriter::write()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02430">reportFeeChange()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01717">setMode()</a>.</p>
<div class="fragment"><div class="line"><a name="l01676"></a><span class="lineno"> 1676</span>&#160;{</div>
<div class="line"><a name="l01677"></a><span class="lineno"> 1677</span>&#160;    <span class="comment">// VFALCO TODO Don&#39;t hold the lock across calls to send...make a copy of the</span></div>
<div class="line"><a name="l01678"></a><span class="lineno"> 1678</span>&#160;    <span class="comment">//             list into a local array while holding the lock then release the</span></div>
<div class="line"><a name="l01679"></a><span class="lineno"> 1679</span>&#160;    <span class="comment">//             lock and call send on everyone.</span></div>
<div class="line"><a name="l01680"></a><span class="lineno"> 1680</span>&#160;    <span class="comment">//</span></div>
<div class="line"><a name="l01681"></a><span class="lineno"> 1681</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a936ed96d8cb48a7a818e292345032bd3">ScopedLockType</a> sl (<a class="code" href="../../d7/ded/a01009.html#a28e64f295f2eca1f91a5a11239352071">mLock</a>);</div>
<div class="line"><a name="l01682"></a><span class="lineno"> 1682</span>&#160;</div>
<div class="line"><a name="l01683"></a><span class="lineno"> 1683</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d7/ded/a01009.html#a2b73d96e9174171dcb29db4155314f3f">mSubServer</a>.empty ())</div>
<div class="line"><a name="l01684"></a><span class="lineno"> 1684</span>&#160;    {</div>
<div class="line"><a name="l01685"></a><span class="lineno"> 1685</span>&#160;        <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvObj (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l01686"></a><span class="lineno"> 1686</span>&#160;</div>
<div class="line"><a name="l01687"></a><span class="lineno"> 1687</span>&#160;        jvObj [<span class="stringliteral">&quot;type&quot;</span>]          = <span class="stringliteral">&quot;serverStatus&quot;</span>;</div>
<div class="line"><a name="l01688"></a><span class="lineno"> 1688</span>&#160;        jvObj [<span class="stringliteral">&quot;server_status&quot;</span>] = <a class="code" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f">strOperatingMode</a> ();</div>
<div class="line"><a name="l01689"></a><span class="lineno"> 1689</span>&#160;        jvObj [<span class="stringliteral">&quot;load_base&quot;</span>]     = (<a class="code" href="../../d7/ded/a01009.html#a11e5f635db454f56725e6f902e4c1ca8">mLastLoadBase</a> = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb">getFeeTrack</a> ().<a class="code" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0">getLoadBase</a> ());</div>
<div class="line"><a name="l01690"></a><span class="lineno"> 1690</span>&#160;        jvObj [<span class="stringliteral">&quot;load_factor&quot;</span>]   = (<a class="code" href="../../d7/ded/a01009.html#a106784c971d5ac80e561380723e3ce80">mLastLoadFactor</a> = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb">getFeeTrack</a> ().<a class="code" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac">getLoadFactor</a> ());</div>
<div class="line"><a name="l01691"></a><span class="lineno"> 1691</span>&#160;</div>
<div class="line"><a name="l01692"></a><span class="lineno"> 1692</span>&#160;        <a class="code" href="../../d7/def/a00521.html" title="Outputs a Value in JSON format without formatting (not human friendly). ">Json::FastWriter</a> w;</div>
<div class="line"><a name="l01693"></a><span class="lineno"> 1693</span>&#160;        std::string sObj = w.<a class="code" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19">write</a> (jvObj);</div>
<div class="line"><a name="l01694"></a><span class="lineno"> 1694</span>&#160;</div>
<div class="line"><a name="l01695"></a><span class="lineno"> 1695</span>&#160;        NetworkOPsImp::SubMapType::const_iterator it = <a class="code" href="../../d7/ded/a01009.html#a2b73d96e9174171dcb29db4155314f3f">mSubServer</a>.begin ();</div>
<div class="line"><a name="l01696"></a><span class="lineno"> 1696</span>&#160;</div>
<div class="line"><a name="l01697"></a><span class="lineno"> 1697</span>&#160;        <span class="keywordflow">while</span> (it != <a class="code" href="../../d7/ded/a01009.html#a2b73d96e9174171dcb29db4155314f3f">mSubServer</a>.end ())</div>
<div class="line"><a name="l01698"></a><span class="lineno"> 1698</span>&#160;        {</div>
<div class="line"><a name="l01699"></a><span class="lineno"> 1699</span>&#160;            <a class="code" href="../../d4/deb/a00710.html#a15ba6fd94d60310cdf80362345b5d07b">InfoSub::pointer</a> p = it-&gt;second.lock ();</div>
<div class="line"><a name="l01700"></a><span class="lineno"> 1700</span>&#160;</div>
<div class="line"><a name="l01701"></a><span class="lineno"> 1701</span>&#160;            <span class="comment">// VFALCO TODO research the possibility of using thread queues and linearizing</span></div>
<div class="line"><a name="l01702"></a><span class="lineno"> 1702</span>&#160;            <span class="comment">//             the deletion of subscribers with the sending of JSON data.</span></div>
<div class="line"><a name="l01703"></a><span class="lineno"> 1703</span>&#160;            <span class="keywordflow">if</span> (p)</div>
<div class="line"><a name="l01704"></a><span class="lineno"> 1704</span>&#160;            {</div>
<div class="line"><a name="l01705"></a><span class="lineno"> 1705</span>&#160;                p-&gt;send (jvObj, sObj, <span class="keyword">true</span>);</div>
<div class="line"><a name="l01706"></a><span class="lineno"> 1706</span>&#160;</div>
<div class="line"><a name="l01707"></a><span class="lineno"> 1707</span>&#160;                ++it;</div>
<div class="line"><a name="l01708"></a><span class="lineno"> 1708</span>&#160;            }</div>
<div class="line"><a name="l01709"></a><span class="lineno"> 1709</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l01710"></a><span class="lineno"> 1710</span>&#160;            {</div>
<div class="line"><a name="l01711"></a><span class="lineno"> 1711</span>&#160;                it = <a class="code" href="../../d7/ded/a01009.html#a2b73d96e9174171dcb29db4155314f3f">mSubServer</a>.erase (it);</div>
<div class="line"><a name="l01712"></a><span class="lineno"> 1712</span>&#160;            }</div>
<div class="line"><a name="l01713"></a><span class="lineno"> 1713</span>&#160;        }</div>
<div class="line"><a name="l01714"></a><span class="lineno"> 1714</span>&#160;    }</div>
<div class="line"><a name="l01715"></a><span class="lineno"> 1715</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a768673e1643af3147b10b4d99aca8caf_cgraph.png" border="0" usemap="#d7/ded/a01009_a768673e1643af3147b10b4d99aca8caf_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a768673e1643af3147b10b4d99aca8caf_cgraph" id="d7/ded/a01009_a768673e1643af3147b10b4d99aca8caf_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="243,13,344,43"/><area shape="rect" id="node7" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb" title="ripple::Application\l::getFeeTrack" alt="" coords="231,66,356,113"/><area shape="rect" id="node9" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0" title="ripple::LoadFeeTrack\l::getLoadBase" alt="" coords="221,135,365,182"/><area shape="rect" id="node11" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac" title="ripple::LoadFeeTrack\l::getLoadFactor" alt="" coords="221,205,365,251"/><area shape="rect" id="node13" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f" title="ripple::NetworkOPsImp\l::strOperatingMode" alt="" coords="215,274,372,321"/><area shape="rect" id="node15" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="216,344,371,373"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="428,5,604,51"/><area shape="rect" id="node17" href="../../d7/def/a00521.html#a2ef4a2ce13a341171f01f414f4fdd765" title="Json::FastWriter::writeValue" alt="" coords="423,344,609,373"/><area shape="rect" id="node19" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="693,104,832,133"/><area shape="rect" id="node21" href="../../d6/d27/a01781.html#a5b7da48b163bcec63b1424f1608b7da6" title="Json::Value::asCString" alt="" coords="684,157,841,187"/><area shape="rect" id="node23" href="../../d6/d27/a01781.html#a33434ed1c0217a34d04c95fa5342fd37" title="Json::Value::asDouble" alt="" coords="685,211,840,240"/><area shape="rect" id="node25" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="699,264,827,293"/><area shape="rect" id="node27" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="693,317,832,347"/><area shape="rect" id="node29" href="../../d6/d27/a01781.html#a30fa08af88f2d0a038b22ba9f4e88b2a" title="Return a list of the member names. " alt="" coords="660,371,865,400"/><area shape="rect" id="node31" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="701,424,824,453"/><area shape="rect" id="node33" href="../../d6/d27/a01781.html#a695ef31fad36b4712918b3ff80158479" title="Json::Value::type" alt="" coords="701,477,824,507"/><area shape="rect" id="node35" href="../../d2/dd6/a03414.html#aa0c8235a4a5c6599da5d3332743db8ac" title="Json::valueToQuotedString" alt="" coords="673,531,852,560"/><area shape="rect" id="node42" href="../../d2/dd6/a03414.html#a5d3eba6789f9a9c1ab563ff8b4a5090f" title="Json::valueToString" alt="" coords="693,584,832,613"/><area shape="rect" id="node37" href="../../d2/dd6/a03414.html#aa11b210ff98a4f4dd4e2df19260f8c3a" title="Json::containsControlCharacter" alt="" coords="916,480,1121,509"/><area shape="rect" id="node39" href="../../d2/dd6/a03414.html#a0381e631737f51331065a388f4f59197" title="Json::isControlCharacter" alt="" coords="1172,507,1337,536"/><area shape="rect" id="node44" href="../../d2/dd6/a03414.html#a0c9ecf21515ffa8092201ad908609dc7" title="Json::uintToString" alt="" coords="955,584,1083,613"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a768673e1643af3147b10b4d99aca8caf_icgraph.png" border="0" usemap="#d7/ded/a01009_a768673e1643af3147b10b4d99aca8caf_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a768673e1643af3147b10b4d99aca8caf_icgraph" id="d7/ded/a01009_a768673e1643af3147b10b4d99aca8caf_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a72a7f13b9a1836688253dbc468378f47" title="ripple::NetworkOPsImp\l::reportFeeChange" alt="" coords="215,146,372,193"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40" title="ripple::NetworkOPsImp\l::setMode" alt="" coords="215,215,372,262"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#a31de822fcc36dc8f7f288d6702786746" title="ripple::NetworkOPsImp\l::setStandAlone" alt="" coords="428,5,585,51"/><area shape="rect" id="node9" href="../../d7/ded/a01009.html#adb95084185570756c8a39ba0e32fb3ed" title="ripple::NetworkOPsImp\l::processHeartbeatTimer" alt="" coords="849,89,1015,135"/><area shape="rect" id="node13" href="../../d7/ded/a01009.html#a5fce17a1dc4061675f0eff7c7d3f6f55" title="ripple::NetworkOPsImp\l::setFeatureBlocked" alt="" coords="428,125,585,171"/><area shape="rect" id="node15" href="../../d7/ded/a01009.html#a6a3776d980baee062b961c0195bc43be" title="ripple::NetworkOPsImp\l::tryStartConsensus" alt="" coords="641,185,799,231"/><area shape="rect" id="node18" href="../../d7/ded/a01009.html#ac929d58ce61af6b87922103bf3da3039" title="ripple::NetworkOPsImp\l::haveConsensusObject" alt="" coords="851,273,1013,319"/><area shape="rect" id="node28" href="../../d7/ded/a01009.html#ad72f54405ed9b8219022e8c2b7796c98" title="ripple::NetworkOPsImp\l::checkLastClosedLedger" alt="" coords="421,245,592,291"/><area shape="rect" id="node32" href="../../d7/ded/a01009.html#a0a714120f440d54c69a4a39e803f9d1a" title="ripple::NetworkOPsImp\l::beginConsensus" alt="" coords="428,314,585,361"/><area shape="rect" id="node39" href="../../d7/ded/a01009.html#a6f084e481032cbda8f923ff3dcc3e0b5" title="ripple::NetworkOPsImp\l::consensusViewChange" alt="" coords="424,475,589,522"/><area shape="rect" id="node11" href="../../d7/ded/a01009.html#ab8272588ee692e125af4d7841af32618" title="ripple::NetworkOPsImp\l::onDeadlineTimer" alt="" coords="1071,89,1228,135"/><area shape="rect" id="node20" href="../../d7/ded/a01009.html#a27090d36556b8665cbd908efa99e2a05" title="ripple::NetworkOPsImp\l::getConsensusLCL" alt="" coords="1071,377,1228,423"/><area shape="rect" id="node22" href="../../d7/ded/a01009.html#a7fc7ee8501f9d95df97583cabf3b4771" title="ripple::NetworkOPsImp\l::getTXMap" alt="" coords="1071,169,1228,215"/><area shape="rect" id="node24" href="../../d7/ded/a01009.html#aff24b82af590d1db837231ad0125eee4" title="ripple::NetworkOPsImp\l::mapComplete" alt="" coords="1071,238,1228,285"/><area shape="rect" id="node26" href="../../d7/ded/a01009.html#a148e1e8d0c5128ee48e0206cdeb5e2a0" title="ripple::NetworkOPsImp\l::processTrustedProposal" alt="" coords="1064,307,1235,354"/><area shape="rect" id="node34" href="../../d7/ded/a01009.html#aba0a801a4063f8d34e523e1537765cad" title="ripple::NetworkOPsImp\l::acceptLedger" alt="" coords="641,355,799,402"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a99f74527e0ad0e6550d3ba503644722e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::pubValidatedTransaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a>&#160;</td>
          <td class="paramname"><em>alAccepted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d6d/a00055.html">AcceptedLedgerTx</a> &amp;&#160;</td>
          <td class="paramname"><em>alTransaction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02476">2476</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d5/d2e/a02905_source.html#l00059">ripple::AcceptedLedgerTx::getMeta()</a>, <a class="el" href="../../da/d74/a00099.html#ac885cb8bec6f3b9b8bdd5f2a44d07fed">ripple::Application::getOrderBookDB()</a>, <a class="el" href="../../d5/d2e/a02905_source.html#l00076">ripple::AcceptedLedgerTx::getResult()</a>, <a class="el" href="../../d5/d2e/a02905_source.html#l00055">ripple::AcceptedLedgerTx::getTxn()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00467">mLock</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00503">mSubRTTransactions</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00502">mSubTransactions</a>, <a class="el" href="../../dd/d0d/a02929_source.html#l00238">ripple::OrderBookDB::processTxn()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02521">pubAccountTransaction()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02439">transJson()</a>, and <a class="el" href="../../d1/d9a/a02454_source.html#l00198">Json::FastWriter::write()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02375">pubLedger()</a>.</p>
<div class="fragment"><div class="line"><a name="l02477"></a><span class="lineno"> 2477</span>&#160;{</div>
<div class="line"><a name="l02478"></a><span class="lineno"> 2478</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvObj   = <a class="code" href="../../d7/ded/a01009.html#acd0b0453a98534dad9cfd1a0fa6bf780">transJson</a> (*alTx.getTxn (), alTx.getResult (), <span class="keyword">true</span>, alAccepted);</div>
<div class="line"><a name="l02479"></a><span class="lineno"> 2479</span>&#160;    jvObj[<span class="stringliteral">&quot;meta&quot;</span>] = alTx.getMeta ()-&gt;getJson (0);</div>
<div class="line"><a name="l02480"></a><span class="lineno"> 2480</span>&#160;</div>
<div class="line"><a name="l02481"></a><span class="lineno"> 2481</span>&#160;    <a class="code" href="../../d7/def/a00521.html" title="Outputs a Value in JSON format without formatting (not human friendly). ">Json::FastWriter</a> w;</div>
<div class="line"><a name="l02482"></a><span class="lineno"> 2482</span>&#160;    std::string sObj = w.<a class="code" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19">write</a> (jvObj);</div>
<div class="line"><a name="l02483"></a><span class="lineno"> 2483</span>&#160;</div>
<div class="line"><a name="l02484"></a><span class="lineno"> 2484</span>&#160;    {</div>
<div class="line"><a name="l02485"></a><span class="lineno"> 2485</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a936ed96d8cb48a7a818e292345032bd3">ScopedLockType</a> sl (<a class="code" href="../../d7/ded/a01009.html#a28e64f295f2eca1f91a5a11239352071">mLock</a>);</div>
<div class="line"><a name="l02486"></a><span class="lineno"> 2486</span>&#160;</div>
<div class="line"><a name="l02487"></a><span class="lineno"> 2487</span>&#160;        NetworkOPsImp::SubMapType::const_iterator it = <a class="code" href="../../d7/ded/a01009.html#ae13616c7a9ed41edc86fe19cfe6f56d8">mSubTransactions</a>.begin ();</div>
<div class="line"><a name="l02488"></a><span class="lineno"> 2488</span>&#160;</div>
<div class="line"><a name="l02489"></a><span class="lineno"> 2489</span>&#160;        <span class="keywordflow">while</span> (it != <a class="code" href="../../d7/ded/a01009.html#ae13616c7a9ed41edc86fe19cfe6f56d8">mSubTransactions</a>.end ())</div>
<div class="line"><a name="l02490"></a><span class="lineno"> 2490</span>&#160;        {</div>
<div class="line"><a name="l02491"></a><span class="lineno"> 2491</span>&#160;            <a class="code" href="../../d4/deb/a00710.html#a15ba6fd94d60310cdf80362345b5d07b">InfoSub::pointer</a> p = it-&gt;second.lock ();</div>
<div class="line"><a name="l02492"></a><span class="lineno"> 2492</span>&#160;</div>
<div class="line"><a name="l02493"></a><span class="lineno"> 2493</span>&#160;            <span class="keywordflow">if</span> (p)</div>
<div class="line"><a name="l02494"></a><span class="lineno"> 2494</span>&#160;            {</div>
<div class="line"><a name="l02495"></a><span class="lineno"> 2495</span>&#160;                p-&gt;send (jvObj, sObj, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02496"></a><span class="lineno"> 2496</span>&#160;                ++it;</div>
<div class="line"><a name="l02497"></a><span class="lineno"> 2497</span>&#160;            }</div>
<div class="line"><a name="l02498"></a><span class="lineno"> 2498</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02499"></a><span class="lineno"> 2499</span>&#160;                it = <a class="code" href="../../d7/ded/a01009.html#ae13616c7a9ed41edc86fe19cfe6f56d8">mSubTransactions</a>.erase (it);</div>
<div class="line"><a name="l02500"></a><span class="lineno"> 2500</span>&#160;        }</div>
<div class="line"><a name="l02501"></a><span class="lineno"> 2501</span>&#160;</div>
<div class="line"><a name="l02502"></a><span class="lineno"> 2502</span>&#160;        it = <a class="code" href="../../d7/ded/a01009.html#ada363c60dd7cec7aa003b9e45d582a2f">mSubRTTransactions</a>.begin ();</div>
<div class="line"><a name="l02503"></a><span class="lineno"> 2503</span>&#160;</div>
<div class="line"><a name="l02504"></a><span class="lineno"> 2504</span>&#160;        <span class="keywordflow">while</span> (it != <a class="code" href="../../d7/ded/a01009.html#ada363c60dd7cec7aa003b9e45d582a2f">mSubRTTransactions</a>.end ())</div>
<div class="line"><a name="l02505"></a><span class="lineno"> 2505</span>&#160;        {</div>
<div class="line"><a name="l02506"></a><span class="lineno"> 2506</span>&#160;            <a class="code" href="../../d4/deb/a00710.html#a15ba6fd94d60310cdf80362345b5d07b">InfoSub::pointer</a> p = it-&gt;second.lock ();</div>
<div class="line"><a name="l02507"></a><span class="lineno"> 2507</span>&#160;</div>
<div class="line"><a name="l02508"></a><span class="lineno"> 2508</span>&#160;            <span class="keywordflow">if</span> (p)</div>
<div class="line"><a name="l02509"></a><span class="lineno"> 2509</span>&#160;            {</div>
<div class="line"><a name="l02510"></a><span class="lineno"> 2510</span>&#160;                p-&gt;send (jvObj, sObj, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02511"></a><span class="lineno"> 2511</span>&#160;                ++it;</div>
<div class="line"><a name="l02512"></a><span class="lineno"> 2512</span>&#160;            }</div>
<div class="line"><a name="l02513"></a><span class="lineno"> 2513</span>&#160;            <span class="keywordflow">else</span></div>
<div class="line"><a name="l02514"></a><span class="lineno"> 2514</span>&#160;                it = <a class="code" href="../../d7/ded/a01009.html#ada363c60dd7cec7aa003b9e45d582a2f">mSubRTTransactions</a>.erase (it);</div>
<div class="line"><a name="l02515"></a><span class="lineno"> 2515</span>&#160;        }</div>
<div class="line"><a name="l02516"></a><span class="lineno"> 2516</span>&#160;    }</div>
<div class="line"><a name="l02517"></a><span class="lineno"> 2517</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#ac885cb8bec6f3b9b8bdd5f2a44d07fed">getOrderBookDB</a> ().<a class="code" href="../../d5/d4c/a01058.html#a40b4eec87d70e45d34408616f9f757b0">processTxn</a> (alAccepted, alTx, jvObj);</div>
<div class="line"><a name="l02518"></a><span class="lineno"> 2518</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a810aca64ae42518e2e6506fbc8ba4569">pubAccountTransaction</a> (alAccepted, alTx, <span class="keyword">true</span>);</div>
<div class="line"><a name="l02519"></a><span class="lineno"> 2519</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a99f74527e0ad0e6550d3ba503644722e_cgraph.png" border="0" usemap="#d7/ded/a01009_a99f74527e0ad0e6550d3ba503644722e_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a99f74527e0ad0e6550d3ba503644722e_cgraph" id="d7/ded/a01009_a99f74527e0ad0e6550d3ba503644722e_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="260,152,361,181"/><area shape="rect" id="node7" href="../../d4/d6d/a00055.html#ac4b5d3e918d381281f327479609d447e" title="ripple::AcceptedLedgerTx\l::getMeta" alt="" coords="459,525,629,571"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#ac885cb8bec6f3b9b8bdd5f2a44d07fed" title="ripple::Application\l::getOrderBookDB" alt="" coords="247,489,375,535"/><area shape="rect" id="node11" href="../../d4/d6d/a00055.html#a5e58100e4cac66bb74083e78ede768c2" title="ripple::AcceptedLedgerTx\l::getResult" alt="" coords="459,594,629,641"/><area shape="rect" id="node13" href="../../d4/d6d/a00055.html#a0ba4c031051023c4e3dc98c88c215425" title="ripple::AcceptedLedgerTx\l::getTxn" alt="" coords="459,663,629,710"/><area shape="rect" id="node15" href="../../d5/d4c/a01058.html#a40b4eec87d70e45d34408616f9f757b0" title="ripple::OrderBookDB\l::processTxn" alt="" coords="240,342,381,389"/><area shape="rect" id="node52" href="../../d7/ded/a01009.html#a810aca64ae42518e2e6506fbc8ba4569" title="ripple::NetworkOPsImp\l::pubAccountTransaction" alt="" coords="228,733,393,779"/><area shape="rect" id="node65" href="../../d7/ded/a01009.html#acd0b0453a98534dad9cfd1a0fa6bf780" title="ripple::NetworkOPsImp\l::transJson" alt="" coords="465,941,623,987"/><area shape="rect" id="node89" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="467,1011,621,1040"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="456,5,632,51"/><area shape="rect" id="node17" href="../../d5/d83/a03337.html#afc5f5e8520bf9ec3abd1f92d066ef7b9" title="beast::field" alt="" coords="1231,92,1316,121"/><area shape="rect" id="node19" href="../../d5/d4c/a01058.html#a5da922c340725b98fab8742e2f081dd7" title="ripple::OrderBookDB\l::getBookListeners" alt="" coords="473,125,615,171"/><area shape="rect" id="node21" href="../../d2/d41/a01493.html#a61429db7fed5872fca90d726f3088325" title="ripple::STAmount::getCurrency" alt="" coords="443,195,645,224"/><area shape="rect" id="node23" href="../../de/d1a/a01559.html#aad5f49acb4c7b95cabee5d8463d4ce4a" title="ripple::STObject::getField\lAmount" alt="" coords="459,402,629,449"/><area shape="rect" id="node27" href="../../de/d1a/a01559.html#ac6e32d6706dd0c235ba5567ec1c0405f" title="ripple::STObject::peekAt\lPField" alt="" coords="705,282,871,329"/><area shape="rect" id="node33" href="../../d7/d57/a01348.html#a79472b7634153a0478119634c9e82d7e" title="ripple::SerializedType\l::getFName" alt="" coords="1200,342,1347,389"/><area shape="rect" id="node40" href="../../de/d1a/a01559.html#a8eaf9a7b368fcad544a490e076069a8c" title="ripple::STObject::getFieldU16" alt="" coords="447,248,641,277"/><area shape="rect" id="node47" href="../../d2/d41/a01493.html#ac88b3e8c68c4fbda4e493471be3f074c" title="ripple::STAmount::getIssuer" alt="" coords="452,472,636,501"/><area shape="rect" id="node25" href="../../de/d1a/a01559.html#abf07301811d8a5c52be9e4ef7842a538" title="ripple::STObject::empty" alt="" coords="708,403,868,432"/><area shape="rect" id="node38" href="../../d7/d57/a01348.html#a420d71c47a773cf368ab6d8e99152871" title="ripple::SerializedType\l::getSType" alt="" coords="1200,429,1347,475"/><area shape="rect" id="node29" href="../../de/d1a/a01559.html#a7bbf16c433cd8e40fe2fa462ecbd44f9" title="ripple::STObject::getField\lIndex" alt="" coords="949,162,1120,209"/><area shape="rect" id="node36" href="../../de/d1a/a01559.html#a023cc002539faf5fab6eecc8f12e1b1d" title="ripple::STObject::peekAt\lPIndex" alt="" coords="952,282,1117,329"/><area shape="rect" id="node31" href="../../d1/de7/a01434.html#a04479037c3daa6f724999b9861bb8c10" title="ripple::SOTemplate\l::getIndex" alt="" coords="1207,162,1340,209"/><area shape="rect" id="node44" href="../../d3/da5/a01598.html#aab6f08bd0b02c8d4079eb2e660739cfa" title="ripple::STUInt16::getValue" alt="" coords="700,179,876,208"/><area shape="rect" id="node54" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="471,733,617,779"/><area shape="rect" id="node58" href="../../d4/d6d/a00055.html#a176e18898535dfd604dd8bcdc8ec000b" title="ripple::AcceptedLedgerTx\l::getAffected" alt="" coords="459,802,629,849"/><area shape="rect" id="node63" href="../../d4/d6d/a00055.html#a88e77a08b87615782f17f350eba06925" title="ripple::AcceptedLedgerTx\l::isApplied" alt="" coords="459,871,629,918"/><area shape="rect" id="node56" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="732,720,844,749"/><area shape="rect" id="node67" href="../../d9/d9d/a03417.html#a8ebf8214ccd67d515e6dd26b832854a9" title="ripple::transResultInfo" alt="" coords="713,949,863,979"/><area shape="rect" id="node69" href="../../d9/de4/a01346.html#a436d1b0b2d422540cd39c117f5f6816d" title="ripple::SerializedTransaction\l::getJson" alt="" coords="695,773,881,819"/><area shape="rect" id="node71" href="../../de/d1a/a01559.html#a20e386b11943fda5fe9c67542e8f0e50" title="ripple::STObject::getJson" alt="" coords="949,537,1120,567"/><area shape="rect" id="node81" href="../../d9/de4/a01346.html#a501700305bfe6b71f1b8de263bdde43e" title="ripple::SerializedTransaction\l::getTransactionID" alt="" coords="941,703,1128,750"/><area shape="rect" id="node85" href="../../d7/d9a/a00152.html#a348c4019943a8b3a05f39f1efcb589c9" title="ripple::base_uint::\lGetHex" alt="" coords="972,773,1097,819"/><area shape="rect" id="node75" href="../../d7/d81/a01365.html#afcf28e489ecd5c0453e86e4d134afa45" title="ripple::SField::hasName" alt="" coords="1192,568,1355,597"/><area shape="rect" id="node77" href="../../d7/d57/a01348.html#af1869902e1ff733f983ee59b686894eb" title="ripple::SerializedType\l::getJson" alt="" coords="1200,621,1347,667"/><area shape="rect" id="node79" href="../../d7/d57/a01348.html#a933443458635aa9598529a530326af66" title="ripple::SerializedType\l::getName" alt="" coords="1200,498,1347,545"/><area shape="rect" id="node83" href="../../de/d1a/a01559.html#a7a9cbb8d5e1266c782de1bb94998289e" title="ripple::STObject::getHash" alt="" coords="1187,712,1360,741"/><area shape="rect" id="node87" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="1211,773,1336,819"/><area shape="rect" id="node91" href="../../d7/def/a00521.html#a2ef4a2ce13a341171f01f414f4fdd765" title="Json::FastWriter::writeValue" alt="" coords="695,1056,881,1085"/><area shape="rect" id="node93" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="965,1216,1104,1245"/><area shape="rect" id="node95" href="../../d6/d27/a01781.html#a5b7da48b163bcec63b1424f1608b7da6" title="Json::Value::asCString" alt="" coords="956,1269,1113,1299"/><area shape="rect" id="node97" href="../../d6/d27/a01781.html#a33434ed1c0217a34d04c95fa5342fd37" title="Json::Value::asDouble" alt="" coords="957,1323,1112,1352"/><area shape="rect" id="node99" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="971,843,1099,872"/><area shape="rect" id="node101" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="965,896,1104,925"/><area shape="rect" id="node103" href="../../d6/d27/a01781.html#a30fa08af88f2d0a038b22ba9f4e88b2a" title="Return a list of the member names. " alt="" coords="932,949,1137,979"/><area shape="rect" id="node105" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="973,1003,1096,1032"/><area shape="rect" id="node107" href="../../d6/d27/a01781.html#a695ef31fad36b4712918b3ff80158479" title="Json::Value::type" alt="" coords="973,1056,1096,1085"/><area shape="rect" id="node109" href="../../d2/dd6/a03414.html#aa0c8235a4a5c6599da5d3332743db8ac" title="Json::valueToQuotedString" alt="" coords="945,1109,1124,1139"/><area shape="rect" id="node111" href="../../d2/dd6/a03414.html#a5d3eba6789f9a9c1ab563ff8b4a5090f" title="Json::valueToString" alt="" coords="965,1163,1104,1192"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a99f74527e0ad0e6550d3ba503644722e_icgraph.png" border="0" usemap="#d7/ded/a01009_a99f74527e0ad0e6550d3ba503644722e_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a99f74527e0ad0e6550d3ba503644722e_icgraph" id="d7/ded/a01009_a99f74527e0ad0e6550d3ba503644722e_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a78a85046176bd8a4c348f02a501b14bf" title="ripple::NetworkOPsImp\l::pubLedger" alt="" coords="228,5,385,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aefd56f27d9f1c729d604adee94861224"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::recvValidation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d6c/a01349.html#a7e0a3cc2f01beeb07e2852ad4eb7b9dc">SerializedValidation::ref</a>&#160;</td>
          <td class="paramname"><em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>source</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a46337f340095c34e08adf91e148b46bd">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02151">2151</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d3/dac/a01777.html#ad1f3fe2655abbbb3dcd43c4d6ed1b739">ripple::Validations::addValidation()</a>, <a class="el" href="../../dd/d07/a02132_source.html#l00244">beast::Journal::debug</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../da/d74/a00099.html#a4f3da0257883c463e0a561d7ba793dd4">ripple::Application::getValidations()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>.</p>
<div class="fragment"><div class="line"><a name="l02152"></a><span class="lineno"> 2152</span>&#160;{</div>
<div class="line"><a name="l02153"></a><span class="lineno"> 2153</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#aed264b891ebfe8df4c5b6b2231786491">debug</a> &lt;&lt; <span class="stringliteral">&quot;recvValidation &quot;</span> &lt;&lt; val-&gt;getLedgerHash () &lt;&lt; <span class="stringliteral">&quot; from &quot;</span> &lt;&lt; source;</div>
<div class="line"><a name="l02154"></a><span class="lineno"> 2154</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a4f3da0257883c463e0a561d7ba793dd4">getValidations</a> ().<a class="code" href="../../d3/dac/a01777.html#ad1f3fe2655abbbb3dcd43c4d6ed1b739">addValidation</a> (val, source);</div>
<div class="line"><a name="l02155"></a><span class="lineno"> 2155</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_aefd56f27d9f1c729d604adee94861224_cgraph.png" border="0" usemap="#d7/ded/a01009_aefd56f27d9f1c729d604adee94861224_cgraph" alt=""/></div>
<map name="d7/ded/a01009_aefd56f27d9f1c729d604adee94861224_cgraph" id="d7/ded/a01009_aefd56f27d9f1c729d604adee94861224_cgraph">
<area shape="rect" id="node3" href="../../d3/dac/a01777.html#ad1f3fe2655abbbb3dcd43c4d6ed1b739" title="ripple::Validations\l::addValidation" alt="" coords="213,5,339,51"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="225,75,327,104"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#a4f3da0257883c463e0a561d7ba793dd4" title="ripple::Application\l::getValidations" alt="" coords="213,127,339,174"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="388,66,564,113"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a72a7f13b9a1836688253dbc468378f47"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::reportFeeChange </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#aac7969fc51e8e561bbd59e94662300ee">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02430">2430</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../dc/d0c/a00783.html#a0e6d017b056c57465c9d72f928e3271e">ripple::JobQueue::addJob()</a>, <a class="el" href="../../d0/d75/a03105_source.html#l00028">BIND_TYPE</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c">ripple::Application::getJobQueue()</a>, <a class="el" href="../../d8/d96/a03116_source.html#l00044">ripple::jtCLIENT</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00508">mLastLoadBase</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00509">mLastLoadFactor</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01675">pubServer()</a>.</p>
<div class="fragment"><div class="line"><a name="l02431"></a><span class="lineno"> 2431</span>&#160;{</div>
<div class="line"><a name="l02432"></a><span class="lineno"> 2432</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getFeeTrack ().getLoadBase () == <a class="code" href="../../d7/ded/a01009.html#a11e5f635db454f56725e6f902e4c1ca8">mLastLoadBase</a>) &amp;&amp;</div>
<div class="line"><a name="l02433"></a><span class="lineno"> 2433</span>&#160;            (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getFeeTrack ().getLoadFactor () == <a class="code" href="../../d7/ded/a01009.html#a106784c971d5ac80e561380723e3ce80">mLastLoadFactor</a>))</div>
<div class="line"><a name="l02434"></a><span class="lineno"> 2434</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l02435"></a><span class="lineno"> 2435</span>&#160;</div>
<div class="line"><a name="l02436"></a><span class="lineno"> 2436</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c">getJobQueue</a> ().<a class="code" href="../../dc/d0c/a00783.html#a0e6d017b056c57465c9d72f928e3271e">addJob</a> (<a class="code" href="../../d9/d9d/a03417.html#ae0f54f8ce649d639bf3e2b295347e17aad3afa64002a7625b44814318856804e9">jtCLIENT</a>, <span class="stringliteral">&quot;reportFeeChange-&gt;pubServer&quot;</span>, <a class="code" href="../../d0/d75/a03105.html#a6c0c867ff5909fab21adb4d253d4bcc5">BIND_TYPE</a> (&amp;<a class="code" href="../../d7/ded/a01009.html#a768673e1643af3147b10b4d99aca8caf">NetworkOPsImp::pubServer</a>, <span class="keyword">this</span>));</div>
<div class="line"><a name="l02437"></a><span class="lineno"> 2437</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a72a7f13b9a1836688253dbc468378f47_cgraph.png" border="0" usemap="#d7/ded/a01009_a72a7f13b9a1836688253dbc468378f47_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a72a7f13b9a1836688253dbc468378f47_cgraph" id="d7/ded/a01009_a72a7f13b9a1836688253dbc468378f47_cgraph">
<area shape="rect" id="node3" href="../../dc/d0c/a00783.html#a0e6d017b056c57465c9d72f928e3271e" title="ripple::JobQueue::addJob" alt="" coords="213,5,384,35"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="461,56,563,85"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c" title="ripple::Application\l::getJobQueue" alt="" coords="236,109,361,155"/><area shape="rect" id="node11" href="../../d7/ded/a01009.html#a768673e1643af3147b10b4d99aca8caf" title="ripple::NetworkOPsImp\l::pubServer" alt="" coords="220,178,377,225"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="647,47,823,94"/><area shape="rect" id="node14" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb" title="ripple::Application\l::getFeeTrack" alt="" coords="449,109,575,155"/><area shape="rect" id="node16" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0" title="ripple::LoadFeeTrack\l::getLoadBase" alt="" coords="440,178,584,225"/><area shape="rect" id="node18" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac" title="ripple::LoadFeeTrack\l::getLoadFactor" alt="" coords="440,247,584,294"/><area shape="rect" id="node20" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f" title="ripple::NetworkOPsImp\l::strOperatingMode" alt="" coords="433,317,591,363"/><area shape="rect" id="node22" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="435,387,589,416"/><area shape="rect" id="node24" href="../../d7/def/a00521.html#a2ef4a2ce13a341171f01f414f4fdd765" title="Json::FastWriter::writeValue" alt="" coords="641,387,828,416"/><area shape="rect" id="node26" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="912,147,1051,176"/><area shape="rect" id="node28" href="../../d6/d27/a01781.html#a5b7da48b163bcec63b1424f1608b7da6" title="Json::Value::asCString" alt="" coords="903,200,1060,229"/><area shape="rect" id="node30" href="../../d6/d27/a01781.html#a33434ed1c0217a34d04c95fa5342fd37" title="Json::Value::asDouble" alt="" coords="904,253,1059,283"/><area shape="rect" id="node32" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="917,307,1045,336"/><area shape="rect" id="node34" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="912,360,1051,389"/><area shape="rect" id="node36" href="../../d6/d27/a01781.html#a30fa08af88f2d0a038b22ba9f4e88b2a" title="Return a list of the member names. " alt="" coords="879,413,1084,443"/><area shape="rect" id="node38" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="920,467,1043,496"/><area shape="rect" id="node40" href="../../d6/d27/a01781.html#a695ef31fad36b4712918b3ff80158479" title="Json::Value::type" alt="" coords="920,520,1043,549"/><area shape="rect" id="node42" href="../../d2/dd6/a03414.html#aa0c8235a4a5c6599da5d3332743db8ac" title="Json::valueToQuotedString" alt="" coords="892,573,1071,603"/><area shape="rect" id="node49" href="../../d2/dd6/a03414.html#a5d3eba6789f9a9c1ab563ff8b4a5090f" title="Json::valueToString" alt="" coords="912,627,1051,656"/><area shape="rect" id="node44" href="../../d2/dd6/a03414.html#aa11b210ff98a4f4dd4e2df19260f8c3a" title="Json::containsControlCharacter" alt="" coords="1135,523,1340,552"/><area shape="rect" id="node46" href="../../d2/dd6/a03414.html#a0381e631737f51331065a388f4f59197" title="Json::isControlCharacter" alt="" coords="1391,549,1556,579"/><area shape="rect" id="node51" href="../../d2/dd6/a03414.html#a0c9ecf21515ffa8092201ad908609dc7" title="Json::uintToString" alt="" coords="1173,627,1301,656"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a11a18d9eca593baddb2e72566c053800"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::runTransactionQueue </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a5bacc644618aea8fb9cada5040145c7f">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00834">834</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d1/de6/a00837.html#a30dd64cff90f268bf02dab1bc1eaf89e">ripple::LedgerMaster::addHeldTransaction()</a>, <a class="el" href="../../d0/d75/a03105_source.html#l00028">BIND_TYPE</a>, <a class="el" href="../../d7/d5a/a03069_source.html#l00092">ripple::TransactionMaster::canonicalize()</a>, <a class="el" href="../../dd/d07/a02132_source.html#l00244">beast::Journal::debug</a>, <a class="el" href="../../d1/de6/a00837.html#ae4c4e9d9cb43bcb3ddd8e1574fff1bb4">ripple::LedgerMaster::doTransaction()</a>, <a class="el" href="../../d7/d5a/a03069_source.html#l00039">ripple::TransactionMaster::fetch()</a>, <a class="el" href="../../dd/d87/a03235_source.html#l00096">ripple::Overlay::foreach()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../dd/d61/a03197_source.html#l00129">ripple::Serializer::getData()</a>, <a class="el" href="../../da/d74/a00099.html#abc0db550376596fa61a678f5d9ce82f4">ripple::Application::getHashRouter()</a>, <a class="el" href="../../da/d74/a00099.html#aeb96811d5ac7f90cf0736a5874aa55e9">ripple::Application::getIOService()</a>, <a class="el" href="../../d2/d70/a01729.html#a719a1a5081f8f828c2b7ee7f98678791">ripple::TxQueue::getJob()</a>, <a class="el" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c">ripple::Application::getJobQueue()</a>, <a class="el" href="../../dd/d61/a03197_source.html#l00153">ripple::Serializer::getLength()</a>, <a class="el" href="../../dc/d0c/a00783.html#ab2ce1ef765c58d0d32214d766c06eabb">ripple::JobQueue::getLoadEventAP()</a>, <a class="el" href="../../da/d74/a00099.html#aae949580d66cede10b0b392755858e32">ripple::Application::getMasterTransaction()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00671">getNetworkTimeNC()</a>, <a class="el" href="../../da/d74/a00099.html#afa5f66b38b706ca9851c7a626e97b8d7">ripple::Application::getTxQueue()</a>, <a class="el" href="../../dc/dec/a03063_source.html#l00038">ripple::HELD</a>, <a class="el" href="../../dc/dec/a03063_source.html#l00035">ripple::INCLUDED</a>, <a class="el" href="../../dd/d07/a02132_source.html#l00245">beast::Journal::info</a>, <a class="el" href="../../dc/dec/a03063_source.html#l00034">ripple::INVALID</a>, <a class="el" href="../../d5/d73/a03203_source.html#l00178">isTemMalformed</a>, <a class="el" href="../../d5/d73/a03203_source.html#l00180">isTerRetry</a>, <a class="el" href="../../d8/d96/a03116_source.html#l00065">ripple::jtTXN_PROC</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>, <a class="el" href="../../dc/dec/a03063_source.html#l00040">ripple::OBSOLETE</a>, <a class="el" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee">ripple::Application::overlay()</a>, <a class="el" href="../../d5/de9/a03236_source.html#l00102">ripple::send_if_not()</a>, <a class="el" href="../../d0/d15/a00700.html#a00825d59e3a11401f2abad8b879f6602">ripple::IHashRouter::setFlag()</a>, <a class="el" href="../../d0/d7b/a02968_source.html#l00029">SF_BAD</a>, <a class="el" href="../../d0/d7b/a02968_source.html#l00027">SF_RELAYED</a>, <a class="el" href="../../db/da5/a02919_source.html#l00029">ripple::tapNO_CHECK_SIGN</a>, <a class="el" href="../../db/da5/a02919_source.html#l00031">ripple::tapOPEN_LEDGER</a>, <a class="el" href="../../d5/d73/a03203_source.html#l00110">ripple::tefPAST_SEQ</a>, and <a class="el" href="../../d5/d73/a03203_source.html#l00141">ripple::tesSUCCESS</a>.</p>
<div class="fragment"><div class="line"><a name="l00835"></a><span class="lineno">  835</span>&#160;{</div>
<div class="line"><a name="l00836"></a><span class="lineno">  836</span>&#160;    <a class="code" href="../../de/db5/a01730.html#a93eec865f0708d872b0f21d7297d10b7">TxQueueEntry::pointer</a> txn;</div>
<div class="line"><a name="l00837"></a><span class="lineno">  837</span>&#160;</div>
<div class="line"><a name="l00838"></a><span class="lineno">  838</span>&#160;    <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; 10; ++i)</div>
<div class="line"><a name="l00839"></a><span class="lineno">  839</span>&#160;    {</div>
<div class="line"><a name="l00840"></a><span class="lineno">  840</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#afa5f66b38b706ca9851c7a626e97b8d7">getTxQueue</a> ().<a class="code" href="../../d2/d70/a01729.html#a719a1a5081f8f828c2b7ee7f98678791">getJob</a> (txn);</div>
<div class="line"><a name="l00841"></a><span class="lineno">  841</span>&#160;</div>
<div class="line"><a name="l00842"></a><span class="lineno">  842</span>&#160;        <span class="keywordflow">if</span> (!txn)</div>
<div class="line"><a name="l00843"></a><span class="lineno">  843</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00844"></a><span class="lineno">  844</span>&#160;</div>
<div class="line"><a name="l00845"></a><span class="lineno">  845</span>&#160;        {</div>
<div class="line"><a name="l00846"></a><span class="lineno">  846</span>&#160;            <a class="code" href="../../d7/d92/a00887.html#a6e5a511c698f509f12230964edf7b29d">LoadEvent::autoptr</a> ev = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c">getJobQueue</a> ().<a class="code" href="../../dc/d0c/a00783.html#ab2ce1ef765c58d0d32214d766c06eabb">getLoadEventAP</a> (<a class="code" href="../../d9/d9d/a03417.html#ae0f54f8ce649d639bf3e2b295347e17aa472d60e46f48281b57495a70dfabfbce">jtTXN_PROC</a>, <span class="stringliteral">&quot;runTxnQ&quot;</span>);</div>
<div class="line"><a name="l00847"></a><span class="lineno">  847</span>&#160;</div>
<div class="line"><a name="l00848"></a><span class="lineno">  848</span>&#160;            {</div>
<div class="line"><a name="l00849"></a><span class="lineno">  849</span>&#160;                <a class="code" href="../../da/d74/a00099.html#af8a80d2747ba486d431294e36acd449a">Application::ScopedLockType</a> lock (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getMasterLock ());</div>
<div class="line"><a name="l00850"></a><span class="lineno">  850</span>&#160;</div>
<div class="line"><a name="l00851"></a><span class="lineno">  851</span>&#160;                <a class="code" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a> dbtx = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#aae949580d66cede10b0b392755858e32">getMasterTransaction</a> ().<a class="code" href="../../de/d5c/a01708.html#a61e3df3a86f5f6e9f8c1b3305f1d40e6">fetch</a> (txn-&gt;getID (), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00852"></a><span class="lineno">  852</span>&#160;                assert (dbtx);</div>
<div class="line"><a name="l00853"></a><span class="lineno">  853</span>&#160;</div>
<div class="line"><a name="l00854"></a><span class="lineno">  854</span>&#160;                <span class="keywordtype">bool</span> didApply;</div>
<div class="line"><a name="l00855"></a><span class="lineno">  855</span>&#160;                <a class="code" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0">TER</a> r = <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#ae4c4e9d9cb43bcb3ddd8e1574fff1bb4">doTransaction</a> (dbtx-&gt;getSTransaction (),</div>
<div class="line"><a name="l00856"></a><span class="lineno">  856</span>&#160;                                                      <a class="code" href="../../d9/d9d/a03417.html#ae2a321a3f2099e098fdcc670a60c7a09ab3ffb3bd2975db520632d6f5f42606e1">tapOPEN_LEDGER</a> | <a class="code" href="../../d9/d9d/a03417.html#ae2a321a3f2099e098fdcc670a60c7a09ab6877d4b605c5749356755d7915cfab6">tapNO_CHECK_SIGN</a>, didApply);</div>
<div class="line"><a name="l00857"></a><span class="lineno">  857</span>&#160;                dbtx-&gt;setResult (r);</div>
<div class="line"><a name="l00858"></a><span class="lineno">  858</span>&#160;</div>
<div class="line"><a name="l00859"></a><span class="lineno">  859</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d5/d73/a03203.html#a23f17339aac8b4605014699e9437cf44">isTemMalformed</a> (r)) <span class="comment">// malformed, cache bad</span></div>
<div class="line"><a name="l00860"></a><span class="lineno">  860</span>&#160;                    <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#abc0db550376596fa61a678f5d9ce82f4">getHashRouter</a> ().<a class="code" href="../../d0/d15/a00700.html#a00825d59e3a11401f2abad8b879f6602">setFlag</a> (txn-&gt;getID (), <a class="code" href="../../d0/d7b/a02968.html#a4db5c97ae009c538ceb0c24c4a0a0999">SF_BAD</a>);</div>
<div class="line"><a name="l00861"></a><span class="lineno">  861</span>&#160;    <span class="comment">//            else if (isTelLocal (r) || isTerRetry (r)) // can be retried</span></div>
<div class="line"><a name="l00862"></a><span class="lineno">  862</span>&#160;    <span class="comment">//                getApp().getHashRouter ().setFlag (txn-&gt;getID (), SF_RETRY);</span></div>
<div class="line"><a name="l00863"></a><span class="lineno">  863</span>&#160;</div>
<div class="line"><a name="l00864"></a><span class="lineno">  864</span>&#160;</div>
<div class="line"><a name="l00865"></a><span class="lineno">  865</span>&#160;                <span class="keywordflow">if</span> (<a class="code" href="../../d5/d73/a03203.html#a4a9168ca4a8af58283b2bc61f0763160">isTerRetry</a> (r))</div>
<div class="line"><a name="l00866"></a><span class="lineno">  866</span>&#160;                {</div>
<div class="line"><a name="l00867"></a><span class="lineno">  867</span>&#160;                    <span class="comment">// transaction should be held</span></div>
<div class="line"><a name="l00868"></a><span class="lineno">  868</span>&#160;                    <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#aed264b891ebfe8df4c5b6b2231786491">debug</a> &lt;&lt; <span class="stringliteral">&quot;QTransaction should be held: &quot;</span> &lt;&lt; r;</div>
<div class="line"><a name="l00869"></a><span class="lineno">  869</span>&#160;                    dbtx-&gt;setStatus (<a class="code" href="../../d9/d9d/a03417.html#a2e97c395a5e1ef4ed1052299e0e60843ab6d15d6de328520f3f346b0ae9e3d1dd">HELD</a>);</div>
<div class="line"><a name="l00870"></a><span class="lineno">  870</span>&#160;                    <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#aae949580d66cede10b0b392755858e32">getMasterTransaction</a> ().<a class="code" href="../../de/d5c/a01708.html#a2e47d4c2559a80c57a1b45eacb773d9f">canonicalize</a> (&amp;dbtx);</div>
<div class="line"><a name="l00871"></a><span class="lineno">  871</span>&#160;                    <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#a30dd64cff90f268bf02dab1bc1eaf89e">addHeldTransaction</a> (dbtx);</div>
<div class="line"><a name="l00872"></a><span class="lineno">  872</span>&#160;                }</div>
<div class="line"><a name="l00873"></a><span class="lineno">  873</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (r == <a class="code" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0a3f96e687e612f385bba979a60694d7b5">tefPAST_SEQ</a>)</div>
<div class="line"><a name="l00874"></a><span class="lineno">  874</span>&#160;                {</div>
<div class="line"><a name="l00875"></a><span class="lineno">  875</span>&#160;                    <span class="comment">// duplicate or conflict</span></div>
<div class="line"><a name="l00876"></a><span class="lineno">  876</span>&#160;                    <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;QTransaction is obsolete&quot;</span>;</div>
<div class="line"><a name="l00877"></a><span class="lineno">  877</span>&#160;                    dbtx-&gt;setStatus (<a class="code" href="../../d9/d9d/a03417.html#a2e97c395a5e1ef4ed1052299e0e60843ad8d4ab290d0006e2cbe215ff1b11e5ea">OBSOLETE</a>);</div>
<div class="line"><a name="l00878"></a><span class="lineno">  878</span>&#160;                }</div>
<div class="line"><a name="l00879"></a><span class="lineno">  879</span>&#160;                <span class="keywordflow">else</span> <span class="keywordflow">if</span> (r == <a class="code" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0a28c7d8b3ed759d363503a05fcd59f151">tesSUCCESS</a>)</div>
<div class="line"><a name="l00880"></a><span class="lineno">  880</span>&#160;                {</div>
<div class="line"><a name="l00881"></a><span class="lineno">  881</span>&#160;                    <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#ad9e31acb5bfc1ff22e1a8a7b0561ec4e">info</a> &lt;&lt; <span class="stringliteral">&quot;QTransaction is now included in open ledger&quot;</span>;</div>
<div class="line"><a name="l00882"></a><span class="lineno">  882</span>&#160;                    dbtx-&gt;setStatus (<a class="code" href="../../d9/d9d/a03417.html#a2e97c395a5e1ef4ed1052299e0e60843a13c5625591c8f6b2f3f0f6dcdf53d302">INCLUDED</a>);</div>
<div class="line"><a name="l00883"></a><span class="lineno">  883</span>&#160;                    <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#aae949580d66cede10b0b392755858e32">getMasterTransaction</a> ().<a class="code" href="../../de/d5c/a01708.html#a2e47d4c2559a80c57a1b45eacb773d9f">canonicalize</a> (&amp;dbtx);</div>
<div class="line"><a name="l00884"></a><span class="lineno">  884</span>&#160;                }</div>
<div class="line"><a name="l00885"></a><span class="lineno">  885</span>&#160;                <span class="keywordflow">else</span></div>
<div class="line"><a name="l00886"></a><span class="lineno">  886</span>&#160;                {</div>
<div class="line"><a name="l00887"></a><span class="lineno">  887</span>&#160;                    <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#aed264b891ebfe8df4c5b6b2231786491">debug</a> &lt;&lt; <span class="stringliteral">&quot;QStatus other than success &quot;</span> &lt;&lt; r;</div>
<div class="line"><a name="l00888"></a><span class="lineno">  888</span>&#160;                    dbtx-&gt;setStatus (<a class="code" href="../../d9/d9d/a03417.html#a2e97c395a5e1ef4ed1052299e0e60843af8c5e3e10d98fcbda2c4d43d50d712a2">INVALID</a>);</div>
<div class="line"><a name="l00889"></a><span class="lineno">  889</span>&#160;                }</div>
<div class="line"><a name="l00890"></a><span class="lineno">  890</span>&#160;</div>
<div class="line"><a name="l00891"></a><span class="lineno">  891</span>&#160;                <span class="keywordflow">if</span> (didApply <span class="comment">/*|| (mMode != omFULL)*/</span> )</div>
<div class="line"><a name="l00892"></a><span class="lineno">  892</span>&#160;                {</div>
<div class="line"><a name="l00893"></a><span class="lineno">  893</span>&#160;                    std::set &lt;Peer::ShortId&gt; peers;</div>
<div class="line"><a name="l00894"></a><span class="lineno">  894</span>&#160;</div>
<div class="line"><a name="l00895"></a><span class="lineno">  895</span>&#160;                    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getHashRouter ().swapSet (txn-&gt;getID (), peers, <a class="code" href="../../d0/d7b/a02968.html#af9be45afdb73db8b7ac79729af6a72da">SF_RELAYED</a>))</div>
<div class="line"><a name="l00896"></a><span class="lineno">  896</span>&#160;                    {</div>
<div class="line"><a name="l00897"></a><span class="lineno">  897</span>&#160;                        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#aed264b891ebfe8df4c5b6b2231786491">debug</a> &lt;&lt; <span class="stringliteral">&quot;relaying&quot;</span>;</div>
<div class="line"><a name="l00898"></a><span class="lineno">  898</span>&#160;                        protocol::TMTransaction tx;</div>
<div class="line"><a name="l00899"></a><span class="lineno">  899</span>&#160;                        Serializer s;</div>
<div class="line"><a name="l00900"></a><span class="lineno">  900</span>&#160;                        dbtx-&gt;getSTransaction ()-&gt;add (s);</div>
<div class="line"><a name="l00901"></a><span class="lineno">  901</span>&#160;                        tx.set_rawtransaction (&amp;s.getData ().front (), s.getLength ());</div>
<div class="line"><a name="l00902"></a><span class="lineno">  902</span>&#160;                        tx.set_status (protocol::tsCURRENT);</div>
<div class="line"><a name="l00903"></a><span class="lineno">  903</span>&#160;                        tx.set_receivetimestamp (<a class="code" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef">getNetworkTimeNC</a> ()); <span class="comment">// FIXME: This should be when we received it</span></div>
<div class="line"><a name="l00904"></a><span class="lineno">  904</span>&#160;                        <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a> ().<a class="code" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee">overlay</a> ().<a class="code" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c">foreach</a> (<a class="code" href="../../d9/d9d/a03417.html#a58e3eee13d40eee082c61c7847587aa7">send_if_not</a> (</div>
<div class="line"><a name="l00905"></a><span class="lineno">  905</span>&#160;                            boost::make_shared&lt;Message&gt; (tx, protocol::mtTRANSACTION),</div>
<div class="line"><a name="l00906"></a><span class="lineno">  906</span>&#160;                            peer_in_set(peers)));</div>
<div class="line"><a name="l00907"></a><span class="lineno">  907</span>&#160;                    }</div>
<div class="line"><a name="l00908"></a><span class="lineno">  908</span>&#160;                    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00909"></a><span class="lineno">  909</span>&#160;                        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#aed264b891ebfe8df4c5b6b2231786491">debug</a> &lt;&lt; <span class="stringliteral">&quot;recently relayed&quot;</span>;</div>
<div class="line"><a name="l00910"></a><span class="lineno">  910</span>&#160;                }</div>
<div class="line"><a name="l00911"></a><span class="lineno">  911</span>&#160;</div>
<div class="line"><a name="l00912"></a><span class="lineno">  912</span>&#160;                txn-&gt;doCallbacks (r);</div>
<div class="line"><a name="l00913"></a><span class="lineno">  913</span>&#160;            }</div>
<div class="line"><a name="l00914"></a><span class="lineno">  914</span>&#160;        }</div>
<div class="line"><a name="l00915"></a><span class="lineno">  915</span>&#160;    }</div>
<div class="line"><a name="l00916"></a><span class="lineno">  916</span>&#160;</div>
<div class="line"><a name="l00917"></a><span class="lineno">  917</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getTxQueue ().stopProcessing (txn))</div>
<div class="line"><a name="l00918"></a><span class="lineno">  918</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#aeb96811d5ac7f90cf0736a5874aa55e9">getIOService</a> ().post (<a class="code" href="../../d0/d75/a03105.html#a6c0c867ff5909fab21adb4d253d4bcc5">BIND_TYPE</a> (&amp;<a class="code" href="../../d7/ded/a01009.html#a11a18d9eca593baddb2e72566c053800">NetworkOPsImp::runTransactionQueue</a>, <span class="keyword">this</span>));</div>
<div class="line"><a name="l00919"></a><span class="lineno">  919</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a11a18d9eca593baddb2e72566c053800_cgraph.png" border="0" usemap="#d7/ded/a01009_a11a18d9eca593baddb2e72566c053800_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a11a18d9eca593baddb2e72566c053800_cgraph" id="d7/ded/a01009_a11a18d9eca593baddb2e72566c053800_cgraph">
<area shape="rect" id="node3" href="../../d1/de6/a00837.html#a30dd64cff90f268bf02dab1bc1eaf89e" title="ripple::LedgerMaster\l::addHeldTransaction" alt="" coords="228,5,375,51"/><area shape="rect" id="node5" href="../../de/d5c/a01708.html#a2e47d4c2559a80c57a1b45eacb773d9f" title="ripple::TransactionMaster\l::canonicalize" alt="" coords="217,74,385,121"/><area shape="rect" id="node7" href="../../d1/de6/a00837.html#ae4c4e9d9cb43bcb3ddd8e1574fff1bb4" title="ripple::LedgerMaster\l::doTransaction" alt="" coords="232,143,371,190"/><area shape="rect" id="node9" href="../../de/d5c/a01708.html#a61e3df3a86f5f6e9f8c1b3305f1d40e6" title="ripple::TransactionMaster\l::fetch" alt="" coords="217,213,385,259"/><area shape="rect" id="node29" href="../../da/d61/a01350.html#a237280c7ca05aed5c750ec154a599547" title="ripple::Serializer\l::getLength" alt="" coords="897,334,1012,381"/><area shape="rect" id="node31" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c" title="ripple::Overlay::foreach" alt="" coords="223,333,380,363"/><area shape="rect" id="node35" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="685,601,787,631"/><area shape="rect" id="node39" href="../../da/d61/a01350.html#a937c91e12200c1df1e493ace106dd4d3" title="ripple::Serializer\l::getData" alt="" coords="244,437,359,483"/><area shape="rect" id="node41" href="../../da/d74/a00099.html#abc0db550376596fa61a678f5d9ce82f4" title="ripple::Application\l::getHashRouter" alt="" coords="239,506,364,553"/><area shape="rect" id="node43" href="../../da/d74/a00099.html#aeb96811d5ac7f90cf0736a5874aa55e9" title="ripple::Application\l::getIOService" alt="" coords="239,575,364,622"/><area shape="rect" id="node45" href="../../d2/d70/a01729.html#a719a1a5081f8f828c2b7ee7f98678791" title="ripple::TxQueue::getJob" alt="" coords="221,645,381,675"/><area shape="rect" id="node47" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c" title="ripple::Application\l::getJobQueue" alt="" coords="239,698,364,745"/><area shape="rect" id="node50" href="../../dc/d0c/a00783.html#ab2ce1ef765c58d0d32214d766c06eabb" title="ripple::JobQueue::getLoad\lEventAP" alt="" coords="215,767,388,814"/><area shape="rect" id="node52" href="../../da/d74/a00099.html#aae949580d66cede10b0b392755858e32" title="ripple::Application\l::getMasterTransaction" alt="" coords="224,837,379,883"/><area shape="rect" id="node54" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef" title="ripple::NetworkOPsImp\l::getNetworkTimeNC" alt="" coords="223,906,380,953"/><area shape="rect" id="node65" href="../../da/d74/a00099.html#afa5f66b38b706ca9851c7a626e97b8d7" title="ripple::Application\l::getTxQueue" alt="" coords="239,975,364,1022"/><area shape="rect" id="node67" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee" title="ripple::Application\l::overlay" alt="" coords="239,1045,364,1091"/><area shape="rect" id="node69" href="../../d9/d9d/a03417.html#a58e3eee13d40eee082c61c7847587aa7" title="ripple::send_if_not" alt="" coords="237,1115,365,1144"/><area shape="rect" id="node71" href="../../d0/d15/a00700.html#a00825d59e3a11401f2abad8b879f6602" title="ripple::IHashRouter\l::setFlag" alt="" coords="235,1167,368,1214"/><area shape="rect" id="node11" href="../../de/d05/a01702.html#a6b34e15909640abcd996da4b3ec60fe4" title="ripple::Transaction\l::load" alt="" coords="459,207,587,254"/><area shape="rect" id="node13" href="../../de/d05/a01702.html#a127e942da36e00fd47b4dac4f2dc581c" title="ripple::Transaction\l::transactionFromSQL" alt="" coords="661,203,811,250"/><area shape="rect" id="node15" href="../../da/d61/a01350.html#a462cbb304e3bcba2b4a78b8fee551265" title="ripple::Serializer\l::resize" alt="" coords="897,35,1012,82"/><area shape="rect" id="node17" href="../../d5/db5/a00374.html#a5695e1a1b8e65383924a03d29c81a4f2" title="ripple::Database::getStr" alt="" coords="875,105,1035,135"/><area shape="rect" id="node21" href="../../d5/db5/a00374.html#ad34864d60e84c7168a3b173097c27157" title="ripple::Database::getInt" alt="" coords="876,159,1033,188"/><area shape="rect" id="node24" href="../../d5/db5/a00374.html#a654eaaef86fa7de1fa9a9d6c9f8d38a4" title="ripple::Database::getBinary" alt="" coords="865,212,1044,241"/><area shape="rect" id="node27" href="../../da/d61/a01350.html#a32c26f7ab6d19e352751979c9d56eccd" title="ripple::Serializer\l::begin" alt="" coords="897,265,1012,311"/><area shape="rect" id="node19" href="../../d5/db5/a00374.html#a5b7ed864f9f854446470c987b37ebecc" title="ripple::Database::getCol\lNumber" alt="" coords="1093,150,1256,197"/><area shape="rect" id="node33" href="../../de/de6/a01063.html#a5b8ee783b77679fb2fad2543ab521a90" title="ripple::Overlay::getActive\lPeers" alt="" coords="439,333,607,379"/><area shape="rect" id="node37" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="867,593,1043,639"/><area shape="rect" id="node56" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a" title="ripple::NetworkOPsImp\l::getNetworkTimePT" alt="" coords="444,750,601,797"/><area shape="rect" id="node61" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7" title="ripple::iToSeconds" alt="" coords="457,915,588,944"/><area shape="rect" id="node59" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678" title="ripple::Application\l::getSystemTimeOffset" alt="" coords="657,750,815,797"/><area shape="rect" id="node63" href="../../d9/d9d/a03417.html#a00572ed03b233ecd42f36357a395c163" title="ripple::ptEpoch" alt="" coords="681,915,791,944"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a312a6368f14118216b064f292349db31"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::setClusterTimer </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00525">525</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00475">m_clusterTimer</a>, and <a class="el" href="../../db/db3/a02301_source.html#l00228">beast::DeadlineTimer::setExpiration()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00598">processClusterTimer()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00514">setStateTimer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00526"></a><span class="lineno">  526</span>&#160;{</div>
<div class="line"><a name="l00527"></a><span class="lineno">  527</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a60648a56c0b87aac12e9cf2d03706a82">m_clusterTimer</a>.<a class="code" href="../../da/dbf/a00393.html#a5dbf2e6b83b1443b20f929e2e6278be7">setExpiration</a> (10.0);</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a312a6368f14118216b064f292349db31_cgraph.png" border="0" usemap="#d7/ded/a01009_a312a6368f14118216b064f292349db31_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a312a6368f14118216b064f292349db31_cgraph" id="d7/ded/a01009_a312a6368f14118216b064f292349db31_cgraph">
<area shape="rect" id="node3" href="../../da/dbf/a00393.html#a5dbf2e6b83b1443b20f929e2e6278be7" title="beast::DeadlineTimer\l::setExpiration" alt="" coords="213,49,360,95"/><area shape="rect" id="node5" href="../../d7/dbf/a01239.html#af05860d57c0bf4854596ccbaf191e9e3" title="beast::RelativeTime\l::fromStartup" alt="" coords="408,49,547,95"/><area shape="rect" id="node7" href="../../d6/d18/a03350.html#a05b9ebb2b8f42f2c0add7c0a27dd0e47" title="beast::detail::getStartupTime" alt="" coords="596,5,785,35"/><area shape="rect" id="node9" href="../../d6/d18/a03350.html#a5a1078c54fc6cc03ff318d0bab6871bc" title="beast::detail::monotonic\lCurrentTimeInSeconds" alt="" coords="836,23,996,70"/><area shape="rect" id="node12" href="../../d7/dbf/a01239.html#a36a8e77c75eb5a22da1f0fabd303784b" title="beast::RelativeTime\l::RelativeTime" alt="" coords="621,109,760,155"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a312a6368f14118216b064f292349db31_icgraph.png" border="0" usemap="#d7/ded/a01009_a312a6368f14118216b064f292349db31_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a312a6368f14118216b064f292349db31_icgraph" id="d7/ded/a01009_a312a6368f14118216b064f292349db31_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a01173fbae7b2fe63dc7028120fb55862" title="ripple::NetworkOPsImp\l::processClusterTimer" alt="" coords="215,5,372,51"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#aeebdd50174206918ffeb8bb6eab81db9" title="ripple::NetworkOPsImp\l::setStateTimer" alt="" coords="215,74,372,121"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#ab8272588ee692e125af4d7841af32618" title="ripple::NetworkOPsImp\l::onDeadlineTimer" alt="" coords="423,5,580,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5fce17a1dc4061675f0eff7c7d3f6f55"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::setFeatureBlocked </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a2ff48f9e8183e9025e1c468368263f7f">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01194">1194</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00472">mFeatureBlocked</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00078">ripple::NetworkOPs::omTRACKING</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01717">setMode()</a>.</p>
<div class="fragment"><div class="line"><a name="l01195"></a><span class="lineno"> 1195</span>&#160;{</div>
<div class="line"><a name="l01196"></a><span class="lineno"> 1196</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a492366ff8770557052effe9758495427">mFeatureBlocked</a> = <span class="keyword">true</span>;</div>
<div class="line"><a name="l01197"></a><span class="lineno"> 1197</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40">setMode</a> (<a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaae419906cda8f51387b7c8ea5e06b897b">omTRACKING</a>);</div>
<div class="line"><a name="l01198"></a><span class="lineno"> 1198</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a5fce17a1dc4061675f0eff7c7d3f6f55_cgraph.png" border="0" usemap="#d7/ded/a01009_a5fce17a1dc4061675f0eff7c7d3f6f55_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a5fce17a1dc4061675f0eff7c7d3f6f55_cgraph" id="d7/ded/a01009_a5fce17a1dc4061675f0eff7c7d3f6f55_cgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40" title="ripple::NetworkOPsImp\l::setMode" alt="" coords="215,141,372,187"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="659,53,760,83"/><area shape="rect" id="node9" href="../../d4/d87/a03436.html#a437c68f3299fa632d4a1694059fd6ddb" title="rocksdb::Log" alt="" coords="453,243,549,272"/><area shape="rect" id="node11" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f" title="ripple::NetworkOPsImp\l::strOperatingMode" alt="" coords="631,106,788,153"/><area shape="rect" id="node13" href="../../d7/ded/a01009.html#a768673e1643af3147b10b4d99aca8caf" title="ripple::NetworkOPsImp\l::pubServer" alt="" coords="423,173,580,219"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="844,45,1020,91"/><area shape="rect" id="node16" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb" title="ripple::Application\l::getFeeTrack" alt="" coords="647,298,772,345"/><area shape="rect" id="node18" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0" title="ripple::LoadFeeTrack\l::getLoadBase" alt="" coords="637,367,781,414"/><area shape="rect" id="node20" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac" title="ripple::LoadFeeTrack\l::getLoadFactor" alt="" coords="637,175,781,222"/><area shape="rect" id="node23" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="632,245,787,275"/><area shape="rect" id="node25" href="../../d7/def/a00521.html#a2ef4a2ce13a341171f01f414f4fdd765" title="Json::FastWriter::writeValue" alt="" coords="839,245,1025,275"/><area shape="rect" id="node27" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="1109,5,1248,35"/><area shape="rect" id="node29" href="../../d6/d27/a01781.html#a5b7da48b163bcec63b1424f1608b7da6" title="Json::Value::asCString" alt="" coords="1100,59,1257,88"/><area shape="rect" id="node31" href="../../d6/d27/a01781.html#a33434ed1c0217a34d04c95fa5342fd37" title="Json::Value::asDouble" alt="" coords="1101,112,1256,141"/><area shape="rect" id="node33" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="1115,165,1243,195"/><area shape="rect" id="node35" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="1109,219,1248,248"/><area shape="rect" id="node37" href="../../d6/d27/a01781.html#a30fa08af88f2d0a038b22ba9f4e88b2a" title="Return a list of the member names. " alt="" coords="1076,272,1281,301"/><area shape="rect" id="node39" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="1117,325,1240,355"/><area shape="rect" id="node41" href="../../d6/d27/a01781.html#a695ef31fad36b4712918b3ff80158479" title="Json::Value::type" alt="" coords="1117,379,1240,408"/><area shape="rect" id="node43" href="../../d2/dd6/a03414.html#aa0c8235a4a5c6599da5d3332743db8ac" title="Json::valueToQuotedString" alt="" coords="1089,432,1268,461"/><area shape="rect" id="node50" href="../../d2/dd6/a03414.html#a5d3eba6789f9a9c1ab563ff8b4a5090f" title="Json::valueToString" alt="" coords="1109,485,1248,515"/><area shape="rect" id="node45" href="../../d2/dd6/a03414.html#aa11b210ff98a4f4dd4e2df19260f8c3a" title="Json::containsControlCharacter" alt="" coords="1332,432,1537,461"/><area shape="rect" id="node47" href="../../d2/dd6/a03414.html#a0381e631737f51331065a388f4f59197" title="Json::isControlCharacter" alt="" coords="1588,407,1753,436"/><area shape="rect" id="node52" href="../../d2/dd6/a03414.html#a0c9ecf21515ffa8092201ad908609dc7" title="Json::uintToString" alt="" coords="1371,485,1499,515"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0d6bcbe95c3e423d83d68599fd34a637"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::setHeartbeatTimer </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00520">520</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../da/dad/a02928_source.html#l00053">LEDGER_GRANULARITY</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00474">m_heartbeatTimer</a>, and <a class="el" href="../../db/db3/a02301_source.html#l00228">beast::DeadlineTimer::setExpiration()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00544">processHeartbeatTimer()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00514">setStateTimer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00521"></a><span class="lineno">  521</span>&#160;{</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#ac104b6edd5abf8dd78fd53143a3258d5">m_heartbeatTimer</a>.<a class="code" href="../../da/dbf/a00393.html#a5dbf2e6b83b1443b20f929e2e6278be7">setExpiration</a> (<a class="code" href="../../da/dad/a02928.html#acf48b07fa49294f161584273291fe974">LEDGER_GRANULARITY</a> / 1000.0);</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a0d6bcbe95c3e423d83d68599fd34a637_cgraph.png" border="0" usemap="#d7/ded/a01009_a0d6bcbe95c3e423d83d68599fd34a637_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a0d6bcbe95c3e423d83d68599fd34a637_cgraph" id="d7/ded/a01009_a0d6bcbe95c3e423d83d68599fd34a637_cgraph">
<area shape="rect" id="node3" href="../../da/dbf/a00393.html#a5dbf2e6b83b1443b20f929e2e6278be7" title="beast::DeadlineTimer\l::setExpiration" alt="" coords="213,49,360,95"/><area shape="rect" id="node5" href="../../d7/dbf/a01239.html#af05860d57c0bf4854596ccbaf191e9e3" title="beast::RelativeTime\l::fromStartup" alt="" coords="408,49,547,95"/><area shape="rect" id="node7" href="../../d6/d18/a03350.html#a05b9ebb2b8f42f2c0add7c0a27dd0e47" title="beast::detail::getStartupTime" alt="" coords="596,5,785,35"/><area shape="rect" id="node9" href="../../d6/d18/a03350.html#a5a1078c54fc6cc03ff318d0bab6871bc" title="beast::detail::monotonic\lCurrentTimeInSeconds" alt="" coords="836,23,996,70"/><area shape="rect" id="node12" href="../../d7/dbf/a01239.html#a36a8e77c75eb5a22da1f0fabd303784b" title="beast::RelativeTime\l::RelativeTime" alt="" coords="621,109,760,155"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a0d6bcbe95c3e423d83d68599fd34a637_icgraph.png" border="0" usemap="#d7/ded/a01009_a0d6bcbe95c3e423d83d68599fd34a637_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a0d6bcbe95c3e423d83d68599fd34a637_icgraph" id="d7/ded/a01009_a0d6bcbe95c3e423d83d68599fd34a637_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#adb95084185570756c8a39ba0e32fb3ed" title="ripple::NetworkOPsImp\l::processHeartbeatTimer" alt="" coords="215,5,380,51"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#aeebdd50174206918ffeb8bb6eab81db9" title="ripple::NetworkOPsImp\l::setStateTimer" alt="" coords="219,74,376,121"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#ab8272588ee692e125af4d7841af32618" title="ripple::NetworkOPsImp\l::onDeadlineTimer" alt="" coords="431,5,588,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afe3e399b206271e9e2fa60cd91825f1f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::setLastCloseTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td>
          <td class="paramname"><em>t</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a939df1934a5e67c2fee0583676e0cf24">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00320">320</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00488">mLastCloseTime</a>.</p>
<div class="fragment"><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    {</div>
<div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a1fd523c6f3b57b16302105c070f7d029">mLastCloseTime</a> = t;</div>
<div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a10254a60596aa1ccff32b06c6989b604"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::setLastValidation </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d6c/a01349.html#a7e0a3cc2f01beeb07e2852ad4eb7b9dc">SerializedValidation::ref</a>&#160;</td>
          <td class="paramname"><em>v</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a56950f16ba23fef4918d8f6f03fb56d2">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00147">147</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00490">mLastValidation</a>.</p>
<div class="fragment"><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    {</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#add3af110179d9191d3792b6b5088a8e5">mLastValidation</a> = v;</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a0c56ed3ad69785bf57409e453f434f40"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::setMode </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aa">OperatingMode</a>&#160;</td>
          <td class="paramname"><em>om</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01717">1717</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../dd/d01/a02729_source.html#l00054">rocksdb::Log()</a>, <a class="el" href="../../d8/d4b/a03093_source.html#l00030">ripple::lsINFO</a>, <a class="el" href="../../d8/d4b/a03093_source.html#l00031">ripple::lsWARNING</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00473">mConnectTime</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00472">mFeatureBlocked</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00469">mMode</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00076">ripple::NetworkOPs::omCONNECTED</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00075">ripple::NetworkOPs::omDISCONNECTED</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00077">ripple::NetworkOPs::omSYNCING</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00078">ripple::NetworkOPs::omTRACKING</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01675">pubServer()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00638">strOperatingMode()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l01449">beginConsensus()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01268">checkLastClosedLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01669">consensusViewChange()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01483">haveConsensusObject()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00544">processHeartbeatTimer()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01194">setFeatureBlocked()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00262">setStandAlone()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01233">tryStartConsensus()</a>.</p>
<div class="fragment"><div class="line"><a name="l01718"></a><span class="lineno"> 1718</span>&#160;{</div>
<div class="line"><a name="l01719"></a><span class="lineno"> 1719</span>&#160;</div>
<div class="line"><a name="l01720"></a><span class="lineno"> 1720</span>&#160;    <span class="keywordflow">if</span> (om == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaa8bc5065cbfcab22cf30b012231f25106">omCONNECTED</a>)</div>
<div class="line"><a name="l01721"></a><span class="lineno"> 1721</span>&#160;    {</div>
<div class="line"><a name="l01722"></a><span class="lineno"> 1722</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getLedgerMaster ().getValidatedLedgerAge () &lt; 60)</div>
<div class="line"><a name="l01723"></a><span class="lineno"> 1723</span>&#160;            om = <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaacef3f23406b4e678986eb3be3a7ccfd9">omSYNCING</a>;</div>
<div class="line"><a name="l01724"></a><span class="lineno"> 1724</span>&#160;    }</div>
<div class="line"><a name="l01725"></a><span class="lineno"> 1725</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (om == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaacef3f23406b4e678986eb3be3a7ccfd9">omSYNCING</a>)</div>
<div class="line"><a name="l01726"></a><span class="lineno"> 1726</span>&#160;    {</div>
<div class="line"><a name="l01727"></a><span class="lineno"> 1727</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getLedgerMaster ().getValidatedLedgerAge () &gt;= 60)</div>
<div class="line"><a name="l01728"></a><span class="lineno"> 1728</span>&#160;            om = <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaa8bc5065cbfcab22cf30b012231f25106">omCONNECTED</a>;</div>
<div class="line"><a name="l01729"></a><span class="lineno"> 1729</span>&#160;    }</div>
<div class="line"><a name="l01730"></a><span class="lineno"> 1730</span>&#160;</div>
<div class="line"><a name="l01731"></a><span class="lineno"> 1731</span>&#160;    <span class="keywordflow">if</span> ((om &gt; <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaae419906cda8f51387b7c8ea5e06b897b">omTRACKING</a>) &amp;&amp; <a class="code" href="../../d7/ded/a01009.html#a492366ff8770557052effe9758495427">mFeatureBlocked</a>)</div>
<div class="line"><a name="l01732"></a><span class="lineno"> 1732</span>&#160;        om = <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaae419906cda8f51387b7c8ea5e06b897b">omTRACKING</a>;</div>
<div class="line"><a name="l01733"></a><span class="lineno"> 1733</span>&#160;</div>
<div class="line"><a name="l01734"></a><span class="lineno"> 1734</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> == om)</div>
<div class="line"><a name="l01735"></a><span class="lineno"> 1735</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01736"></a><span class="lineno"> 1736</span>&#160;</div>
<div class="line"><a name="l01737"></a><span class="lineno"> 1737</span>&#160;    <span class="keywordflow">if</span> ((om &gt;= <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaa8bc5065cbfcab22cf30b012231f25106">omCONNECTED</a>) &amp;&amp; (<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaa342db1d1189a8475f5a81bb5c62b81c6">omDISCONNECTED</a>))</div>
<div class="line"><a name="l01738"></a><span class="lineno"> 1738</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a34d887b9dcb04769bc88cc04ebefe999">mConnectTime</a> = boost::posix_time::second_clock::universal_time ();</div>
<div class="line"><a name="l01739"></a><span class="lineno"> 1739</span>&#160;</div>
<div class="line"><a name="l01740"></a><span class="lineno"> 1740</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> = om;</div>
<div class="line"><a name="l01741"></a><span class="lineno"> 1741</span>&#160;</div>
<div class="line"><a name="l01742"></a><span class="lineno"> 1742</span>&#160;    <a class="code" href="../../d4/d87/a03436.html#a437c68f3299fa632d4a1694059fd6ddb">Log</a> ((om &lt; <a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a>) ? <a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a4f9eb9b54b9bf0586ad6249697d4adde">lsWARNING</a> : <a class="code" href="../../d9/d9d/a03417.html#afc7159a6877417e38472fbbd425f2244a275905728c3e58efd16146a7e25c5df6">lsINFO</a>) &lt;&lt; <span class="stringliteral">&quot;STATE-&gt;&quot;</span> &lt;&lt; <a class="code" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f">strOperatingMode</a> ();</div>
<div class="line"><a name="l01743"></a><span class="lineno"> 1743</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a768673e1643af3147b10b4d99aca8caf">pubServer</a> ();</div>
<div class="line"><a name="l01744"></a><span class="lineno"> 1744</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a0c56ed3ad69785bf57409e453f434f40_cgraph.png" border="0" usemap="#d7/ded/a01009_a0c56ed3ad69785bf57409e453f434f40_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a0c56ed3ad69785bf57409e453f434f40_cgraph" id="d7/ded/a01009_a0c56ed3ad69785bf57409e453f434f40_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="451,13,552,43"/><area shape="rect" id="node7" href="../../d4/d87/a03436.html#a437c68f3299fa632d4a1694059fd6ddb" title="rocksdb::Log" alt="" coords="245,131,341,160"/><area shape="rect" id="node9" href="../../d7/ded/a01009.html#a768673e1643af3147b10b4d99aca8caf" title="ripple::NetworkOPsImp\l::pubServer" alt="" coords="215,183,372,230"/><area shape="rect" id="node18" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f" title="ripple::NetworkOPsImp\l::strOperatingMode" alt="" coords="423,327,580,374"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="636,5,812,51"/><area shape="rect" id="node12" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb" title="ripple::Application\l::getFeeTrack" alt="" coords="439,66,564,113"/><area shape="rect" id="node14" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0" title="ripple::LoadFeeTrack\l::getLoadBase" alt="" coords="429,135,573,182"/><area shape="rect" id="node16" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac" title="ripple::LoadFeeTrack\l::getLoadFactor" alt="" coords="429,205,573,251"/><area shape="rect" id="node20" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="424,275,579,304"/><area shape="rect" id="node22" href="../../d7/def/a00521.html#a2ef4a2ce13a341171f01f414f4fdd765" title="Json::FastWriter::writeValue" alt="" coords="631,275,817,304"/><area shape="rect" id="node24" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="901,35,1040,64"/><area shape="rect" id="node26" href="../../d6/d27/a01781.html#a5b7da48b163bcec63b1424f1608b7da6" title="Json::Value::asCString" alt="" coords="892,88,1049,117"/><area shape="rect" id="node28" href="../../d6/d27/a01781.html#a33434ed1c0217a34d04c95fa5342fd37" title="Json::Value::asDouble" alt="" coords="893,141,1048,171"/><area shape="rect" id="node30" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="907,195,1035,224"/><area shape="rect" id="node32" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="901,248,1040,277"/><area shape="rect" id="node34" href="../../d6/d27/a01781.html#a30fa08af88f2d0a038b22ba9f4e88b2a" title="Return a list of the member names. " alt="" coords="868,301,1073,331"/><area shape="rect" id="node36" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="909,355,1032,384"/><area shape="rect" id="node38" href="../../d6/d27/a01781.html#a695ef31fad36b4712918b3ff80158479" title="Json::Value::type" alt="" coords="909,408,1032,437"/><area shape="rect" id="node40" href="../../d2/dd6/a03414.html#aa0c8235a4a5c6599da5d3332743db8ac" title="Json::valueToQuotedString" alt="" coords="881,461,1060,491"/><area shape="rect" id="node47" href="../../d2/dd6/a03414.html#a5d3eba6789f9a9c1ab563ff8b4a5090f" title="Json::valueToString" alt="" coords="901,515,1040,544"/><area shape="rect" id="node42" href="../../d2/dd6/a03414.html#aa11b210ff98a4f4dd4e2df19260f8c3a" title="Json::containsControlCharacter" alt="" coords="1124,411,1329,440"/><area shape="rect" id="node44" href="../../d2/dd6/a03414.html#a0381e631737f51331065a388f4f59197" title="Json::isControlCharacter" alt="" coords="1380,437,1545,467"/><area shape="rect" id="node49" href="../../d2/dd6/a03414.html#a0c9ecf21515ffa8092201ad908609dc7" title="Json::uintToString" alt="" coords="1163,515,1291,544"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a0c56ed3ad69785bf57409e453f434f40_icgraph.png" border="0" usemap="#d7/ded/a01009_a0c56ed3ad69785bf57409e453f434f40_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a0c56ed3ad69785bf57409e453f434f40_icgraph" id="d7/ded/a01009_a0c56ed3ad69785bf57409e453f434f40_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a0a714120f440d54c69a4a39e803f9d1a" title="ripple::NetworkOPsImp\l::beginConsensus" alt="" coords="220,126,377,173"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#ac929d58ce61af6b87922103bf3da3039" title="ripple::NetworkOPsImp\l::haveConsensusObject" alt="" coords="643,139,805,186"/><area shape="rect" id="node17" href="../../d7/ded/a01009.html#a6a3776d980baee062b961c0195bc43be" title="ripple::NetworkOPsImp\l::tryStartConsensus" alt="" coords="433,246,591,293"/><area shape="rect" id="node19" href="../../d7/ded/a01009.html#adb95084185570756c8a39ba0e32fb3ed" title="ripple::NetworkOPsImp\l::processHeartbeatTimer" alt="" coords="641,298,807,345"/><area shape="rect" id="node24" href="../../d7/ded/a01009.html#ad72f54405ed9b8219022e8c2b7796c98" title="ripple::NetworkOPsImp\l::checkLastClosedLedger" alt="" coords="213,195,384,242"/><area shape="rect" id="node28" href="../../d7/ded/a01009.html#a6f084e481032cbda8f923ff3dcc3e0b5" title="ripple::NetworkOPsImp\l::consensusViewChange" alt="" coords="216,366,381,413"/><area shape="rect" id="node32" href="../../d7/ded/a01009.html#a5fce17a1dc4061675f0eff7c7d3f6f55" title="ripple::NetworkOPsImp\l::setFeatureBlocked" alt="" coords="220,435,377,482"/><area shape="rect" id="node34" href="../../d7/ded/a01009.html#a31de822fcc36dc8f7f288d6702786746" title="ripple::NetworkOPsImp\l::setStandAlone" alt="" coords="220,505,377,551"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#aba0a801a4063f8d34e523e1537765cad" title="ripple::NetworkOPsImp\l::acceptLedger" alt="" coords="433,75,591,122"/><area shape="rect" id="node9" href="../../d7/ded/a01009.html#a27090d36556b8665cbd908efa99e2a05" title="ripple::NetworkOPsImp\l::getConsensusLCL" alt="" coords="863,213,1020,259"/><area shape="rect" id="node11" href="../../d7/ded/a01009.html#a7fc7ee8501f9d95df97583cabf3b4771" title="ripple::NetworkOPsImp\l::getTXMap" alt="" coords="863,5,1020,51"/><area shape="rect" id="node13" href="../../d7/ded/a01009.html#aff24b82af590d1db837231ad0125eee4" title="ripple::NetworkOPsImp\l::mapComplete" alt="" coords="863,74,1020,121"/><area shape="rect" id="node15" href="../../d7/ded/a01009.html#a148e1e8d0c5128ee48e0206cdeb5e2a0" title="ripple::NetworkOPsImp\l::processTrustedProposal" alt="" coords="856,143,1027,190"/><area shape="rect" id="node21" href="../../d7/ded/a01009.html#ab8272588ee692e125af4d7841af32618" title="ripple::NetworkOPsImp\l::onDeadlineTimer" alt="" coords="863,298,1020,345"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad3232c880a1f46468b4f7c8da4516be4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::setProposing </td>
          <td>(</td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>p</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>v</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a0dd6e7866a60f7d7b252c304cb2f0a32">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00289">289</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00471">mProposing</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00471">mValidating</a>.</p>
<div class="fragment"><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;    {</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a83d0181caae154387781bb0bcf3c4bf9">mProposing</a> = p;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a2e59597ec8206a1b89bd319946acc929">mValidating</a> = v;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a31de822fcc36dc8f7f288d6702786746"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::setStandAlone </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a6fe4993dc5d3b89ff38090790d83bfd4">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00262">262</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../dd/d8f/a02970_source.html#l00079">ripple::NetworkOPs::omFULL</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01717">setMode()</a>.</p>
<div class="fragment"><div class="line"><a name="l00263"></a><span class="lineno">  263</span>&#160;    {</div>
<div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40">setMode</a> (<a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaafaf756912385746855189063c6bd422d">omFULL</a>);</div>
<div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;    }</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a31de822fcc36dc8f7f288d6702786746_cgraph.png" border="0" usemap="#d7/ded/a01009_a31de822fcc36dc8f7f288d6702786746_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a31de822fcc36dc8f7f288d6702786746_cgraph" id="d7/ded/a01009_a31de822fcc36dc8f7f288d6702786746_cgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40" title="ripple::NetworkOPsImp\l::setMode" alt="" coords="215,153,372,199"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="659,13,760,43"/><area shape="rect" id="node9" href="../../d4/d87/a03436.html#a437c68f3299fa632d4a1694059fd6ddb" title="rocksdb::Log" alt="" coords="453,131,549,160"/><area shape="rect" id="node11" href="../../d7/ded/a01009.html#a768673e1643af3147b10b4d99aca8caf" title="ripple::NetworkOPsImp\l::pubServer" alt="" coords="423,183,580,230"/><area shape="rect" id="node20" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f" title="ripple::NetworkOPsImp\l::strOperatingMode" alt="" coords="631,327,788,374"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="844,5,1020,51"/><area shape="rect" id="node14" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb" title="ripple::Application\l::getFeeTrack" alt="" coords="647,66,772,113"/><area shape="rect" id="node16" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0" title="ripple::LoadFeeTrack\l::getLoadBase" alt="" coords="637,135,781,182"/><area shape="rect" id="node18" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac" title="ripple::LoadFeeTrack\l::getLoadFactor" alt="" coords="637,205,781,251"/><area shape="rect" id="node22" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="632,275,787,304"/><area shape="rect" id="node24" href="../../d7/def/a00521.html#a2ef4a2ce13a341171f01f414f4fdd765" title="Json::FastWriter::writeValue" alt="" coords="839,275,1025,304"/><area shape="rect" id="node26" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="1109,35,1248,64"/><area shape="rect" id="node28" href="../../d6/d27/a01781.html#a5b7da48b163bcec63b1424f1608b7da6" title="Json::Value::asCString" alt="" coords="1100,88,1257,117"/><area shape="rect" id="node30" href="../../d6/d27/a01781.html#a33434ed1c0217a34d04c95fa5342fd37" title="Json::Value::asDouble" alt="" coords="1101,141,1256,171"/><area shape="rect" id="node32" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="1115,195,1243,224"/><area shape="rect" id="node34" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="1109,248,1248,277"/><area shape="rect" id="node36" href="../../d6/d27/a01781.html#a30fa08af88f2d0a038b22ba9f4e88b2a" title="Return a list of the member names. " alt="" coords="1076,301,1281,331"/><area shape="rect" id="node38" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="1117,355,1240,384"/><area shape="rect" id="node40" href="../../d6/d27/a01781.html#a695ef31fad36b4712918b3ff80158479" title="Json::Value::type" alt="" coords="1117,408,1240,437"/><area shape="rect" id="node42" href="../../d2/dd6/a03414.html#aa0c8235a4a5c6599da5d3332743db8ac" title="Json::valueToQuotedString" alt="" coords="1089,461,1268,491"/><area shape="rect" id="node49" href="../../d2/dd6/a03414.html#a5d3eba6789f9a9c1ab563ff8b4a5090f" title="Json::valueToString" alt="" coords="1109,515,1248,544"/><area shape="rect" id="node44" href="../../d2/dd6/a03414.html#aa11b210ff98a4f4dd4e2df19260f8c3a" title="Json::containsControlCharacter" alt="" coords="1332,411,1537,440"/><area shape="rect" id="node46" href="../../d2/dd6/a03414.html#a0381e631737f51331065a388f4f59197" title="Json::isControlCharacter" alt="" coords="1588,437,1753,467"/><area shape="rect" id="node51" href="../../d2/dd6/a03414.html#a0c9ecf21515ffa8092201ad908609dc7" title="Json::uintToString" alt="" coords="1371,515,1499,544"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aeebdd50174206918ffeb8bb6eab81db9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::setStateTimer </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Called to initially start our timers. Not called for stand-alone mode. </p>

<p>Implements <a class="el" href="../../dd/dac/a01008.html#afa309faddae30361165a1e79ae888bf1">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00514">514</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00525">setClusterTimer()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00520">setHeartbeatTimer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;{</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a0d6bcbe95c3e423d83d68599fd34a637">setHeartbeatTimer</a> ();</div>
<div class="line"><a name="l00517"></a><span class="lineno">  517</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a312a6368f14118216b064f292349db31">setClusterTimer</a> ();</div>
<div class="line"><a name="l00518"></a><span class="lineno">  518</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_aeebdd50174206918ffeb8bb6eab81db9_cgraph.png" border="0" usemap="#d7/ded/a01009_aeebdd50174206918ffeb8bb6eab81db9_cgraph" alt=""/></div>
<map name="d7/ded/a01009_aeebdd50174206918ffeb8bb6eab81db9_cgraph" id="d7/ded/a01009_aeebdd50174206918ffeb8bb6eab81db9_cgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a312a6368f14118216b064f292349db31" title="ripple::NetworkOPsImp\l::setClusterTimer" alt="" coords="215,14,372,61"/><area shape="rect" id="node16" href="../../d7/ded/a01009.html#a0d6bcbe95c3e423d83d68599fd34a637" title="ripple::NetworkOPsImp\l::setHeartbeatTimer" alt="" coords="215,83,372,130"/><area shape="rect" id="node5" href="../../da/dbf/a00393.html#a5dbf2e6b83b1443b20f929e2e6278be7" title="beast::DeadlineTimer\l::setExpiration" alt="" coords="421,49,568,95"/><area shape="rect" id="node7" href="../../d7/dbf/a01239.html#af05860d57c0bf4854596ccbaf191e9e3" title="beast::RelativeTime\l::fromStartup" alt="" coords="616,49,755,95"/><area shape="rect" id="node9" href="../../d6/d18/a03350.html#a05b9ebb2b8f42f2c0add7c0a27dd0e47" title="beast::detail::getStartupTime" alt="" coords="804,5,993,35"/><area shape="rect" id="node11" href="../../d6/d18/a03350.html#a5a1078c54fc6cc03ff318d0bab6871bc" title="beast::detail::monotonic\lCurrentTimeInSeconds" alt="" coords="1044,23,1204,70"/><area shape="rect" id="node14" href="../../d7/dbf/a01239.html#a36a8e77c75eb5a22da1f0fabd303784b" title="beast::RelativeTime\l::RelativeTime" alt="" coords="829,109,968,155"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a668898843d1bd446f4c0ec6901d0ab14"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::shouldFetchPack </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td>
          <td class="paramname"><em>seq</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a52fdc913a68d92b5443b5f3e664f095a">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l03288">3288</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00506">mFetchSeq</a>.</p>
<div class="fragment"><div class="line"><a name="l03289"></a><span class="lineno"> 3289</span>&#160;{</div>
<div class="line"><a name="l03290"></a><span class="lineno"> 3290</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#acb8697514ba427ff0c66285944f83705">mFetchSeq</a> == seq)</div>
<div class="line"><a name="l03291"></a><span class="lineno"> 3291</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l03292"></a><span class="lineno"> 3292</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#acb8697514ba427ff0c66285944f83705">mFetchSeq</a> = seq;</div>
<div class="line"><a name="l03293"></a><span class="lineno"> 3293</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l03294"></a><span class="lineno"> 3294</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="adce04a090daf42f13e79a24e0814e4e1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::stillNeedTXSet </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> const &amp;&#160;</td>
          <td class="paramname"><em>hash</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a250b75ab716cc95f726f00923fbff57c">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01637">1637</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00476">mConsensus</a>.</p>
<div class="fragment"><div class="line"><a name="l01638"></a><span class="lineno"> 1638</span>&#160;{</div>
<div class="line"><a name="l01639"></a><span class="lineno"> 1639</span>&#160;    <span class="keywordflow">if</span> (!<a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a>)</div>
<div class="line"><a name="l01640"></a><span class="lineno"> 1640</span>&#160;        <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l01641"></a><span class="lineno"> 1641</span>&#160;</div>
<div class="line"><a name="l01642"></a><span class="lineno"> 1642</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a>-&gt;stillNeedTXSet (<a class="code" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a>);</div>
<div class="line"><a name="l01643"></a><span class="lineno"> 1643</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a9f335c9702b1020e07700e26ae9237cf"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::storeProposal </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../df/de8/a00839.html#add6440940c08aea0de0a90ce4f5c701e">LedgerProposal::ref</a>&#160;</td>
          <td class="paramname"><em>proposal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>peerPublic</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a1c5c38f7bfdad0f2733d2f0eb3d87033">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02725">2725</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d2/d23/a03186_source.html#l00109">ripple::RippleAddress::getNodeID()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00486">mLastCloseProposers</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00478">mStoredProposals</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l01520">processTrustedProposal()</a>.</p>
<div class="fragment"><div class="line"><a name="l02726"></a><span class="lineno"> 2726</span>&#160;{</div>
<div class="line"><a name="l02727"></a><span class="lineno"> 2727</span>&#160;    std::list&lt;LedgerProposal::pointer&gt;&amp; props = <a class="code" href="../../d7/ded/a01009.html#a1d4bb7577a8035481eaaffafb4ae0861">mStoredProposals</a>[peerPublic.getNodeID ()];</div>
<div class="line"><a name="l02728"></a><span class="lineno"> 2728</span>&#160;</div>
<div class="line"><a name="l02729"></a><span class="lineno"> 2729</span>&#160;    <span class="keywordflow">if</span> (props.size () &gt;= (unsigned) (<a class="code" href="../../d7/ded/a01009.html#a8b5d139cf2208caba068486e449b66e8">mLastCloseProposers</a> + 10))</div>
<div class="line"><a name="l02730"></a><span class="lineno"> 2730</span>&#160;        props.pop_front ();</div>
<div class="line"><a name="l02731"></a><span class="lineno"> 2731</span>&#160;</div>
<div class="line"><a name="l02732"></a><span class="lineno"> 2732</span>&#160;    props.push_back (proposal);</div>
<div class="line"><a name="l02733"></a><span class="lineno"> 2733</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a9f335c9702b1020e07700e26ae9237cf_cgraph.png" border="0" usemap="#d7/ded/a01009_a9f335c9702b1020e07700e26ae9237cf_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a9f335c9702b1020e07700e26ae9237cf_cgraph" id="d7/ded/a01009_a9f335c9702b1020e07700e26ae9237cf_cgraph">
<area shape="rect" id="node3" href="../../d4/d0e/a01272.html#abead041d13890ad9c8938c28f27f8ccd" title="ripple::RippleAddress\l::getNodeID" alt="" coords="213,5,360,51"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="409,13,521,43"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a9f335c9702b1020e07700e26ae9237cf_icgraph.png" border="0" usemap="#d7/ded/a01009_a9f335c9702b1020e07700e26ae9237cf_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a9f335c9702b1020e07700e26ae9237cf_icgraph" id="d7/ded/a01009_a9f335c9702b1020e07700e26ae9237cf_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a148e1e8d0c5128ee48e0206cdeb5e2a0" title="ripple::NetworkOPsImp\l::processTrustedProposal" alt="" coords="213,5,384,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a847ed5fa0e85b662ac0a3c7c5e236c9f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string ripple::NetworkOPsImp::strOperatingMode </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#ad776a4022fcc29997cc20d6ae4f7bdbe">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00638">638</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00469">mMode</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00471">mProposing</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00471">mValidating</a>, and <a class="el" href="../../dd/d8f/a02970_source.html#l00079">ripple::NetworkOPs::omFULL</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02168">getServerInfo()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01675">pubServer()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01717">setMode()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l02777">subServer()</a>.</p>
<div class="fragment"><div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;{</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>* paStatusToken [] =</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;    {</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="stringliteral">&quot;disconnected&quot;</span>,</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="stringliteral">&quot;connected&quot;</span>,</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="stringliteral">&quot;syncing&quot;</span>,</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <span class="stringliteral">&quot;tracking&quot;</span>,</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <span class="stringliteral">&quot;full&quot;</span></div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;    };</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaafaf756912385746855189063c6bd422d">omFULL</a>)</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;    {</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#a83d0181caae154387781bb0bcf3c4bf9">mProposing</a>)</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&quot;proposing&quot;</span>;</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#a2e59597ec8206a1b89bd319946acc929">mValidating</a>)</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;            <span class="keywordflow">return</span> <span class="stringliteral">&quot;validating&quot;</span>;</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;    }</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;    <span class="keywordflow">return</span> paStatusToken[<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a>];</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a847ed5fa0e85b662ac0a3c7c5e236c9f_icgraph.png" border="0" usemap="#d7/ded/a01009_a847ed5fa0e85b662ac0a3c7c5e236c9f_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a847ed5fa0e85b662ac0a3c7c5e236c9f_icgraph" id="d7/ded/a01009_a847ed5fa0e85b662ac0a3c7c5e236c9f_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a356932367043b41df75358206d0b5b36" title="ripple::NetworkOPsImp\l::getServerInfo" alt="" coords="215,151,372,198"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a768673e1643af3147b10b4d99aca8caf" title="ripple::NetworkOPsImp\l::pubServer" alt="" coords="215,221,372,267"/><area shape="rect" id="node9" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40" title="ripple::NetworkOPsImp\l::setMode" alt="" coords="423,281,580,327"/><area shape="rect" id="node46" href="../../d7/ded/a01009.html#a862ad4901433791b9bea86eb574b3aed" title="ripple::NetworkOPsImp\l::subServer" alt="" coords="215,341,372,387"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#a72a7f13b9a1836688253dbc468378f47" title="ripple::NetworkOPsImp\l::reportFeeChange" alt="" coords="423,211,580,258"/><area shape="rect" id="node11" href="../../d7/ded/a01009.html#a0a714120f440d54c69a4a39e803f9d1a" title="ripple::NetworkOPsImp\l::beginConsensus" alt="" coords="636,126,793,173"/><area shape="rect" id="node15" href="../../d7/ded/a01009.html#ac929d58ce61af6b87922103bf3da3039" title="ripple::NetworkOPsImp\l::haveConsensusObject" alt="" coords="1059,139,1221,186"/><area shape="rect" id="node25" href="../../d7/ded/a01009.html#a6a3776d980baee062b961c0195bc43be" title="ripple::NetworkOPsImp\l::tryStartConsensus" alt="" coords="849,246,1007,293"/><area shape="rect" id="node27" href="../../d7/ded/a01009.html#adb95084185570756c8a39ba0e32fb3ed" title="ripple::NetworkOPsImp\l::processHeartbeatTimer" alt="" coords="1057,290,1223,337"/><area shape="rect" id="node32" href="../../d7/ded/a01009.html#ad72f54405ed9b8219022e8c2b7796c98" title="ripple::NetworkOPsImp\l::checkLastClosedLedger" alt="" coords="629,195,800,242"/><area shape="rect" id="node36" href="../../d7/ded/a01009.html#a6f084e481032cbda8f923ff3dcc3e0b5" title="ripple::NetworkOPsImp\l::consensusViewChange" alt="" coords="632,366,797,413"/><area shape="rect" id="node40" href="../../d7/ded/a01009.html#a5fce17a1dc4061675f0eff7c7d3f6f55" title="ripple::NetworkOPsImp\l::setFeatureBlocked" alt="" coords="636,435,793,482"/><area shape="rect" id="node42" href="../../d7/ded/a01009.html#a31de822fcc36dc8f7f288d6702786746" title="ripple::NetworkOPsImp\l::setStandAlone" alt="" coords="636,505,793,551"/><area shape="rect" id="node13" href="../../d7/ded/a01009.html#aba0a801a4063f8d34e523e1537765cad" title="ripple::NetworkOPsImp\l::acceptLedger" alt="" coords="849,75,1007,122"/><area shape="rect" id="node17" href="../../d7/ded/a01009.html#a27090d36556b8665cbd908efa99e2a05" title="ripple::NetworkOPsImp\l::getConsensusLCL" alt="" coords="1279,213,1436,259"/><area shape="rect" id="node19" href="../../d7/ded/a01009.html#a7fc7ee8501f9d95df97583cabf3b4771" title="ripple::NetworkOPsImp\l::getTXMap" alt="" coords="1279,5,1436,51"/><area shape="rect" id="node21" href="../../d7/ded/a01009.html#aff24b82af590d1db837231ad0125eee4" title="ripple::NetworkOPsImp\l::mapComplete" alt="" coords="1279,74,1436,121"/><area shape="rect" id="node23" href="../../d7/ded/a01009.html#a148e1e8d0c5128ee48e0206cdeb5e2a0" title="ripple::NetworkOPsImp\l::processTrustedProposal" alt="" coords="1272,143,1443,190"/><area shape="rect" id="node29" href="../../d7/ded/a01009.html#ab8272588ee692e125af4d7841af32618" title="ripple::NetworkOPsImp\l::onDeadlineTimer" alt="" coords="1279,290,1436,337"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6376e001f86aec3bb254e6ad2199087f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::subAccount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/deb/a00710.html#af7ad8994c674d6ffe9be7039f7e9645b">InfoSub::ref</a>&#160;</td>
          <td class="paramname"><em>ispListener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::unordered_set&lt; <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vnaAccountIDs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td>
          <td class="paramname"><em>uLedgerIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>rt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../d5/dd0/a01438.html#a565ca94fd342520e53deae25df1fb355">ripple::InfoSub::Source</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02609">2609</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d2/d23/a03186_source.html#l00292">ripple::RippleAddress::getAccountID()</a>, <a class="el" href="../../d2/d23/a03186_source.html#l00317">ripple::RippleAddress::humanAccountID()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00467">mLock</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00495">mSubAccount</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00496">mSubRTAccount</a>, and <a class="el" href="../../dd/d07/a02132_source.html#l00243">beast::Journal::trace</a>.</p>
<div class="fragment"><div class="line"><a name="l02612"></a><span class="lineno"> 2612</span>&#160;{</div>
<div class="line"><a name="l02613"></a><span class="lineno"> 2613</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a478968e066d7dbbbb96c4645251eb49b">SubInfoMapType</a>&amp; subMap = rt ? <a class="code" href="../../d7/ded/a01009.html#ad592cfabec0a6bd2674d4652887fe5dd">mSubRTAccount</a> : <a class="code" href="../../d7/ded/a01009.html#a556fe55601cc1f11f8b60223bbe5039e">mSubAccount</a>;</div>
<div class="line"><a name="l02614"></a><span class="lineno"> 2614</span>&#160;</div>
<div class="line"><a name="l02615"></a><span class="lineno"> 2615</span>&#160;    <span class="comment">// For the connection, monitor each account.</span></div>
<div class="line"><a name="l02616"></a><span class="lineno"> 2616</span>&#160;    BOOST_FOREACH (<span class="keyword">const</span> RippleAddress &amp; naAccountID, vnaAccountIDs)</div>
<div class="line"><a name="l02617"></a><span class="lineno"> 2617</span>&#160;    {</div>
<div class="line"><a name="l02618"></a><span class="lineno"> 2618</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;subAccount:&quot;</span></div>
<div class="line"><a name="l02619"></a><span class="lineno"> 2619</span>&#160;            <span class="stringliteral">&quot; account: &quot;</span> &lt;&lt; naAccountID.humanAccountID ();</div>
<div class="line"><a name="l02620"></a><span class="lineno"> 2620</span>&#160;</div>
<div class="line"><a name="l02621"></a><span class="lineno"> 2621</span>&#160;        isrListener-&gt;insertSubAccountInfo (naAccountID, uLedgerIndex);</div>
<div class="line"><a name="l02622"></a><span class="lineno"> 2622</span>&#160;    }</div>
<div class="line"><a name="l02623"></a><span class="lineno"> 2623</span>&#160;</div>
<div class="line"><a name="l02624"></a><span class="lineno"> 2624</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a936ed96d8cb48a7a818e292345032bd3">ScopedLockType</a> sl (<a class="code" href="../../d7/ded/a01009.html#a28e64f295f2eca1f91a5a11239352071">mLock</a>);</div>
<div class="line"><a name="l02625"></a><span class="lineno"> 2625</span>&#160;</div>
<div class="line"><a name="l02626"></a><span class="lineno"> 2626</span>&#160;    BOOST_FOREACH (<span class="keyword">const</span> RippleAddress &amp; naAccountID, vnaAccountIDs)</div>
<div class="line"><a name="l02627"></a><span class="lineno"> 2627</span>&#160;    {</div>
<div class="line"><a name="l02628"></a><span class="lineno"> 2628</span>&#160;        SubInfoMapType::iterator    simIterator = subMap.find (naAccountID.getAccountID ());</div>
<div class="line"><a name="l02629"></a><span class="lineno"> 2629</span>&#160;</div>
<div class="line"><a name="l02630"></a><span class="lineno"> 2630</span>&#160;        <span class="keywordflow">if</span> (simIterator == subMap.end ())</div>
<div class="line"><a name="l02631"></a><span class="lineno"> 2631</span>&#160;        {</div>
<div class="line"><a name="l02632"></a><span class="lineno"> 2632</span>&#160;            <span class="comment">// Not found, note that account has a new single listner.</span></div>
<div class="line"><a name="l02633"></a><span class="lineno"> 2633</span>&#160;            <a class="code" href="../../dd/dac/a01008.html#adbb477955e5958d0f783a08e05429590">SubMapType</a>  usisElement;</div>
<div class="line"><a name="l02634"></a><span class="lineno"> 2634</span>&#160;            usisElement[isrListener-&gt;getSeq ()] = isrListener;</div>
<div class="line"><a name="l02635"></a><span class="lineno"> 2635</span>&#160;            subMap.insert (simIterator, make_pair (naAccountID.getAccountID (), usisElement));</div>
<div class="line"><a name="l02636"></a><span class="lineno"> 2636</span>&#160;        }</div>
<div class="line"><a name="l02637"></a><span class="lineno"> 2637</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02638"></a><span class="lineno"> 2638</span>&#160;        {</div>
<div class="line"><a name="l02639"></a><span class="lineno"> 2639</span>&#160;            <span class="comment">// Found, note that the account has another listener.</span></div>
<div class="line"><a name="l02640"></a><span class="lineno"> 2640</span>&#160;            simIterator-&gt;second[isrListener-&gt;getSeq ()] = isrListener;</div>
<div class="line"><a name="l02641"></a><span class="lineno"> 2641</span>&#160;        }</div>
<div class="line"><a name="l02642"></a><span class="lineno"> 2642</span>&#160;    }</div>
<div class="line"><a name="l02643"></a><span class="lineno"> 2643</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a6376e001f86aec3bb254e6ad2199087f_cgraph.png" border="0" usemap="#d7/ded/a01009_a6376e001f86aec3bb254e6ad2199087f_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a6376e001f86aec3bb254e6ad2199087f_cgraph" id="d7/ded/a01009_a6376e001f86aec3bb254e6ad2199087f_cgraph">
<area shape="rect" id="node3" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="408,5,555,51"/><area shape="rect" id="node7" href="../../d4/d0e/a01272.html#a2a8201537b6969c0e186c9b1d889c52b" title="ripple::RippleAddress\l::humanAccountID" alt="" coords="213,74,360,121"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="652,13,764,43"/><area shape="rect" id="node9" href="../../d4/d87/a03436.html#a6f17c6df7ce20ec52aecef2475cd4158" title="rocksdb::if" alt="" coords="440,144,523,173"/><area shape="rect" id="node15" href="../../d9/d39/a00257.html#a18a7bfe8bbf61262472b03f1dfe5c887" title="ripple::CBase58Data\l::ToString" alt="" coords="411,201,552,247"/><area shape="rect" id="node37" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="408,74,555,121"/><area shape="rect" id="node11" href="../../da/d71/a00814.html#ab25c6d03dbcd6168b3ae3762dc98fd51" title="rocksdb::LDBCommandExecute\lResult::FAILED" alt="" coords="603,135,813,182"/><area shape="rect" id="node13" href="../../da/d71/a00814.html#ae4210d600639c8c6ac04486ebc43c39b" title="rocksdb::LDBCommandExecute\lResult::LDBCommandExecuteResult" alt="" coords="861,135,1101,182"/><area shape="rect" id="node17" href="../../d9/d7d/a00150.html#a085fa82e1453fd6e5460a0cd960b5816" title="ripple::Base58::encodeWith\lCheck" alt="" coords="617,205,799,251"/><area shape="rect" id="node19" href="../../d9/d7d/a00150.html#ac6c6ad62e7ed916bfe1c652721d3fe26" title="ripple::Base58::encode" alt="" coords="904,275,1059,304"/><area shape="rect" id="node35" href="../../d9/d7d/a00150.html#a24f49360e730224f1d16edb1b504e32a" title="ripple::Base58::getCurrent\lAlphabet" alt="" coords="895,205,1068,251"/><area shape="rect" id="node21" href="../../d0/d87/a03399.html#addb402f22cc191c3dc7f4325bb6f684e" title="beast.util.Iter.first" alt="" coords="1180,179,1303,208"/><area shape="rect" id="node23" href="../../d9/d7d/a00150.html#a03b8b4e8a39fe06fe7e3a74f76cdf664" title="ripple::Base58::fourbyte\l_hash256" alt="" coords="1161,231,1321,278"/><area shape="rect" id="node31" href="../../d9/d7d/a00150.html#a126fe41b1f663aeb5826c2f44a2d9528" title="ripple::Base58::raw\l_encode" alt="" coords="1175,301,1308,347"/><area shape="rect" id="node25" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="1401,231,1527,278"/><area shape="rect" id="node29" href="../../d9/d9d/a03417.html#a4be54b895ff42f63b835266848abf9af" title="ripple::SHA256Hash" alt="" coords="1393,179,1535,208"/><area shape="rect" id="node27" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1603,213,1752,243"/><area shape="rect" id="node33" href="../../d7/d2f/a00258.html#af54502b0cc273266a8cc841100386645" title="ripple::CBigNum::getuint" alt="" coords="1381,309,1547,339"/><area shape="rect" id="node39" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="911,66,1052,113"/><area shape="rect" id="node41" href="../../d9/d7d/a00150.html#a85c405829839e85edb721241fd8d4203" title="ripple::Base58::decodeWith\lCheck" alt="" coords="1151,105,1332,151"/><area shape="rect" id="node43" href="../../d9/d7d/a00150.html#a0c2d621faceac43aeb30f4797f03b12c" title="ripple::Base58::decode" alt="" coords="1387,72,1541,101"/><area shape="rect" id="node53" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="1391,125,1537,155"/><area shape="rect" id="node45" href="../../d9/dec/a00090.html#ac2a3456ebd59fd80270f618c64544ac9" title="ripple::Base58::Alphabet\l::chars" alt="" coords="1596,63,1759,110"/><area shape="rect" id="node47" href="../../d7/d2f/a00258.html#a84e73d21fd76767976513f5bf1276215" title="ripple::CBigNum::getvch" alt="" coords="1595,133,1760,163"/><area shape="rect" id="node49" href="../../d7/d2f/a00258.html#a01d5357e9691e5d7743172afbc3cc85c" title="ripple::CBigNum::setuint" alt="" coords="1595,11,1760,40"/><area shape="rect" id="node51" href="../../d7/d2f/a00258.html#a80a1fa42fd2d87bedd0b3bf5180ed4ba" title="ripple::CBigNum::setulong" alt="" coords="1809,11,1983,40"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae5e8ddc772b7e4a49493da0437028596"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::subBook </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/deb/a00710.html#af7ad8994c674d6ffe9be7039f7e9645b">InfoSub::ref</a>&#160;</td>
          <td class="paramname"><em>ispListener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d9d/a03417.html#aae81fe197fcabf93844fa04d16d99c0c">RippleCurrency</a> const &amp;&#160;</td>
          <td class="paramname"><em>currencyPays</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d9d/a03417.html#aae81fe197fcabf93844fa04d16d99c0c">RippleCurrency</a> const &amp;&#160;</td>
          <td class="paramname"><em>currencyGets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d9d/a03417.html#af6ceb67b67fea965b4a6d61712883794">RippleIssuer</a> const &amp;&#160;</td>
          <td class="paramname"><em>issuerPays</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d9d/a03417.html#af6ceb67b67fea965b4a6d61712883794">RippleIssuer</a> const &amp;&#160;</td>
          <td class="paramname"><em>issuerGets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../d5/dd0/a01438.html#a9eaf189fc7d8d7724bda1f931b9fcee8">ripple::InfoSub::Source</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02684">2684</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../da/d74/a00099.html#ac885cb8bec6f3b9b8bdd5f2a44d07fed">ripple::Application::getOrderBookDB()</a>, and <a class="el" href="../../dd/d0d/a02929_source.html#l00201">ripple::OrderBookDB::makeBookListeners()</a>.</p>
<div class="fragment"><div class="line"><a name="l02686"></a><span class="lineno"> 2686</span>&#160;{</div>
<div class="line"><a name="l02687"></a><span class="lineno"> 2687</span>&#160;    <a class="code" href="../../dc/d9a/a00218.html#a85caf48575f2874c7940fb79db4c389e">BookListeners::pointer</a> listeners =</div>
<div class="line"><a name="l02688"></a><span class="lineno"> 2688</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#ac885cb8bec6f3b9b8bdd5f2a44d07fed">getOrderBookDB</a> ().<a class="code" href="../../d5/d4c/a01058.html#adc9f2b193e5786b2d1c369226faee534">makeBookListeners</a> (currencyPays, currencyGets, issuerPays, issuerGets);</div>
<div class="line"><a name="l02689"></a><span class="lineno"> 2689</span>&#160;</div>
<div class="line"><a name="l02690"></a><span class="lineno"> 2690</span>&#160;    assert (listeners);</div>
<div class="line"><a name="l02691"></a><span class="lineno"> 2691</span>&#160;    <span class="keywordflow">if</span> (listeners)</div>
<div class="line"><a name="l02692"></a><span class="lineno"> 2692</span>&#160;        listeners-&gt;addSubscriber (isrListener);</div>
<div class="line"><a name="l02693"></a><span class="lineno"> 2693</span>&#160;</div>
<div class="line"><a name="l02694"></a><span class="lineno"> 2694</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02695"></a><span class="lineno"> 2695</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_ae5e8ddc772b7e4a49493da0437028596_cgraph.png" border="0" usemap="#d7/ded/a01009_ae5e8ddc772b7e4a49493da0437028596_cgraph" alt=""/></div>
<map name="d7/ded/a01009_ae5e8ddc772b7e4a49493da0437028596_cgraph" id="d7/ded/a01009_ae5e8ddc772b7e4a49493da0437028596_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="236,13,337,43"/><area shape="rect" id="node7" href="../../da/d74/a00099.html#ac885cb8bec6f3b9b8bdd5f2a44d07fed" title="ripple::Application\l::getOrderBookDB" alt="" coords="223,66,351,113"/><area shape="rect" id="node9" href="../../d5/d4c/a01058.html#adc9f2b193e5786b2d1c369226faee534" title="ripple::OrderBookDB\l::makeBookListeners" alt="" coords="215,135,359,182"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="409,5,585,51"/><area shape="rect" id="node11" href="../../d5/d4c/a01058.html#a5da922c340725b98fab8742e2f081dd7" title="ripple::OrderBookDB\l::getBookListeners" alt="" coords="427,135,568,182"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1857e0f82ca0c44b30004d3e8018827e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::subLedger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/deb/a00710.html#af7ad8994c674d6ffe9be7039f7e9645b">InfoSub::ref</a>&#160;</td>
          <td class="paramname"><em>ispListener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> &amp;&#160;</td>
          <td class="paramname"><em>jvResult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../d5/dd0/a01438.html#ad0b605951cb74872c096b5a816c8175c">ripple::InfoSub::Source</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02746">2746</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d1/de6/a00837.html#a5d4563a377393b7350c8a6faa42a7076">ripple::LedgerMaster::getCompleteLedgers()</a>, <a class="el" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104">ripple::Application::getLedgerMaster()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00100">getValidatedLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00281">isNeedNetworkLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00467">mLock</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00469">mMode</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00500">mSubLedger</a>, and <a class="el" href="../../dd/d8f/a02970_source.html#l00077">ripple::NetworkOPs::omSYNCING</a>.</p>
<div class="fragment"><div class="line"><a name="l02747"></a><span class="lineno"> 2747</span>&#160;{</div>
<div class="line"><a name="l02748"></a><span class="lineno"> 2748</span>&#160;    <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> lpClosed    = <a class="code" href="../../d7/ded/a01009.html#a7553efb859bf5c3c7650c348cd1358c1">getValidatedLedger</a> ();</div>
<div class="line"><a name="l02749"></a><span class="lineno"> 2749</span>&#160;</div>
<div class="line"><a name="l02750"></a><span class="lineno"> 2750</span>&#160;    <span class="keywordflow">if</span> (lpClosed)</div>
<div class="line"><a name="l02751"></a><span class="lineno"> 2751</span>&#160;    {</div>
<div class="line"><a name="l02752"></a><span class="lineno"> 2752</span>&#160;        jvResult[<span class="stringliteral">&quot;ledger_index&quot;</span>]    = lpClosed-&gt;getLedgerSeq ();</div>
<div class="line"><a name="l02753"></a><span class="lineno"> 2753</span>&#160;        jvResult[<span class="stringliteral">&quot;ledger_hash&quot;</span>]     = lpClosed-&gt;getHash ().ToString ();</div>
<div class="line"><a name="l02754"></a><span class="lineno"> 2754</span>&#160;        jvResult[<span class="stringliteral">&quot;ledger_time&quot;</span>]     = <a class="code" href="../../d6/d27/a01781.html#a0933d59b45793ae4aade1757c322a98d">Json::Value::UInt</a> (lpClosed-&gt;getCloseTimeNC ());</div>
<div class="line"><a name="l02755"></a><span class="lineno"> 2755</span>&#160;</div>
<div class="line"><a name="l02756"></a><span class="lineno"> 2756</span>&#160;        jvResult[<span class="stringliteral">&quot;fee_ref&quot;</span>]         = <a class="code" href="../../d2/dd6/a03414.html#a800fb90eb6ee8d5d62b600c06f87f7d4">Json::UInt</a> (lpClosed-&gt;getReferenceFeeUnits ());</div>
<div class="line"><a name="l02757"></a><span class="lineno"> 2757</span>&#160;        jvResult[<span class="stringliteral">&quot;fee_base&quot;</span>]        = <a class="code" href="../../d2/dd6/a03414.html#a800fb90eb6ee8d5d62b600c06f87f7d4">Json::UInt</a> (lpClosed-&gt;getBaseFee ());</div>
<div class="line"><a name="l02758"></a><span class="lineno"> 2758</span>&#160;        jvResult[<span class="stringliteral">&quot;reserve_base&quot;</span>]    = <a class="code" href="../../d2/dd6/a03414.html#a800fb90eb6ee8d5d62b600c06f87f7d4">Json::UInt</a> (lpClosed-&gt;getReserve (0));</div>
<div class="line"><a name="l02759"></a><span class="lineno"> 2759</span>&#160;        jvResult[<span class="stringliteral">&quot;reserve_inc&quot;</span>]     = <a class="code" href="../../d2/dd6/a03414.html#a800fb90eb6ee8d5d62b600c06f87f7d4">Json::UInt</a> (lpClosed-&gt;getReserveInc ());</div>
<div class="line"><a name="l02760"></a><span class="lineno"> 2760</span>&#160;    }</div>
<div class="line"><a name="l02761"></a><span class="lineno"> 2761</span>&#160;</div>
<div class="line"><a name="l02762"></a><span class="lineno"> 2762</span>&#160;    <span class="keywordflow">if</span> ((<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> &gt;= <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaacef3f23406b4e678986eb3be3a7ccfd9">omSYNCING</a>) &amp;&amp; !<a class="code" href="../../d7/ded/a01009.html#a633b71e3a7c523f2c7af59e13979de34">isNeedNetworkLedger</a> ())</div>
<div class="line"><a name="l02763"></a><span class="lineno"> 2763</span>&#160;        jvResult[<span class="stringliteral">&quot;validated_ledgers&quot;</span>]   = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104">getLedgerMaster</a> ().<a class="code" href="../../d1/de6/a00837.html#a5d4563a377393b7350c8a6faa42a7076">getCompleteLedgers</a> ();</div>
<div class="line"><a name="l02764"></a><span class="lineno"> 2764</span>&#160;</div>
<div class="line"><a name="l02765"></a><span class="lineno"> 2765</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a936ed96d8cb48a7a818e292345032bd3">ScopedLockType</a> sl (<a class="code" href="../../d7/ded/a01009.html#a28e64f295f2eca1f91a5a11239352071">mLock</a>);</div>
<div class="line"><a name="l02766"></a><span class="lineno"> 2766</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a27e373e93311db99455cd6a8da160943">mSubLedger</a>.emplace (isrListener-&gt;getSeq (), isrListener).second;</div>
<div class="line"><a name="l02767"></a><span class="lineno"> 2767</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a1857e0f82ca0c44b30004d3e8018827e_cgraph.png" border="0" usemap="#d7/ded/a01009_a1857e0f82ca0c44b30004d3e8018827e_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a1857e0f82ca0c44b30004d3e8018827e_cgraph" id="d7/ded/a01009_a1857e0f82ca0c44b30004d3e8018827e_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="243,13,344,43"/><area shape="rect" id="node7" href="../../d1/de6/a00837.html#a5d4563a377393b7350c8a6faa42a7076" title="ripple::LedgerMaster\l::getCompleteLedgers" alt="" coords="219,66,368,113"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#a57929fa83c551514e364fe6981b0c104" title="ripple::Application\l::getLedgerMaster" alt="" coords="231,135,356,182"/><area shape="rect" id="node11" href="../../d7/ded/a01009.html#a7553efb859bf5c3c7650c348cd1358c1" title="ripple::NetworkOPsImp\l::getValidatedLedger" alt="" coords="215,205,372,251"/><area shape="rect" id="node15" href="../../d7/ded/a01009.html#a633b71e3a7c523f2c7af59e13979de34" title="ripple::NetworkOPsImp\l::isNeedNetworkLedger" alt="" coords="215,274,372,321"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="423,5,599,51"/><area shape="rect" id="node13" href="../../d1/de6/a00837.html#a2e32e5b06d5b855f57a7d4fb3d25c05e" title="ripple::LedgerMaster\l::getValidatedLedger" alt="" coords="440,205,581,251"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a1f19b2ae693aa2f460a5d48f3faa2218"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::submitTransaction </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../da/d96/a00782.html">Job</a> &amp;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/de4/a01346.html#a19013480d962d1dd24d7fd022fea003e">SerializedTransaction::pointer</a>&#160;</td>
          <td class="paramname"><em>iTrans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d7/ded/a01009.html#a2bae1af7937b339e3e7a4706807582a8">stCallback</a>&#160;</td>
          <td class="paramname"><em>callback</em> = <code><a class="el" href="../../d7/ded/a01009.html#a2bae1af7937b339e3e7a4706807582a8">stCallback</a>&#160;()</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#a9ce7862edf619f3d8aab0585150b894d">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00752">752</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../dc/d0c/a00783.html#a0e6d017b056c57465c9d72f928e3271e">ripple::JobQueue::addJob()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../da/d74/a00099.html#abc0db550376596fa61a678f5d9ce82f4">ripple::Application::getHashRouter()</a>, <a class="el" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c">ripple::Application::getJobQueue()</a>, <a class="el" href="../../d8/d96/a03116_source.html#l00047">ripple::jtTRANSACTION</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../dd/d2f/a02983_source.html#l00344">ripple::passesLocalChecks()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00177">processTransactionCbVoid()</a>, <a class="el" href="../../d0/d15/a00700.html#a00825d59e3a11401f2abad8b879f6602">ripple::IHashRouter::setFlag()</a>, <a class="el" href="../../d0/d7b/a02968_source.html#l00029">SF_BAD</a>, <a class="el" href="../../d0/d7b/a02968_source.html#l00032">SF_RETRY</a>, <a class="el" href="../../d0/d7b/a02968_source.html#l00030">SF_SIGGOOD</a>, and <a class="el" href="../../dd/d07/a02132_source.html#l00246">beast::Journal::warning</a>.</p>
<div class="fragment"><div class="line"><a name="l00753"></a><span class="lineno">  753</span>&#160;{</div>
<div class="line"><a name="l00754"></a><span class="lineno">  754</span>&#160;    <span class="comment">// this is an asynchronous interface</span></div>
<div class="line"><a name="l00755"></a><span class="lineno">  755</span>&#160;    Serializer s;</div>
<div class="line"><a name="l00756"></a><span class="lineno">  756</span>&#160;    iTrans-&gt;add (s);</div>
<div class="line"><a name="l00757"></a><span class="lineno">  757</span>&#160;</div>
<div class="line"><a name="l00758"></a><span class="lineno">  758</span>&#160;    SerializerIterator sit (s);</div>
<div class="line"><a name="l00759"></a><span class="lineno">  759</span>&#160;    <a class="code" href="../../d9/de4/a01346.html#a19013480d962d1dd24d7fd022fea003e">SerializedTransaction::pointer</a> trans = boost::make_shared&lt;SerializedTransaction&gt; (boost::ref (sit));</div>
<div class="line"><a name="l00760"></a><span class="lineno">  760</span>&#160;</div>
<div class="line"><a name="l00761"></a><span class="lineno">  761</span>&#160;    uint256 suppress = trans-&gt;getTransactionID ();</div>
<div class="line"><a name="l00762"></a><span class="lineno">  762</span>&#160;    <span class="keywordtype">int</span> <a class="code" href="../../df/d37/a02002.html#ab6b306ef981f5e21bb41ea2c2dbe8cd9">flags</a>;</div>
<div class="line"><a name="l00763"></a><span class="lineno">  763</span>&#160;</div>
<div class="line"><a name="l00764"></a><span class="lineno">  764</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getHashRouter ().addSuppressionPeer (suppress, 0, flags) &amp;&amp; ((flags &amp; <a class="code" href="../../d0/d7b/a02968.html#a47fbcf177e83e45a52548d94aa4a4448">SF_RETRY</a>) != 0))</div>
<div class="line"><a name="l00765"></a><span class="lineno">  765</span>&#160;    {</div>
<div class="line"><a name="l00766"></a><span class="lineno">  766</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a876412c0a487a7a8840b1556cc04cb57">warning</a> &lt;&lt; <span class="stringliteral">&quot;Redundant transactions submitted&quot;</span>;</div>
<div class="line"><a name="l00767"></a><span class="lineno">  767</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00768"></a><span class="lineno">  768</span>&#160;    }</div>
<div class="line"><a name="l00769"></a><span class="lineno">  769</span>&#160;</div>
<div class="line"><a name="l00770"></a><span class="lineno">  770</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; <a class="code" href="../../d0/d7b/a02968.html#a4db5c97ae009c538ceb0c24c4a0a0999">SF_BAD</a>) != 0)</div>
<div class="line"><a name="l00771"></a><span class="lineno">  771</span>&#160;    {</div>
<div class="line"><a name="l00772"></a><span class="lineno">  772</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a876412c0a487a7a8840b1556cc04cb57">warning</a> &lt;&lt; <span class="stringliteral">&quot;Submitted transaction cached bad&quot;</span>;</div>
<div class="line"><a name="l00773"></a><span class="lineno">  773</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00774"></a><span class="lineno">  774</span>&#160;    }</div>
<div class="line"><a name="l00775"></a><span class="lineno">  775</span>&#160;</div>
<div class="line"><a name="l00776"></a><span class="lineno">  776</span>&#160;    <span class="keywordflow">if</span> ((flags &amp; <a class="code" href="../../d0/d7b/a02968.html#ac4c1ab5f431528c3ea66a575b47247b6">SF_SIGGOOD</a>) == 0)</div>
<div class="line"><a name="l00777"></a><span class="lineno">  777</span>&#160;    {</div>
<div class="line"><a name="l00778"></a><span class="lineno">  778</span>&#160;        <span class="keywordflow">try</span></div>
<div class="line"><a name="l00779"></a><span class="lineno">  779</span>&#160;        {</div>
<div class="line"><a name="l00780"></a><span class="lineno">  780</span>&#160;            <span class="keywordflow">if</span> (!<a class="code" href="../../d9/d9d/a03417.html#a80b2f965303dfe486ecbae7d99be5f2d">passesLocalChecks</a> (*trans) || !trans-&gt;checkSign ())</div>
<div class="line"><a name="l00781"></a><span class="lineno">  781</span>&#160;            {</div>
<div class="line"><a name="l00782"></a><span class="lineno">  782</span>&#160;                <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a876412c0a487a7a8840b1556cc04cb57">warning</a> &lt;&lt; <span class="stringliteral">&quot;Submitted transaction has bad signature&quot;</span>;</div>
<div class="line"><a name="l00783"></a><span class="lineno">  783</span>&#160;                <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#abc0db550376596fa61a678f5d9ce82f4">getHashRouter</a> ().<a class="code" href="../../d0/d15/a00700.html#a00825d59e3a11401f2abad8b879f6602">setFlag</a> (suppress, SF_BAD);</div>
<div class="line"><a name="l00784"></a><span class="lineno">  784</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00785"></a><span class="lineno">  785</span>&#160;            }</div>
<div class="line"><a name="l00786"></a><span class="lineno">  786</span>&#160;</div>
<div class="line"><a name="l00787"></a><span class="lineno">  787</span>&#160;            <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#abc0db550376596fa61a678f5d9ce82f4">getHashRouter</a> ().<a class="code" href="../../d0/d15/a00700.html#a00825d59e3a11401f2abad8b879f6602">setFlag</a> (suppress, SF_SIGGOOD);</div>
<div class="line"><a name="l00788"></a><span class="lineno">  788</span>&#160;        }</div>
<div class="line"><a name="l00789"></a><span class="lineno">  789</span>&#160;        <span class="keywordflow">catch</span> (...)</div>
<div class="line"><a name="l00790"></a><span class="lineno">  790</span>&#160;        {</div>
<div class="line"><a name="l00791"></a><span class="lineno">  791</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a876412c0a487a7a8840b1556cc04cb57">warning</a> &lt;&lt; <span class="stringliteral">&quot;Exception checking transaction &quot;</span> &lt;&lt; suppress;</div>
<div class="line"><a name="l00792"></a><span class="lineno">  792</span>&#160;            <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l00793"></a><span class="lineno">  793</span>&#160;        }</div>
<div class="line"><a name="l00794"></a><span class="lineno">  794</span>&#160;    }</div>
<div class="line"><a name="l00795"></a><span class="lineno">  795</span>&#160;</div>
<div class="line"><a name="l00796"></a><span class="lineno">  796</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c">getJobQueue</a>().<a class="code" href="../../dc/d0c/a00783.html#a0e6d017b056c57465c9d72f928e3271e">addJob</a> (<a class="code" href="../../d9/d9d/a03417.html#ae0f54f8ce649d639bf3e2b295347e17aa3a3adf68dd667ae2f3593c956fbd174f">jtTRANSACTION</a>, <span class="stringliteral">&quot;submitTxn&quot;</span>,</div>
<div class="line"><a name="l00797"></a><span class="lineno">  797</span>&#160;        std::bind (&amp;<a class="code" href="../../d7/ded/a01009.html#abaf5313789b76e16cc0f99605e8f0c81">NetworkOPsImp::processTransactionCbVoid</a>, <span class="keyword">this</span>,</div>
<div class="line"><a name="l00798"></a><span class="lineno">  798</span>&#160;            boost::make_shared&lt;Transaction&gt; (trans, <span class="keyword">false</span>), <span class="keyword">false</span>, <span class="keyword">false</span>, <span class="keyword">false</span>, callback));</div>
<div class="line"><a name="l00799"></a><span class="lineno">  799</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a1f19b2ae693aa2f460a5d48f3faa2218_cgraph.png" border="0" usemap="#d7/ded/a01009_a1f19b2ae693aa2f460a5d48f3faa2218_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a1f19b2ae693aa2f460a5d48f3faa2218_cgraph" id="d7/ded/a01009_a1f19b2ae693aa2f460a5d48f3faa2218_cgraph">
<area shape="rect" id="node3" href="../../dc/d0c/a00783.html#a0e6d017b056c57465c9d72f928e3271e" title="ripple::JobQueue::addJob" alt="" coords="221,512,392,541"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="1155,1204,1256,1233"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#abc0db550376596fa61a678f5d9ce82f4" title="ripple::Application\l::getHashRouter" alt="" coords="701,5,827,51"/><area shape="rect" id="node11" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c" title="ripple::Application\l::getJobQueue" alt="" coords="701,74,827,121"/><area shape="rect" id="node13" href="../../d9/d9d/a03417.html#a80b2f965303dfe486ecbae7d99be5f2d" title="ripple::passesLocalChecks" alt="" coords="217,1427,396,1456"/><area shape="rect" id="node56" href="../../d7/ded/a01009.html#abaf5313789b76e16cc0f99605e8f0c81" title="ripple::NetworkOPsImp\l::processTransactionCbVoid" alt="" coords="213,666,400,713"/><area shape="rect" id="node102" href="../../d0/d15/a00700.html#a00825d59e3a11401f2abad8b879f6602" title="ripple::IHashRouter\l::setFlag" alt="" coords="697,1255,831,1302"/><area shape="rect" id="node7" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="1340,1195,1516,1242"/><area shape="rect" id="node15" href="../../d9/d9d/a03417.html#ab30d939788bf311fc5598baad7938876" title="ripple::isAccountFieldOkay" alt="" coords="448,1427,627,1456"/><area shape="rect" id="node25" href="../../d9/d9d/a03417.html#a2237d199294b618d7cf30f92f5a0a6de" title="ripple::isMemoOkay" alt="" coords="468,1627,607,1656"/><area shape="rect" id="node17" href="../../de/d1a/a01559.html#aff71fda02fa4091586239e6b848e74b7" title="ripple::STObject::getCount" alt="" coords="676,1427,852,1456"/><area shape="rect" id="node19" href="../../de/d3c/a01490.html#a7827f2a0c6abc17bc2c9d0011fcfdaad" title="ripple::STAccount::\lisValueH160" alt="" coords="697,1479,831,1526"/><area shape="rect" id="node23" href="../../de/d1a/a01559.html#a023cc002539faf5fab6eecc8f12e1b1d" title="ripple::STObject::peekAt\lPIndex" alt="" coords="1123,1414,1288,1461"/><area shape="rect" id="node21" href="../../d5/dcf/a01602.html#a04eba939273c2f8936a09dc3e66fab85" title="ripple::STVariableLength\l::peekValue" alt="" coords="905,1426,1068,1473"/><area shape="rect" id="node27" href="../../db/d1e/a01497.html#a43682bef1454c6051926ba6ae3e6c31b" title="ripple::STArray::add" alt="" coords="695,1787,833,1816"/><area shape="rect" id="node31" href="../../da/d61/a01350.html#a39e3319f1b024688b1433c91af285b9e" title="ripple::Serializer\l::getDataLength" alt="" coords="707,1549,821,1595"/><area shape="rect" id="node33" href="../../de/d1a/a01559.html#af6831316ca286bd6cbbce0840c1037fb" title="ripple::STObject::getField\lArray" alt="" coords="679,1618,849,1665"/><area shape="rect" id="node50" href="../../de/d1a/a01559.html#a6f0b6f41c14e975d5fc91f00b0bcbc87" title="ripple::STObject::isField\lPresent" alt="" coords="683,1687,845,1734"/><area shape="rect" id="node29" href="../../da/d61/a01350.html#a202efcc73c3a20d10cb770523ed1669f" title="ripple::Serializer\l::addFieldID" alt="" coords="929,1807,1044,1854"/><area shape="rect" id="node35" href="../../de/d1a/a01559.html#abf07301811d8a5c52be9e4ef7842a538" title="ripple::STObject::empty" alt="" coords="907,1565,1067,1595"/><area shape="rect" id="node37" href="../../de/d1a/a01559.html#ac6e32d6706dd0c235ba5567ec1c0405f" title="ripple::STObject::peekAt\lPField" alt="" coords="904,1495,1069,1542"/><area shape="rect" id="node48" href="../../d7/d57/a01348.html#a420d71c47a773cf368ab6d8e99152871" title="ripple::SerializedType\l::getSType" alt="" coords="913,1618,1060,1665"/><area shape="rect" id="node39" href="../../de/d1a/a01559.html#a7bbf16c433cd8e40fe2fa462ecbd44f9" title="ripple::STObject::getField\lIndex" alt="" coords="1120,1530,1291,1577"/><area shape="rect" id="node41" href="../../d1/de7/a01434.html#a04479037c3daa6f724999b9861bb8c10" title="ripple::SOTemplate\l::getIndex" alt="" coords="1361,1591,1495,1638"/><area shape="rect" id="node43" href="../../d7/d57/a01348.html#a79472b7634153a0478119634c9e82d7e" title="ripple::SerializedType\l::getFName" alt="" coords="1355,1469,1501,1515"/><area shape="rect" id="node45" href="../../d5/d83/a03337.html#afc5f5e8520bf9ec3abd1f92d066ef7b9" title="beast::field" alt="" coords="1385,1539,1471,1568"/><area shape="rect" id="node53" href="../../de/d1a/a01559.html#a7a3d545f73a4a94854a1f49aeba1ac98" title="ripple::STObject::peekAt\lIndex" alt="" coords="904,1687,1069,1734"/><area shape="rect" id="node58" href="../../d7/ded/a01009.html#aab21222cb8f90aebe766d622a9b02cc3" title="ripple::NetworkOPsImp\l::processTransactionCb" alt="" coords="457,666,617,713"/><area shape="rect" id="node60" href="../../d1/de6/a00837.html#a30dd64cff90f268bf02dab1bc1eaf89e" title="ripple::LedgerMaster\l::addHeldTransaction" alt="" coords="691,527,837,574"/><area shape="rect" id="node62" href="../../d7/ded/a01009.html#af5dbdb9d540e650ee83b593be700ffeb" title="ripple::NetworkOPsImp\l::addLocalTx" alt="" coords="685,597,843,643"/><area shape="rect" id="node64" href="../../de/d5c/a01708.html#a2e47d4c2559a80c57a1b45eacb773d9f" title="ripple::TransactionMaster\l::canonicalize" alt="" coords="680,666,848,713"/><area shape="rect" id="node66" href="../../d1/de6/a00837.html#ae4c4e9d9cb43bcb3ddd8e1574fff1bb4" title="ripple::LedgerMaster\l::doTransaction" alt="" coords="695,735,833,782"/><area shape="rect" id="node68" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c" title="ripple::Overlay::foreach" alt="" coords="685,875,843,904"/><area shape="rect" id="node73" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8" title="ripple::LedgerMaster\l::getCurrentLedger" alt="" coords="695,927,833,974"/><area shape="rect" id="node75" href="../../da/d61/a01350.html#a937c91e12200c1df1e493ace106dd4d3" title="ripple::Serializer\l::getData" alt="" coords="707,997,821,1043"/><area shape="rect" id="node77" href="../../d0/d15/a00700.html#a586c9f6fefef8adba84f50657bddcf76" title="ripple::IHashRouter\l::getFlags" alt="" coords="697,1066,831,1113"/><area shape="rect" id="node81" href="../../da/d61/a01350.html#a237280c7ca05aed5c750ec154a599547" title="ripple::Serializer\l::getLength" alt="" coords="707,1135,821,1182"/><area shape="rect" id="node83" href="../../dc/d0c/a00783.html#ab2ce1ef765c58d0d32214d766c06eabb" title="ripple::JobQueue::getLoad\lEventAP" alt="" coords="677,143,851,190"/><area shape="rect" id="node85" href="../../da/d74/a00099.html#aae949580d66cede10b0b392755858e32" title="ripple::Application\l::getMasterTransaction" alt="" coords="687,213,841,259"/><area shape="rect" id="node87" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef" title="ripple::NetworkOPsImp\l::getNetworkTimeNC" alt="" coords="685,805,843,851"/><area shape="rect" id="node98" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee" title="ripple::Application\l::overlay" alt="" coords="701,282,827,329"/><area shape="rect" id="node100" href="../../d9/d9d/a03417.html#a58e3eee13d40eee082c61c7847587aa7" title="ripple::send_if_not" alt="" coords="700,352,828,381"/><area shape="rect" id="node104" href="../../d0/d15/a00700.html#a33ae9be662ac75adf54008db17489e39" title="ripple::IHashRouter\l::swapSet" alt="" coords="697,405,831,451"/><area shape="rect" id="node106" href="../../d9/d9d/a03417.html#a8ebf8214ccd67d515e6dd26b832854a9" title="ripple::transResultInfo" alt="" coords="689,475,839,504"/><area shape="rect" id="node70" href="../../de/de6/a01063.html#a5b8ee783b77679fb2fad2543ab521a90" title="ripple::Overlay::getActive\lPeers" alt="" coords="903,905,1071,951"/><area shape="rect" id="node89" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a" title="ripple::NetworkOPsImp\l::getNetworkTimePT" alt="" coords="908,835,1065,882"/><area shape="rect" id="node94" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7" title="ripple::iToSeconds" alt="" coords="921,783,1052,812"/><area shape="rect" id="node92" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678" title="ripple::Application\l::getSystemTimeOffset" alt="" coords="1127,835,1284,882"/><area shape="rect" id="node96" href="../../d9/d9d/a03417.html#a00572ed03b233ecd42f36357a395c163" title="ripple::ptEpoch" alt="" coords="1151,783,1260,812"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a20ac0a06c2870e5d087e35f7dd2f768c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a> ripple::NetworkOPsImp::submitTransactionSync </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../de/d05/a01702.html#aee6c2c42c0fac409f288bb915574ff4e">Transaction::ref</a>&#160;</td>
          <td class="paramname"><em>tpTrans</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bAdmin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bLocal</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bFailHard</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bSubmit</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#afa798f1cd83b2e615e4af6ae6d2609c7">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00803">803</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../dd/d07/a02132_source.html#l00248">beast::Journal::fatal</a>, <a class="el" href="../../dd/d61/a03197_source.html#l00129">ripple::Serializer::getData()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../d0/d75/a03105_source.html#l00047">nothing</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00170">processTransaction()</a>, and <a class="el" href="../../d6/d2a/a03062_source.html#l00040">ripple::Transaction::sharedTransaction()</a>.</p>
<div class="fragment"><div class="line"><a name="l00804"></a><span class="lineno">  804</span>&#160;{</div>
<div class="line"><a name="l00805"></a><span class="lineno">  805</span>&#160;    Serializer s;</div>
<div class="line"><a name="l00806"></a><span class="lineno">  806</span>&#160;    tpTrans-&gt;getSTransaction ()-&gt;add (s);</div>
<div class="line"><a name="l00807"></a><span class="lineno">  807</span>&#160;</div>
<div class="line"><a name="l00808"></a><span class="lineno">  808</span>&#160;    <a class="code" href="../../de/d05/a01702.html#ae41fa85a028fcc68274c853554de51b4">Transaction::pointer</a>    tpTransNew  = <a class="code" href="../../de/d05/a01702.html#a6d5bb396bc1a378b62eab9844cd09f6d">Transaction::sharedTransaction</a> (s.getData (), <span class="keyword">true</span>);</div>
<div class="line"><a name="l00809"></a><span class="lineno">  809</span>&#160;</div>
<div class="line"><a name="l00810"></a><span class="lineno">  810</span>&#160;    <span class="keywordflow">if</span> (!tpTransNew)</div>
<div class="line"><a name="l00811"></a><span class="lineno">  811</span>&#160;    {</div>
<div class="line"><a name="l00812"></a><span class="lineno">  812</span>&#160;        <span class="comment">// Could not construct transaction.</span></div>
<div class="line"><a name="l00813"></a><span class="lineno">  813</span>&#160;        <a class="code" href="../../d0/d75/a03105.html#afc5c6ba8fe8a6402e1f14c610c2bf146">nothing</a> ();</div>
<div class="line"><a name="l00814"></a><span class="lineno">  814</span>&#160;    }</div>
<div class="line"><a name="l00815"></a><span class="lineno">  815</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (tpTransNew-&gt;getSTransaction ()-&gt;isEquivalent (*tpTrans-&gt;getSTransaction ()))</div>
<div class="line"><a name="l00816"></a><span class="lineno">  816</span>&#160;    {</div>
<div class="line"><a name="l00817"></a><span class="lineno">  817</span>&#160;        <span class="keywordflow">if</span> (bSubmit)</div>
<div class="line"><a name="l00818"></a><span class="lineno">  818</span>&#160;            (void) <a class="code" href="../../d7/ded/a01009.html#a26cb95fc4e1b658987421bd28c051516">NetworkOPsImp::processTransaction</a> (tpTransNew, bAdmin, bLocal, bFailHard);</div>
<div class="line"><a name="l00819"></a><span class="lineno">  819</span>&#160;    }</div>
<div class="line"><a name="l00820"></a><span class="lineno">  820</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l00821"></a><span class="lineno">  821</span>&#160;    {</div>
<div class="line"><a name="l00822"></a><span class="lineno">  822</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a1ecfd4d2f8a7f8aa6d22cc6e421eeb20">fatal</a> &lt;&lt; <span class="stringliteral">&quot;Transaction reconstruction failure&quot;</span>;</div>
<div class="line"><a name="l00823"></a><span class="lineno">  823</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a1ecfd4d2f8a7f8aa6d22cc6e421eeb20">fatal</a> &lt;&lt; tpTransNew-&gt;getSTransaction ()-&gt;getJson (0);</div>
<div class="line"><a name="l00824"></a><span class="lineno">  824</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a1ecfd4d2f8a7f8aa6d22cc6e421eeb20">fatal</a> &lt;&lt; tpTrans-&gt;getSTransaction ()-&gt;getJson (0);</div>
<div class="line"><a name="l00825"></a><span class="lineno">  825</span>&#160;</div>
<div class="line"><a name="l00826"></a><span class="lineno">  826</span>&#160;        <span class="comment">// assert (false); &quot;1e-95&quot; as amount can trigger this</span></div>
<div class="line"><a name="l00827"></a><span class="lineno">  827</span>&#160;</div>
<div class="line"><a name="l00828"></a><span class="lineno">  828</span>&#160;        tpTransNew.reset ();</div>
<div class="line"><a name="l00829"></a><span class="lineno">  829</span>&#160;    }</div>
<div class="line"><a name="l00830"></a><span class="lineno">  830</span>&#160;</div>
<div class="line"><a name="l00831"></a><span class="lineno">  831</span>&#160;    <span class="keywordflow">return</span> tpTransNew;</div>
<div class="line"><a name="l00832"></a><span class="lineno">  832</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a20ac0a06c2870e5d087e35f7dd2f768c_cgraph.png" border="0" usemap="#d7/ded/a01009_a20ac0a06c2870e5d087e35f7dd2f768c_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a20ac0a06c2870e5d087e35f7dd2f768c_cgraph" id="d7/ded/a01009_a20ac0a06c2870e5d087e35f7dd2f768c_cgraph">
<area shape="rect" id="node3" href="../../da/d61/a01350.html#a937c91e12200c1df1e493ace106dd4d3" title="ripple::Serializer\l::getData" alt="" coords="671,5,785,51"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a26cb95fc4e1b658987421bd28c051516" title="ripple::NetworkOPsImp\l::processTransaction" alt="" coords="223,590,380,637"/><area shape="rect" id="node61" href="../../de/d05/a01702.html#a6d5bb396bc1a378b62eab9844cd09f6d" title="ripple::Transaction\l::sharedTransaction" alt="" coords="233,659,369,706"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#aab21222cb8f90aebe766d622a9b02cc3" title="ripple::NetworkOPsImp\l::processTransactionCb" alt="" coords="431,594,591,641"/><area shape="rect" id="node9" href="../../d1/de6/a00837.html#a30dd64cff90f268bf02dab1bc1eaf89e" title="ripple::LedgerMaster\l::addHeldTransaction" alt="" coords="655,74,801,121"/><area shape="rect" id="node11" href="../../d7/ded/a01009.html#af5dbdb9d540e650ee83b593be700ffeb" title="ripple::NetworkOPsImp\l::addLocalTx" alt="" coords="649,143,807,190"/><area shape="rect" id="node13" href="../../de/d5c/a01708.html#a2e47d4c2559a80c57a1b45eacb773d9f" title="ripple::TransactionMaster\l::canonicalize" alt="" coords="644,213,812,259"/><area shape="rect" id="node15" href="../../d1/de6/a00837.html#ae4c4e9d9cb43bcb3ddd8e1574fff1bb4" title="ripple::LedgerMaster\l::doTransaction" alt="" coords="659,282,797,329"/><area shape="rect" id="node17" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c" title="ripple::Overlay::foreach" alt="" coords="649,352,807,381"/><area shape="rect" id="node21" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="1112,511,1213,540"/><area shape="rect" id="node25" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8" title="ripple::LedgerMaster\l::getCurrentLedger" alt="" coords="659,455,797,502"/><area shape="rect" id="node28" href="../../d0/d15/a00700.html#a586c9f6fefef8adba84f50657bddcf76" title="ripple::IHashRouter\l::getFlags" alt="" coords="661,525,795,571"/><area shape="rect" id="node30" href="../../da/d74/a00099.html#abc0db550376596fa61a678f5d9ce82f4" title="ripple::Application\l::getHashRouter" alt="" coords="665,594,791,641"/><area shape="rect" id="node32" href="../../da/d74/a00099.html#a860be08979e27d8c6f37f722f996ba6c" title="ripple::Application\l::getJobQueue" alt="" coords="665,663,791,710"/><area shape="rect" id="node34" href="../../da/d61/a01350.html#a237280c7ca05aed5c750ec154a599547" title="ripple::Serializer\l::getLength" alt="" coords="671,733,785,779"/><area shape="rect" id="node36" href="../../dc/d0c/a00783.html#ab2ce1ef765c58d0d32214d766c06eabb" title="ripple::JobQueue::getLoad\lEventAP" alt="" coords="641,802,815,849"/><area shape="rect" id="node38" href="../../da/d74/a00099.html#aae949580d66cede10b0b392755858e32" title="ripple::Application\l::getMasterTransaction" alt="" coords="651,871,805,918"/><area shape="rect" id="node40" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef" title="ripple::NetworkOPsImp\l::getNetworkTimeNC" alt="" coords="649,941,807,987"/><area shape="rect" id="node51" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee" title="ripple::Application\l::overlay" alt="" coords="665,1010,791,1057"/><area shape="rect" id="node53" href="../../d9/d9d/a03417.html#a58e3eee13d40eee082c61c7847587aa7" title="ripple::send_if_not" alt="" coords="664,1080,792,1109"/><area shape="rect" id="node55" href="../../d0/d15/a00700.html#a00825d59e3a11401f2abad8b879f6602" title="ripple::IHashRouter\l::setFlag" alt="" coords="661,1133,795,1179"/><area shape="rect" id="node57" href="../../d0/d15/a00700.html#a33ae9be662ac75adf54008db17489e39" title="ripple::IHashRouter\l::swapSet" alt="" coords="661,1202,795,1249"/><area shape="rect" id="node59" href="../../d9/d9d/a03417.html#a8ebf8214ccd67d515e6dd26b832854a9" title="ripple::transResultInfo" alt="" coords="653,1272,803,1301"/><area shape="rect" id="node19" href="../../de/de6/a01063.html#a5b8ee783b77679fb2fad2543ab521a90" title="ripple::Overlay::getActive\lPeers" alt="" coords="865,335,1033,382"/><area shape="rect" id="node23" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="1292,502,1468,549"/><area shape="rect" id="node42" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a" title="ripple::NetworkOPsImp\l::getNetworkTimePT" alt="" coords="871,669,1028,715"/><area shape="rect" id="node47" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7" title="ripple::iToSeconds" alt="" coords="884,949,1015,979"/><area shape="rect" id="node45" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678" title="ripple::Application\l::getSystemTimeOffset" alt="" coords="1084,669,1241,715"/><area shape="rect" id="node49" href="../../d9/d9d/a03417.html#a00572ed03b233ecd42f36357a395c163" title="ripple::ptEpoch" alt="" coords="1108,949,1217,979"/><area shape="rect" id="node63" href="../../d4/d87/a03436.html#a437c68f3299fa632d4a1694059fd6ddb" title="rocksdb::Log" alt="" coords="463,668,559,697"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3bc8a0fafc39d184f934832713c04965"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::subRTTransactions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/deb/a00710.html#af7ad8994c674d6ffe9be7039f7e9645b">InfoSub::ref</a>&#160;</td>
          <td class="paramname"><em>ispListener</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../d5/dd0/a01438.html#afb7c7aff3eef5f3ba5908e85029386c8">ripple::InfoSub::Source</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02816">2816</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00467">mLock</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00503">mSubRTTransactions</a>.</p>
<div class="fragment"><div class="line"><a name="l02817"></a><span class="lineno"> 2817</span>&#160;{</div>
<div class="line"><a name="l02818"></a><span class="lineno"> 2818</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a936ed96d8cb48a7a818e292345032bd3">ScopedLockType</a> sl (<a class="code" href="../../d7/ded/a01009.html#a28e64f295f2eca1f91a5a11239352071">mLock</a>);</div>
<div class="line"><a name="l02819"></a><span class="lineno"> 2819</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#ada363c60dd7cec7aa003b9e45d582a2f">mSubRTTransactions</a>.emplace (isrListener-&gt;getSeq (), isrListener).second;</div>
<div class="line"><a name="l02820"></a><span class="lineno"> 2820</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a862ad4901433791b9bea86eb574b3aed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::subServer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/deb/a00710.html#af7ad8994c674d6ffe9be7039f7e9645b">InfoSub::ref</a>&#160;</td>
          <td class="paramname"><em>ispListener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> &amp;&#160;</td>
          <td class="paramname"><em>jvResult</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../d5/dd0/a01438.html#a064a471ce6cfcd02a04bd03ffb0dd326">ripple::InfoSub::Source</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02777">2777</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../dd/dfa/a02824_source.html#l00094">ripple::base_uint&lt; BITS &gt;::begin()</a>, <a class="el" href="../../d5/d4c/a02846_source.html#l00062">ripple::RandomNumbers::fillBytes()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d0/dc2/a02477_source.html#l00647">ripple::getConfig()</a>, <a class="el" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb">ripple::Application::getFeeTrack()</a>, <a class="el" href="../../d5/d4c/a02846_source.html#l00090">ripple::RandomNumbers::getInstance()</a>, <a class="el" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0">ripple::LoadFeeTrack::getLoadBase()</a>, <a class="el" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac">ripple::LoadFeeTrack::getLoadFactor()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00467">mLock</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00501">mSubServer</a>, <a class="el" href="../../d2/db9/a01926_source.html#l00392">ripple::Config::RUN_STANDALONE</a>, <a class="el" href="../../dd/dfa/a02824_source.html#l00442">ripple::base_uint&lt; BITS &gt;::size()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00638">strOperatingMode()</a>, and <a class="el" href="../../dd/dfa/a02824_source.html#l00437">ripple::base_uint&lt; BITS &gt;::ToString()</a>.</p>
<div class="fragment"><div class="line"><a name="l02778"></a><span class="lineno"> 2778</span>&#160;{</div>
<div class="line"><a name="l02779"></a><span class="lineno"> 2779</span>&#160;    uint256         uRandom;</div>
<div class="line"><a name="l02780"></a><span class="lineno"> 2780</span>&#160;</div>
<div class="line"><a name="l02781"></a><span class="lineno"> 2781</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().RUN_STANDALONE)</div>
<div class="line"><a name="l02782"></a><span class="lineno"> 2782</span>&#160;        jvResult[<span class="stringliteral">&quot;stand_alone&quot;</span>] = <a class="code" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d">getConfig</a> ().<a class="code" href="../../d3/db8/a00316.html#a9e6ee7c4f8367f7007f92d07d3268996">RUN_STANDALONE</a>;</div>
<div class="line"><a name="l02783"></a><span class="lineno"> 2783</span>&#160;</div>
<div class="line"><a name="l02784"></a><span class="lineno"> 2784</span>&#160;    <a class="code" href="../../d2/dd2/a01164.html#a0a835a6ab5768fd8c44604d4c36635ed">RandomNumbers::getInstance</a> ().<a class="code" href="../../d2/dd2/a01164.html#aa850480b1ab9508d2c3c8e538c08ccff">fillBytes</a> (uRandom.begin (), uRandom.size ());</div>
<div class="line"><a name="l02785"></a><span class="lineno"> 2785</span>&#160;    jvResult[<span class="stringliteral">&quot;random&quot;</span>]          = uRandom.ToString ();</div>
<div class="line"><a name="l02786"></a><span class="lineno"> 2786</span>&#160;    jvResult[<span class="stringliteral">&quot;server_status&quot;</span>]   = <a class="code" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f">strOperatingMode</a> ();</div>
<div class="line"><a name="l02787"></a><span class="lineno"> 2787</span>&#160;    jvResult[<span class="stringliteral">&quot;load_base&quot;</span>]       = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb">getFeeTrack</a> ().<a class="code" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0">getLoadBase</a> ();</div>
<div class="line"><a name="l02788"></a><span class="lineno"> 2788</span>&#160;    jvResult[<span class="stringliteral">&quot;load_factor&quot;</span>]     = <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb">getFeeTrack</a> ().<a class="code" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac">getLoadFactor</a> ();</div>
<div class="line"><a name="l02789"></a><span class="lineno"> 2789</span>&#160;</div>
<div class="line"><a name="l02790"></a><span class="lineno"> 2790</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a936ed96d8cb48a7a818e292345032bd3">ScopedLockType</a> sl (<a class="code" href="../../d7/ded/a01009.html#a28e64f295f2eca1f91a5a11239352071">mLock</a>);</div>
<div class="line"><a name="l02791"></a><span class="lineno"> 2791</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#a2b73d96e9174171dcb29db4155314f3f">mSubServer</a>.emplace (isrListener-&gt;getSeq (), isrListener).second;</div>
<div class="line"><a name="l02792"></a><span class="lineno"> 2792</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a862ad4901433791b9bea86eb574b3aed_cgraph.png" border="0" usemap="#d7/ded/a01009_a862ad4901433791b9bea86eb574b3aed_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a862ad4901433791b9bea86eb574b3aed_cgraph" id="d7/ded/a01009_a862ad4901433791b9bea86eb574b3aed_cgraph">
<area shape="rect" id="node3" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="669,261,795,307"/><area shape="rect" id="node7" href="../../d2/dd2/a01164.html#aa850480b1ab9508d2c3c8e538c08ccff" title="ripple::RandomNumbers\l::fillBytes" alt="" coords="213,5,376,51"/><area shape="rect" id="node15" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="244,125,345,155"/><area shape="rect" id="node19" href="../../d9/d9d/a03417.html#a3025f0e6e155cf9b7f4b6315f682423d" title="ripple::getConfig" alt="" coords="236,179,353,208"/><area shape="rect" id="node21" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb" title="ripple::Application\l::getFeeTrack" alt="" coords="232,231,357,278"/><area shape="rect" id="node23" href="../../d2/dd2/a01164.html#a0a835a6ab5768fd8c44604d4c36635ed" title="ripple::RandomNumbers\l::getInstance" alt="" coords="213,301,376,347"/><area shape="rect" id="node25" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0" title="ripple::LoadFeeTrack\l::getLoadBase" alt="" coords="223,370,367,417"/><area shape="rect" id="node27" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac" title="ripple::LoadFeeTrack\l::getLoadFactor" alt="" coords="223,439,367,486"/><area shape="rect" id="node29" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="657,608,807,637"/><area shape="rect" id="node31" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f" title="ripple::NetworkOPsImp\l::strOperatingMode" alt="" coords="216,578,373,625"/><area shape="rect" id="node33" href="../../d7/d9a/a00152.html#ad19bda12f3725584ac179f2e091e30d7" title="ripple::base_uint::\lToString" alt="" coords="232,509,357,555"/><area shape="rect" id="node5" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="863,269,1012,299"/><area shape="rect" id="node9" href="../../d2/dd2/a01164.html#a162c778337290bbe8f22cf070c9ded7c" title="ripple::RandomNumbers\l::initialize" alt="" coords="432,5,595,51"/><area shape="rect" id="node11" href="../../d2/dd2/a01164.html#a029c0ab7c7aafe291d17de9541211116" title="ripple::RandomNumbers\l::platformAddEntropy" alt="" coords="651,5,813,51"/><area shape="rect" id="node13" href="../../d2/dd6/a03414.html#a7378f09d8f10ef3ccbb2aeefe7ff41d3" title="Json::in" alt="" coords="904,13,971,43"/><area shape="rect" id="node17" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="425,125,601,171"/><area shape="rect" id="node35" href="../../d7/d9a/a00152.html#a348c4019943a8b3a05f39f1efcb589c9" title="ripple::base_uint::\lGetHex" alt="" coords="451,509,576,555"/><area shape="rect" id="node39" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073" title="ripple::strHex" alt="" coords="683,517,781,547"/><area shape="rect" id="node41" href="../../d9/d9d/a03417.html#aca6318bcfeb25f74477566a7ddc06a63" title="ripple::charHex" alt="" coords="883,517,992,547"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa2a68008a4f8c8539dca35f260625f13"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::subTransactions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../d4/deb/a00710.html#af7ad8994c674d6ffe9be7039f7e9645b">InfoSub::ref</a>&#160;</td>
          <td class="paramname"><em>ispListener</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../d5/dd0/a01438.html#ac2821cf52871a9e25fcb411f28cf8205">ripple::InfoSub::Source</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02802">2802</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00467">mLock</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00502">mSubTransactions</a>.</p>
<div class="fragment"><div class="line"><a name="l02803"></a><span class="lineno"> 2803</span>&#160;{</div>
<div class="line"><a name="l02804"></a><span class="lineno"> 2804</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a936ed96d8cb48a7a818e292345032bd3">ScopedLockType</a> sl (<a class="code" href="../../d7/ded/a01009.html#a28e64f295f2eca1f91a5a11239352071">mLock</a>);</div>
<div class="line"><a name="l02805"></a><span class="lineno"> 2805</span>&#160;    <span class="keywordflow">return</span> <a class="code" href="../../d7/ded/a01009.html#ae13616c7a9ed41edc86fe19cfe6f56d8">mSubTransactions</a>.emplace (isrListener-&gt;getSeq (), isrListener).second;</div>
<div class="line"><a name="l02806"></a><span class="lineno"> 2806</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a53d1db0e69a3063d0a6fa58e0404c8ed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::sweepFetchPack </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#ab27a27d0cd6bf8fd6e7473b489f009d4">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l03260">3260</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00505">mFetchPack</a>, and <a class="el" href="../../de/d76/a02417_source.html#l00165">ripple::TaggedCache&lt; Key, T, Hash, KeyEqual, Mutex &gt;::sweep()</a>.</p>
<div class="fragment"><div class="line"><a name="l03261"></a><span class="lineno"> 3261</span>&#160;{</div>
<div class="line"><a name="l03262"></a><span class="lineno"> 3262</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a504786cda9d676e308f54fe40f7d6d83">mFetchPack</a>.<a class="code" href="../../dd/d55/a01638.html#aa8f0b1371bd083bcb602f70ba5e0d66f">sweep</a> ();</div>
<div class="line"><a name="l03263"></a><span class="lineno"> 3263</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a53d1db0e69a3063d0a6fa58e0404c8ed_cgraph.png" border="0" usemap="#d7/ded/a01009_a53d1db0e69a3063d0a6fa58e0404c8ed_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a53d1db0e69a3063d0a6fa58e0404c8ed_cgraph" id="d7/ded/a01009_a53d1db0e69a3063d0a6fa58e0404c8ed_cgraph">
<area shape="rect" id="node3" href="../../dd/d55/a01638.html#aa8f0b1371bd083bcb602f70ba5e0d66f" title="ripple::TaggedCache\l::sweep" alt="" coords="215,5,356,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a03e21ff22be1d31dbe08f81deb590ece"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::switchLastClosedLedger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a>&#160;</td>
          <td class="paramname"><em>newLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>duringConsensus</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01422">1422</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../dd/dfa/a02824_source.html#l00094">ripple::base_uint&lt; BITS &gt;::begin()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00277">clearNeedNetworkLedger()</a>, <a class="el" href="../../dd/d07/a02132_source.html#l00247">beast::Journal::error</a>, <a class="el" href="../../dd/d87/a03235_source.html#l00096">ripple::Overlay::foreach()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00671">getNetworkTimeNC()</a>, <a class="el" href="../../d5/d95/a02720_source.html#l00040">hash</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>, <a class="el" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee">ripple::Application::overlay()</a>, <a class="el" href="../../dd/dfa/a02824_source.html#l00442">ripple::base_uint&lt; BITS &gt;::size()</a>, and <a class="el" href="../../d1/de6/a00837.html#af249e0b1768882343f37df9720aeb25d">ripple::LedgerMaster::switchLedgers()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l01268">checkLastClosedLedger()</a>.</p>
<div class="fragment"><div class="line"><a name="l01423"></a><span class="lineno"> 1423</span>&#160;{</div>
<div class="line"><a name="l01424"></a><span class="lineno"> 1424</span>&#160;    <span class="comment">// set the newledger as our last closed ledger -- this is abnormal code</span></div>
<div class="line"><a name="l01425"></a><span class="lineno"> 1425</span>&#160;</div>
<div class="line"><a name="l01426"></a><span class="lineno"> 1426</span>&#160;    <span class="keywordflow">if</span> (duringConsensus)</div>
<div class="line"><a name="l01427"></a><span class="lineno"> 1427</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a754a7a96d490fbc7f53f69572b9c1514">error</a> &lt;&lt; <span class="stringliteral">&quot;JUMPdc last closed ledger to &quot;</span> &lt;&lt; newLedger-&gt;getHash ();</div>
<div class="line"><a name="l01428"></a><span class="lineno"> 1428</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01429"></a><span class="lineno"> 1429</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#a754a7a96d490fbc7f53f69572b9c1514">error</a> &lt;&lt; <span class="stringliteral">&quot;JUMP last closed ledger to &quot;</span> &lt;&lt; newLedger-&gt;getHash ();</div>
<div class="line"><a name="l01430"></a><span class="lineno"> 1430</span>&#160;</div>
<div class="line"><a name="l01431"></a><span class="lineno"> 1431</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a08d1779d5bb2a06bdbaeabdac2ba3ed8">clearNeedNetworkLedger</a> ();</div>
<div class="line"><a name="l01432"></a><span class="lineno"> 1432</span>&#160;    newLedger-&gt;setClosed ();</div>
<div class="line"><a name="l01433"></a><span class="lineno"> 1433</span>&#160;    <a class="code" href="../../dd/d5f/a00825.html#a373b6b80e365f42477db12be3ce899ba">Ledger::pointer</a> openLedger = boost::make_shared&lt;Ledger&gt; (<span class="keyword">false</span>, boost::ref (*newLedger));</div>
<div class="line"><a name="l01434"></a><span class="lineno"> 1434</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#af249e0b1768882343f37df9720aeb25d">switchLedgers</a> (newLedger, openLedger);</div>
<div class="line"><a name="l01435"></a><span class="lineno"> 1435</span>&#160;</div>
<div class="line"><a name="l01436"></a><span class="lineno"> 1436</span>&#160;    protocol::TMStatusChange s;</div>
<div class="line"><a name="l01437"></a><span class="lineno"> 1437</span>&#160;    s.set_newevent (protocol::neSWITCHED_LEDGER);</div>
<div class="line"><a name="l01438"></a><span class="lineno"> 1438</span>&#160;    s.set_ledgerseq (newLedger-&gt;getLedgerSeq ());</div>
<div class="line"><a name="l01439"></a><span class="lineno"> 1439</span>&#160;    s.set_networktime (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getOPs ().<a class="code" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef">getNetworkTimeNC</a> ());</div>
<div class="line"><a name="l01440"></a><span class="lineno"> 1440</span>&#160;    uint256 <a class="code" href="../../d5/d95/a02720.html#a11ecb029164e055f28f4123ce3748862">hash</a> = newLedger-&gt;getParentHash ();</div>
<div class="line"><a name="l01441"></a><span class="lineno"> 1441</span>&#160;    s.set_ledgerhashprevious (hash.begin (), hash.size ());</div>
<div class="line"><a name="l01442"></a><span class="lineno"> 1442</span>&#160;    hash = newLedger-&gt;getHash ();</div>
<div class="line"><a name="l01443"></a><span class="lineno"> 1443</span>&#160;    s.set_ledgerhash (hash.begin (), hash.size ());</div>
<div class="line"><a name="l01444"></a><span class="lineno"> 1444</span>&#160;</div>
<div class="line"><a name="l01445"></a><span class="lineno"> 1445</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a> ().<a class="code" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee">overlay</a> ().<a class="code" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c">foreach</a> (send_always (</div>
<div class="line"><a name="l01446"></a><span class="lineno"> 1446</span>&#160;        boost::make_shared&lt;Message&gt; (s, protocol::mtSTATUS_CHANGE)));</div>
<div class="line"><a name="l01447"></a><span class="lineno"> 1447</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a03e21ff22be1d31dbe08f81deb590ece_cgraph.png" border="0" usemap="#d7/ded/a01009_a03e21ff22be1d31dbe08f81deb590ece_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a03e21ff22be1d31dbe08f81deb590ece_cgraph" id="d7/ded/a01009_a03e21ff22be1d31dbe08f81deb590ece_cgraph">
<area shape="rect" id="node3" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="253,5,379,51"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#a08d1779d5bb2a06bdbaeabdac2ba3ed8" title="ripple::NetworkOPsImp\l::clearNeedNetworkLedger" alt="" coords="228,74,404,121"/><area shape="rect" id="node9" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c" title="ripple::Overlay::foreach" alt="" coords="237,144,395,173"/><area shape="rect" id="node13" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="701,195,803,224"/><area shape="rect" id="node17" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef" title="ripple::NetworkOPsImp\l::getNetworkTimeNC" alt="" coords="237,247,395,294"/><area shape="rect" id="node28" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee" title="ripple::Application\l::overlay" alt="" coords="253,317,379,363"/><area shape="rect" id="node30" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="241,387,391,416"/><area shape="rect" id="node32" href="../../d1/de6/a00837.html#af249e0b1768882343f37df9720aeb25d" title="ripple::LedgerMaster\l::switchLedgers" alt="" coords="247,439,385,486"/><area shape="rect" id="node5" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="464,13,613,43"/><area shape="rect" id="node11" href="../../de/de6/a01063.html#a5b8ee783b77679fb2fad2543ab521a90" title="ripple::Overlay::getActive\lPeers" alt="" coords="455,127,623,174"/><area shape="rect" id="node15" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="881,186,1057,233"/><area shape="rect" id="node19" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a" title="ripple::NetworkOPsImp\l::getNetworkTimePT" alt="" coords="460,247,617,294"/><area shape="rect" id="node24" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7" title="ripple::iToSeconds" alt="" coords="473,317,604,347"/><area shape="rect" id="node22" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678" title="ripple::Application\l::getSystemTimeOffset" alt="" coords="673,247,831,294"/><area shape="rect" id="node26" href="../../d9/d9d/a03417.html#a00572ed03b233ecd42f36357a395c163" title="ripple::ptEpoch" alt="" coords="697,317,807,347"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a03e21ff22be1d31dbe08f81deb590ece_icgraph.png" border="0" usemap="#d7/ded/a01009_a03e21ff22be1d31dbe08f81deb590ece_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a03e21ff22be1d31dbe08f81deb590ece_icgraph" id="d7/ded/a01009_a03e21ff22be1d31dbe08f81deb590ece_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#ad72f54405ed9b8219022e8c2b7796c98" title="ripple::NetworkOPsImp\l::checkLastClosedLedger" alt="" coords="227,174,397,221"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#ac929d58ce61af6b87922103bf3da3039" title="ripple::NetworkOPsImp\l::haveConsensusObject" alt="" coords="656,143,819,190"/><area shape="rect" id="node15" href="../../d7/ded/a01009.html#a6a3776d980baee062b961c0195bc43be" title="ripple::NetworkOPsImp\l::tryStartConsensus" alt="" coords="447,203,604,250"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#a27090d36556b8665cbd908efa99e2a05" title="ripple::NetworkOPsImp\l::getConsensusLCL" alt="" coords="876,5,1033,51"/><area shape="rect" id="node9" href="../../d7/ded/a01009.html#a7fc7ee8501f9d95df97583cabf3b4771" title="ripple::NetworkOPsImp\l::getTXMap" alt="" coords="876,74,1033,121"/><area shape="rect" id="node11" href="../../d7/ded/a01009.html#aff24b82af590d1db837231ad0125eee4" title="ripple::NetworkOPsImp\l::mapComplete" alt="" coords="876,143,1033,190"/><area shape="rect" id="node13" href="../../d7/ded/a01009.html#a148e1e8d0c5128ee48e0206cdeb5e2a0" title="ripple::NetworkOPsImp\l::processTrustedProposal" alt="" coords="869,213,1040,259"/><area shape="rect" id="node17" href="../../d7/ded/a01009.html#adb95084185570756c8a39ba0e32fb3ed" title="ripple::NetworkOPsImp\l::processHeartbeatTimer" alt="" coords="655,247,820,294"/><area shape="rect" id="node19" href="../../d7/ded/a01009.html#ab8272588ee692e125af4d7841af32618" title="ripple::NetworkOPsImp\l::onDeadlineTimer" alt="" coords="876,282,1033,329"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a75b4f3b666bdcbb73cbe35991557cf98"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::takePosition </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>seq</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d6/dfe/a01366.html#a585bf78e9ec9fa02084eb73db874939c">SHAMap::ref</a>&#160;</td>
          <td class="paramname"><em>position</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#acf90d8f88e99ff03b409ed30e2d25ac0">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01591">1591</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00493">mRecentPositions</a>.</p>
<div class="fragment"><div class="line"><a name="l01592"></a><span class="lineno"> 1592</span>&#160;{</div>
<div class="line"><a name="l01593"></a><span class="lineno"> 1593</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a26cb1d76498df9d9f76024bedbfe2262">mRecentPositions</a>[position-&gt;getHash ()] = std::make_pair (seq, position);</div>
<div class="line"><a name="l01594"></a><span class="lineno"> 1594</span>&#160;</div>
<div class="line"><a name="l01595"></a><span class="lineno"> 1595</span>&#160;    <span class="keywordflow">if</span> (<a class="code" href="../../d7/ded/a01009.html#a26cb1d76498df9d9f76024bedbfe2262">mRecentPositions</a>.size () &gt; 4)</div>
<div class="line"><a name="l01596"></a><span class="lineno"> 1596</span>&#160;    {</div>
<div class="line"><a name="l01597"></a><span class="lineno"> 1597</span>&#160;        std::map&lt;uint256, std::pair&lt;int, SHAMap::pointer&gt; &gt;::iterator it = <a class="code" href="../../d7/ded/a01009.html#a26cb1d76498df9d9f76024bedbfe2262">mRecentPositions</a>.begin ();</div>
<div class="line"><a name="l01598"></a><span class="lineno"> 1598</span>&#160;</div>
<div class="line"><a name="l01599"></a><span class="lineno"> 1599</span>&#160;        <span class="keywordflow">while</span> (it != <a class="code" href="../../d7/ded/a01009.html#a26cb1d76498df9d9f76024bedbfe2262">mRecentPositions</a>.end ())</div>
<div class="line"><a name="l01600"></a><span class="lineno"> 1600</span>&#160;        {</div>
<div class="line"><a name="l01601"></a><span class="lineno"> 1601</span>&#160;            <span class="keywordflow">if</span> (it-&gt;second.first &lt; (seq - 2))</div>
<div class="line"><a name="l01602"></a><span class="lineno"> 1602</span>&#160;            {</div>
<div class="line"><a name="l01603"></a><span class="lineno"> 1603</span>&#160;                <a class="code" href="../../d7/ded/a01009.html#a26cb1d76498df9d9f76024bedbfe2262">mRecentPositions</a>.erase (it);</div>
<div class="line"><a name="l01604"></a><span class="lineno"> 1604</span>&#160;                <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01605"></a><span class="lineno"> 1605</span>&#160;            }</div>
<div class="line"><a name="l01606"></a><span class="lineno"> 1606</span>&#160;</div>
<div class="line"><a name="l01607"></a><span class="lineno"> 1607</span>&#160;            ++it;</div>
<div class="line"><a name="l01608"></a><span class="lineno"> 1608</span>&#160;        }</div>
<div class="line"><a name="l01609"></a><span class="lineno"> 1609</span>&#160;    }</div>
<div class="line"><a name="l01610"></a><span class="lineno"> 1610</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a7a4453eeb692f0bc2dc5a73a83e2dd54"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string ripple::NetworkOPsImp::transactionsSQL </td>
          <td>(</td>
          <td class="paramtype">std::string&#160;</td>
          <td class="paramname"><em>selection</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &amp;&#160;</td>
          <td class="paramname"><em>account</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#ab1967d8591af1a4e48c37fd2b0f184d0">std::int32_t</a>&#160;</td>
          <td class="paramname"><em>minLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#ab1967d8591af1a4e48c37fd2b0f184d0">std::int32_t</a>&#160;</td>
          <td class="paramname"><em>maxLedger</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>descending</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a>&#160;</td>
          <td class="paramname"><em>offset</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>limit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>binary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bAdmin</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#aaf68c243156ff284069a91d64dbaf1b4">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01748">1748</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d2/d23/a03186_source.html#l00317">ripple::RippleAddress::humanAccountID()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00461">m_journal</a>, <a class="el" href="../../d5/dd8/a03083_source.html#l00031">ripple::min()</a>, and <a class="el" href="../../dd/d07/a02132_source.html#l00243">beast::Journal::trace</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l01811">getAccountTxs()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01861">getAccountTxsB()</a>.</p>
<div class="fragment"><div class="line"><a name="l01752"></a><span class="lineno"> 1752</span>&#160;{</div>
<div class="line"><a name="l01753"></a><span class="lineno"> 1753</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> NONBINARY_PAGE_LENGTH = 200;</div>
<div class="line"><a name="l01754"></a><span class="lineno"> 1754</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> BINARY_PAGE_LENGTH = 500;</div>
<div class="line"><a name="l01755"></a><span class="lineno"> 1755</span>&#160;</div>
<div class="line"><a name="l01756"></a><span class="lineno"> 1756</span>&#160;    <a class="code" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> numberOfResults;</div>
<div class="line"><a name="l01757"></a><span class="lineno"> 1757</span>&#160;</div>
<div class="line"><a name="l01758"></a><span class="lineno"> 1758</span>&#160;    <span class="keywordflow">if</span> (count)</div>
<div class="line"><a name="l01759"></a><span class="lineno"> 1759</span>&#160;        numberOfResults = 1000000000;</div>
<div class="line"><a name="l01760"></a><span class="lineno"> 1760</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (limit &lt; 0)</div>
<div class="line"><a name="l01761"></a><span class="lineno"> 1761</span>&#160;        numberOfResults = binary ? BINARY_PAGE_LENGTH : NONBINARY_PAGE_LENGTH;</div>
<div class="line"><a name="l01762"></a><span class="lineno"> 1762</span>&#160;    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (!bAdmin)</div>
<div class="line"><a name="l01763"></a><span class="lineno"> 1763</span>&#160;        numberOfResults = <a class="code" href="../../d9/d9d/a03417.html#aa3091bec2c625018fadb6aefef12b9ff">std::min</a> (binary ? BINARY_PAGE_LENGTH</div>
<div class="line"><a name="l01764"></a><span class="lineno"> 1764</span>&#160;                                           : NONBINARY_PAGE_LENGTH, static_cast&lt;std::uint32_t&gt; (limit));</div>
<div class="line"><a name="l01765"></a><span class="lineno"> 1765</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01766"></a><span class="lineno"> 1766</span>&#160;        numberOfResults = limit;</div>
<div class="line"><a name="l01767"></a><span class="lineno"> 1767</span>&#160;</div>
<div class="line"><a name="l01768"></a><span class="lineno"> 1768</span>&#160;    std::string maxClause = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l01769"></a><span class="lineno"> 1769</span>&#160;    std::string minClause = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><a name="l01770"></a><span class="lineno"> 1770</span>&#160;</div>
<div class="line"><a name="l01771"></a><span class="lineno"> 1771</span>&#160;    <span class="keywordflow">if</span> (maxLedger != -1)</div>
<div class="line"><a name="l01772"></a><span class="lineno"> 1772</span>&#160;        maxClause = boost::str (boost::format (<span class="stringliteral">&quot;AND AccountTransactions.LedgerSeq &lt;= &#39;%u&#39;&quot;</span>) % maxLedger);</div>
<div class="line"><a name="l01773"></a><span class="lineno"> 1773</span>&#160;</div>
<div class="line"><a name="l01774"></a><span class="lineno"> 1774</span>&#160;    <span class="keywordflow">if</span> (minLedger != -1)</div>
<div class="line"><a name="l01775"></a><span class="lineno"> 1775</span>&#160;        minClause = boost::str (boost::format (<span class="stringliteral">&quot;AND AccountTransactions.LedgerSeq &gt;= &#39;%u&#39;&quot;</span>) % minLedger);</div>
<div class="line"><a name="l01776"></a><span class="lineno"> 1776</span>&#160;</div>
<div class="line"><a name="l01777"></a><span class="lineno"> 1777</span>&#160;    std::string sql;</div>
<div class="line"><a name="l01778"></a><span class="lineno"> 1778</span>&#160;</div>
<div class="line"><a name="l01779"></a><span class="lineno"> 1779</span>&#160;    <span class="keywordflow">if</span> (count)</div>
<div class="line"><a name="l01780"></a><span class="lineno"> 1780</span>&#160;        sql =</div>
<div class="line"><a name="l01781"></a><span class="lineno"> 1781</span>&#160;            boost::str (boost::format (<span class="stringliteral">&quot;SELECT %s FROM AccountTransactions WHERE Account = &#39;%s&#39; %s %s LIMIT %u, %u;&quot;</span>)</div>
<div class="line"><a name="l01782"></a><span class="lineno"> 1782</span>&#160;            % selection</div>
<div class="line"><a name="l01783"></a><span class="lineno"> 1783</span>&#160;            % account.humanAccountID ()</div>
<div class="line"><a name="l01784"></a><span class="lineno"> 1784</span>&#160;            % maxClause</div>
<div class="line"><a name="l01785"></a><span class="lineno"> 1785</span>&#160;            % minClause</div>
<div class="line"><a name="l01786"></a><span class="lineno"> 1786</span>&#160;            % beast::lexicalCastThrow &lt;std::string&gt; (offset)</div>
<div class="line"><a name="l01787"></a><span class="lineno"> 1787</span>&#160;            % beast::lexicalCastThrow &lt;std::string&gt; (numberOfResults)</div>
<div class="line"><a name="l01788"></a><span class="lineno"> 1788</span>&#160;        );</div>
<div class="line"><a name="l01789"></a><span class="lineno"> 1789</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l01790"></a><span class="lineno"> 1790</span>&#160;        sql =</div>
<div class="line"><a name="l01791"></a><span class="lineno"> 1791</span>&#160;            boost::str (boost::format (<span class="stringliteral">&quot;SELECT %s FROM &quot;</span></div>
<div class="line"><a name="l01792"></a><span class="lineno"> 1792</span>&#160;                                       <span class="stringliteral">&quot;AccountTransactions INNER JOIN Transactions ON Transactions.TransID = AccountTransactions.TransID &quot;</span></div>
<div class="line"><a name="l01793"></a><span class="lineno"> 1793</span>&#160;                                       <span class="stringliteral">&quot;WHERE Account = &#39;%s&#39; %s %s &quot;</span></div>
<div class="line"><a name="l01794"></a><span class="lineno"> 1794</span>&#160;                                       <span class="stringliteral">&quot;ORDER BY AccountTransactions.LedgerSeq %s, AccountTransactions.TxnSeq %s, AccountTransactions.TransID %s &quot;</span></div>
<div class="line"><a name="l01795"></a><span class="lineno"> 1795</span>&#160;                                       <span class="stringliteral">&quot;LIMIT %u, %u;&quot;</span>)</div>
<div class="line"><a name="l01796"></a><span class="lineno"> 1796</span>&#160;                    % selection</div>
<div class="line"><a name="l01797"></a><span class="lineno"> 1797</span>&#160;                    % account.humanAccountID ()</div>
<div class="line"><a name="l01798"></a><span class="lineno"> 1798</span>&#160;                    % maxClause</div>
<div class="line"><a name="l01799"></a><span class="lineno"> 1799</span>&#160;                    % minClause</div>
<div class="line"><a name="l01800"></a><span class="lineno"> 1800</span>&#160;                    % (descending ? <span class="stringliteral">&quot;DESC&quot;</span> : <span class="stringliteral">&quot;ASC&quot;</span>)</div>
<div class="line"><a name="l01801"></a><span class="lineno"> 1801</span>&#160;                    % (descending ? <span class="stringliteral">&quot;DESC&quot;</span> : <span class="stringliteral">&quot;ASC&quot;</span>)</div>
<div class="line"><a name="l01802"></a><span class="lineno"> 1802</span>&#160;                    % (descending ? <span class="stringliteral">&quot;DESC&quot;</span> : <span class="stringliteral">&quot;ASC&quot;</span>)</div>
<div class="line"><a name="l01803"></a><span class="lineno"> 1803</span>&#160;                    % beast::lexicalCastThrow &lt;std::string&gt; (offset)</div>
<div class="line"><a name="l01804"></a><span class="lineno"> 1804</span>&#160;                    % beast::lexicalCastThrow &lt;std::string&gt; (numberOfResults)</div>
<div class="line"><a name="l01805"></a><span class="lineno"> 1805</span>&#160;                   );</div>
<div class="line"><a name="l01806"></a><span class="lineno"> 1806</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a536fdf13287895a338f05b765e96d9e3">m_journal</a>.<a class="code" href="../../df/d0c/a00788.html#af70bab6f3469226387fb6018e14d83fc">trace</a> &lt;&lt; <span class="stringliteral">&quot;txSQL query: &quot;</span> &lt;&lt; sql;</div>
<div class="line"><a name="l01807"></a><span class="lineno"> 1807</span>&#160;    <span class="keywordflow">return</span> sql;</div>
<div class="line"><a name="l01808"></a><span class="lineno"> 1808</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a7a4453eeb692f0bc2dc5a73a83e2dd54_cgraph.png" border="0" usemap="#d7/ded/a01009_a7a4453eeb692f0bc2dc5a73a83e2dd54_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a7a4453eeb692f0bc2dc5a73a83e2dd54_cgraph" id="d7/ded/a01009_a7a4453eeb692f0bc2dc5a73a83e2dd54_cgraph">
<area shape="rect" id="node3" href="../../d4/d0e/a01272.html#a2a8201537b6969c0e186c9b1d889c52b" title="ripple::RippleAddress\l::humanAccountID" alt="" coords="213,142,360,189"/><area shape="rect" id="node57" href="../../d9/d9d/a03417.html#aa3091bec2c625018fadb6aefef12b9ff" title="ripple::min" alt="" coords="245,212,328,241"/><area shape="rect" id="node5" href="../../d4/d87/a03436.html#a6f17c6df7ce20ec52aecef2475cd4158" title="rocksdb::if" alt="" coords="440,39,523,68"/><area shape="rect" id="node11" href="../../d9/d39/a00257.html#a18a7bfe8bbf61262472b03f1dfe5c887" title="ripple::CBase58Data\l::ToString" alt="" coords="411,107,552,154"/><area shape="rect" id="node33" href="../../d4/d0e/a01272.html#ad33487a0716edddfc083c5a0fd68bbc9" title="ripple::RippleAddress\l::setAccountID" alt="" coords="408,177,555,223"/><area shape="rect" id="node53" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="408,246,555,293"/><area shape="rect" id="node7" href="../../da/d71/a00814.html#ab25c6d03dbcd6168b3ae3762dc98fd51" title="rocksdb::LDBCommandExecute\lResult::FAILED" alt="" coords="603,15,813,62"/><area shape="rect" id="node9" href="../../da/d71/a00814.html#ae4210d600639c8c6ac04486ebc43c39b" title="rocksdb::LDBCommandExecute\lResult::LDBCommandExecuteResult" alt="" coords="861,5,1101,51"/><area shape="rect" id="node13" href="../../d9/d7d/a00150.html#a085fa82e1453fd6e5460a0cd960b5816" title="ripple::Base58::encodeWith\lCheck" alt="" coords="617,107,799,154"/><area shape="rect" id="node15" href="../../d9/d7d/a00150.html#ac6c6ad62e7ed916bfe1c652721d3fe26" title="ripple::Base58::encode" alt="" coords="904,75,1059,104"/><area shape="rect" id="node31" href="../../d9/d7d/a00150.html#a24f49360e730224f1d16edb1b504e32a" title="ripple::Base58::getCurrent\lAlphabet" alt="" coords="895,127,1068,174"/><area shape="rect" id="node17" href="../../d0/d87/a03399.html#addb402f22cc191c3dc7f4325bb6f684e" title="beast.util.Iter.first" alt="" coords="1180,75,1303,104"/><area shape="rect" id="node19" href="../../d9/d7d/a00150.html#a03b8b4e8a39fe06fe7e3a74f76cdf664" title="ripple::Base58::fourbyte\l_hash256" alt="" coords="1161,127,1321,174"/><area shape="rect" id="node27" href="../../d9/d7d/a00150.html#a126fe41b1f663aeb5826c2f44a2d9528" title="ripple::Base58::raw\l_encode" alt="" coords="1175,5,1308,51"/><area shape="rect" id="node21" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="1401,82,1527,129"/><area shape="rect" id="node25" href="../../d9/d9d/a03417.html#a4be54b895ff42f63b835266848abf9af" title="ripple::SHA256Hash" alt="" coords="1393,152,1535,181"/><area shape="rect" id="node23" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="1603,117,1752,147"/><area shape="rect" id="node29" href="../../d7/d2f/a00258.html#af54502b0cc273266a8cc841100386645" title="ripple::CBigNum::getuint" alt="" coords="1381,13,1547,43"/><area shape="rect" id="node35" href="../../d9/d39/a00257.html#a47491f73d2b42a10e3f72172ced83c3d" title="ripple::CBase58Data\l::SetString" alt="" coords="911,197,1052,243"/><area shape="rect" id="node37" href="../../d9/d7d/a00150.html#a85c405829839e85edb721241fd8d4203" title="ripple::Base58::decodeWith\lCheck" alt="" coords="1151,197,1332,243"/><area shape="rect" id="node39" href="../../d9/d7d/a00150.html#a0c2d621faceac43aeb30f4797f03b12c" title="ripple::Base58::decode" alt="" coords="1387,259,1541,288"/><area shape="rect" id="node49" href="../../d7/d9a/a00152.html#afcb87d72a05033f7eafdf7563bf52224" title="ripple::base_uint::end" alt="" coords="1391,205,1537,235"/><area shape="rect" id="node41" href="../../d9/dec/a00090.html#ac2a3456ebd59fd80270f618c64544ac9" title="ripple::Base58::Alphabet\l::chars" alt="" coords="1596,250,1759,297"/><area shape="rect" id="node43" href="../../d7/d2f/a00258.html#a84e73d21fd76767976513f5bf1276215" title="ripple::CBigNum::getvch" alt="" coords="1595,320,1760,349"/><area shape="rect" id="node45" href="../../d7/d2f/a00258.html#a01d5357e9691e5d7743172afbc3cc85c" title="ripple::CBigNum::setuint" alt="" coords="1595,197,1760,227"/><area shape="rect" id="node47" href="../../d7/d2f/a00258.html#a80a1fa42fd2d87bedd0b3bf5180ed4ba" title="ripple::CBigNum::setulong" alt="" coords="1809,197,1983,227"/><area shape="rect" id="node55" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="652,255,764,284"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a7a4453eeb692f0bc2dc5a73a83e2dd54_icgraph.png" border="0" usemap="#d7/ded/a01009_a7a4453eeb692f0bc2dc5a73a83e2dd54_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a7a4453eeb692f0bc2dc5a73a83e2dd54_icgraph" id="d7/ded/a01009_a7a4453eeb692f0bc2dc5a73a83e2dd54_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a6e1ccf9676c6b1c9277aa9b7bc3b5021" title="ripple::NetworkOPsImp\l::getAccountTxs" alt="" coords="215,5,372,51"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a57e12101d21717265329ff076bf5dcf1" title="ripple::NetworkOPsImp\l::getAccountTxsB" alt="" coords="215,74,372,121"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acd0b0453a98534dad9cfd1a0fa6bf780"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d6/d27/a01781.html">Json::Value</a> ripple::NetworkOPsImp::transJson </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="../../d9/de4/a01346.html">SerializedTransaction</a> &amp;&#160;</td>
          <td class="paramname"><em>stTxn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d9d/a03417.html#ac6c7d57554e8bab72ad93e40ceb3f6c0">TER</a>&#160;</td>
          <td class="paramname"><em>terResult</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>bValidated</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a>&#160;</td>
          <td class="paramname"><em>lpCurrent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02439">2439</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../dd/d2f/a02983_source.html#l00244">ripple::SerializedTransaction::getJson()</a>, <a class="el" href="../../d4/da8/a02444_source.html#l00039">Json::objectValue</a>, and <a class="el" href="../../d6/d9b/a03202_source.html#l00022">ripple::transResultInfo()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02521">pubAccountTransaction()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02349">pubProposedTransaction()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l02476">pubValidatedTransaction()</a>.</p>
<div class="fragment"><div class="line"><a name="l02441"></a><span class="lineno"> 2441</span>&#160;{</div>
<div class="line"><a name="l02442"></a><span class="lineno"> 2442</span>&#160;    <span class="comment">// This routine should only be used to publish accepted or validated transactions</span></div>
<div class="line"><a name="l02443"></a><span class="lineno"> 2443</span>&#160;    <a class="code" href="../../d6/d27/a01781.html" title="Represents a JSON value. ">Json::Value</a> jvObj (<a class="code" href="../../d2/dd6/a03414.html#a7d654b75c16a57007925868e38212b4eae8386dcfc36d1ae897745f7b4f77a1f6" title="object value (collection of name/value pairs). ">Json::objectValue</a>);</div>
<div class="line"><a name="l02444"></a><span class="lineno"> 2444</span>&#160;    std::string sToken;</div>
<div class="line"><a name="l02445"></a><span class="lineno"> 2445</span>&#160;    std::string sHuman;</div>
<div class="line"><a name="l02446"></a><span class="lineno"> 2446</span>&#160;</div>
<div class="line"><a name="l02447"></a><span class="lineno"> 2447</span>&#160;    <a class="code" href="../../d9/d9d/a03417.html#a8ebf8214ccd67d515e6dd26b832854a9">transResultInfo</a> (terResult, sToken, sHuman);</div>
<div class="line"><a name="l02448"></a><span class="lineno"> 2448</span>&#160;</div>
<div class="line"><a name="l02449"></a><span class="lineno"> 2449</span>&#160;    jvObj[<span class="stringliteral">&quot;type&quot;</span>]           = <span class="stringliteral">&quot;transaction&quot;</span>;</div>
<div class="line"><a name="l02450"></a><span class="lineno"> 2450</span>&#160;    jvObj[<span class="stringliteral">&quot;transaction&quot;</span>]    = stTxn.getJson (0);</div>
<div class="line"><a name="l02451"></a><span class="lineno"> 2451</span>&#160;</div>
<div class="line"><a name="l02452"></a><span class="lineno"> 2452</span>&#160;    <span class="keywordflow">if</span> (bValidated)</div>
<div class="line"><a name="l02453"></a><span class="lineno"> 2453</span>&#160;    {</div>
<div class="line"><a name="l02454"></a><span class="lineno"> 2454</span>&#160;        jvObj[<span class="stringliteral">&quot;ledger_index&quot;</span>]           = lpCurrent-&gt;getLedgerSeq ();</div>
<div class="line"><a name="l02455"></a><span class="lineno"> 2455</span>&#160;        jvObj[<span class="stringliteral">&quot;ledger_hash&quot;</span>]            = lpCurrent-&gt;getHash ().ToString ();</div>
<div class="line"><a name="l02456"></a><span class="lineno"> 2456</span>&#160;        jvObj[<span class="stringliteral">&quot;transaction&quot;</span>][<span class="stringliteral">&quot;date&quot;</span>]    = lpCurrent-&gt;getCloseTimeNC ();</div>
<div class="line"><a name="l02457"></a><span class="lineno"> 2457</span>&#160;        jvObj[<span class="stringliteral">&quot;validated&quot;</span>]              = <span class="keyword">true</span>;</div>
<div class="line"><a name="l02458"></a><span class="lineno"> 2458</span>&#160;</div>
<div class="line"><a name="l02459"></a><span class="lineno"> 2459</span>&#160;        <span class="comment">// WRITEME: Put the account next seq here</span></div>
<div class="line"><a name="l02460"></a><span class="lineno"> 2460</span>&#160;</div>
<div class="line"><a name="l02461"></a><span class="lineno"> 2461</span>&#160;    }</div>
<div class="line"><a name="l02462"></a><span class="lineno"> 2462</span>&#160;    <span class="keywordflow">else</span></div>
<div class="line"><a name="l02463"></a><span class="lineno"> 2463</span>&#160;    {</div>
<div class="line"><a name="l02464"></a><span class="lineno"> 2464</span>&#160;        jvObj[<span class="stringliteral">&quot;validated&quot;</span>]              = <span class="keyword">false</span>;</div>
<div class="line"><a name="l02465"></a><span class="lineno"> 2465</span>&#160;        jvObj[<span class="stringliteral">&quot;ledger_current_index&quot;</span>]   = lpCurrent-&gt;getLedgerSeq ();</div>
<div class="line"><a name="l02466"></a><span class="lineno"> 2466</span>&#160;    }</div>
<div class="line"><a name="l02467"></a><span class="lineno"> 2467</span>&#160;</div>
<div class="line"><a name="l02468"></a><span class="lineno"> 2468</span>&#160;    jvObj[<span class="stringliteral">&quot;status&quot;</span>]                 = bValidated ? <span class="stringliteral">&quot;closed&quot;</span> : <span class="stringliteral">&quot;proposed&quot;</span>;</div>
<div class="line"><a name="l02469"></a><span class="lineno"> 2469</span>&#160;    jvObj[<span class="stringliteral">&quot;engine_result&quot;</span>]          = sToken;</div>
<div class="line"><a name="l02470"></a><span class="lineno"> 2470</span>&#160;    jvObj[<span class="stringliteral">&quot;engine_result_code&quot;</span>]     = terResult;</div>
<div class="line"><a name="l02471"></a><span class="lineno"> 2471</span>&#160;    jvObj[<span class="stringliteral">&quot;engine_result_message&quot;</span>]  = sHuman;</div>
<div class="line"><a name="l02472"></a><span class="lineno"> 2472</span>&#160;</div>
<div class="line"><a name="l02473"></a><span class="lineno"> 2473</span>&#160;    <span class="keywordflow">return</span> jvObj;</div>
<div class="line"><a name="l02474"></a><span class="lineno"> 2474</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_acd0b0453a98534dad9cfd1a0fa6bf780_cgraph.png" border="0" usemap="#d7/ded/a01009_acd0b0453a98534dad9cfd1a0fa6bf780_cgraph" alt=""/></div>
<map name="d7/ded/a01009_acd0b0453a98534dad9cfd1a0fa6bf780_cgraph" id="d7/ded/a01009_acd0b0453a98534dad9cfd1a0fa6bf780_cgraph">
<area shape="rect" id="node3" href="../../d9/de4/a01346.html#a436d1b0b2d422540cd39c117f5f6816d" title="ripple::SerializedTransaction\l::getJson" alt="" coords="213,327,400,374"/><area shape="rect" id="node43" href="../../d9/d9d/a03417.html#a8ebf8214ccd67d515e6dd26b832854a9" title="ripple::transResultInfo" alt="" coords="232,397,381,427"/><area shape="rect" id="node5" href="../../de/d1a/a01559.html#a20e386b11943fda5fe9c67542e8f0e50" title="ripple::STObject::getJson" alt="" coords="456,175,627,204"/><area shape="rect" id="node19" href="../../d9/de4/a01346.html#a501700305bfe6b71f1b8de263bdde43e" title="ripple::SerializedTransaction\l::getTransactionID" alt="" coords="448,327,635,374"/><area shape="rect" id="node31" href="../../d7/d9a/a00152.html#a348c4019943a8b3a05f39f1efcb589c9" title="ripple::base_uint::\lGetHex" alt="" coords="479,450,604,497"/><area shape="rect" id="node7" href="../../d7/d57/a01348.html#a420d71c47a773cf368ab6d8e99152871" title="ripple::SerializedType\l::getSType" alt="" coords="696,5,843,51"/><area shape="rect" id="node9" href="../../d7/d57/a01348.html#a79472b7634153a0478119634c9e82d7e" title="ripple::SerializedType\l::getFName" alt="" coords="696,74,843,121"/><area shape="rect" id="node11" href="../../d7/d81/a01365.html#afcf28e489ecd5c0453e86e4d134afa45" title="ripple::SField::hasName" alt="" coords="688,144,851,173"/><area shape="rect" id="node13" href="../../d7/d57/a01348.html#af1869902e1ff733f983ee59b686894eb" title="ripple::SerializedType\l::getJson" alt="" coords="696,197,843,243"/><area shape="rect" id="node17" href="../../d7/d57/a01348.html#a933443458635aa9598529a530326af66" title="ripple::SerializedType\l::getName" alt="" coords="696,266,843,313"/><area shape="rect" id="node15" href="../../d7/d57/a01348.html#a7d77514b5e009bccd4de10303851a022" title="ripple::SerializedType\l::getText" alt="" coords="907,197,1053,243"/><area shape="rect" id="node21" href="../../de/d1a/a01559.html#a7a9cbb8d5e1266c782de1bb94998289e" title="ripple::STObject::getHash" alt="" coords="683,336,856,365"/><area shape="rect" id="node23" href="../../da/d61/a01350.html#a4f09dcca07217744f793fa7473e845fe" title="ripple::Serializer\l::add32" alt="" coords="923,266,1037,313"/><area shape="rect" id="node25" href="../../de/d1a/a01559.html#a85c374b955de23e00242029cb0bd4f74" title="ripple::STObject::add" alt="" coords="908,336,1052,365"/><area shape="rect" id="node27" href="../../da/d61/a01350.html#afc7187fd3c9e185d29a0ecf5500d0cdf" title="ripple::Serializer\l::getSHA512Half" alt="" coords="920,389,1040,435"/><area shape="rect" id="node29" href="../../da/d61/a01350.html#ac7bf5cce451c952933b2750d902d848c" title="ripple::Serializer\l::size" alt="" coords="1104,389,1219,435"/><area shape="rect" id="node33" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="707,419,832,466"/><area shape="rect" id="node37" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="695,489,844,519"/><area shape="rect" id="node39" href="../../d9/d9d/a03417.html#a138db8803faea25db74891325f6b0073" title="ripple::strHex" alt="" coords="720,543,819,572"/><area shape="rect" id="node35" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="905,459,1055,488"/><area shape="rect" id="node41" href="../../d9/d9d/a03417.html#aca6318bcfeb25f74477566a7ddc06a63" title="ripple::charHex" alt="" coords="925,543,1035,572"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_acd0b0453a98534dad9cfd1a0fa6bf780_icgraph.png" border="0" usemap="#d7/ded/a01009_acd0b0453a98534dad9cfd1a0fa6bf780_icgraph" alt=""/></div>
<map name="d7/ded/a01009_acd0b0453a98534dad9cfd1a0fa6bf780_icgraph" id="d7/ded/a01009_acd0b0453a98534dad9cfd1a0fa6bf780_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a810aca64ae42518e2e6506fbc8ba4569" title="ripple::NetworkOPsImp\l::pubAccountTransaction" alt="" coords="215,51,380,98"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#ac395f76cb28cb933beab05c4d10d91e9" title="ripple::NetworkOPsImp\l::pubProposedTransaction" alt="" coords="431,5,604,51"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#a99f74527e0ad0e6550d3ba503644722e" title="ripple::NetworkOPsImp\l::pubValidatedTransaction" alt="" coords="431,86,604,133"/><area shape="rect" id="node9" href="../../d7/ded/a01009.html#a78a85046176bd8a4c348f02a501b14bf" title="ripple::NetworkOPsImp\l::pubLedger" alt="" coords="655,86,812,133"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a6a3776d980baee062b961c0195bc43be"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::tryStartConsensus </td>
          <td>(</td>
          <td class="paramname">)</td><td></td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l01233">1233</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l01449">beginConsensus()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01268">checkLastClosedLedger()</a>, <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8">ripple::LedgerMaster::getCurrentLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00671">getNetworkTimeNC()</a>, <a class="el" href="../../dd/dfa/a02824_source.html#l00138">ripple::base_uint&lt; BITS &gt;::isZero()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00480">m_ledgerMaster</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00476">mConsensus</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00469">mMode</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00470">mNeedNetworkLedger</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00076">ripple::NetworkOPs::omCONNECTED</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00075">ripple::NetworkOPs::omDISCONNECTED</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00079">ripple::NetworkOPs::omFULL</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00077">ripple::NetworkOPs::omSYNCING</a>, <a class="el" href="../../dd/d8f/a02970_source.html#l00078">ripple::NetworkOPs::omTRACKING</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01717">setMode()</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l01483">haveConsensusObject()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00544">processHeartbeatTimer()</a>.</p>
<div class="fragment"><div class="line"><a name="l01234"></a><span class="lineno"> 1234</span>&#160;{</div>
<div class="line"><a name="l01235"></a><span class="lineno"> 1235</span>&#160;    uint256 networkClosed;</div>
<div class="line"><a name="l01236"></a><span class="lineno"> 1236</span>&#160;    <span class="keywordtype">bool</span> ledgerChange = <a class="code" href="../../d7/ded/a01009.html#ad72f54405ed9b8219022e8c2b7796c98">checkLastClosedLedger</a> (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().overlay ().getActivePeers (), networkClosed);</div>
<div class="line"><a name="l01237"></a><span class="lineno"> 1237</span>&#160;</div>
<div class="line"><a name="l01238"></a><span class="lineno"> 1238</span>&#160;    <span class="keywordflow">if</span> (networkClosed.isZero ())</div>
<div class="line"><a name="l01239"></a><span class="lineno"> 1239</span>&#160;        <span class="keywordflow">return</span>;</div>
<div class="line"><a name="l01240"></a><span class="lineno"> 1240</span>&#160;</div>
<div class="line"><a name="l01241"></a><span class="lineno"> 1241</span>&#160;    <span class="comment">// WRITEME: Unless we are in omFULL and in the process of doing a consensus,</span></div>
<div class="line"><a name="l01242"></a><span class="lineno"> 1242</span>&#160;    <span class="comment">// we must count how many nodes share our LCL, how many nodes disagree with our LCL,</span></div>
<div class="line"><a name="l01243"></a><span class="lineno"> 1243</span>&#160;    <span class="comment">// and how many validations our LCL has. We also want to check timing to make sure</span></div>
<div class="line"><a name="l01244"></a><span class="lineno"> 1244</span>&#160;    <span class="comment">// there shouldn&#39;t be a newer LCL. We need this information to do the next three</span></div>
<div class="line"><a name="l01245"></a><span class="lineno"> 1245</span>&#160;    <span class="comment">// tests.</span></div>
<div class="line"><a name="l01246"></a><span class="lineno"> 1246</span>&#160;</div>
<div class="line"><a name="l01247"></a><span class="lineno"> 1247</span>&#160;    <span class="keywordflow">if</span> (((<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaa8bc5065cbfcab22cf30b012231f25106">omCONNECTED</a>) || (<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaacef3f23406b4e678986eb3be3a7ccfd9">omSYNCING</a>)) &amp;&amp; !ledgerChange)</div>
<div class="line"><a name="l01248"></a><span class="lineno"> 1248</span>&#160;    {</div>
<div class="line"><a name="l01249"></a><span class="lineno"> 1249</span>&#160;        <span class="comment">// count number of peers that agree with us and UNL nodes whose validations we have for LCL</span></div>
<div class="line"><a name="l01250"></a><span class="lineno"> 1250</span>&#160;        <span class="comment">// if the ledger is good enough, go to omTRACKING - TODO</span></div>
<div class="line"><a name="l01251"></a><span class="lineno"> 1251</span>&#160;        <span class="keywordflow">if</span> (!<a class="code" href="../../d7/ded/a01009.html#a47ec6c8f5fcf5adae37a33884645924d">mNeedNetworkLedger</a>)</div>
<div class="line"><a name="l01252"></a><span class="lineno"> 1252</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40">setMode</a> (<a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaae419906cda8f51387b7c8ea5e06b897b">omTRACKING</a>);</div>
<div class="line"><a name="l01253"></a><span class="lineno"> 1253</span>&#160;    }</div>
<div class="line"><a name="l01254"></a><span class="lineno"> 1254</span>&#160;</div>
<div class="line"><a name="l01255"></a><span class="lineno"> 1255</span>&#160;    <span class="keywordflow">if</span> (((<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaa8bc5065cbfcab22cf30b012231f25106">omCONNECTED</a>) || (<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> == <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaae419906cda8f51387b7c8ea5e06b897b">omTRACKING</a>)) &amp;&amp; !ledgerChange)</div>
<div class="line"><a name="l01256"></a><span class="lineno"> 1256</span>&#160;    {</div>
<div class="line"><a name="l01257"></a><span class="lineno"> 1257</span>&#160;        <span class="comment">// check if the ledger is good enough to go to omFULL</span></div>
<div class="line"><a name="l01258"></a><span class="lineno"> 1258</span>&#160;        <span class="comment">// Note: Do not go to omFULL if we don&#39;t have the previous ledger</span></div>
<div class="line"><a name="l01259"></a><span class="lineno"> 1259</span>&#160;        <span class="comment">// check if the ledger is bad enough to go to omCONNECTED -- TODO</span></div>
<div class="line"><a name="l01260"></a><span class="lineno"> 1260</span>&#160;        <span class="keywordflow">if</span> (<a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().getOPs ().<a class="code" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef">getNetworkTimeNC</a> () &lt; <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8">getCurrentLedger</a> ()-&gt;getCloseTimeNC ())</div>
<div class="line"><a name="l01261"></a><span class="lineno"> 1261</span>&#160;            <a class="code" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40">setMode</a> (<a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaafaf756912385746855189063c6bd422d">omFULL</a>);</div>
<div class="line"><a name="l01262"></a><span class="lineno"> 1262</span>&#160;    }</div>
<div class="line"><a name="l01263"></a><span class="lineno"> 1263</span>&#160;</div>
<div class="line"><a name="l01264"></a><span class="lineno"> 1264</span>&#160;    <span class="keywordflow">if</span> ((!<a class="code" href="../../d7/ded/a01009.html#a73106e37e972a1eebe7661a912353bd4">mConsensus</a>) &amp;&amp; (<a class="code" href="../../d7/ded/a01009.html#a26340c144ee827737e934e0b769bd812">mMode</a> != <a class="code" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aaa342db1d1189a8475f5a81bb5c62b81c6">omDISCONNECTED</a>))</div>
<div class="line"><a name="l01265"></a><span class="lineno"> 1265</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a0a714120f440d54c69a4a39e803f9d1a">beginConsensus</a> (networkClosed, <a class="code" href="../../d7/ded/a01009.html#aab1a4107ba17db9dc8be0f98d3ad895a">m_ledgerMaster</a>.<a class="code" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8">getCurrentLedger</a> ());</div>
<div class="line"><a name="l01266"></a><span class="lineno"> 1266</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a6a3776d980baee062b961c0195bc43be_cgraph.png" border="0" usemap="#d7/ded/a01009_a6a3776d980baee062b961c0195bc43be_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a6a3776d980baee062b961c0195bc43be_cgraph" id="d7/ded/a01009_a6a3776d980baee062b961c0195bc43be_cgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#a0a714120f440d54c69a4a39e803f9d1a" title="ripple::NetworkOPsImp\l::beginConsensus" alt="" coords="220,455,377,502"/><area shape="rect" id="node7" href="../../d1/de6/a00837.html#ace5931ca5ba70ad783563663790a5cf8" title="ripple::LedgerMaster\l::getCurrentLedger" alt="" coords="465,274,604,321"/><area shape="rect" id="node13" href="../../d7/ded/a01009.html#a0c56ed3ad69785bf57409e453f434f40" title="ripple::NetworkOPsImp\l::setMode" alt="" coords="456,343,613,390"/><area shape="rect" id="node15" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="1175,784,1276,813"/><area shape="rect" id="node51" href="../../d7/ded/a01009.html#ad72f54405ed9b8219022e8c2b7796c98" title="ripple::NetworkOPsImp\l::checkLastClosedLedger" alt="" coords="213,863,384,910"/><area shape="rect" id="node78" href="../../d7/d9a/a00152.html#a25e873c7d069c6c2d44655736f2b6c21" title="ripple::base_uint::\lisZero" alt="" coords="712,1481,837,1527"/><area shape="rect" id="node93" href="../../d7/ded/a01009.html#a07e5590900394e5b3642496533890cef" title="ripple::NetworkOPsImp\l::getNetworkTimeNC" alt="" coords="696,1391,853,1438"/><area shape="rect" id="node5" href="../../d1/de6/a00837.html#a439b582f2ef508ec1712b50c42c11a39" title="ripple::LedgerMaster\l::getClosedLedger" alt="" coords="465,535,604,582"/><area shape="rect" id="node9" href="../../d1/de6/a00837.html#a71a21a539d63be51cada4d3c4e4c4030" title="ripple::LedgerMaster\l::getLedgerByHash" alt="" coords="465,466,604,513"/><area shape="rect" id="node11" href="../../d9/d9d/a03417.html#a3a7635ac808de39b7ba85e823182f93c" title="ripple::make_LedgerConsensus" alt="" coords="432,413,637,443"/><area shape="rect" id="node19" href="../../d4/d87/a03436.html#a437c68f3299fa632d4a1694059fd6ddb" title="rocksdb::Log" alt="" coords="727,436,823,465"/><area shape="rect" id="node21" href="../../d7/ded/a01009.html#a768673e1643af3147b10b4d99aca8caf" title="ripple::NetworkOPsImp\l::pubServer" alt="" coords="696,315,853,362"/><area shape="rect" id="node30" href="../../d7/ded/a01009.html#a847ed5fa0e85b662ac0a3c7c5e236c9f" title="ripple::NetworkOPsImp\l::strOperatingMode" alt="" coords="919,477,1076,523"/><area shape="rect" id="node17" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="1384,775,1560,822"/><area shape="rect" id="node24" href="../../da/d74/a00099.html#a426bdbb87f6dc2082cf6f418526901cb" title="ripple::Application\l::getFeeTrack" alt="" coords="935,218,1060,265"/><area shape="rect" id="node26" href="../../dd/d94/a00888.html#a9dc0eefbc4ef848a1d8cb3e58aebcab0" title="ripple::LoadFeeTrack\l::getLoadBase" alt="" coords="925,287,1069,334"/><area shape="rect" id="node28" href="../../dd/d94/a00888.html#af9a29ab807ebd18f084dca8592f9b4ac" title="ripple::LoadFeeTrack\l::getLoadFactor" alt="" coords="925,357,1069,403"/><area shape="rect" id="node32" href="../../d7/def/a00521.html#aa66218a56447222f91d64db618935a19" title="Json::FastWriter::write" alt="" coords="920,165,1075,195"/><area shape="rect" id="node34" href="../../d7/def/a00521.html#a2ef4a2ce13a341171f01f414f4fdd765" title="Json::FastWriter::writeValue" alt="" coords="1132,165,1319,195"/><area shape="rect" id="node36" href="../../d6/d27/a01781.html#a7402c797285c020566c3db5f8ae4e940" title="Json::Value::asBool" alt="" coords="1403,59,1541,88"/><area shape="rect" id="node38" href="../../d6/d27/a01781.html#a5b7da48b163bcec63b1424f1608b7da6" title="Json::Value::asCString" alt="" coords="1393,112,1551,141"/><area shape="rect" id="node40" href="../../d6/d27/a01781.html#a33434ed1c0217a34d04c95fa5342fd37" title="Json::Value::asDouble" alt="" coords="1395,165,1549,195"/><area shape="rect" id="node42" href="../../d6/d27/a01781.html#ac786e35b860b1d700cb3d3e56dd6a235" title="Json::Value::asInt" alt="" coords="1408,219,1536,248"/><area shape="rect" id="node44" href="../../d6/d27/a01781.html#a2019d1bd296b89356c1b0da5970c918c" title="Json::Value::asUInt" alt="" coords="1403,272,1541,301"/><area shape="rect" id="node46" href="../../d6/d27/a01781.html#a30fa08af88f2d0a038b22ba9f4e88b2a" title="Return a list of the member names. " alt="" coords="1369,325,1575,355"/><area shape="rect" id="node48" href="../../d6/d27/a01781.html#ab3425a081214e9740a658fc953e8ab8e" title="Number of values in array or object. " alt="" coords="1411,5,1533,35"/><area shape="rect" id="node53" href="../../d7/ded/a01009.html#a08d1779d5bb2a06bdbaeabdac2ba3ed8" title="ripple::NetworkOPsImp\l::clearNeedNetworkLedger" alt="" coords="687,895,863,942"/><area shape="rect" id="node55" href="../../d8/d86/a00703.html#aa8378c07e914d43964d816ee1ac8d1dd" title="ripple::InboundLedgers\l::dropLedger" alt="" coords="459,1191,611,1238"/><area shape="rect" id="node57" href="../../d8/d86/a00703.html#a6f59efd378b35314541b4d5c76cd905a" title="ripple::InboundLedgers\l::findCreate" alt="" coords="459,1261,611,1307"/><area shape="rect" id="node61" href="../../d3/dac/a01777.html#abc7c7eb0126fa15e409f282c515dae85" title="ripple::Validations\l::getCurrentValidations" alt="" coords="457,725,612,771"/><area shape="rect" id="node63" href="../../da/d74/a00099.html#a6d349a4ada03689eae062c0399762dad" title="ripple::Application\l::getInboundLedgers" alt="" coords="465,794,604,841"/><area shape="rect" id="node66" href="../../da/d74/a00099.html#ac95c5f6db4db8575632193495189a702" title="ripple::Application\l::getLocalCredentials" alt="" coords="463,863,607,910"/><area shape="rect" id="node68" href="../../d4/d0e/a01272.html#abead041d13890ad9c8938c28f27f8ccd" title="ripple::RippleAddress\l::getNodeID" alt="" coords="461,655,608,702"/><area shape="rect" id="node72" href="../../dc/dfa/a00894.html#af67a14f58bffac4bd931722ecbd316d9" title="ripple::LocalCredentials\l::getNodePublic" alt="" coords="456,933,613,979"/><area shape="rect" id="node74" href="../../da/d74/a00099.html#a4f3da0257883c463e0a561d7ba793dd4" title="ripple::Application\l::getValidations" alt="" coords="472,1002,597,1049"/><area shape="rect" id="node76" href="../../d7/d9a/a00152.html#a3fa11a064a87fe4e970f00d661287dd2" title="ripple::base_uint::\lisNonZero" alt="" coords="472,1381,597,1427"/><area shape="rect" id="node81" href="../../d7/ded/a01009.html#a03e21ff22be1d31dbe08f81deb590ece" title="ripple::NetworkOPsImp\l::switchLastClosedLedger" alt="" coords="448,1122,621,1169"/><area shape="rect" id="node70" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="719,664,831,693"/><area shape="rect" id="node83" href="../../d7/d9a/a00152.html#a05af5cdcc33627cb359debe028ab675d" title="ripple::base_uint::\lbegin" alt="" coords="712,1261,837,1307"/><area shape="rect" id="node88" href="../../de/de6/a01063.html#a7dc745932a8cbc330dfb6c6e5e608b3c" title="ripple::Overlay::foreach" alt="" coords="696,1208,853,1237"/><area shape="rect" id="node104" href="../../da/d74/a00099.html#a0511c5e849c6735036d4667a72ff01ee" title="ripple::Application\l::overlay" alt="" coords="712,1015,837,1062"/><area shape="rect" id="node106" href="../../d7/d9a/a00152.html#a463054abe1fe73a6f2d2dd9ecc9fb544" title="ripple::base_uint::size" alt="" coords="700,1085,849,1115"/><area shape="rect" id="node108" href="../../d1/de6/a00837.html#af249e0b1768882343f37df9720aeb25d" title="ripple::LedgerMaster\l::switchLedgers" alt="" coords="705,1138,844,1185"/><area shape="rect" id="node85" href="../../d7/d9a/a00152.html#af39117db8d26ecef7a570cd3448822a6" title="ripple::base_uint::data" alt="" coords="923,1269,1072,1299"/><area shape="rect" id="node90" href="../../de/de6/a01063.html#a5b8ee783b77679fb2fad2543ab521a90" title="ripple::Overlay::getActive\lPeers" alt="" coords="913,1199,1081,1246"/><area shape="rect" id="node95" href="../../d7/ded/a01009.html#a4bd8befae57d65b27880a6c11b903c5a" title="ripple::NetworkOPsImp\l::getNetworkTimePT" alt="" coords="919,1381,1076,1427"/><area shape="rect" id="node100" href="../../d9/d9d/a03417.html#af3beca614a7a1e1872b08a8bc37e0ce7" title="ripple::iToSeconds" alt="" coords="932,1451,1063,1480"/><area shape="rect" id="node98" href="../../da/d74/a00099.html#a193aa07bf009f0e3140c6744dfa5c678" title="ripple::Application\l::getSystemTimeOffset" alt="" coords="1147,1381,1304,1427"/><area shape="rect" id="node102" href="../../d9/d9d/a03417.html#a00572ed03b233ecd42f36357a395c163" title="ripple::ptEpoch" alt="" coords="1171,1451,1280,1480"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a6a3776d980baee062b961c0195bc43be_icgraph.png" border="0" usemap="#d7/ded/a01009_a6a3776d980baee062b961c0195bc43be_icgraph" alt=""/></div>
<map name="d7/ded/a01009_a6a3776d980baee062b961c0195bc43be_icgraph" id="d7/ded/a01009_a6a3776d980baee062b961c0195bc43be_icgraph">
<area shape="rect" id="node3" href="../../d7/ded/a01009.html#ac929d58ce61af6b87922103bf3da3039" title="ripple::NetworkOPsImp\l::haveConsensusObject" alt="" coords="216,143,379,190"/><area shape="rect" id="node13" href="../../d7/ded/a01009.html#adb95084185570756c8a39ba0e32fb3ed" title="ripple::NetworkOPsImp\l::processHeartbeatTimer" alt="" coords="215,247,380,294"/><area shape="rect" id="node5" href="../../d7/ded/a01009.html#a27090d36556b8665cbd908efa99e2a05" title="ripple::NetworkOPsImp\l::getConsensusLCL" alt="" coords="436,5,593,51"/><area shape="rect" id="node7" href="../../d7/ded/a01009.html#a7fc7ee8501f9d95df97583cabf3b4771" title="ripple::NetworkOPsImp\l::getTXMap" alt="" coords="436,74,593,121"/><area shape="rect" id="node9" href="../../d7/ded/a01009.html#aff24b82af590d1db837231ad0125eee4" title="ripple::NetworkOPsImp\l::mapComplete" alt="" coords="436,143,593,190"/><area shape="rect" id="node11" href="../../d7/ded/a01009.html#a148e1e8d0c5128ee48e0206cdeb5e2a0" title="ripple::NetworkOPsImp\l::processTrustedProposal" alt="" coords="429,213,600,259"/><area shape="rect" id="node15" href="../../d7/ded/a01009.html#ab8272588ee692e125af4d7841af32618" title="ripple::NetworkOPsImp\l::onDeadlineTimer" alt="" coords="436,282,593,329"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a3ec4429a0972525171c2cc98b73aa74e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::unsubAccount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#aaa5d1cd013383c889537491c3cfd9aad">std::uint64_t</a>&#160;</td>
          <td class="paramname"><em>uListener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const boost::unordered_set&lt; <a class="el" href="../../d4/d0e/a01272.html">RippleAddress</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>vnaAccountIDs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>rt</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../d5/dd0/a01438.html#a99e144c4b1b599d4e614bccbb3a36269">ripple::InfoSub::Source</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02645">2645</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d2/d23/a03186_source.html#l00292">ripple::RippleAddress::getAccountID()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00467">mLock</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00495">mSubAccount</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00496">mSubRTAccount</a>, and <a class="el" href="../../d0/d75/a03105_source.html#l00047">nothing</a>.</p>
<div class="fragment"><div class="line"><a name="l02648"></a><span class="lineno"> 2648</span>&#160;{</div>
<div class="line"><a name="l02649"></a><span class="lineno"> 2649</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a478968e066d7dbbbb96c4645251eb49b">SubInfoMapType</a>&amp; subMap = rt ? <a class="code" href="../../d7/ded/a01009.html#ad592cfabec0a6bd2674d4652887fe5dd">mSubRTAccount</a> : <a class="code" href="../../d7/ded/a01009.html#a556fe55601cc1f11f8b60223bbe5039e">mSubAccount</a>;</div>
<div class="line"><a name="l02650"></a><span class="lineno"> 2650</span>&#160;</div>
<div class="line"><a name="l02651"></a><span class="lineno"> 2651</span>&#160;    <span class="comment">// For the connection, unmonitor each account.</span></div>
<div class="line"><a name="l02652"></a><span class="lineno"> 2652</span>&#160;    <span class="comment">// FIXME: Don&#39;t we need to unsub?</span></div>
<div class="line"><a name="l02653"></a><span class="lineno"> 2653</span>&#160;    <span class="comment">// BOOST_FOREACH(const RippleAddress&amp; naAccountID, vnaAccountIDs)</span></div>
<div class="line"><a name="l02654"></a><span class="lineno"> 2654</span>&#160;    <span class="comment">// {</span></div>
<div class="line"><a name="l02655"></a><span class="lineno"> 2655</span>&#160;    <span class="comment">//  isrListener-&gt;deleteSubAccountInfo(naAccountID);</span></div>
<div class="line"><a name="l02656"></a><span class="lineno"> 2656</span>&#160;    <span class="comment">// }</span></div>
<div class="line"><a name="l02657"></a><span class="lineno"> 2657</span>&#160;</div>
<div class="line"><a name="l02658"></a><span class="lineno"> 2658</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a936ed96d8cb48a7a818e292345032bd3">ScopedLockType</a> sl (<a class="code" href="../../d7/ded/a01009.html#a28e64f295f2eca1f91a5a11239352071">mLock</a>);</div>
<div class="line"><a name="l02659"></a><span class="lineno"> 2659</span>&#160;</div>
<div class="line"><a name="l02660"></a><span class="lineno"> 2660</span>&#160;    BOOST_FOREACH (<span class="keyword">const</span> RippleAddress &amp; naAccountID, vnaAccountIDs)</div>
<div class="line"><a name="l02661"></a><span class="lineno"> 2661</span>&#160;    {</div>
<div class="line"><a name="l02662"></a><span class="lineno"> 2662</span>&#160;        SubInfoMapType::iterator    simIterator = subMap.find (naAccountID.getAccountID ());</div>
<div class="line"><a name="l02663"></a><span class="lineno"> 2663</span>&#160;</div>
<div class="line"><a name="l02664"></a><span class="lineno"> 2664</span>&#160;</div>
<div class="line"><a name="l02665"></a><span class="lineno"> 2665</span>&#160;        <span class="keywordflow">if</span> (simIterator == subMap.end ())</div>
<div class="line"><a name="l02666"></a><span class="lineno"> 2666</span>&#160;        {</div>
<div class="line"><a name="l02667"></a><span class="lineno"> 2667</span>&#160;            <span class="comment">// Not found.  Done.</span></div>
<div class="line"><a name="l02668"></a><span class="lineno"> 2668</span>&#160;            <a class="code" href="../../d0/d75/a03105.html#afc5c6ba8fe8a6402e1f14c610c2bf146">nothing</a> ();</div>
<div class="line"><a name="l02669"></a><span class="lineno"> 2669</span>&#160;        }</div>
<div class="line"><a name="l02670"></a><span class="lineno"> 2670</span>&#160;        <span class="keywordflow">else</span></div>
<div class="line"><a name="l02671"></a><span class="lineno"> 2671</span>&#160;        {</div>
<div class="line"><a name="l02672"></a><span class="lineno"> 2672</span>&#160;            <span class="comment">// Found</span></div>
<div class="line"><a name="l02673"></a><span class="lineno"> 2673</span>&#160;            simIterator-&gt;second.erase (uSeq);</div>
<div class="line"><a name="l02674"></a><span class="lineno"> 2674</span>&#160;</div>
<div class="line"><a name="l02675"></a><span class="lineno"> 2675</span>&#160;            <span class="keywordflow">if</span> (simIterator-&gt;second.empty ())</div>
<div class="line"><a name="l02676"></a><span class="lineno"> 2676</span>&#160;            {</div>
<div class="line"><a name="l02677"></a><span class="lineno"> 2677</span>&#160;                <span class="comment">// Don&#39;t need hash entry.</span></div>
<div class="line"><a name="l02678"></a><span class="lineno"> 2678</span>&#160;                subMap.erase (simIterator);</div>
<div class="line"><a name="l02679"></a><span class="lineno"> 2679</span>&#160;            }</div>
<div class="line"><a name="l02680"></a><span class="lineno"> 2680</span>&#160;        }</div>
<div class="line"><a name="l02681"></a><span class="lineno"> 2681</span>&#160;    }</div>
<div class="line"><a name="l02682"></a><span class="lineno"> 2682</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_a3ec4429a0972525171c2cc98b73aa74e_cgraph.png" border="0" usemap="#d7/ded/a01009_a3ec4429a0972525171c2cc98b73aa74e_cgraph" alt=""/></div>
<map name="d7/ded/a01009_a3ec4429a0972525171c2cc98b73aa74e_cgraph" id="d7/ded/a01009_a3ec4429a0972525171c2cc98b73aa74e_cgraph">
<area shape="rect" id="node3" href="../../d4/d0e/a01272.html#a57f127faa6e0af4093b8397e368c2899" title="ripple::RippleAddress\l::getAccountID" alt="" coords="213,5,360,51"/><area shape="rect" id="node5" href="../../d9/d9d/a03417.html#a67af9cb9a9d5c158f9a56acde5f27e4e" title="ripple::Hash160" alt="" coords="409,13,521,43"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae87eecb15c1948bf34667120cf583a66"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::unsubBook </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#aaa5d1cd013383c889537491c3cfd9aad">std::uint64_t</a>&#160;</td>
          <td class="paramname"><em>uListener</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d9d/a03417.html#aae81fe197fcabf93844fa04d16d99c0c">RippleCurrency</a> const &amp;&#160;</td>
          <td class="paramname"><em>currencyPays</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d9d/a03417.html#aae81fe197fcabf93844fa04d16d99c0c">RippleCurrency</a> const &amp;&#160;</td>
          <td class="paramname"><em>currencyGets</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d9d/a03417.html#af6ceb67b67fea965b4a6d61712883794">RippleIssuer</a> const &amp;&#160;</td>
          <td class="paramname"><em>issuerPays</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="../../d9/d9d/a03417.html#af6ceb67b67fea965b4a6d61712883794">RippleIssuer</a> const &amp;&#160;</td>
          <td class="paramname"><em>issuerGets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../d5/dd0/a01438.html#af01b308d0d3054db7f0dd1e2c353393a">ripple::InfoSub::Source</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02697">2697</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../d9/da5/a02935_source.html#l01387">ripple::getApp()</a>, <a class="el" href="../../dd/d0d/a02929_source.html#l00220">ripple::OrderBookDB::getBookListeners()</a>, and <a class="el" href="../../da/d74/a00099.html#ac885cb8bec6f3b9b8bdd5f2a44d07fed">ripple::Application::getOrderBookDB()</a>.</p>
<div class="fragment"><div class="line"><a name="l02699"></a><span class="lineno"> 2699</span>&#160;{</div>
<div class="line"><a name="l02700"></a><span class="lineno"> 2700</span>&#160;    <a class="code" href="../../dc/d9a/a00218.html#a85caf48575f2874c7940fb79db4c389e">BookListeners::pointer</a> listeners =</div>
<div class="line"><a name="l02701"></a><span class="lineno"> 2701</span>&#160;        <a class="code" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70">getApp</a>().<a class="code" href="../../da/d74/a00099.html#ac885cb8bec6f3b9b8bdd5f2a44d07fed">getOrderBookDB</a> ().<a class="code" href="../../d5/d4c/a01058.html#a5da922c340725b98fab8742e2f081dd7">getBookListeners</a> (currencyPays, currencyGets, issuerPays, issuerGets);</div>
<div class="line"><a name="l02702"></a><span class="lineno"> 2702</span>&#160;</div>
<div class="line"><a name="l02703"></a><span class="lineno"> 2703</span>&#160;    <span class="keywordflow">if</span> (listeners)</div>
<div class="line"><a name="l02704"></a><span class="lineno"> 2704</span>&#160;        listeners-&gt;removeSubscriber (uSeq);</div>
<div class="line"><a name="l02705"></a><span class="lineno"> 2705</span>&#160;</div>
<div class="line"><a name="l02706"></a><span class="lineno"> 2706</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">true</span>;</div>
<div class="line"><a name="l02707"></a><span class="lineno"> 2707</span>&#160;}</div>
</div><!-- fragment -->
<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="../../d7/ded/a01009_ae87eecb15c1948bf34667120cf583a66_cgraph.png" border="0" usemap="#d7/ded/a01009_ae87eecb15c1948bf34667120cf583a66_cgraph" alt=""/></div>
<map name="d7/ded/a01009_ae87eecb15c1948bf34667120cf583a66_cgraph" id="d7/ded/a01009_ae87eecb15c1948bf34667120cf583a66_cgraph">
<area shape="rect" id="node3" href="../../d9/d9d/a03417.html#a41dc315618e2f1d4be04cf094a642d70" title="ripple::getApp" alt="" coords="235,13,336,43"/><area shape="rect" id="node7" href="../../d5/d4c/a01058.html#a5da922c340725b98fab8742e2f081dd7" title="ripple::OrderBookDB\l::getBookListeners" alt="" coords="215,66,356,113"/><area shape="rect" id="node9" href="../../da/d74/a00099.html#ac885cb8bec6f3b9b8bdd5f2a44d07fed" title="ripple::Application\l::getOrderBookDB" alt="" coords="221,135,349,182"/><area shape="rect" id="node5" href="../../d4/d3a/a00101.html#a96693896ee8bf0b18686bce1d0559d95" title="ripple::ApplicationImpBase\l::getInstance" alt="" coords="407,5,583,51"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac30539c1636a84cf3c3b3a8f84f6e493"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::unsubLedger </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#aaa5d1cd013383c889537491c3cfd9aad">std::uint64_t</a>&#160;</td>
          <td class="paramname"><em>uListener</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../d5/dd0/a01438.html#a9aa6655862d29312e9118e8d38440f58">ripple::InfoSub::Source</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02770">2770</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00467">mLock</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00500">mSubLedger</a>.</p>
<div class="fragment"><div class="line"><a name="l02771"></a><span class="lineno"> 2771</span>&#160;{</div>
<div class="line"><a name="l02772"></a><span class="lineno"> 2772</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a936ed96d8cb48a7a818e292345032bd3">ScopedLockType</a> sl (<a class="code" href="../../d7/ded/a01009.html#a28e64f295f2eca1f91a5a11239352071">mLock</a>);</div>
<div class="line"><a name="l02773"></a><span class="lineno"> 2773</span>&#160;    <span class="keywordflow">return</span> !!<a class="code" href="../../d7/ded/a01009.html#a27e373e93311db99455cd6a8da160943">mSubLedger</a>.erase (uSeq);</div>
<div class="line"><a name="l02774"></a><span class="lineno"> 2774</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa11fdb3c73a1712fdc0756acd577e525"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::unsubRTTransactions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#aaa5d1cd013383c889537491c3cfd9aad">std::uint64_t</a>&#160;</td>
          <td class="paramname"><em>uListener</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../d5/dd0/a01438.html#af6f77c7a7761162ed5eca6d86ac75122">ripple::InfoSub::Source</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02823">2823</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00467">mLock</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00503">mSubRTTransactions</a>.</p>
<div class="fragment"><div class="line"><a name="l02824"></a><span class="lineno"> 2824</span>&#160;{</div>
<div class="line"><a name="l02825"></a><span class="lineno"> 2825</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a936ed96d8cb48a7a818e292345032bd3">ScopedLockType</a> sl (<a class="code" href="../../d7/ded/a01009.html#a28e64f295f2eca1f91a5a11239352071">mLock</a>);</div>
<div class="line"><a name="l02826"></a><span class="lineno"> 2826</span>&#160;    <span class="keywordflow">return</span> !!<a class="code" href="../../d7/ded/a01009.html#ada363c60dd7cec7aa003b9e45d582a2f">mSubRTTransactions</a>.erase (uSeq);</div>
<div class="line"><a name="l02827"></a><span class="lineno"> 2827</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a8aa864369639ef3647892ac5f31c287e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::unsubServer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#aaa5d1cd013383c889537491c3cfd9aad">std::uint64_t</a>&#160;</td>
          <td class="paramname"><em>uListener</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../d5/dd0/a01438.html#a51c46af5b8a7b1e511cb787a27163c59">ripple::InfoSub::Source</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02795">2795</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00467">mLock</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00501">mSubServer</a>.</p>
<div class="fragment"><div class="line"><a name="l02796"></a><span class="lineno"> 2796</span>&#160;{</div>
<div class="line"><a name="l02797"></a><span class="lineno"> 2797</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a936ed96d8cb48a7a818e292345032bd3">ScopedLockType</a> sl (<a class="code" href="../../d7/ded/a01009.html#a28e64f295f2eca1f91a5a11239352071">mLock</a>);</div>
<div class="line"><a name="l02798"></a><span class="lineno"> 2798</span>&#160;    <span class="keywordflow">return</span> !!<a class="code" href="../../d7/ded/a01009.html#a2b73d96e9174171dcb29db4155314f3f">mSubServer</a>.erase (uSeq);</div>
<div class="line"><a name="l02799"></a><span class="lineno"> 2799</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="aa8b1f0db8506560c626dc6cff0bf5757"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::unsubTransactions </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../db/d86/a02663.html#aaa5d1cd013383c889537491c3cfd9aad">std::uint64_t</a>&#160;</td>
          <td class="paramname"><em>uListener</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../d5/dd0/a01438.html#ab5cc6f426d78792f74907946bba3fcca">ripple::InfoSub::Source</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l02809">2809</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00467">mLock</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00502">mSubTransactions</a>.</p>
<div class="fragment"><div class="line"><a name="l02810"></a><span class="lineno"> 2810</span>&#160;{</div>
<div class="line"><a name="l02811"></a><span class="lineno"> 2811</span>&#160;    <a class="code" href="../../d7/ded/a01009.html#a936ed96d8cb48a7a818e292345032bd3">ScopedLockType</a> sl (<a class="code" href="../../d7/ded/a01009.html#a28e64f295f2eca1f91a5a11239352071">mLock</a>);</div>
<div class="line"><a name="l02812"></a><span class="lineno"> 2812</span>&#160;    <span class="keywordflow">return</span> !!<a class="code" href="../../d7/ded/a01009.html#ae13616c7a9ed41edc86fe19cfe6f56d8">mSubTransactions</a>.erase (uSeq);</div>
<div class="line"><a name="l02813"></a><span class="lineno"> 2813</span>&#160;}</div>
</div><!-- fragment -->
</div>
</div>
<a class="anchor" id="a33fe49cb4a3e3692c185ad646ebe942c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ripple::NetworkOPsImp::updateLocalTx </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="../../dd/d5f/a00825.html#a5e872c651337cffea1617f84474efea9">Ledger::ref</a>&#160;</td>
          <td class="paramname"><em>newValidLedger</em>)</td><td></td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Implements <a class="el" href="../../dd/dac/a01008.html#ad949d9ad4920e206419e5dc4abc272d5">ripple::NetworkOPs</a>.</p>

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00338">338</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>References <a class="el" href="../../db/d6c/a02969_source.html#l00463">m_localTX</a>.</p>
<div class="fragment"><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    {</div>
<div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;        <a class="code" href="../../d7/ded/a01009.html#a344b77de546f45ee7102a7c774690be7">m_localTX</a>-&gt;sweep (newValidLedger);</div>
<div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    }</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a16d6bf23805417dc49d22e96c7c74731"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dac/a01008.html#aef70f7989bc81d06bc57491af390b691">clock_type</a>&amp; ripple::NetworkOPsImp::m_clock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00450">450</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l01449">beginConsensus()</a>.</p>

</div>
</div>
<a class="anchor" id="a60648a56c0b87aac12e9cf2d03706a82"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/dbf/a00393.html">beast::DeadlineTimer</a> ripple::NetworkOPsImp::m_clusterTimer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00475">475</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00530">onDeadlineTimer()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00422">onStop()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00525">setClusterTimer()</a>.</p>

</div>
</div>
<a class="anchor" id="a70737bfb801df45b5e15965b33570104"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../d7/d41/a00532.html">FeeVote</a>&gt; ripple::NetworkOPsImp::m_feeVote</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00465">465</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l01449">beginConsensus()</a>.</p>

</div>
</div>
<a class="anchor" id="ac104b6edd5abf8dd78fd53143a3258d5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../da/dbf/a00393.html">beast::DeadlineTimer</a> ripple::NetworkOPsImp::m_heartbeatTimer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00474">474</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00530">onDeadlineTimer()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00422">onStop()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00520">setHeartbeatTimer()</a>.</p>

</div>
</div>
<a class="anchor" id="a536fdf13287895a338f05b765e96d9e3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../df/d0c/a00788.html">beast::Journal</a> ripple::NetworkOPsImp::m_journal</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00461">461</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l01449">beginConsensus()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01268">checkLastClosedLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00692">closeTimeOffset()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01651">endConsensus()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01811">getAccountTxs()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02855">getBookPage()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01080">getDirNodeInfo()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l03270">getFetchPack()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01914">getTxsAccount()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01613">gotTXData()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01626">hasTXSet()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01483">haveConsensusObject()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l03189">makeFetchPack()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l03312">missingNodeInLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00598">processClusterTimer()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00544">processHeartbeatTimer()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00921">processTransactionCb()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01520">processTrustedProposal()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02521">pubAccountTransaction()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02375">pubLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02349">pubProposedTransaction()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02151">recvValidation()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00834">runTransactionQueue()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02609">subAccount()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00752">submitTransaction()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00803">submitTransactionSync()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01422">switchLastClosedLedger()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01748">transactionsSQL()</a>.</p>

</div>
</div>
<a class="anchor" id="aab1a4107ba17db9dc8be0f98d3ad895a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d1/de6/a00837.html">LedgerMaster</a>&amp; ripple::NetworkOPsImp::m_ledgerMaster</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00480">480</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02717">acceptLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01449">beginConsensus()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01268">checkLastClosedLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01651">endConsensus()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00096">getClosedLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00119">getClosedLedgerHash()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00108">getCurrentLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00718">getCurrentLedgerID()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00138">getFullValidatedRange()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00112">getLedgerByHash()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00713">getLedgerBySeq()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00706">getLedgerID()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00104">getPublishedLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02168">getServerInfo()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00100">getValidatedLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00134">getValidatedRange()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00733">getValidatedSeq()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01483">haveConsensusObject()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00728">haveLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00723">haveLedgerRange()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00738">isValidated()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00598">processClusterTimer()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00921">processTransactionCb()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00834">runTransactionQueue()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01422">switchLastClosedLedger()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01233">tryStartConsensus()</a>.</p>

</div>
</div>
<a class="anchor" id="a344b77de546f45ee7102a7c774690be7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::unique_ptr&lt;<a class="el" href="../../da/dd6/a00896.html">LocalTxs</a>&gt; ripple::NetworkOPsImp::m_localTX</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00463">463</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00342">addLocalTx()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01449">beginConsensus()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00346">getLocalTxCount()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00338">updateLocalTx()</a>.</p>

</div>
</div>
<a class="anchor" id="a9a94b29121ae586a6b7354a80f8d088c"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d85/a00702.html#af0d96e0cff791d52c85cbe4b8a16a71b">InboundLedger::pointer</a> ripple::NetworkOPsImp::mAcquiringLedger</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00481">481</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l01268">checkLastClosedLedger()</a>.</p>

</div>
</div>
<a class="anchor" id="aa32b30d4b133c9bddc5ec08a1e747df6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ripple::NetworkOPsImp::mCloseTimeOffset</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00483">483</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00692">closeTimeOffset()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00676">getCloseTimeNC()</a>.</p>

</div>
</div>
<a class="anchor" id="a34d887b9dcb04769bc88cc04ebefe999"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::posix_time::ptime ripple::NetworkOPsImp::mConnectTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00473">473</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l01717">setMode()</a>.</p>

</div>
</div>
<a class="anchor" id="a73106e37e972a1eebe7661a912353bd4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">boost::shared_ptr&lt;<a class="el" href="../../d9/daf/a00830.html">LedgerConsensus</a>&gt; ripple::NetworkOPsImp::mConsensus</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00476">476</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02717">acceptLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01449">beginConsensus()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01651">endConsensus()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02157">getConsensusInfo()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01512">getConsensusLCL()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01577">getTXMap()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01613">gotTXData()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01626">hasTXSet()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01483">haveConsensusObject()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01645">mapComplete()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00544">processHeartbeatTimer()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01520">processTrustedProposal()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01637">stillNeedTXSet()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01233">tryStartConsensus()</a>.</p>

</div>
</div>
<a class="anchor" id="a492366ff8770557052effe9758495427"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::mFeatureBlocked</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00472">472</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02168">getServerInfo()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00302">isFeatureBlocked()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01194">setFeatureBlocked()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01717">setMode()</a>.</p>

</div>
</div>
<a class="anchor" id="a504786cda9d676e308f54fe40f7d6d83"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/d55/a01638.html">TaggedCache</a>&lt; <a class="el" href="../../d0/d4e/a01741.html">uint256</a>, <a class="el" href="../../d9/d9d/a03417.html#a1b87ba4732cf1725393e8dd60bf73b0c">Blob</a>&gt; ripple::NetworkOPsImp::mFetchPack</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00505">505</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l03265">addFetchPack()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l03270">getFetchPack()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l03296">getFetchSize()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02168">getServerInfo()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l03260">sweepFetchPack()</a>.</p>

</div>
</div>
<a class="anchor" id="acb8697514ba427ff0c66285944f83705"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> ripple::NetworkOPsImp::mFetchSeq</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00506">506</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l03288">shouldFetchPack()</a>.</p>

</div>
</div>
<a class="anchor" id="acc1ce0bf9b0be24aad76ce27dd270a1a"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ripple::NetworkOPsImp::mLastCloseConvergeTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00486">486</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00312">getPreviousConvergeTime()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l02709">newLCL()</a>.</p>

</div>
</div>
<a class="anchor" id="a0d79bcd905a8104f521b3e071b67a903"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d0/d4e/a01741.html">uint256</a> ripple::NetworkOPsImp::mLastCloseHash</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00487">487</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02709">newLCL()</a>.</p>

</div>
</div>
<a class="anchor" id="a8b5d139cf2208caba068486e449b66e8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int ripple::NetworkOPsImp::mLastCloseProposers</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00486">486</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00308">getPreviousProposers()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02709">newLCL()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l02725">storeProposal()</a>.</p>

</div>
</div>
<a class="anchor" id="a1fd523c6f3b57b16302105c070f7d029"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> ripple::NetworkOPsImp::mLastCloseTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00488">488</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00316">getLastCloseTime()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00320">setLastCloseTime()</a>.</p>

</div>
</div>
<a class="anchor" id="a11e5f635db454f56725e6f902e4c1ca8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> ripple::NetworkOPsImp::mLastLoadBase</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00508">508</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l01675">pubServer()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l02430">reportFeeChange()</a>.</p>

</div>
</div>
<a class="anchor" id="a106784c971d5ac80e561380723e3ce80"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> ripple::NetworkOPsImp::mLastLoadFactor</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00509">509</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l01675">pubServer()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l02430">reportFeeChange()</a>.</p>

</div>
</div>
<a class="anchor" id="add3af110179d9191d3792b6b5088a8e5"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../de/d6c/a01349.html#a2e641fe3da3300cc7172c04c3a54d977">SerializedValidation::pointer</a> ripple::NetworkOPsImp::mLastValidation</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00490">490</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00143">getLastValidation()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00147">setLastValidation()</a>.</p>

</div>
</div>
<a class="anchor" id="a9997a23348101f70cd4d97ebdbc1015b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../db/d86/a02663.html#a435d1572bf3f880d55459d9805097f62">std::uint32_t</a> ripple::NetworkOPsImp::mLastValidationTime</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00489">489</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00681">getValidationTimeNC()</a>.</p>

</div>
</div>
<a class="anchor" id="a28e64f295f2eca1f91a5a11239352071"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/ded/a01009.html#a4ac5889b81868911d8291ba362c64a15">LockType</a> ripple::NetworkOPsImp::mLock</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00467">467</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02841">addRpcSub()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02829">findRpcSub()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02521">pubAccountTransaction()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02375">pubLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02349">pubProposedTransaction()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01675">pubServer()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02476">pubValidatedTransaction()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02609">subAccount()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02746">subLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02816">subRTTransactions()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02777">subServer()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02802">subTransactions()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02645">unsubAccount()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02770">unsubLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02823">unsubRTTransactions()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02795">unsubServer()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l02809">unsubTransactions()</a>.</p>

</div>
</div>
<a class="anchor" id="a26340c144ee827737e934e0b769bd812"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dac/a01008.html#ad4d535e9319927b90f0da38cd67940aa">OperatingMode</a> ripple::NetworkOPsImp::mMode</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00469">469</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l01449">beginConsensus()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01268">checkLastClosedLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01669">consensusViewChange()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00090">getOperatingMode()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01483">haveConsensusObject()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00285">isFull()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00544">processHeartbeatTimer()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00921">processTransactionCb()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01520">processTrustedProposal()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02375">pubLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l01717">setMode()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00638">strOperatingMode()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02746">subLedger()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01233">tryStartConsensus()</a>.</p>

</div>
</div>
<a class="anchor" id="a47ec6c8f5fcf5adae37a33884645924d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::mNeedNetworkLedger</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00470">470</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00277">clearNeedNetworkLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02168">getServerInfo()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00285">isFull()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00281">isNeedNetworkLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00273">needNetworkLedger()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01233">tryStartConsensus()</a>.</p>

</div>
</div>
<a class="anchor" id="a83d0181caae154387781bb0bcf3c4bf9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::mProposing</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00471">471</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00294">isProposing()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00289">setProposing()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00638">strOperatingMode()</a>.</p>

</div>
</div>
<a class="anchor" id="a26cb1d76498df9d9f76024bedbfe2262"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::map&lt;<a class="el" href="../../d0/d4e/a01741.html">uint256</a>, std::pair&lt;int, <a class="el" href="../../d6/dfe/a01366.html#a863e0d49cf8941071ae4a0b0e4d44eca">SHAMap::pointer</a>&gt; &gt; ripple::NetworkOPsImp::mRecentPositions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00493">493</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l01577">getTXMap()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l01591">takePosition()</a>.</p>

</div>
</div>
<a class="anchor" id="af0bd49a0f6d4f847723f09a5b9d57cd9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/ded/a01009.html#a720e9f21ca635002223496cff1e4f053">subRpcMapType</a> ripple::NetworkOPsImp::mRpcSubMap</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00498">498</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02841">addRpcSub()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l02829">findRpcSub()</a>.</p>

</div>
</div>
<a class="anchor" id="a1d4bb7577a8035481eaaffafb4ae0861"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d9/d9d/a03417.html#a1382c24eaaf3ee6a51a5b64d8ad5706c">ripple::unordered_map</a>&lt; <a class="el" href="../../df/d2e/a01737.html">uint160</a>, std::list&lt;<a class="el" href="../../df/de8/a00839.html#a0ec96481e000fcb8d977f684d600b86b">LedgerProposal::pointer</a>&gt; &gt; ripple::NetworkOPsImp::mStoredProposals</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00478">478</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00330">peekStoredProposals()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l02725">storeProposal()</a>.</p>

</div>
</div>
<a class="anchor" id="a556fe55601cc1f11f8b60223bbe5039e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/ded/a01009.html#a478968e066d7dbbbb96c4645251eb49b">SubInfoMapType</a> ripple::NetworkOPsImp::mSubAccount</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00495">495</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02521">pubAccountTransaction()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02609">subAccount()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l02645">unsubAccount()</a>.</p>

</div>
</div>
<a class="anchor" id="a27e373e93311db99455cd6a8da160943"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dac/a01008.html#adbb477955e5958d0f783a08e05429590">SubMapType</a> ripple::NetworkOPsImp::mSubLedger</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00500">500</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02375">pubLedger()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02746">subLedger()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l02770">unsubLedger()</a>.</p>

</div>
</div>
<a class="anchor" id="ad592cfabec0a6bd2674d4652887fe5dd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../d7/ded/a01009.html#a478968e066d7dbbbb96c4645251eb49b">SubInfoMapType</a> ripple::NetworkOPsImp::mSubRTAccount</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00496">496</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02521">pubAccountTransaction()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02609">subAccount()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l02645">unsubAccount()</a>.</p>

</div>
</div>
<a class="anchor" id="ada363c60dd7cec7aa003b9e45d582a2f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dac/a01008.html#adbb477955e5958d0f783a08e05429590">SubMapType</a> ripple::NetworkOPsImp::mSubRTTransactions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00503">503</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02349">pubProposedTransaction()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02476">pubValidatedTransaction()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02816">subRTTransactions()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l02823">unsubRTTransactions()</a>.</p>

</div>
</div>
<a class="anchor" id="a2b73d96e9174171dcb29db4155314f3f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dac/a01008.html#adbb477955e5958d0f783a08e05429590">SubMapType</a> ripple::NetworkOPsImp::mSubServer</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00501">501</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l01675">pubServer()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02777">subServer()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l02795">unsubServer()</a>.</p>

</div>
</div>
<a class="anchor" id="ae13616c7a9ed41edc86fe19cfe6f56d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="../../dd/dac/a01008.html#adbb477955e5958d0f783a08e05429590">SubMapType</a> ripple::NetworkOPsImp::mSubTransactions</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00502">502</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l02476">pubValidatedTransaction()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l02802">subTransactions()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l02809">unsubTransactions()</a>.</p>

</div>
</div>
<a class="anchor" id="a2e59597ec8206a1b89bd319946acc929"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool ripple::NetworkOPsImp::mValidating</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="../../db/d6c/a02969_source.html#l00471">471</a> of file <a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a>.</p>

<p>Referenced by <a class="el" href="../../db/d6c/a02969_source.html#l00298">isValidating()</a>, <a class="el" href="../../db/d6c/a02969_source.html#l00289">setProposing()</a>, and <a class="el" href="../../db/d6c/a02969_source.html#l00638">strOperatingMode()</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>rippled/src/ripple_app/misc/<a class="el" href="../../db/d6c/a02969_source.html">NetworkOPs.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../d9/d9d/a03417.html">ripple</a></li><li class="navelem"><a class="el" href="../../d7/ded/a01009.html">NetworkOPsImp</a></li>
    <li class="footer">Generated on Fri May 2 2014 05:29:12 for rippled by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.4 </li>
  </ul>
</div>
</body>
</html>
